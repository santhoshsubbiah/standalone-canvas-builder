class ZEventNameSpacing{constructor(){this.functionMaps={}}addEventListener(e,t,a){this.functionMaps[t]=a,a&&e.addEventListener(t.split(".")[0],a)}removeEventListener(e,t){this.functionMaps[t]&&(e.removeEventListener(t.split(".")[0],this.functionMaps[t]),delete this.functionMaps[t])}}let ZPolyfill={};try{ZPolyfill.WeakMap=WeakMap}catch(e){ZPolyfill.WeakMap=function(e,t){function a(t){n(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(o,this)}function o(e){this.set(e[0],e[1])}let n=t.defineProperty,i=t.hasOwnProperty,r=a.prototype;return r.delete=e=>this.has(e)&&delete e[this._],r.get=e=>this.has(e)?e[this._]:void 0,r.has=e=>i.call(e,this._),r.set=(e,t)=>(n(e,this._,{configurable:!0,value:t}),this),a}(Math.random(),Object)}let ZWeakMap=ZPolyfill.WeakMap,ZCTemplates={nodeRef:new ZWeakMap,templateCache:{},uniqueId:`{zt-${(Math.random()+"").slice(2)}}`,attrSuffix:"$zta$",attrRegEx:/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,Event:new ZEventNameSpacing,renderView:function(e,t){let a=new ZNodeProcessor,o=this.nodeRef,n=o.get(t);n||(a._emptyElement(t,t.firstChild),o.set(t,n=a),n._addPlaceholders(t)),n._setResult(e),n.update()},removeCacheData:function(e){let t=this.nodeRef.get(e);t&&this.nodeRef.set(e,null)},DOM:function(e){let t=new ZNodeProcessor;if(e instanceof ZTemplates)return t._processHTML(e,!0).childNodes[0]},functionList:new ZWeakMap,prevValues:new ZWeakMap,_specialFunc:e=>(...t)=>{let a=e(...t);return ZT.functionList.set(a,!0),a},_isSpecialFunc:function(e){return"function"==typeof e&&this.functionList.has(e)},html(e,...t){return new ZTemplates(e,t,"html")},_updateTemplateCache(e){let t=this.templateCache,a=t[e.type];a||(a={strings:new ZWeakMap,keys:{}},t[e.type]=a);let o=a.strings.get(e.strings);if(o)return o;let n=e.strings.join(this.uniqueId);return o=a.keys[n],o||(o=new ZNodeTraverser(e,e.getTemplate()),a.keys[n]=o),a.strings.set(e.strings,o),o},_processAttr(e,t,a){let o=t[0],n=t.slice(1);if("?"===o)return[new ZConditionalAttributePart(e,n)];return"."===o?new ZPropertyPart(e,n,a)._parts:-1<t.indexOf("on-")?[new ZEventPart(e,t.slice(3))]:new ZAttributeUpdater(e,t,a)._parts},_processTextValue(){return new ZNodeProcessor},_isPlainText(e){return null===e||"object"!=typeof e&&"function"!=typeof e},_getTemplate:function(){let e=()=>document.createElement("template");return"content"in e()?t=>{let a=e();return a.innerHTML=t,a}:e=>{let t=document.createDocumentFragment(),a=document.createElement("div"),o=()=>(a.innerHTML="<table>"+e+"</table>",a.firstChild.firstChild);/^(<td|<th|<tr)/.test(e)?/^<tr/.test(e)?a=o():a=o().firstChild:a.innerHTML=e;for(let o=a.childNodes;o[0];)t.appendChild(o[0]);return t.content=t,t}}()},ZT=ZCTemplates;ZT.placeholder=`<!--${ZT.uniqueId}-->`,ZT.customHTML=ZT._specialFunc(e=>t=>{let a=ZT.prevValues.get(t);if(!(a===e&&ZT._isPlainText(e))){let a=ZT._getTemplate(e);t._setResult(document.importNode(a.content,!0)),ZT.prevValues.set(t,e)}});class ZTemplates{constructor(e,t,a){this.strings=e,this.values=t,this.type=a}_getHTML(){let e=this.strings.length-1,t="";for(let a=0;a<e;a++){let e=this.strings[a],o=!1;t+=e.replace(ZT.attrRegEx,(e,t,a,n)=>(o=!0,t+a+ZT.attrSuffix+n+ZT.uniqueId)),o||(t+=ZT.placeholder)}return t+this.strings[e]}getTemplate(){return ZT._getTemplate(this._getHTML())}}class ZTemplateUpdater{constructor(e){this.template=e,this._parts=[],this._partIndex=this._nodeIndex=0}_updateNodes(){let e=document.importNode(this.template._template.content,!0);return this._traverseDOM(e),e}_traverseDOM(e){let t=this.template._parts;for(e=e.firstChild;e&&this._partIndex<t.length;){let a=t[this._partIndex];if(this._nodeIndex===a.index){if("node"===a.type){let t=ZT._processTextValue();t._setRefNodes(e),this._parts.push(t)}else this._parts.push(...ZT._processAttr(e,a.name,a.strings));this._partIndex++}else this._nodeIndex++,this._traverseDOM(e),e=e.nextSibling}}updateValues(e){for(let t=0,a=this._parts.length,o;t<a;t++)o=this._parts[t],o&&(o._setResult(e[t]),o.update())}}class ZAttributeUpdater{constructor(e,t,a){this.node=e,this.attrName=t,this.strings=a,this._parts=[];for(let o=0;o<a.length-1;o++)this._parts[o]=this._createPart()}_createPart(){return new ZAttributePart(this)}_getValue(){let e=this.strings,t="",a=e.length-1;for(let o=0;o<a;o++){t+=e[o];let a=this._parts[o];if(a){let e=a.value;(a.value||0===a.value)&&(t+="string"==typeof e?e:e+"")}}return t+=e[a],t}update(){this.node.setAttribute(this.attrName,this._getValue())}}class ZAttributePart{constructor(e){this._attrPart=e,this._changed=!1}_setResult(e){e!==this.value&&(this.value=e,this._changed=!0)}update(){this._changed&&this._attrPart.update(),this._changed=!1}}class ZNodeTraverser{constructor(e,t){this._template=t,this._placeholderRegEx=new RegExp(`${ZT.uniqueId}|${ZT.placeholder}`),this._index=-1,this._parts=[],this._partIndex=0,this._nodesToBeRemoved=[],this._storeDynamicParts(t,e);for(let a=0,o;a<this._nodesToBeRemoved.length;a++)o=this._nodesToBeRemoved[a],o.parentNode&&o.parentNode.removeChild(o)}_storeDynamicParts(e,t){this._traverseDOM(e.content,t)}_traverseDOM(e,t){let a;for(e=e.firstChild;e;){switch(this._index++,a=e,e.nodeType){case 1:if(e.hasAttributes()){let a=e.attributes,o=0;for(let e=0;e<a.length;e++)0<=a[e].value.indexOf(ZT.uniqueId)&&o++;for(let a=o;0<a;a--){let a=t.strings[this._partIndex],o=ZT.attrRegEx.exec(a);o&&(o=o[2]);let n=o.toLowerCase()+ZT.attrSuffix,i=e.getAttribute(n),r=i.split(this._placeholderRegEx);this._parts.push({type:"attr",index:this._index,name:o,strings:r}),e.removeAttribute(n),this._partIndex+=r.length-1}}break;case 8:if(e.nodeValue===ZT.uniqueId){let t=e.parentNode,o=e.previousSibling;t&&!o||o!==a||3!==o.nodeType?t.insertBefore(document.createComment(""),e):this._index--,this._parts.push({type:"node",index:this._index++}),this._nodesToBeRemoved.push(e),!e.nextSibling&&t?t.insertBefore(document.createComment(""),e):this._index--,e=a,this._partIndex++}}this._traverseDOM(e,t),e=e.nextSibling}}}class ZEventPart{constructor(e,t){this.element=e,this.eventName=t}_setResult(e){this.currentVal=e}update(){let e=this.currentVal?this.currentVal.handler:null,t=this.value?this.value.handler:null;if(!e&&t&&ZT.Event.removeEventListener(this.element,this.eventName+"."+this.value.namespace,this._handleEvent.bind(this)),e&&!t){let e=this.currentVal.eventNames;e||(e=[this.eventName]);for(let t=0;t<e.length;t++)ZT.Event.addEventListener(this.element,e[t]+"."+this.currentVal.namespace,this._handleEvent.bind(this))}this.value=this.currentVal,this.currentVal={}}_handleEvent(e){this.value&&"function"==typeof this.value.handler&&this.value.handler.call(this.element,e)}}class ZPropertyPart extends ZAttributeUpdater{_getValue(){return this._parts[0].value}update(){this.node[this.attrName]=this._getValue()}}class ZConditionalAttributePart{constructor(e,t,a){this.node=e,this.attrName=t,this.strings=a}_setResult(e){this.currentVal=e}update(){let e=this.currentVal,t=this.node;this.value!==e&&(e?(e="boolean"==typeof e?"":e,t.setAttribute(this.attrName,e)):t.removeAttribute(this.attrName)),this.value=e}}class ZNodeProcessor{_emptyElement(e,t,a){for(let o=t;o&&o!==a;){let t=o.nextSibling;e.removeChild(o),o=t}}_setResult(e){this.currentVal=e}_addPlaceholders(e){this.start=e.appendChild(document.createComment("")),this.end=e.appendChild(document.createComment(""))}_setRefNodes(e){this.start=e,this.end=e.nextSibling}update(){for(;ZT._isSpecialFunc(this.currentVal);){let e=this.currentVal;this.currentVal={},e(this)}let e=this.currentVal;ZT._isPlainText(e)?e!==this.value&&this._updateNode(e):e instanceof ZTemplates?this._processHTML(e):e.nodeType?this._insertNode(e):e instanceof Array&&this._processValues(e)}_processValues(e){this.value instanceof Array||(this.value=[],this.remove());let t=this.value,a=e.length,o,n;for(n=0;n<a;n++)o=t[n],o||(o=new ZNodeProcessor,t.push(o),0===n?o._appendNodePart(this):o._insertAfterPart(t[n-1])),o._setResult(e[n]),o.update();n<t.length&&(t.length=n,this.remove(o&&o.end))}_appendNodePart(e){e._insert(this.start=document.createComment("")),e._insert(this.end=document.createComment(""))}_insertAfterPart(e){e._insert(this.start=document.createComment("")),this.end=e.end,e.end=this.start}remove(e=this.start){this._emptyElement(this.start.parentNode,e.nextSibling,this.end)}_insert(e){this.end.parentNode.insertBefore(e,this.end)}_insertNode(e){this.value===e||(this.remove(),this._insert(e),this.value=e)}_updateNode(e){let t=this.start.nextSibling;e=e||"",t===this.end.previousSibling&&3===t.nodeType?t.textContent=e:this._insertNode(document.createTextNode("string"==typeof e?e:e+"")),this.value=e}_processHTML(e,t){let a=ZT._updateTemplateCache(e),o;if(this.value&&this.value.template===a)this.value.updateValues(e.values);else{let n=new ZTemplateUpdater(a);o=n._updateNodes(),n.updateValues(e.values),t||this._insertNode(o),this.value=n}return o}}(function(e){"object"==typeof module&&"object"==typeof module.exports&&(module.exports=function(){return e}())})(ZCTemplates),function(e){var t=Math.abs,a=Math.max;let o=navigator.userAgent.toLowerCase(),n=document.createElement("div"),i=document.createTextNode(" "),r=["_CLASSES","_EVENTS","_SELECTORS","_attrs","_props"];n.appendChild(i);let s=window.ZComponentsConfig&&window.ZComponentsConfig.useWebComponentsSelector,l={pluginPrefix:"z",changeSet:"v5_1",isRTL:!1,selector:"data-ctype",version:"v5_1",environment:"production",userAgent:o,webComponents:[],webComponentsToInit:[],SVG:{},Templates:{},webComponentsSupport:!1,useWebComponentsSelector:s!==void 0&&s,_animationEnd:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_transitionEnd:"webkitTransitionEnd, otransitionend, oTransitionEnd, msTransitionEnd, transitionend",locale:"en-US",zIndex:1e3,$window:e(window),$document:e(document),$body:e("body"),DOMUtil:e,DOMUtilInstance:window.$ZCDOMUtil||e,keys:{},minimizeArray:[],keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,ALT:18},isEmpty(e){return!(e&&Object.keys(e).length)},iterateData(e,t){return Array(e).join(0).split(0).map(t)},getKebabCaseKey(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},getID(e,t,a,o){return e=e||"",t instanceof this.DOMUtilInstance&&(t=t[0]),t&&t.id||e+"-"+(a?a+"-":"")+Math.round(1e8*Math.random())+(o?"-"+o:"")},_getIconInfo(e,t,a,o,n){let i,r;if(n=n||{},t=e||t?t:a,t){let a=t.split(" ");t=a[0],i=a[1]?a.slice(1).join(" "):void 0,e=void 0,r=!0}return n.icon=r||o||e,n.iconClassName=((o||"")+" "+(e||"")).trim(),n.SVGIconClassName=i||n.SVGIconClassName||"",t&&(n.SVGIconId=(0>t.indexOf("#")?"#":"")+t),n},createElement(t,a,o){t=t||{};let n="z"+a,i=Object.create(t),r=d.tagNames[n],s=t.tagName,l=s||r[0],c=s||r[1],m=i.appendTo,_=i.mainElement||document.getElementById(i.id);if(_){let t=e(_).data(n),a,o;if(t)return t.container&&(a=t.container[0]),o=t.element[0],i.isCE?o:a?[o,a]:[o]}let u=(i.isCE?c:l)||"div",p=i.id&&document.getElementById(i.id),h=p||document.createElement(u),g=e(h),f=i.customAttributes,b=-1<u.indexOf("-");if(i.id&&(f=f||{},f.id=i.id),f&&g.attr(f),b&&i&&(h._zinitdata=i),i.templateRender||(m=e(m||"body")[0],i.insertBefore?m.parentNode.insertBefore(h,m):m.appendChild(h)),!b&&!o){let e=d[a](g,i);return t.templateRender?e.container&&e.container[0]!==e.element[0]?[e.element[0],e.container[0]]:[e.element[0]]:e.element}return b||e.data(h,"ZCOpts",i),h},OS:{isLinux(){return-1<navigator.appVersion.indexOf("Linux")||-1<o.indexOf("Linux")||-1<navigator.platform.indexOf("Linux")},isMac(){return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},isWindows(){return-1<navigator.platform.indexOf("Win")}},_getEvents(e=[],t=[]){return t.concat(e).filter((e,t,a)=>a.indexOf(e)===t)},registerComponent(t,a,o){let n;o?n=!0:(o=a,a=this.CoreComponent);let s=r.length,i=t.toLowerCase().replace(/^z/,""),c="z"+i,m=a.prototype,_;n&&"object"==typeof o&&(o=this._objectTypeFallback(o,c,a,m));let u=d.tagNames[c],p=u&&u[1]&&this.webComponentsSupport,h=this.useWebComponentsSelector;p&&h&&(o.prototype.isCE=!0);let g=o.prototype,f;for(let n=0;n<s;n++)_=r[n],f=_.replace("_",""),"_EVENTS"===_?(g[_]=this._getEvents(g[f],m[f]),g[_]=this._getEvents(g[_],m[_]),g[_].push("beforedestroy")):g[_]=e.extend(!0,"_attrs"===_?{rtl:!1,templateData:null,templateFunc:null,zclassName:null,templateRender:null}:{},m[f]||{},m[_]||{},g[f]||{});if(g._DEFAULTS=e.extend(!0,{},g._attrs,g._props),(this.webComponentsSupport||m.propType||g.propType)&&(g._propType=e.extend(!0,this._getDataInfo(g._DEFAULTS),m.propType||{},m._propType||{},g.propType||{})),p&&(h?o.prototype.isCE=!1:this.register(u[1],o,a)),this[t]=o,!this[c]){let a={};if(n){let t=this[m.name];t&&e.extend(a,t.Templates)}this[c]={DEFAULTS:{},Templates:a};let o="create"+t.substr(1);d[o]||(d[o]=e=>d.createElement(e,i))}this[i]=function(a,n){if(a=e(a),1<a.length){let e=[];for(let i=0;i<a.length;i++)e[i]=l._createComponent(a[i],n,t,o);return e}return l._createComponent(a,n,t,o)};let b=this.pluginPrefix+i;e.prototype[b]=function(a){let n=this,r=this.length;if(!a||"object"==typeof a){a=a||{};for(let e=0;e<r;e++)l._createComponent(this[e],a,t,o,!0)}else if("string"==typeof a&&0>a.indexOf("_")){let t=Array.prototype.slice.call(arguments,1);for(let o=0,i;o<r;o++)i=e(this[o]).data(c),i&&(n=i[a].apply(i,t))}else return!1;return n}},_getDataInfo(e){let t={};for(let a in e){let o=e[a];o!==void 0&&null!==o&&(t[a]=Array.isArray(o)?"array":typeof o)}return t},_defineGetProp(e,t,a){Object.defineProperty(e,t,{get:function(){return a}})},_extend(t,a){e.each(t.prototype,function(e,o){"function"==typeof o&&(t.prototype[e]=function(){let t=function(){return a.prototype[e].apply(this,arguments)};return function(){return this._super=t,o.apply(this,arguments)}}())})},_createComponent(t,a,o,n,i){t=e(t);let r=o.toLowerCase();if(t[0]&&(t[0]===window||t[0].nodeType)){if(t.data(r))return i?t:t.data(r);let e=this._getInitOpts(t,r,a,n),s=new l[o](t,e,a);return"development"===d.environment&&d.handleExceptions&&(s=d.handleExceptions(s)),document.body.contains(t[0])||(t=s.element),t.data({[r]:s,componentName:r}),s}},_getInitOpts(t,a,o,n){let i=d._getOpts(t,n);if(i.override){let e={};for(let t in i)if(0===t.indexOf(a)){let o=t.replace(a,""),n=o[0].toLowerCase()+o.substring(1);e[n]=i[t]}i=e}return e.extend(!0,{},d[a]?d[a].DEFAULTS:{},i,o)},_getOpts(t,a){if(t=t instanceof d.DOMUtilInstance?t[0]:t,t){let o=t.tagName||"",n;if(this.webComponentsSupport&&window.customElements?customElements.get(o.toLowerCase()):void 0)t.$c||this._triggerConnectedCallback(t),n=t.$c[t.$c.parentElement?"_subOpts":"_opts"];else if(n=e.data(t,"ZCOpts"),!n&&t.attributes){let o=t.getAttribute("data");o&&(n=l._getObject(o,t,a)),n=this[t.dataset&&!d.Browser.isIE?"_getDataSet":"_getDataAttributes"](t,n||{},a),e.data(t,"ZCOpts",n)}return n||{}}},getOpts(){return d._getOpts(...arguments)},_getObject(e,t,a,o){if("object"==typeof e)return e;e=e||t.getAttribute("data"),e=0>e.indexOf("{")?`{ ${e} }`:e;try{e=JSON.parse(e.replace(/'/g,"\""))}catch(t){e=!o||a&&-1<Object.keys(a.prototype._props).indexOf(o)?{}:e}return e},_getDataSet(e,t,a){let o=e.dataset,n;for(let r in o)n=o[r],r=this._getCorrectedKey(r),t[r]=this._normalizeValue(r,n,a&&a.prototype,a);return t},_getCorrectedKey(e){return e.replace(/(Html|Svg|svg|Hsv|Hsl|Rgb)/g,e=>e.toUpperCase()).replace(/^(OKButton)/i,"OKButton")},_normalizeValue(e,t,a,o){if(t){let n=a&&a._propType;if(n&&n[e]){let a=n[e];try{"boolean"===a?t="true"===t||t===e:"array"===a?t=JSON.parse(t):"object"===a?t=l._getObject(t,void 0,o,e):"number"===a?t=parseFloat(t):void 0}catch(a){return t}}else t="true"===t||"false"===t?"true"===t:0>t.indexOf("{")?t:l._getObject(t,void 0,o,e)}return t},_getDataAttributes(e,t,a){let o=e.attributes,n=o.length;for(let r=0;r<n;r++){let e=o[r].nodeName,n=""===o[r].nodeValue?"true":o[r].nodeValue;"data"!==e&&e.match(/^data-/)&&(e=d._getCamelCaseStr(e.replace(/^data-/,"")),t[e]=this._normalizeValue(r,n,a&&a.prototype,a))}return t},_getCamelCaseStr(e){return e.replace(/(-html|-svg|svg|-hsv|-hsl|-rgb)|(-\w)/gi,e=>e.replace("-","").toUpperCase())},_init(){if(l.webComponentsSupport){let t=l.webComponentsToInit;t&&t.length&&(t.forEach(t=>{"string"!=typeof t&&t.forEach(t=>{e(t.element).data(t.name,t),t._initComp(),t._appendTemplateContent()})}),l.webComponentsToInit=[])}l.setProperties()},setProperties(){let e=document.documentElement||{},t=document.body||{};l.documentObject={height:a(e.clientHeight,e.scrollHeight,e.offsetHeight,t.offsetHeight,t.scrollHeight),width:a(e.clientWidth,e.scrollHeight,e.offsetHeight,t.offsetWidth,t.scrollWidth)},l.windowObject={height:window.innerHeight,width:window.innerWidth}},_render(t,a,o,n,i,r){let s=r.isCE,l=r.skipParent,c=r.container,m=r.refElement,_=!1,u=d[a].Templates;if(t.zElement=!1,o=o||"children",o=s?"WC"+(o[0].toUpperCase()+o.substr(1)):o,!l&&!c){let a=u[s?"WCContainer":"container"];a&&(n=ZT.DOM(a(t)),i?e(n).appendTo(i):m&&e(n).insertAfter(m),_=!0)}else n=n||(l?c||m:m);let p=u[o];return p&&ZT.renderView(p(t),n),_&&(t.zElement=!0,!t.differentAppend&&e(m).hide()),n},_handleFocus(t,a){t=e(t);let o=d.keyCode,n=".fs."+a,i="",r=!1,s="blur"+n,l="focus"+n,c="mousedown"+n+" keydown"+n+" keyup"+n,m;t.off(c+" "+s+" "+l).on(c,e=>{t.hasClass("is-disabled")||(e.originalEvent&&"keyup"!==e.type&&(r=document.activeElement!==t[0]),m=e.keyCode,i="mousedown"===e.type?"has-mfocus":"has-kfocus","keydown"===e.type&&m!==o.ENTER&&m!==o.SPACE||"keyup"===e.type&&m!==o.TAB||t.addClass("has-focus "+i))}).on(s,()=>t.removeClass("has-focus has-mfocus has-kfocus")).on(l,()=>{t.hasClass("is-disabled")||(!r&&t.addClass("has-focus has-kfocus"),r=!1)})},encodeHTML(e){return i.nodeValue=e,n.innerHTML},setI18NKeys(t,a,o){if("object"==typeof t)for(let a in t)this.keys[a]=e.extend({},this.keys[a],t[a]);else this.keys[t]=o?a:e.extend({},this.keys[t],a)},_triggerFunction(e,t,a){let o=d._getContext(e);return o&&o.apply(t,a)},_getContext(e){if("string"==typeof e){let t=window,a=e.split(".");for(let e=0;e<a.length&&t;e++)t=t[a[e]];return t}return e},getI18NText(e,t,a){let o;4===arguments.length&&(o=a,a=arguments[3]);let n=l.keys[e]||{},r=n[t]||"";if(""===r&&o&&(r=o[t]),a)for(let e=0;e<a.length;e++)r=r.replace("{"+e+"}",a[e]);return r},create(e){let t=e.ctype.replace(e.ctype.charAt(0),"");return this["create"+t.charAt(0).toUpperCase()+t.substring(1)](e)},getRTLBasedDir(e,t){return t?e.replace(/(left|right)/,e=>"left"===e?"right":"left"):e},display(t,a){if(!d._display){let e=n.cloneNode(),t=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"].map(e=>"display:"+e).join(";");document.body.appendChild(e).setAttribute("style",t),d._display=window.getComputedStyle(e).display,e.parentElement.removeChild(e)}return e(a).css("display",t?"none":d._display),a},Browser:{isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(o),isIE:-1<o.indexOf("msie")||-1<o.indexOf(".net"),isEdge:-1<o.indexOf("edge"),isSafari:-1<o.indexOf("safari")&&0>o.indexOf("chrome"),isChrome:-1<o.indexOf("chrome")&&-1<navigator.vendor.indexOf("Google Inc")&&-1===o.indexOf("opr"),isFirefox:-1<o.indexOf("firefox"),getIEVersion(){let e=-1;if(d.Browser.isIE){let t=o.match(/MSIE (\d*)/i);t||(t=o.match(/Trident.*rv:(\d*)/i)),t&&(e=parseInt(t[1]))}return e},getFirefoxVersion(){let e=-1;return d.Browser.isFirefox&&(e=parseInt(o.match(/Firefox\/(\d*)/i)[1])),e}},_objectTypeFallback(t,a,o,n){let i=["name","attrs","props","CLASSES","EVENTS","SELECTORS"];t.name=a;let r=class extends o{},s=r.prototype;for(let r in t)if(t.hasOwnProperty(r)){let a=t[r],o=s[r],l="function"==typeof a,d,c;if(!l){let e=n;for(;e&&!(c=e.hasOwnProperty(r));)e=Object.getPrototypeOf(e);c&&(d=Object.getOwnPropertyDescriptor(e,r))}if(l||!c||d.writable)s[r]=a;else{if(c)if("object"==typeof a)-1!==i.indexOf(r)&&(Array.isArray(a)?a=o.concat(a):a=e.extend(!0,{},o,a));else if(a===o)continue;this._defineGetProp(s,r,a)}}return this._extend(r,o),t=r,t}};window.ZComponents=l;let d=l;d.Templates.Utilities={},document.addEventListener("DOMContentLoaded",d._init),window.addEventListener("resize",d.setProperties);class CoreComponent{get name(){return"corecomponent"}constructor(t,a={}){this.element=t,this._opts=e.extend(!0,{},this._DEFAULTS,a),this._create(t,this._opts),t&&this._defineGetterSetter()}_getID(e,t,a){return d.getID(this.name,e,t,a)}_alterBorderRadius(e,t){return d.alterBorderRadius&&d.alterBorderRadius({...e,element:e.element||this.getElement(),forElement:e.forElement||this._opts.forElement},t)}_isValid(e,t){return-1<this._ALLOWEDVALUES[e].indexOf(t)}_addEvents(e,t=this.getElement()){for(let a in e){let o=this._suffixCName(e[a]);o&&t.off(o).on(o,this["_"+a+"Handler"].bind(this))}}_suffixCName(e){return e?e.split(" ").reduce((e,t)=>e+t+"."+this.name+" ",""):"."+this.name}_removeEvents(e,t=this.getElement()){t.off(this._suffixCName(e))}_setParentClass(e){let t=this._data,a=t.parentClass;if(a!==e){let t=this._useParent||!this.container?this.element:this.container;t&&(a&&t.removeClass(a),t.addClass(e)),this._data.parentClass=e}}_commonPropSetters(){this._data={};let t=this._opts,a=this.element[0],o=a.dir||document.body.dir;t.rtl="rtl"===o||t.rtl,t.templateData&&"object"==typeof t.templateData&&e.extend(!0,this._data,t.templateData),this._data.isCE=t.isCE}_create(e,t){this._commonPropSetters(),this.isCE=this.isCE||t.isCE,this._useParent=this.isCE,this._init(...arguments),this._useParent&&(this.container=e);let a=this._opts,o=this;this._data.parentClass=(a.zclassName||a.className||"")+(a.rtl?" zh-rtl":""),Object.defineProperty(this._data,"className",{set:function(e){o._setParentClass(e||o._data.parentClass)},get:function(){return o._data.parentClass}}),this._initialRender(),this._construct(...arguments),this._data.rendered=!0,this._bindEvents()}_initialRender(){this._render()}_appendEle(t){if(t&&(t=e(t)[0],t)){let e=this.getElement()[0];t.lastElementChild!==e&&t.appendChild(e)}}_init(){}_buildData(){}_postRender(){}_postEachRender(){}_preRender(e){return e}_construct(){}_bindEvents(){}_handleFocus(e,t){d._handleFocus(e||this.container,this.name,t)}_defineGetterSetter(){let e=Object.keys(this._DEFAULTS),t=e.length,a,o;for(o=0;o<t;o++)a=e[o],this[a]||this._defineProperty(a)}_defineProperty(e){Object.defineProperty(this,e,{set:function(t){this.setAttribute(e,t)},get:function(){return this.getAttribute(e)}})}_display(e,t=this.element){return d.display(e,t)}_dispatchEvent(t,a,o,n,i){let r=t,s=this.eventPrefix||this.name,l;this.isCE&&(r="z"+r);let c=r||t;n=n||this.element;let m=this._opts[c],_,u;if(o=o||{},o.fromUI=o.fromUI||i,o.element=n,o.container=this.getElement(),o.options=this._opts,a=e.Event(a),a.type=(s&&!this.isCE?s+c:c).toLowerCase(),a.originalTarget=a.target,a.target=n,u=a.originalEvent,u)for(_ in u)_ in a||(a[_]=u[_]);return this.isCE?a=this._dispatchCEEvent(r,o,n,a.originalEvent):(a.detail=o,n.trigger(a,o)),this["on"+c]&&this["on"+c](a,o),n[0]["onlyte"+c]&&n[0]["onlyte"+c](a,o),o=[a].concat(o),this.isCE||(m&&"string"==typeof m?l=d._triggerFunction(m,n[0],o):l="function"==typeof m?m.apply(n,o):void 0),"boolean"==typeof l?l:!a.isDefaultPrevented()}_getRTLBasedDir(e){return d.getRTLBasedDir(e,this._opts.rtl)}_getI18NText(e,t,a){let o=this._opts.labels||this._opts.messages,n=a?this._opts[a][e]:void 0;if(n)return n;let i=d.keys[this.name]||{},r=i[e]||"";if(""===r&&o&&(r=o[e]),t)for(let e=0;e<t.length;e++)r=r.replace(`{${e}}`,t[e]);return r}listen(e,t){this["on"+(e[0].toUpperCase()+e.substr(1)).replace(this.name,"")]=t}getElement(){return this.container||this.element}getAttribute(e){return this._opts[e]}getAttributes(){return e.extend(!0,{},this._opts)}setAttributes(e,t=this.element){for(let a in e)this.setAttribute(a,e[a],!0);this._renderAttrChange()}_getStyle(e){if(e&&"object"==typeof e){let t="";for(let a in e)e[a]&&(t+=`${a}:${e[a]};`);return t}return e}_setAttribute(){}_getOptVal(t,a){return t&&"object"==typeof t&&"object"==typeof a?t instanceof Array||a instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e||t instanceof Element||t===window||t.nodeName?t:e.extend(!0,{},a,t):t}_isNotNull(e){return!this._isNull(e)}_isNull(e){return e===void 0||null===e}_render(t,a=this._opts.templateFunc,o,n=this._skipParent){t=t||Object.assign({},this._opts,this._data),t=this._preRender(t);let i=this._opts.templateName||this.name,r=!!d[i].Templates[t.isCE?"WCContainer":"container"];n="boolean"==typeof n?n:!r||t.rendered;let s={isCE:this._data.isCE,skipParent:n,container:this.container?this.container[0]:void 0,refElement:this.element&&!t.differentAppend?this.element[0]:void 0},l=d._render(t,i,a,o,t.differentAppend,s);l&&t.zElement&&(this.container=e(l));let c=this.getElement();return t.attrs&&(o=t.alwaysSetAttrs?c:o?e(o):this._useParent||!this.container?this.element:void 0,o&&o.attr(t.attrs)),this._data.rendered||this._postRender(c,this._opts),this._postEachRender(c,t),l}setAttribute(t,a,o){let n=this._opts,i=n[t],r=this.getElement(),s;a===void 0&&(a=this._DEFAULTS[t]);("object"!=typeof i||null===i)&&i===a||(a=this._getOptVal(a,i),(this.isCE&&this.element[0]._initialized||!this.isCE||d.useWebComponentsSelector)&&this._setAttribute(t,a),s=r&&!this._stopAttrUpdate,s&&("rtl"===t?(r[a?"addClass":"removeClass"]("zh-rtl"),this._updateClass("zh-rtl",!a||null)):"className"===t||"zclassName"===t?this._updateClass(a,i):"disabled"===t?this._disable(a):"appendTo"===t?this._appendEle(a||"body"):"templateFunc"===t?this._domChanged=!0:"templateData"===t?a?(e.extend(!0,this._data,a),this._domChanged=!0):i&&(Object.keys(i).forEach(e=>this._data[e]=null),this._domChanged=!0):s=!1),this._stopAttrUpdate=!1,s&&(n[t]=a),!o&&this._renderAttrChange())}_renderAttrChange(){this._reInit&&(this._domChanged=!0,this._buildData()),this._domChanged&&this._render(),this._domChanged=this._reInit=!1}_setBtnValue(e,t){let a=t&&t.mainElement;a?d.button(a).setAttributes(e):this._domChanged=!0}_setUndefined(e,t){for(let a=0,o=e.length;a<o;a++)this["_"+e[a]+t]=void 0}_disable(e,t,a){let o=!t;t=t||this.getElement(),a||(o?this._updateClass(e?"is-disabled":"",!e&&"is-disabled"):t[e?"addClass":"removeClass"]("is-disabled")),this._addedByComponent=!0,e?t.attr({"aria-disabled":!0,disabled:!0}):t.removeAttr("aria-disabled disabled"),this._addedByComponent=!1}_emptyElement(e,t){for(;t;){let a=t.nextSibling;e.removeChild(t),t=a}}_updateClass(e,t,a){if(a)a[t?"removeClass":"addClass"](e);else if(this._data){let a=this._data,o=a.className;t?("boolean"==typeof t&&(t=e,e=""),o=o.replace(new RegExp("(?:^|( +)?)"+t+"(?:$|( +)?)","g")," "+e+" ")):o+=" "+e,a.className=o}}_destroy(){}destroy(){if(this.container||this.element){this._dispatchEvent("beforedestroy");let e=this.element,t=this.container,a=t||e;a.off("."+this.name),this._destroy(),t||this._useParent||e.empty(),ZT.removeCacheData(a[0]),e&&e.removeData(this.name).removeData("ZCOpts"),this._data&&this._setParentClass(" "),!this._useParent&&t&&(t.remove(),e[0].style.display=""),this.isCE&&!this._eleRemoval&&this._destroyCE(!0),this.container=this.element=void 0}}_mapJSONToData(e,t,a){if(this._isNotNull(t)&&this._isNotNull(e)){t=t.trim().split(".");for(let a=0;a<t.length;a++)e=e[t[a]];return e&&a?this._encodeContent(e):e}}_toArr(t,a){let o;return t instanceof e&&(o=t.toArray()),o=Array.isArray(t)?t:[t],o.filter((e,t)=>{if(this._isNotNull(e)&&(!a||o.indexOf(e)===t))return!0})}_isAjaxSource(e){return e&&(e.URL||e.search)}_removeNulls(e){return e.filter(e=>this._isNotNull(e))}_getProp(e,t,a){let o=this._getMapping(),n=o[t];return this._mapJSONToData(e,n,a)}_getMapping(){return this._dataMapping||this._opts.dataMapping}_getUniqueValue(e){if(this._isNotNull(e)){let t;return"object"==typeof e?(t=this._getProp(e,"value"),this._isNotNull(t))?t+"":(t=this._getProp(e,"text"),this._isNotNull(t)?t+"":t):e+""}}_getMatchingRegex(e,t){let a=t.criteria||"contains",o=t.caseSensitive;e=this._escapeQuery(e);let n={contains:"("+e+")",startswith:"(^"+e+")",endswith:"("+e+"$)",equals:"(^"+e+"$)"};return new RegExp(n[a.toLowerCase()],"g"+(o?"":"i"))}_getSearchBy(e){if(e)"string"==typeof e&&(e=e.split(","));else{let t=this._getMapping();e=[t.text]}return e.map(e=>e.trim())}_isFunc(e){return"function"==typeof e}disable(e=!0){this._opts.disabled=e,this._disable(e),this._renderAttrChange()}enable(){this.disable(!1)}_removeSpecialChars(e){return e.replace(/[^a-zA-Z0-9]/g,"")}_setProp(e,t,a){let o=this._getMapping(),n=o[t];if(n){let t=n.split("."),o=t.pop();t.forEach(t=>{e=e[t]=e[t]||{}}),e[o]=a}}_getById(t){return this.container?this.container.find("[id=\""+t+"\"]"):e()}_encodeContent(e,t){return t=this._isNotNull(t)?t:!this._isEncoded(),t?d.encodeHTML(e):e}_isEncoded(){return this._opts.isLabelHTMLEncoded}_isAlphaNumericKey(e){let t=e.keyCode;return!(e.metaKey||e.ctrlKey)&&(186<=t&&192>=t||219<=t&&222>=t||48<=t&&57>=t||65<=t&&90>=t||97<=t&&122>=t||t===d.keyCode.SPACE||t===d.keyCode.DELETE||t===d.keyCode.BACKSPACE)}_getItemId(e,t){let a=e.zitemid;if(!a){let o=this._getUniqueValue(e);o&&(o=this._removeSpecialChars(o+"")),a=o?t+"-"+o:d.getID(this.name,null,t)}return a}_escapeQuery(e){return e.replace(/([',",(,),+,?,>,<,.,|,*,\\,\[,\]])/g,"\\$1")}_getCustomContent(e,t,a,o="label",n){if(t){if("string"==typeof t)return t.replace(/(#?#[^#\n"']+#?#)/g,t=>{let o=t.replace(/#/g,""),i=e[o];return this._isNotNull(i)?(i=this._encodeContent(i,n),a&&(i=this._highlight(i,o)),i):t});if("function"==typeof t)return t(e)}else{let t=this._getMapping(),i=this._encodeContent(this._getProp(e,o),n);return a&&(i=this._highlight(i,t[o])),i}}_objectTypeFallback(t,a,o,n){let i=["attrs","props","CLASSES","EVENTS","SELECTORS"];t.name=a;let r=class extends o{};r.name=t.name;let s=r.prototype;for(let r in t)if(t.hasOwnProperty(r)){let a=t[r],o=s[r],l="function"==typeof a,d,c;if(!l){let e=n;for(;e&&!(c=e.hasOwnProperty(r));)e=Object.getPrototypeOf(e);c&&(d=Object.getOwnPropertyDescriptor(e,r))}if(l||!c||d.writable)s[r]=a;else{if(c)if("object"==typeof a)-1!==i.indexOf(r)&&(Array.isArray(a)?a=o.concat(a):a=e.extend(!0,{},o,a));else if(a===o)continue;this._defineGetProp(s,r,a)}}this._extend(r,o),t=r}_translateEToA(e){let t=this._opts.locale||"";return"ar"===t||0===t.indexOf("ar-")?(e+"").replace(/[0-9]/g,e=>String.fromCharCode(e.charCodeAt(0)+1584)):e}_translateAToE(e){let t=this._opts.locale||"";return"ar"===t||0===t.indexOf("ar-")?(e+"").replace(/[\u0660-\u0669]/g,e=>e.charCodeAt(0)-1632):e}}d.CoreComponent=CoreComponent,d.tagNames={zalertbanner:["div","z-alertbanner"],zbutton:["button","z-button"],zbuttongroup:["div","z-buttongroup"],zfileupload:["label","z-fileupload"],zmenubutton:["button","z-menubutton"],zsplitbutton:["button","z-splitbutton"],zcheckboxbutton:["div","z-checkboxbutton"],zradiobutton:["div","z-radiobutton"],znumberfield:["input","z-numberfield"],zcurrencyfield:["input","z-currencyfield"],ztimeinput:["div","z-timeinput"],zpopover:["div","z-popover"],zmenu:["div","z-menu"],zlistbox:["div","z-listbox"],zdropdownlist:["div","z-dropdownlist"],zdialog:["div","z-dialog"],zalertdialog:["div","z-alertdialog"],zaccordion:["div","z-accordion"],zaccitem:["div","z-accitem"],zcollapsiblepanels:["div","z-collapsiblepanels"],zcollapsiblepanel:["div","z-collapsiblepanel"],zdatefield:["input","z-datefield"],zsuggestfield:["input","z-suggestfield"],ztokenfield:["input","z-tokenfield"],ztimefield:["input","z-timefield"],zdatetimepicker:["div","z-datetimepicker"],zdatetimefield:["input","z-datetimefield"],zdatepicker:["div","z-datepicker"],zdaterangepicker:["div","z-daterangepicker"],zdatetimerangepicker:["div","z-datetimerangepicker"],zcolorselect:["div","z-colorselect"],zcolorsplitbutton:["div","z-colorsplitbutton"],zcolorbutton:["div","z-colorbutton"],zselect:["select","z-select"],zoption:["option","z-option"],zoptgroup:["optgroup","z-optgroup"],zoptionseparator:["option","z-optionseparator"],zaddoption:["option","z-addoption"],zcombobox:["select","z-combobox"],zslider:["div","z-slider"],zspinnerslider:["div","z-spinnerslider"],zdoubleslider:["div","z-doubleslider"],zprogressbar:["div","z-progressbar"],zprogresswheel:["div","z-progresswheel"],ztoggleswitch:["div","z-toggleswitch"],zrockerswitch:["div","z-rockerswitch"],zcolorpicker:["div","z-colorpicker"],zadvancedcolorpicker:["div","z-advancedcolorpicker"],ztabpanel:["div","z-tabpanel"],zpanel:["div","z-panel"],zdateselect:["select","z-dateselect"],zdatetimeselect:["select","z-datetimeselect"],zscreengrabber:["div","z-screengrabber"],zpreview:["div","z-preview"],zfontlibrary:["div","z-fontlibrary"]},d.AJAX={transport:function(t,a,o,n){return e.ajax({url:t.sourceURL,data:t.data,type:t.type,dataType:t.dataType,success(e){a&&a(e)},fail(e,t){o&&o(e,t)},error(e,t){o&&o(e,t)},always(){n&&n()}})}},d.alterBorderRadius=function(e,t){let a=e.element,o=e.forElement;if(a.add(o).removeClass("zh-radiusbottomleft zh-radiustopleft zh-radiusbottomright zh-radiustopright zh-radiustop zh-radiusbottom zh-radiusright zh-radiusleft"),t)return;let n={right:"left",left:"right",top:"bottom",bottom:"top"},i=e.direction,r=e.offset;if(e.hasSideAlignment&&0>["right-top","right-bottom","left-top","left-bottom"].indexOf(i))a.addClass(i.replace(/([a-z]+)-([a-z]+)/g,(e,t,a)=>"zh-radius"+n[a]+n[t])),r.left+=0===i.indexOf("left")?1:-1;else{let e=parseInt,t=0,s=0,l=0,d=0;if(o.length&&(t=e(o.css("border-top-left-radius")),s=e(o.css("border-top-right-radius")),l=e(o.css("border-bottom-left-radius")),d=e(o.css("border-bottom-right-radius"))),5>=t&&5>=s&&5>=l&&5>=d){let e,t;0===i.indexOf("top")||0===i.indexOf("bottom")?(i.replace(/(\w+)-(\w+)/g,(i,r,s)=>{let l=o.outerWidth(),d=a.outerWidth(),c=l<d;l===d?(e=n[r],t=r):(e=n[r]+(c?s:""),t=r+(c?"":s))}),r.top+=0===i.indexOf("top")?1:-1):(/^right(-)?(\w)*$/.test(i)||/^left(-)?(\w)*$/.test(i))&&(i.replace(/^right|left(-)?(\w)*$/g,t=>{e=n[t.split("-")[0]]}),t=n[e]),a.addClass("zh-radius"+e),o.addClass("zh-radius"+t)}else r.top+=2}return r},d.init=function(t,a,o){!0&&this._init(),t=t?e(t):e("body");let n=o||this.selector,i="["+n+"]",r=document.querySelectorAll?t[0].querySelectorAll(i):e(i,t);if((t[0].attributes[n]||t[0].dataset&&t[0].dataset[n])&&(r=e(t).add(r)),r.length){let e=this;this.eachAsync(r,{delay:20,loop(t,a){e._initComponent(a,void 0,o)},end(){e._end(t,r,a)}})}else this._end(t,r,a)},d.destroy=function(t,a,o){t=t?e(t):e("body"),o=o||this.selector;let n="["+o+"]",i=e(n,t);if(t.is(n)&&(i=e(t).add(i)),i.length){let n=this;this.eachAsync(i,{delay:20,loop(t,a){e(a)[a.getAttribute(o)]("destroy")},end(){n._end(t,i,a,!0)}})}else this._end(t,i,a,!0)},d.eachAsync=function(t,a){let o=0,n=t.length,r=a.loop||function(){};this.whileAsync(e.extend(a,{test(){return o<n},loop(){let e=t[o];return e&&r.call(e,o++,e)}}))},d.whileAsync=function(e){let a=t(e.delay)||10,o=isNaN(e.bulk)?500:t(e.bulk),n=e.test||function(){return!0},i=e.loop||function(){},r=e.end||function(){};(function e(){let s=!1,l=new Date;for(;(s=n())&&(i(),!(0===o||new Date-l>o)););s?setTimeout(e,a):r()})()},d._end=function(e,t,a,o){this.$document.trigger("zcomponent"+(o?"destroyed":"initialized"),e),a&&a(t)},d._initDeferredComponents=function(t,a,o){setTimeout(()=>{e.each(t,(t,a)=>{e(a).each(function(a,o){this._initComponent(e(o),t)})}),o&&o(t)},a||1e4)},d._initComponent=function(t,a,o){t=e(t),a=a||t.attr(o||this.selector),a=a.replace(/^z/,""),d[a](t)},d.localeInfo={"en-US":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDayOfWeek:0,dateFormat:{short:"M/d/yyyy",medium:"MMM d, yyyy",long:"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"hh:mm:ss tt"},dateTimeFormat:{short:"MMM d, yyyy, hh:mm:ss tt",medium:"MMM d, yyyy, hh:mm:ss tt",long:"dddd, MMMM d, yyyy 'at' h:mm tt",full:"dddd, MMMM d, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$"}}},d.getPrototype=function(e,t){if(e instanceof Function){let a=e;for(;a;){let e=Object.getPrototypeOf(a);if(a=this._mergePrototypes(t.prototype,a.prototype),e&&e!==Object&&e.name)a=e;else break}return a}},d._mergePrototypes=function(t,a){let o=Object.getOwnPropertyNames(a),n,r;for(let s=0,i=o.length;s<i;s++){n=!1,r=Object.getOwnPropertyNames(t);for(let e=0,t=r.length;e<t;e++)if(o[s]===r[e]&&("object"!=typeof a[r[e]]||a[r[e]]instanceof Array)){n=!0;break}if(!n&&"SELECTORS"!==o[s]){let n=a[o[s]];t[(a.isCE?"_":"")+o[s]]="object"!=typeof n||n instanceof Array?n:e.extend(!0,{},n,t[o[s]])}}return t.constructor}}(window.$zc||jQuery),function(e){"object"==typeof module&&"object"==typeof module.exports&&(module.exports=function(){return e}())}(ZComponents),ZComponents.localeInfo={br:{days:["Sul","Lun","Meurzh","Merc\u02BCher","Yaou","Gwener","Sadorn"],months:["Genver","C\u02BChwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu"],monthsAbbreviated:["Gen.","C\u02BChwe.","Meur.","Ebr.","Mae","Mezh.","Goue.","Eost","Gwen.","Here","Du","Kzu."],daysAbbreviated:["Sul","Lun","Meu.","Mer.","Yaou","Gwe.","Sad."],dateFormat:{short:"yyyy-MM-dd",medium:"yyyy MMM d",long:"yyyy MMMM d",full:"yyyy MMMM d, dddd"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"yyyy MMM d HH:mm:ss z",medium:"yyyy MMM d HH:mm:ss z",long:"yyyy MMMM d, dddd HH:mm",full:"yyyy MMMM d, dddd HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BRL",name:"Brazilian real",symbol:"R$",position:"right"},firstDayOfWeek:0},"ca-IT":{daysAbbreviated:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],months:["de gener","de febrer","de mar\xE7","d\u2019abril","de maig","de juny","de juliol","d\u2019agost","de setembre","d\u2019octubre","de novembre","de desembre"],monthsAbbreviated:["de gen.","de febr.","de mar\xE7","d\u2019abr.","de maig","de juny","de jul.","d\u2019ag.","de set.","d\u2019oct.","de nov.","de des."],dateFormat:{short:"d/M/yy",medium:"d/M/yyyy",long:"d MMMM 'de' yyyy",full:"dddd d MMMM 'de' yyyy"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy,  H:mm:ss z",medium:"d/M/yyyy,  H:mm:ss z",long:"d/M/yyyy,  H:mm:ss z",full:"d/M/yyyy,  H:mm:ss z"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},da:{days:["s\xF8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xF8rdag"],months:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],monthsAbbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],daysAbbreviated:["s\xF8n.","man.","tir.","ons.","tor.","fre.","l\xF8r."],dateFormat:{short:"d/M/yyyy",medium:"d. MMM yyyy",long:"d. MMMM yyyy",full:"dddd d. MMMM yyyy"},timeFormat:{short:"HH.mm",medium:"HH.mm.ss",long:"HH.mm.ss z"},dateTimeFormat:{short:"d. MMM yyyy HH.mm.ss z",medium:"d. MMM yyyy HH.mm.ss z",long:"dddd d. MMMM yyyy HH.mm",full:"dddd d. MMMM yyyy HH.mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},de:{monthsAbbreviated:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy HH:mm:ss z",medium:"dd.MM.yyyy HH:mm:ss z",long:"dddd, d. MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},"de-IT":{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbreviated:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy, HH:mm:ss z",medium:"dd.MM.yyyy, HH:mm:ss z",long:"dddd, d. MMMM yyyy 'um' HH:mm",full:"dddd, d. MMMM yyyy 'um' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},"de-BE":{daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbreviated:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy, HH:mm",medium:"dd.MM.yyyy, HH:mm",long:"dddd, d. MMMM yyyy 'um' HH:mm",full:"dddd, d. MMMM yyyy 'um' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},"en-GB":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDay:1,dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM yyyy",other:{dateMonth:"d MMMM",yearMonth:"MMMM yyyy"}},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy, HH:mm:ss z",medium:"d MMM yyyy, HH:mm:ss z",long:"dddd, d MMMM yyyy 'at' HH:mm",full:"dddd, d MMMM yyyy 'at' HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"\xA3",position:"left"},firstDayOfWeek:1},"en-HK":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"d/M/yy",medium:"d MMM, yyyy",long:"d MMMM, yyyy",full:"dddd, d MMMM, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"d MMM, yyyy, h:mm:ss tt z",medium:"d MMM, yyyy, h:mm:ss tt z",long:"dddd, d MMMM, yyyy 'at' h:mm tt",full:"dddd, d MMMM, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"en-SE":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"yyyy-MM-dd",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM, yyyy, h:mm:ss tt z",medium:"d MMM, yyyy, h:mm:ss tt z",long:"dddd, d MMMM, yyyy 'at' h:mm tt",full:"dddd, d MMMM, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"},firstDayOfWeek:1},"en-US":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDay:0,dateFormat:{short:"M/d/yyyy",medium:"MMM d, yyyy",long:"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"hh:mm:ss tt"},dateTimeFormat:{short:"MMM d, yyyy, hh:mm:ss tt",medium:"MMM d, yyyy, hh:mm:ss tt",long:"dddd, MMMM d, yyyy 'at' h:mm tt",full:"dddd, MMMM d, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"en-IN":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"dd/M/yyyy",medium:"dd-MMM-yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"dd-MMM-yyyy, h:mm:ss tt z",medium:"dd-MMM-yyyy, h:mm:ss tt z",long:"dddd d MMMM yyyy 'at' h:mm tt",full:"dddd d MMMM yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"},firstDayOfWeek:0},es:{daysAbbreviated:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],days:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],dateFormat:{short:"d/M/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy, H:mm:ss z",medium:"d/M/yyyy, H:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy H:mm",full:"dddd, d 'de' MMMM 'de' yyyy H:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MXN",name:"Mexican peso",symbol:"$",position:"right"},firstDayOfWeek:1},"es-AR":{days:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],daysAbbreviated:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],dateFormat:{short:"d/M/yy",medium:"d MMM yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ARS",name:"Argentine peso",symbol:"$",position:"left"}},"es-NI":{days:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],daysAbbreviated:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],dateFormat:{short:"dd/MM/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy HH:mm:ss z",medium:"d/M/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NIO",name:"Nicaraguan c\xF3rdoba",symbol:"C$",position:"left"},firstDayOfWeek:0},"es-PR":{daysAbbreviated:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],days:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],dateFormat:{short:"MM/dd/yy",medium:"MM/dd/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"MM/dd/yyyy h:mm:ss tt z",medium:"MM/dd/yyyy h:mm:ss tt z",long:"dddd, d 'de' MMMM 'de' yyyy, h:mm tt",full:"dddd, d 'de' MMMM 'de' yyyy, h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"es-SV":{daysAbbreviated:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],days:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],dateFormat:{short:"dd/MM/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy HH:mm:ss z",medium:"d/M/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SVC",name:"Salvadoran col\xF3n",symbol:"\u20A1",position:"left"},firstDayOfWeek:0},fr:{daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],monthsAbbreviated:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy '\xE0' HH:mm",full:"dddd d MMMM yyyy '\xE0' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},"fr-BE":{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsAbbreviated:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dateFormat:{short:"d/MM/yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"dddd d MMMM yyyy '\xE0' HH:mm",long:"dddd d MMMM yyyy '\xE0' HH:mm",full:"dddd d MMMM yyyy '\xE0' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"},firstDayOfWeek:1},"fr-BL":{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsAbbreviated:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"dddd d MMMM yyyy '\xE0' HH:mm",long:"dddd d MMMM yyyy '\xE0' HH:mm",full:"dddd d MMMM yyyy '\xE0' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-HT":{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsAbbreviated:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy '\xE0' HH:mm",full:"dddd d MMMM yyyy '\xE0' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"HTG",name:"Haitian gourde",symbol:"G",position:"right"}},"ha-GH":{days:["Lahadi","Litinin","Talata","Laraba","Alhamis","Jumma\u02BCa","Asabar"],months:["Janairu","Faburairu","Maris","Afirilu","Mayu","Yuni","Yuli","Agusta","Satumba","Oktoba","Nuwamba","Disamba"],monthsAbbreviated:["Jan","Fab","Mar","Afi","May","Yun","Yul","Agu","Sat","Okt","Nuw","Dis"],daysAbbreviated:["Lah","Lit","Tal","Lar","Alh","Jum","Asa"],dateFormat:{short:"d/M/yy",medium:"d MMM, yyyy",long:"d MMMM, yyyy",full:"dddd, d MMMM, yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM, yyyy HH:mm:ss z",medium:"d MMM, yyyy HH:mm:ss z",long:"dddd, d MMMM, yyyy HH:mm",full:"dddd, d MMMM, yyyy HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GHS",name:"Ghanaian cedi",symbol:"\u20B5",position:"left"}},"hr-BA":{daysAbbreviated:["ned","pon","uto","sri","\u010Det","pet","sub"],days:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],monthsAbbreviated:["sij","velj","o\u017Eu","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],months:["sije\u010Dnja","velja\u010De","o\u017Eujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],dateFormat:{short:"dd. MM. yyyy.",medium:"d. MMM yyyy.",long:"d. MMMM yyyy.",full:"dddd, d. MMMM yyyy."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d. MMM yyyy. HH:mm:ss z",medium:"d. MMM yyyy. HH:mm:ss z",long:"dddd, d. MMMM yyyy. 'u' HH:mm",full:"dddd, d. MMMM yyyy. 'u' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BAM",name:"Bosnia and Herzegovina convertible mark",symbol:"KM",position:"right"},firstDayOfWeek:1},ja:{daysAbbreviated:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],days:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],monthsAbbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dateFormat:{short:"yyyy/MM/dd",medium:"yyyy/MM/dd",long:"yyyy\u5E74M\u6708d\u65E5",full:"yyyy\u5E74M\u6708d\u65E5dddd"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"yyyy/MM/dd H:mm",medium:"yyyy/MM/dd H:mm:ss",long:"yyyy\u5E74M\u6708d\u65E5 H:mm:ss z",full:"yyyy\u5E74M\u6708d\u65E5dddd H\u6642mm\u5206ss\u79D2 z"}},nl:{daysAbbreviated:["ned","pon","uto","sri","\u010Det","pet","sub"],days:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],monthsAbbreviated:["sij","velj","o\u017Eu","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],months:["sije\u010Dnja","velja\u010De","o\u017Eujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"},firstDayOfWeek:1},"nl-AW":{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],daysAbbreviated:["zo","ma","di","wo","do","vr","za"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AWG",name:"Aruban florin",symbol:"\u0192",position:"left"},firstDayOfWeek:1},"nl-SR":{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],daysAbbreviated:["zo","ma","di","wo","do","vr","za"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SRD",name:"Surinamese dollar",symbol:"$",position:"left"},firstDayOfWeek:1},pl:{days:["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"],months:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015Bnia","pa\u017Adziernika","listopada","grudnia"],monthsAbbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],daysAbbreviated:["niedz.","pon.","wt.","\u015Br.","czw.","pt.","sob."],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM y"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss zzz"},dateTimeFormat:{short:"dd.MM.yyyy HH:mm:ss zzz",medium:"d MMM yyyy HH:mm:ss zzz",long:"d MMMM yyyy HH:mm:ss zzz",full:"dddd, d MMMM y HH:mm:ss zzz"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"PLN",name:"Polish z\u0142oty",symbol:"z\u0142",position:"right"},firstDayOfWeek:1},pt:{daysAbbreviated:["dom","seg","ter","qua","qui","sex","s\xE1b"],days:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],dateFormat:{short:"dd/MM/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy HH:mm:ss z",medium:"dd/MM/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"pt-BR":{daysAbbreviated:["dom","seg","ter","qua","qui","sex","s\xE1b"],days:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],dateFormat:{short:"dd/MM/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy HH:mm:ss z",medium:"dd/MM/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"pt-CV":{days:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],daysAbbreviated:["domingo","segunda","ter\xE7a","quarta","quinta","sexta","s\xE1bado"],dateFormat:{short:"d/M/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy, HH:mm:ss z",medium:"dd/MM/yyyy, HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy '\xE0s' HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy '\xE0s' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CVE",name:"Cape Verdean escudo",symbol:"Esc",position:"right"},firstDayOfWeek:1},"pt-TL":{days:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],daysAbbreviated:["domingo","segunda","ter\xE7a","quarta","quinta","sexta","s\xE1bado"],dateFormat:{short:"d/M/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy, HH:mm:ss z",medium:"dd/MM/yyyy, HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy '\xE0s' HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy '\xE0s' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"right"},firstDayOfWeek:1},ru:{days:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],months:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],monthsAbbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],daysAbbreviated:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy '\u0433'.",long:"d MMMM yyyy '\u0433'.",full:"dddd, d MMMM yyyy '\u0433'."},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy '\u0433'., H:mm:ss z",medium:"d MMM yyyy '\u0433'., H:mm:ss z",long:"dddd, d MMMM yyyy '\u0433'., H:mm",full:"dddd, d MMMM yyyy '\u0433'., H:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"\u20BD",position:"right"},firstDayOfWeek:1},"ru-KG":{days:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],months:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],monthsAbbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],daysAbbreviated:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy '\u0433'.",long:"d MMMM yyyy '\u0433'.",full:"dddd, d MMMM yyyy '\u0433'."},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy '\u0433'., H:mm:ss z",medium:"d MMM yyyy '\u0433'., H:mm:ss z",long:"d MMM yyyy '\u0433'., H:mm:ss z",full:"d MMM yyyy '\u0433'., H:mm:ss z"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KGS",name:"Kyrgyzstani som",symbol:"\u043B\u0432",position:"right"},firstDayOfWeek:1},"ru-UA":{days:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],months:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],monthsAbbreviated:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],daysAbbreviated:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy '\u0433'.",long:"d MMMM yyyy '\u0433'.",full:"dddd, d MMMM yyyy '\u0433'."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy '\u0433'., HH:mm:ss z",medium:"d MMM yyyy '\u0433'., HH:mm:ss z",long:"dddd, d MMMM yyyy '\u0433'., HH:mm",full:"dddd, d MMMM yyyy '\u0433'., HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UAH",name:"Ukrainian hryvnia",symbol:"\u20B4",position:"right"},firstDayOfWeek:1},sv:{daysAbbreviated:["s\xF6n","m\xE5n","tis","ons","tors","fre","l\xF6r"],months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],days:["s\xF6ndag","m\xE5ndag","tisdag","onsdag","torsdag","fredag","l\xF6rdag"],dateFormat:{short:"yyyy-MM-dd",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy HH:mm",full:"dddd d MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SVC",name:"Salvadoran col\xF3n",symbol:"\u20A1",position:"right"},firstDayOfWeek:0},tr:{days:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],months:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],monthsAbbreviated:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],daysAbbreviated:["Paz","Pzt","Sal","\xC7ar","Per","Cum","Cmt"],dateFormat:{short:"d.MM.yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"d MMMM yyyy HH:mm",full:"d MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TRY",name:"Turkish lira",symbol:"\u20BA",position:"left"},firstDayOfWeek:1},uk:{daysAbbreviated:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],days:["\u043D\u0435\u0434\u0456\u043B\u044F","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043F\u02BC\u044F\u0442\u043D\u0438\u0446\u044F","\u0441\u0443\u0431\u043E\u0442\u0430"],months:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],monthsAbbreviated:["\u0441\u0456\u0447.","\u043B\u044E\u0442.","\u0431\u0435\u0440.","\u043A\u0432\u0456\u0442.","\u0442\u0440\u0430\u0432.","\u0447\u0435\u0440\u0432.","\u043B\u0438\u043F.","\u0441\u0435\u0440\u043F.","\u0432\u0435\u0440.","\u0436\u043E\u0432\u0442.","\u043B\u0438\u0441\u0442.","\u0433\u0440\u0443\u0434."],dateFormat:{short:"dd.MM.yy",medium:"d MMM yyyy",long:"d MMMM yyyy '\u0440'.",full:"dddd, d MMMM yyyy '\u0440'."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd, d MMMM yyyy '\u0440'. HH:mm",full:"dddd, d MMMM yyyy '\u0440'. HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UAH",name:"Ukrainian hryvnia",symbol:"\u20B4",position:"right"}},am:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AMD",name:"Armenian dram",symbol:"\u058F",position:"left"}},as:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},be:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},bm:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BMD",name:"Bermudian dollar",symbol:"$",position:"left"}},"bn-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"right"}},bn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BND",name:"Brunei dollar",symbol:"$",position:"right"}},"bo-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"}},bo:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},cu:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CUP",name:"Cuban peso",symbol:"\u20B1",position:"left"}},cy:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"de-CH":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},"de-LU":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},ee:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"en-AG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-AI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-AS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-AU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-BB":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BBD",name:"Barbadian dollar",symbol:"$",position:"left"}},"en-BI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BIF",name:"Burundian franc",symbol:"FBu",position:"left"}},"en-BM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BMD",name:"Bermudian dollar",symbol:"$",position:"left"}},"en-BS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BSD",name:"Bahamian dollar",symbol:"$",position:"left"}},"en-BW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BWP",name:"Botswana pula",symbol:"P",position:"left"}},"en-BZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BZD",name:"Belize dollar",symbol:"BZ$",position:"left"}},"en-CA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"left"}},"en-CC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-CK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-CM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"en-CK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-CX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-CY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-DM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-ER":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"N\u0192a",position:"left"}},"en-FJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"FJD",name:"Fijian dollar",symbol:"$",position:"left"}},"en-FK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"FKP",name:"Fijian dollar",symbol:"$",position:"left"}},"en-FM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-GD":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-GG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"\xA3",position:"left"}},"en-GH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GHS",name:"Ghanaian cedi",symbol:"\u20B5",position:"left"}},"en-GI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GIP",name:"Ghanaian cedi",symbol:"\u20B5",position:"left"}},"en-GM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GMD",name:"Gambian dalasi",symbol:"D",position:"left"}},"en-GU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-GY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GYD",name:"Guyanaese Dollar",symbol:"$",position:"left"}},"en-IE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"en-IL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"\u20AA",position:"left"}},"en-IM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"\xA3",position:"left"}},"en-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},"en-IO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-JE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"\xA3",position:"left"}},"en-JM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"JMD",name:"Jamaican dollar",symbol:"J$",position:"left"}},"en-KI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-KN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-KY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KYD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-LC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-LR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LRD",name:"Liberian dollar",symbol:"$",position:"left"}},"en-LS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LSL",name:"Lesotho loti",symbol:"L",position:"left"}},"en-MG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"left"}},"en-MH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-MO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MOP",name:"Macanese pataca",symbol:"P",position:"left"}},"en-MP":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-MS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-MT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-MU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MUR",name:"Mauritian rupee",symbol:"\u20A8",position:"left"}},"en-MW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MWP",name:"Mauritian rupee",symbol:"\u20A8",position:"left"}},"en-MY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"left"}},"en-NA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NAD",name:"Namibian dollar",symbol:"$",position:"left"}},"en-NF":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-NG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NGN",name:"Nigerian naira",symbol:"\u20A6",position:"left"}},"en-NR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-NU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-NZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-PG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PGK",name:"Papua New Guinean kina",symbol:"K",position:"left"}},"en-PK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PKR",name:"Pakistani Rupee",symbol:"\u20A8",position:"left"}},"en-PH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PHP",name:"Philippine peso",symbol:"\u20B1",position:"left"}},"en-PN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-PR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-PW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-RW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"left"}},"en-SB":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SBD",name:"Solomon Islands dollar",symbol:"$",position:"left"}},"en-SC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SCR",name:"Seychellois rupee",symbol:"\u20A8",position:"left"}},"en-SD":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SDG",name:"Sudanese pound",symbol:"\xA3Sd",position:"left"}},"en-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"en-SH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SHP",name:"Singapore dollar",symbol:"$",position:"left"}},"en-SL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SLL",name:"Sierra Leonean leone",symbol:"Le",position:"left"}},"en-SS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SSP",name:"South Sudanese pound",symbol:"SSP",alternateSymbol:"\xA3",position:"left"}},"en-SX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"\u0192",position:"left"}},"en-SZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SZL",name:"Swazi lilangeni",symbol:"L",position:"left"}},"en-TC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-TK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-TO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TOP",name:"Tongan pa\u02BBanga",symbol:"T$",position:"left"}},"en-TT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TTD",name:"Trinidad and Tobago dollar",symbol:"TT$",position:"left"}},"en-TV":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-TZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},"en-UG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"UGX",name:"Ugandan shilling",symbol:"USh",position:"left"}},"en-UM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-VG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"VUV",name:"Vanuatu vatu",symbol:"VT",position:"left"}},"en-WS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"WST",name:"Samoan t\u0101l\u0101",symbol:"T",position:"left"}},"en-ZM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ZMW",name:"Zambian kwacha",symbol:"ZK",position:"left"}},"en-ZW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ZWL",name:"Zambian kwacha",symbol:"ZK",position:"left"}},en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dateFormat:{short:"M/d/yy",medium:"MMM d, yyyy",long:"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"M/d/yy, h:mm tt",medium:"MMM d, yyyy, h:mm:ss tt",long:"MMMM d, yyyy 'at' h:mm:ss tt z",full:"dddd, MMMM d, yyyy 'at' h:mm:ss tt z"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"es-BR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BRL",name:"Brazilian real",symbol:"R$",position:"left"}},"es-BZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BZD",name:"Belize dollar",symbol:"BZ$",position:"left"}},"es-CU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CUP",name:"Cuban peso",symbol:"\u20B1",position:"left"}},"es-DO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"DOP",name:"Dominican peso",symbol:"RD$",position:"left"}},"es-GT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GTQ",name:"Guatemalan quetzal",symbol:"Q",position:"left"}},"es-HN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HNL",name:"Honduran lempira",symbol:"L",position:"left"}},"es-MX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MXN",name:"Mexican peso",symbol:"$",position:"left"}},"es-PA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PAB",name:"Panamanian balboa",symbol:"B/.",position:"left"}},"es-PE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PEN",name:"Sol",symbol:"S/.",position:"left"}},"es-US":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},ga:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},gd:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"gsw-FR":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"gsw-LI":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},gu:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"ha-NE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"it-CH":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},ki:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},kn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},ko:{daysAbbreviated:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],days:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],months:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],monthsAbbreviated:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],firstDay:0,dateFormat:{short:"yy. M. d.",medium:"yyyy. M. d.",long:"yyyy\uB144 M\uC6D4 d\uC77C",full:"yyyy\uB144 M\uC6D4 d\uC77C dddd"},timeFormat:{short:"tt h:mm",medium:"tt h:mm:ss",long:"tt h\uC2DC m\uBD84 ss\uCD08 zzz"},dateTimeFormat:{short:"yy. M. d tt h:mm",medium:"yyyy. M. d. tt h:mm:ss",long:"yyyy\uB144 M\uC6D4 d\uC77C tt h\uC2DC m\uBD84 ss\uCD08 zzz",full:"yyyy\uB144 M\uC6D4 d\uC77C dddd tt h\uC2DC m\uBD84 ss\uCD08 zzz"}},"ko-KP":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KPW",name:"North Korean won",symbol:"\u20A9",position:"left"}},kw:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KWD",name:"Kuwaiti dinar",symbol:"\u062F.\u0643",position:"left"}},"mas-TZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},mg:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"left"}},ml:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},mn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MNT",name:"Mongolian t\xF6gr\xF6g",symbol:"\u20AE",position:"left"}},mr:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"ms-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},ms:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},mt:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},my:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"right"}},"nds-NL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"ne-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"}},ne:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"om-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},om:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"OMR",name:"Omani rial",symbol:"\uFDFC",position:"left"}},pa:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PAB",name:"Panamanian balboa",symbol:"B/.",position:"left"}},"qu-EC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},si:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},sn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"so-DJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"left"}},"so-ET":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ETB",name:"Ethiopian birr",symbol:"Br",position:"left"}},"so-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},so:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SOS",name:"Somali shilling",symbol:"S",position:"left"}},"sw-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},"sw-UG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"UGX",name:"Ugandan shilling",symbol:"USh",position:"left"}},"ta-LK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LKR",name:"Sri Lankan rupee",symbol:"\u20A8",position:"left"}},"ta-MY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"left"}},"ta-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"teo-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},th:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"THB",name:"Thai baht",symbol:"\u0E3F",position:"left"}},"ti-ER":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"N\u0192a",position:"left"}},to:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TOP",name:"Tongan pa\u02BBanga",symbol:"T$",position:"left"}},"ur-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"}},"yo-BJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"zh-Hans-HK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"}},"zh-Hans-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"zh-Hant-HK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"}},"zh-TW":{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsAbbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],days:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],daysAbbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],dateFormat:{short:"yyyy/M/d",medium:"yyyy\u5E74M\u6708d\u65E5",long:"yyyy\u5E74M\u6708d\u65E5",full:"yyyy\u5E74M\u6708d\u65E5dddd"},timeFormat:{short:"tt h:mm",medium:"tt h:mm:ss",long:"z tt h:mm:ss"},dateTimeFormat:{short:"yyyy/M/d tt h:mm",medium:"yyyy\u5E74M\u6708d\u65E5tt h:mm:ss",long:"yyyy\u5E74M\u6708d\u65E5 z tt h:mm:ss",full:"yyyy\u5E74M\u6708d\u65E5dddd z tt h:mm:ss"}},zh:{days:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],daysAbbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsAbbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dateFormat:{short:"yyyy/M/d",medium:"yyyy\u5E74M\u6708d\u65E5",long:"yyyy\u5E74M\u6708d\u65E5",full:"yyyy\u5E74M\u6708d\u65E5dddd"},timeFormat:{short:"tt h:mm",medium:"tt h:mm:ss",long:"z tt h:mm:ss"},dateTimeFormat:{short:"yyyy/M/d tt h:mm",medium:"yyyy\u5E74M\u6708d\u65E5tt h:mm:ss",long:"yyyy\u5E74M\u6708d\u65E5 z tt h:mm:ss",full:"yyyy\u5E74M\u6708d\u65E5dddd z tt h:mm:ss"}},"af-NA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NAD",name:"Namibian dollar",symbol:"$",position:"left"}},af:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"\u060B",position:"left"}},"ar-AE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AED",name:"United Arab Emirates dirham",symbol:"\u062F.\u0625",position:"left"}},"ar-BH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BHD",name:"Bahraini dinar",symbol:"BD",position:"left"}},"ar-DJ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"left"}},"ar-DZ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/\u062C\x06",position:"right"}},"ar-EG":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EGP",name:"Egyptian pound",symbol:"\xA3",position:"right"}},"ar-EH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"ar-ER":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"N\u0192a",position:"left"}},"ar-IL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"\u20AA",position:"right"}},"ar-IQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IQD",name:"Iraqi dinar",symbol:"\u0639.\u062F",position:"right"}},"ar-JO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"JOD",name:"Jordanian dinar",symbol:"JOD",position:"right"}},"ar-KM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KMF",name:"Kuwaiti dinar",symbol:"\u062F.\u0643",position:"right"}},"ar-KW":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KWD",name:"Kuwaiti dinar",symbol:"\u062F.\u0643",position:"right"}},"ar-LB":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LBP",name:"Lebanese pound",symbol:"\xA3",position:"left"}},"ar-LY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LYD",name:"Libyan dinar",symbol:"\u062F.\u0644",position:"right"}},"ar-MA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"ar-MR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"ar-OM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"OMR",name:"Omani rial",symbol:"\uFDFC",position:"right"}},"ar-PS":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"\u20AA",position:"right"}},"ar-QA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"QAR",name:"Qatari Rial",symbol:"\uFDFC",position:"right"}},"ar-SA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SAR",name:"Saudi riyal",symbol:"\uFDFC",position:"right"}},"ar-SD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SDG",name:"Sudanese pound",symbol:"\xA3Sd",position:"right"}},"ar-SO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SOS",name:"Somali shilling",symbol:"S",position:"right"}},"ar-SS":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SSP",name:"South Sudanese pound",symbol:"SSP",alternateSymbol:"\xA3",position:"right"}},"ar-SY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SYP",name:"Syrian pound",symbol:"\xA3",position:"right"}},"ar-TD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ar-TN":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TND",name:"Tunisian dinar",symbol:"\u062F.\u062A",position:"right"}},"ar-YE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"YER",name:"Yemeni rial",symbol:"\uFDFC",position:"right"}},ar:{daysAbbreviated:["\u0627\u0644\u0633\u0628\u062A","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0627\u062B\u0646\u064A\u0646","\u0627\u0644\u0623\u062D\u062F"],days:["\u0627\u0644\u0633\u0628\u062A","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0627\u062B\u0646\u064A\u0646","\u0627\u0644\u0623\u062D\u062F"],months:["\u062F\u064A\u0633\u0645\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u063A\u0633\u0637\u0633","\u064A\u0648\u0644\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u0645\u0627\u064A\u0648","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u0631\u0633","\u0641\u0628\u0631\u0627\u064A\u0631","\u064A\u0646\u0627\u064A\u0631"],monthsAbbreviated:["\u062F\u064A\u0633\u0645\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u063A\u0633\u0637\u0633","\u064A\u0648\u0644\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u0645\u0627\u064A\u0648","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u0631\u0633","\u0641\u0628\u0631\u0627\u064A\u0631","\u064A\u0646\u0627\u064A\u0631"],firstDay:0,dateFormat:{short:"d\u200F/M\u200F/yyyy",medium:"dd\u200F/MM\u200F/yyyy",long:"d MMMM yyyy",full:"dddd\u060C d MMMM yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt zzz"},dateTimeFormat:{short:"d\u200F/M\u200F/yyyy, h:mm tt",medium:"dd\u200F/MM\u200F/yyyy, h:mm:ss tt",long:"d MMMM yyyy h:mm:ss tt zzz \u0641\u064A",full:"dddd\u060C d MMMM yyyy h:mm:ss a zzz \u0641\u064A"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ARS",name:"Argentine peso",symbol:"$",position:"right"}},"az-Cyrl":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"\u20BC",position:"left"}},"az-Latn":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"\u20BC",position:"left"}},az:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"\u20BC",position:"left"}},be:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},bg:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BGN",name:"Bulgarian lev",symbol:"\u043B\u0432",position:"right"}},"ca-AD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"ca-ES-VALENCIA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"ca-FR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},ca:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"right"}},"ckb-IR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"\uFDFC",position:"left"}},cs:{days:["ned\u011Ble","pond\u011Bl\xED","\xFAter\xFD","st\u0159eda","\u010Dtvrtek","p\xE1tek","sobota"],months:["ledna","\xFAnora","b\u0159ezna","dubna","kv\u011Btna","\u010Dervna","\u010Dervence","srpna","z\xE1\u0159\xED","\u0159\xEDjna","listopadu","prosince"],monthsAbbreviated:["led","\xFAno","b\u0159e","dub","kv\u011B","\u010Dvn","\u010Dvc","srp","z\xE1\u0159","\u0159\xEDj","lis","pro"],daysAbbreviated:["ne","po","\xFAt","st","\u010Dt","p\xE1","so"],dateFormat:{short:"dd.MM.yy",medium:"d. M. yyyy",long:"d. MMMM yyyy",full:"dddd d. MMMM yyyy"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss zzz"},dateTimeFormat:{short:"dd.MM.yy H:mm",medium:"d. M. yyyy HH:mm:ss",long:"d. MMMM yyyy H:mm:ss zzz",full:"dddd d. MMMM yyyy H:mm:ss zzz"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CSD",name:"Danish krone",symbol:"kr",position:"right"}},"da-GL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"de-AT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"el-CY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},el:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-AT":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"en-BE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-CH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},"en-DE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-DK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"en-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-NL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"en-SI":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"en-ZA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ZAR",name:"South African Rand",symbol:"R",position:"left"}},eo:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},"es-BO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},"es-CL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CLP",name:"Chilean peso",symbol:"$",position:"left"}},"es-CO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"COP",name:"Colombian peso",symbol:"$",position:"left"}},"es-CR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CRC",name:"Costa Rican col\xF3n",symbol:"\u20A1",position:"left"}},"es-EA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"es-EC":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"es-GQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"es-IC":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"es-PH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"PHP",name:"Philippine peso",symbol:"\u20B1",position:"right"}},"es-PY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"PYG",name:"Paraguayan guaran\xED",symbol:"Gs",position:"left"}},"es-UY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"UYU",name:"Uruguayan peso",symbol:"$U",position:"left"}},"es-VE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"VEF",name:"Venezuelan bol\xEDvar",symbol:"Bs",position:"left"}},et:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},eu:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},ewo:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fa-AF":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"\u060B",position:"left"}},fa:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"\uFDFC",position:"right"}},"ff-CM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ff-GN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GNF",name:"Guinean franc",symbol:"FG",position:"right"}},"ff-MR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},ff:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},fi:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fo-DK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},fo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"fr-BF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-BI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BIF",name:"Burundian franc",symbol:"FBu",position:"right"}},"fr-BJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-CA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"right"}},"fr-CD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},"fr-CF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-CG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-CH":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},"fr-CI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-CM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-DJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"right"}},"fr-DZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/\u062C\x06",position:"right"}},"fr-GA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-GF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-GN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GNF",name:"Guinean franc",symbol:"FG",position:"right"}},"fr-GP":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-GQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-KM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KMF",name:"Comorian franc",symbol:"CF",position:"right"}},"fr-LU":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-MA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"fr-MC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-MF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-MG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"right"}},"fr-ML":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-MQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-MR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"fr-MU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MUR",name:"Mauritian rupee",symbol:"\u20A8",position:"right"}},"fr-NC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-NE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-PF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-PM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-RE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"fr-RW":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"right"}},"fr-SC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SCR",name:"Seychellois rupee",symbol:"\u20A8",position:"right"}},"fr-SN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-SY":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SYP",name:"Syrian pound",symbol:"\xA3",position:"right"}},"fr-TD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-TG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-TN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"TND",name:"Tunisian dinar",symbol:"\u062F.\u062A",position:"right"}},"fr-VU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"VUV",name:"Vanuatu vatu",symbol:"VT",position:"right"}},"fr-WF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-YT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},fur:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SDG",name:"Sudanese pound",symbol:"\xA3Sd",position:"left"}},fy:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},gl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},hi:{daysAbbreviated:["\u0930\u0935\u093F","\u0938\u094B\u092E","\u092E\u0902\u0917\u0932","\u092C\u0941\u0927","\u0917\u0941\u0930\u0941","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],days:["\u0930\u0935\u093F\u0935\u093E\u0930","\u0938\u094B\u092E\u0935\u093E\u0930","\u092E\u0902\u0917\u0932\u0935\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u0917\u0941\u0930\u0941\u0935\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930","\u0936\u0928\u093F\u0935\u093E\u0930"],months:["\u091C\u0928\u0935\u0930\u0940","\u092B\u093C\u0930\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0938\u094D\u0924","\u0938\u093F\u0924\u0902\u092C\u0930","\u0905\u0915\u094D\u0924\u0942\u092C\u0930","\u0928\u0935\u0902\u092C\u0930","\u0926\u093F\u0938\u0902\u092C\u0930"],monthsAbbreviated:["\u091C\u0928\u0970","\u092B\u093C\u0930\u0970","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u0970","\u0905\u0917\u0970","\u0938\u093F\u0924\u0970","\u0905\u0915\u094D\u0924\u0942\u0970","\u0928\u0935\u0970","\u0926\u093F\u0938\u0970"],firstDay:0,dateFormat:{short:"d/M/yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt zzz"},dateTimeFormat:{short:"d/M/yy, h:mm tt",medium:"d MMM yyyy, h:mm:ss tt",long:"d MMMM yyyy \u0915\u094B h:mm:ss tt zzz",full:"dddd, d MMMM yyyy \u0915\u094B h:mm:ss tt zzz"}},hr:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"HRK",name:"Croatian kuna",symbol:"kn",position:"right"}},hsb:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},hu:{days:["vas\xE1rnap","h\xE9tf\u0151","kedd","szerda","cs\xFCt\xF6rt\xF6k","p\xE9ntek","szombat"],months:["janu\xE1r","febru\xE1r","m\xE1rcius","\xE1prilis","m\xE1jus","j\xFAnius","j\xFAlius","augusztus","szeptember","okt\xF3ber","november","december"],monthsAbbreviated:["jan.","febr.","m\xE1rc.","\xE1pr.","m\xE1j.","j\xFAn.","j\xFAl.","aug.","szept.","okt.","nov.","dec."],daysAbbreviated:["V","H","K","Sze","Cs","P","Szo"],dateFormat:{short:"yyyy. MM. dd.",medium:"yyyy. MMM d.",long:"yyyy. MMMM d.",full:"yyyy. MMMM d., dddd"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss zzz"},dateTimeFormat:{short:"yyyy. MM. dd. H:mm",medium:"yyyy. MMM d. HH:mm:ss",long:"yyyy. MMMM d. H:mm:ss zzz",full:"yyyy. MMMM d., dddd H:mm:ss zzz"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"HUF",name:"Hungarian forint",symbol:"Ft",position:"right"}},hy:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AMD",name:"Armenian dram",symbol:"\u058F",position:"right"}},id:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp",position:"left"}},is:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ISK",name:"Icelandic kr\xF3na",symbol:"kr",position:"right"}},"it-SM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"it-VA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},it:{daysAbbreviated:["dom","lun","mar","mer","gio","ven","sab"],days:["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsAbbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],dateFormat:{short:"dd/MM/yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yy, HH:mm",medium:"d MMM yyyy, HH:mm:ss",long:"d MMMM yyyy HH:mm:ss z",full:"dddd d MMMM yyyy HH:mm:ss z"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},jgo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},ka:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GEL",name:"Georgian lari",symbol:"\u20BE",position:"right"}},kab:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/\u062C\x06",position:"right"}},kea:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CVE",name:"Cape Verdean escudo",symbol:"Esc",position:"right"}},kk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KZT",name:"Kazakhstani tenge",symbol:"\u043B\u0432",position:"right"}},kkj:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},kl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"left"}},km:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KHR",name:"Cambodian riel",symbol:"\u17DB",position:"right"}},ks:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"}},ksf:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},ksh:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},ky:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KGS",name:"Kyrgyzstani som",symbol:"\u043B\u0432",position:"right"}},lb:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"ln-AO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AOA",name:"Angolan kwanza",symbol:"Kz",position:"right"}},"ln-CF":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ln-CG":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},ln:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},lo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LAK",name:"Lao kip",symbol:"\u20AD",position:"left"}},"lrc-IQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IQD",name:"Iraqi dinar",symbol:"\u0639.\u062F",position:"left"}},lrc:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"\uFDFC",position:"left"}},lt:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},lu:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},lv:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},mgh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"left"}},mk:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MKD",name:"Macedonian denar",symbol:"\u0434\u0435\u043D",position:"right"}},"ms-BN":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BND",name:"Brunei dollar",symbol:"$",position:"left"}},mua:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},mzn:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},"nb-SJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},nb:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},"nl-BE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"nl-BQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"nl-CW":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"\u0192",position:"left"}},"nl-SX":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"\u0192",position:"left"}},nmg:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},nn:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"right"}},nnh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"os-RU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"\u20BD",position:"left"}},os:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"\u20BD",position:"left"}},"pa-Arab":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"INR",name:"Indian rupee",symbol:"\u20B9",position:"left"}},ps:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"\u060B",position:"right"}},"pt-AO":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AOA",name:"Angolan kwanza",symbol:"Kz",position:"right"}},"pt-CH":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},"pt-GQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"pt-GW":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"pt-LU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"pt-MO":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MOP",name:"Macanese pataca",symbol:"P",position:"right"}},"pt-MZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"right"}},"pt-PT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"pt-ST":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"STD",name:"S\xE3o Tom\xE9 and Pr\xEDncipe dobra",symbol:"Db",position:"right"}},"qu-BO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},rn:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"\u20BD",position:"right"}},"ro-MD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MDL",name:"Moldovan leu",symbol:"L",position:"right"}},ro:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RON",name:"Romanian leu",symbol:"lei",position:"right"}},"ru-BY":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BYR",name:"Belarusian ruble",symbol:"p.",position:"right"}},"ru-KZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KZT",name:"Kazakhstani tenge",symbol:"\u043B\u0432",position:"right"}},"ru-MD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MDL",name:"Moldovan leu",symbol:"L",position:"right"}},rw:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"left"}},sah:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"\u20BD",position:"right"}},"se-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"se-SE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"}},se:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"}},seh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"right"}},sg:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"shi-Latn":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},"shi-Tfng":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},shi:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},sk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},sl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},smn:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"sq-MK":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},"sq-XK":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},sq:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},"sr-Cyrl-BA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl-ME":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl-XK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-BA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-ME":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-XK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},sr:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sv-AX":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"sv-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"right"}},"sw-CD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"left"}},tk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"TMT",name:"Turkmenistani Manat",symbol:"m",position:"right"}},"tr-CY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"\u20AC",position:"left"}},tzm:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},ug:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CNY",name:"Yuan Renminbi",symbol:"\xA5",position:"left"}},"uz-Arab":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani so\u02BBm",symbol:"\u043B\u0432",position:"left"}},"uz-Cyrl":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani so\u02BBm",symbol:"\u043B\u0432",position:"right"}},"uz-Latn":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani so\u02BBm",symbol:"\u043B\u0432",position:"right"}},uz:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani so\u02BBm",symbol:"\u043B\u0432",position:"right"}},vi:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"VND",name:"Vietnamese dong",symbol:"\u20AB",position:"right"}},vun:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},wae:{numberFormat:{thousandSeparator:"'",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",alternateSymbol:"CHF",position:"right"}},yav:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"PEN",name:"Sol",symbol:"S/.",position:"right"}},zgh:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}}},ZComponents.localeInformation={decimalSeparator:{".":["ak","am","as","asa","bem","bez","bm","bn-IN","bn","bo-IN","bo","brx","ce","cgg","chr","cu","cy","dav","de-CH","de-LI","dje","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZM","en-ZW","en","es-419","es-BR","es-BZ","es-CU","es-DO","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-US","fil","ga","gd","gsw-FR","gsw-LI","gsw","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","ig","ii","it-CH","ja","jmc","kam","kde","khq","ki","kln","kn","ko-KP","ko","kok","ksb","kw","lag","lg","lkt","luo","luy","mas-TZ","mas","mer","mfe","mg","mgo","ml","mn","mr","ms-SG","ms","mt","my","naq","nd","nds-NL","nds","ne-IN","ne","nus","nyn","om-KE","om","or","pa-Guru","pa","prg","qu-EC","qu","rm","rof","root","rwk","saq","sbp","ses","si","sn","so-DJ","so-ET","so-KE","so","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","twq","ur-IN","ur","vai-Latn","vai-Vaii","vai","vo","xog","yi","yo-BJ","yo","yue","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],",":["af-NA","af","agq","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","ast","az-Cyrl","az-Latn","az","bas","be","bg","br","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ckb-IR","ckb","cs","da-GL","da","de-AT","de-BE","de-IT","de-LU","de","dsb","dua","dyo","el-CY","el","en-150","en-AT","en-BE","en-CH","en-DE","en-DK","en-FI","en-NL","en-SE","en-SI","en-ZA","eo","es-AR","es-BO","es-CL","es-CO","es-CR","es-EA","es-EC","es-GQ","es-IC","es-PH","es-PY","es-UY","es-VE","es","et","eu","ewo","fa-AF","fa","ff-CM","ff-GN","ff-MR","ff","fi","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","fur","fy","gl","hr-BA","hr","hsb","hu","hy","id","is","it-SM","it-VA","it","jgo","ka","kab","kea","kk","kkj","kl","km","ks","ksf","ksh","ky","lb","ln-AO","ln-CF","ln-CG","ln","lo","lrc-IQ","lrc","lt","lu","lv","mgh","mk","ms-BN","mua","mzn","nb-SJ","nb","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nmg","nn","nnh","os-RU","os","pa-Arab","pl","ps","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","pt","qu-BO","rn","ro-MD","ro","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rw","sah","se-FI","se-SE","se","seh","sg","shi-Latn","shi-Tfng","shi","sk","sl","smn","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","sw-CD","tk","tr-CY","tr","tzm","ug","uk","uz-Arab","uz-Cyrl","uz-Latn","uz","vi","vun","wae","yav","zgh"]},thousandSeparator:{".":["ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","ast","az-Cyrl","az-Latn","az","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","chr","ckb-IR","ckb","da-GL","da","de-BE","de-IT","de-LU","de","dsb","el-CY","el","en-150","en-AT","en-BE","en-CH","en-DE","en-DK","en-NL","en-SI","es-AR","es-BO","es-CL","es-CO","es-EA","es-EC","es-GQ","es-IC","es-PH","es-PY","es-UY","es-VE","es","eu","fa-AF","fa","fo","fr-LU","fr-MA","fur","fy","gl","hr-BA","hr","hsb","id","is","it-SM","it-VA","it","jgo","kkj","kl","km","ks","lb","ln-AO","ln-CF","ln-CG","ln","lo","lrc-IQ","lrc","lu","mgh","mk","ms-BN","mua","mzn","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nnh","pa-Arab","ps","pt","qu-BO","rn","ro-MD","ro","rw","seh","sg","sl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sw-CD","tr-CY","tr","ug","uz-Arab","vi","vun"],",":["ak","am","as","asa","bem","bez","bm","bn-IN","bn","bo-IN","bo","brx","ce","cgg","cu","cy","dav","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZM","en-ZW","en","es-419","es-BR","es-BZ","es-CU","es-DO","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-US","fil","fo-DK","ga","gd","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","ig","ii","ja","jmc","kam","kde","ki","kln","kn","ko-KP","ko","kok","ksb","kw","lag","lg","lkt","luo","luy","mas-TZ","mas","mer","mg","mgo","ml","mn","mr","ms-SG","ms","mt","my","naq","nd","nds-NL","nds","ne-IN","ne","nus","nyn","om-KE","om","or","pa-Guru","pa","prg","qu-EC","qu","rof","root","rwk","saq","sbp","si","sn","so-DJ","so-ET","so-KE","so","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","ur-IN","ur","vai-Latn","vai-Vaii","vai","vo","xog","yi","yo-BJ","yo","yue","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"]," ":["af-NA","af","agq","bas","be","bg","br","cs","de-AT","dje","dua","dyo","en-FI","en-SE","en-ZA","eo","es-CR","et","ewo","ff-CM","ff-GN","ff-MR","ff","fi","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","hu","hy","ka","kab","kea","khq","kk","ksf","ksh","ky","lt","lv","mfe","nb-SJ","nb","nmg","nn","os-RU","os","pl","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","sah","se-FI","se-SE","se","ses","shi-Latn","shi-Tfng","shi","sk","smn","sq-MK","sq-XK","sq","sv-AX","sv-FI","sv","tk","twq","tzm","uk","uz-Cyrl","uz-Latn","uz","yav","zgh"],"'":["de-CH","de-LI","gsw-FR","gsw-LI","gsw","it-CH","rm","wae"]},timeSeparator:{":":["af-NA","af","agq","ak","am","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","as","asa","ast","az-Cyrl","az-Latn","az","bas","be","bem","bez","bg","bm","bn-IN","bn","bo-IN","bo","br","brx","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ce","cgg","chr","ckb-IR","ckb","cs","cu","cy","dav","de-AT","de-BE","de-CH","de-IT","de-LI","de-LU","de","dje","dsb","dua","dyo","dz","ebu","ee-TG","ee","el-CY","el","en-001","en-150","en-AG","en-AI","en-AS","en-AT","en-AU","en-BB","en-BE","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CH","en-CK","en-CM","en-CX","en-CY","en-DE","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NL","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SE","en-SG","en-SH","en-SI","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","en","eo","es-419","es-AR","es-BO","es-BR","es-BZ","es-CL","es-CO","es-CR","es-CU","es-DO","es-EA","es-EC","es-GQ","es-GT","es-HN","es-IC","es-MX","es-NI","es-PA","es-PE","es-PH","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","es","et","eu","ewo","fa-AF","fa","ff-CM","ff-GN","ff-MR","ff","fil","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","fur","fy","ga","gd","gl","gsw-FR","gsw-LI","gsw","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","hr-BA","hr","hsb","hu","hy","ig","ii","is","it-CH","it-SM","it-VA","it","ja","jgo","jmc","ka","kab","kam","kde","kea","khq","ki","kk","kkj","kl","kln","km","kn","ko-KP","ko","kok","ksb","ksf","ksh","kw","ky","lag","lb","lg","lkt","ln-AO","ln-CF","ln-CG","ln","lo","lt","lu","luo","luy","lv","mas-TZ","mas","mer","mfe","mg","mgh","mgo","mk","ml","mn","mr","ms-BN","ms-SG","ms","mt","mua","my","mzn","naq","nb-SJ","nb","nd","nds-NL","nds","ne-IN","ne","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nmg","nn","nnh","nus","nyn","om-KE","om","or","os-RU","os","pa-Arab","pa-Guru","pa","pl","prg","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","pt","qu-BO","qu-EC","qu","rm","rn","ro-MD","ro","rof","root","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rw","rwk","sah","saq","sbp","se-FI","se-SE","se","seh","ses","sg","shi-Latn","shi-Tfng","shi","sk","sl","sn","so-DJ","so-ET","so-KE","so","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","sw-CD","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","tk","to","tr-CY","tr","twq","tzm","uk","ur-IN","ur","uz-Arab","uz-Cyrl","uz-Latn","uz","vai-Latn","vai-Vaii","vai","vi","vo","vun","wae","xog","yav","yi","yo-BJ","yo","yue","zgh","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],".":["da-GL","da","en-DK","en-FI","fi","id","si","smn"],",":["ks","lrc-IQ","lrc","ps","ug"]},currencySymbolPosition:{left:["af-NA","af","ak","am","ar-AE","ar-BH","ar-DJ","ar-ER","ar-LB","as","en-US","az-Cyrl","az-Latn","az","bem","bm","bo-IN","bo","brx","cgg","chr","ckb-IR","ckb","cu","cy","dav","de-AT","de-CH","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AT","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CH","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NL","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","en","eo","es-419","es-AR","es-BO","es-BR","es-BZ","es-CL","es-CO","es-CR","es-CU","es-DO","es-EC","es-GQ","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","fa-AF","fil","fur","fy","ga","gd","gu","guz","gv","ha-GH","ha-NE","ha","haw","hi","id","ig","ii","it-CH","ja","jgo","jmc","kam","kde","ki","kkj","kl","kln","kn","ko-KP","ko","kok","ks","kw","lag","lkt","lo","lrc-IQ","lrc","luy","mas-TZ","mas","mer","mfe","mg","mgh","ml","mn","mr","ms-BN","ms-SG","ms","mt","mua","mzn","naq","nb-SJ","nb","nd","nds-NL","nds","ne-IN","ne","nl-AW","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nnh","nus","nyn","om-KE","om","or","os-RU","os","pa-Arab","pa-Guru","pa","prg","pt","qu-BO","qu-EC","qu","rof","root","rw","saq","sd","sg","si","sn","so-DJ","so-ET","so-KE","so","sw-CD","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","tr-CY","tr","ug","ur-IN","ur","uz-Arab","vai-Latn","vai-Vaii","vai","vo","vun","wae","wo","yi","yo-BJ","yo","yue-Hans","yue-Hant","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],right:["agq","ar-DZ","ar-EG","ar-EH","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","asa","ast","bas","be","bez","bg","bn-IN","bn","br","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ce","cs","da-GL","da","de-BE","de-IT","de-LU","de","dje","dsb","dua","dyo","el-CY","el","en-150","en-BE","en-DE","en-DK","en-FI","en-SE","en-SI","es-EA","es-IC","es-PH","es","et","eu","ewo","fa","ff-CM","ff-GN","ff-MR","ff","fi","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","gl","gsw-FR","gsw-LI","gsw","he","hr-BA","hr","hsb","hu","hy","is","it-SM","it-VA","it","ka","kab","kea","khq","kk","km","ksb","ksf","ksh","ky","lb","lg","ln-AO","ln-CF","ln-CG","ln","lt","lu","luo","lv","mk","my","nl-BE","nmg","nn","pl","ps","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","rm","rn","ro-MD","ro","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rwk","sah","sbp","se-FI","se-SE","se","seh","ses","shi-Latn","shi-Tfng","shi","sk","sl","smn","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","tg","tk","tt","twq","tzm","uk","uz-Cyrl","uz-Latn","uz","vi","xog","yav","zgh"]}},function(e){let t=e.Templates.Utilities;t.WCIcon=e=>ZT.html`<i class="${e.iconClassName}"> ${ZT.customHTML(e.SVGIconId?`<svg class='${e.SVGIconClassName}' focusable=false > <use xlink:href='${e.SVGIconId}'></use></svg> </svg>`:"")} </i>`,t.WCCommandBar=e=>ZT.html`<div class="zdatetimepicker__commandbar ${e.colClass?e.colClass:""}"> ${e.cols&&e.cols.length?e.cols.map(e=>ZT.html`<div class="zdatetimepicker__column"> ${t.WCCommandBarCol(e)} </div>`):t.WCCommandBarCol(e)} </div>`,t.WCCommandBarCol=e=>ZT.html`${e.left&&e.left.length?ZT.html`<div class=${e.leftClass||"zdatetimepicker__commandbaractionsleft"}>${e.left.map(e=>t.WCButton(e))}</div>`:""} ${e.center&&e.center.length?ZT.html`<div class=${e.centerClass||"zdatetimepicker__commandbaractionscenter"}> ${e.center.map(e=>t.WCButton(e))}</div>`:""} ${e.right&&e.right.length?ZT.html`<div class=${e.rightClass||"zdatetimepicker__commandbaractionsright"}>${e.right.map(e=>t.WCButton(e))}</div>`:""}`,t.WCButton=t=>ZT.html`${t.isLink?ZT.html`<a ?class=${t.className} tabindex=${t.tabindex} aria-label=${t.text}>${t.text}</a>`:t.initBtnComp?e.createButton(t):e.zbutton.Templates.WCContainer(t)}`}(ZComponents),function(e){e.loadSVGIcons=function(){var e=document.getElementById("zohocomponents__svg");if(e||(e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.setAttribute("id","zohocomponents__svg"),e.setAttribute("class","zh-dnone")),"innerHTML"in e)e.innerHTML="<symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--add\"> <polygon points=\"13,7.3 8.7,7.3 8.7,3 7.3,3 7.3,7.3 3,7.3 3,8.7 7.3,8.7 7.3,13 8.7,13 8.7,8.7 13,8.7 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--arrow\"> <polygon points=\"6.5,12.5 5.5,11.5 9,8 5.5,4.5 6.5,3.5 11,8\"></polygon> </symbol> <symbol id=\"zc__svg--arrowbottom\" viewBox=\"0 0 10.70711 6.06066\"> <polyline points=\"10.354 0.354 5.354 5.354 0.354 0.354\"/> </symbol> \t <symbol id=\"zc__svg--arrowleft\" viewBox=\"0 0 6.06066 10.70711\"> <polyline points=\"5.707 10.354 0.707 5.354 5.707 0.354\"/> </symbol> \t <symbol id=\"zc__svg--arrowright\" viewBox=\"0 0 6.06066 10.70711\"> <polyline points=\"0.354 0.354 5.354 5.354 0.354 10.354\"/> </symbol> <symbol id=\"zc__svg--arrowup\" viewBox=\"0 0 10.70711 6.06066\"> <polyline points=\"0.354 5.707 5.354 0.707 10.354 5.707\"/> </symbol> \t \t<symbol id=\"zc__svg--backward\" viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\"><polygon points=\"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6\"></polygon></symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--buttonarrow\"> <polygon points=\"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11\"></polygon> </symbol><symbol viewBox=\"0 0 14 14\" width=\"100%\" height=\"100%\" id=\"zc__svg--calendaricon\"> <rect x=\"-22.5\" y=\"3.5\" width=\"13\" height=\"10\"></rect> <path d=\"M-10,4v9h-12V4H-10 M-9,3h-14v11h14V3L-9,3z\"></path> <rect x=\"-20.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-19.8,1.8v2.5h-0.5V1.8H-19.8 M-19,1h-2v4h2V1L-19,1z\"></path> <rect x=\"-20.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-19.8,7.8v0.5h-0.5V7.8H-19.8 M-19,7h-2v2h2V7L-19,7z\"></path> <rect x=\"-16.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-15.8,1.8v2.5h-0.5V1.8H-15.8 M-15,1h-2v4h2V1L-15,1z\"></path> <rect x=\"-12.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-11.8,1.8v2.5h-0.5V1.8H-11.8 M-11,1h-2v4h2V1L-11,1z\"></path> <rect x=\"-16.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-15.8,7.8v0.5h-0.5V7.8H-15.8 M-15,7h-2v2h2V7L-15,7z\"></path> <rect x=\"-12.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-11.8,7.8v0.5h-0.5V7.8H-11.8 M-11,7h-2v2h2V7L-11,7z\"></path> <rect x=\"-20.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-19.8,10.8v0.5h-0.5v-0.5H-19.8 M-19,10h-2v2h2V10L-19,10z\"></path> <rect x=\"-16.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-15.8,10.8v0.5h-0.5v-0.5H-15.8 M-15,10h-2v2h2V10L-15,10z\"></path> <rect x=\"-12.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-11.8,10.8v0.5h-0.5v-0.5H-11.8 M-11,10h-2v2h2V10L-11,10z\"></path> <path d=\"M4,3c0.6,0,1-0.4,1-1V1H3v1C3,2.6,3.4,3,4,3z\"></path> <rect x=\"2\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"2\" y=\"10\" width=\"2\" height=\"2\"></rect> <rect x=\"6\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"6\" y=\"10\" width=\"2\" height=\"2\"></rect> <rect x=\"10\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"10\" y=\"10\" width=\"2\" height=\"2\"></rect> <path d=\"M12.8,2c0,1-0.8,1.8-1.8,1.8S9.2,3,9.2,2H5.8C5.8,3,5,3.8,4,3.8S2.2,3,2.2,2H0v3v9h14V5V2H12.8z M13,13H1V6h12V13z\"></path> <path d=\"M11,3c0.6,0,1-0.4,1-1V1h-2v1C10,2.6,10.4,3,11,3z\"></path> </symbol><symbol viewBox=\"0 0 21.9 21.9\" width=\"100%\" height=\"100%\" id=\"zc__svg--clear\"> <path d=\"M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0 c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4 s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3 s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7 s-0.1-0.5-0.3-0.7L14.1,11.3z\"></path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--close\"> <rect x=\"1.5\" y=\"7.4\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)\" class=\"st0\" width=\"13\" height=\"1.1\"></rect> <rect x=\"1.5\" y=\"7.4\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)\" class=\"st0\" width=\"13\" height=\"1.1\"></rect> </symbol><symbol viewBox=\"0 0 600 598\" width=\"100%\" height=\"100%\" id=\"zc__svg--zcolorpicker-advancedpicker\"> <path d=\"M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z\"> </path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--zcolorpicker-nocolor\"> <path d=\"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--confirm\"> <g> <path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z\"></path> <g> <path d=\"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z\"></path> <path d=\"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z\"></path> </g> </g> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--decrement\"> <path class=\"cls-1\" d=\"M11.76,13L24,26.521,37.147,13,41,16.9,24,35,7,16.9Z\"></path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--downarrow\"> <polygon points=\"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11\"></polygon> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--download\"> <path class=\"zpreview__fill\" d=\"M17,16H0v-3h1v2h15v-2h1V16z M12.6,6.6L9,10.3V1H8v9.3L4.4,6.6L3.6,7.4l4.9,4.9l4.9-4.9L12.6,6.6z\"></path> </symbol><symbol viewBox=\"-3 -3 22 22\" width=\"100%\" height=\"100%\" id=\"zc__svg--downscroller\"> <path d=\"M16,4l-8,8L0,4H16z\"></path> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--edit\"> <path class=\"zpreview__fill\" d=\"M13,0L1,12v4h3.8L17,4L13,0z M15.6,4l-2.5,2.4l-2.5-2.6L13,1.4L15.6,4z M4.3,15H2v-2.6l7.8-7.8l2.6,2.6L4.3,15z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--error\"> <path d=\"M41.2,7.2C31.9-2.2,16.7-2.5,7.3,6.9c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.8,41.2,7.2z M37.9,38.2C30,46,17.4,45.9,9.7,38S2.1,17.5,10,9.8S30.5,2.1,38.2,10C45.9,17.9,45.8,30.5,37.9,38.2z\"></path> <path d=\"M31.7,17.5l-1.1-1.1c-0.8-0.8-1.7-0.1-2,0.1L24,21l-4.6-4.7c-0.3-0.3-1.1-0.8-1.9,0l-1.1,1.1c-0.8,0.8-0.1,1.7,0.1,2L21,24l-4.7,4.6c-0.9,0.9-0.3,1.6-0.1,1.8l1.3,1.3c0.2,0.2,0.9,0.8,1.8-0.1L24,27l4.6,4.7c0.9,0.9,1.6,0.3,1.8,0.1l1.3-1.3c0.2-0.2,0.8-0.9-0.1-1.8L27,24l4.7-4.6C32,19.1,32.5,18.4,31.7,17.5z\"></path> </symbol><symbol viewBox=\"0 0 12 12\" id=\"zc__svg--fastbackward\" width=\"100%\" height=\"100%\"><polygon points=\"5.6,10.3 1.9,6.5 5.6,2.6 6.3,3.4 3.3,6.5 6.4,9.6\"></polygon><polygon points=\"9.6,10.3 5.9,6.5 9.6,2.6 10.3,3.4 7.3,6.5 10.4,9.6\"></polygon></symbol><symbol viewBox=\"1 0 12 12\" id=\"zc__svg--fastforward\" width=\"100%\" height=\"100%\"><polygon points=\"7.4,10.3 6.7,9.6 9.7,6.5 6.6,3.4 7.4,2.7 11.1,6.5\"></polygon><polygon points=\"3.4,10.3 2.7,9.6 5.7,6.5 2.6,3.4 3.4,2.7 7.1,6.5\"></polygon></symbol><symbol viewBox=\"0 0 19 10\" id=\"zc__svg--filmstrip\"> <path class=\"zpreview__fill\" d=\"M4,4v5H1V4H4 M5,3H0v7h5V3L5,3z M0,0h19v1H0V0z M18,4v5h-3V4H18 M19,3h-5v7h5V3L19,3z M11,4v5H8V4H11 M12,3H7v7h5V3L12,3z\"> </path> </symbol><symbol viewBox=\"1 0 12 12\" id=\"zc__svg--forward\" width=\"100%\" height=\"100%\"><polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon></symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--fullscreen\"> <path class=\"zpreview__fill\" d=\"M6.9,10.9L2.7,15H5v1H1v-4h1v2.3l4.1-4.1C6.3,10,6.7,10,6.9,10.1S7,10.7,6.9,10.9z M15,12v2.3l-4.1-4.2c-0.2-0.1-0.6-0.1-0.8,0s-0.1,0.6,0,0.8l4.1,4.1H12v1h4v-4H15z M12,1v1h2.3l-4.2,4.1c-0.1,0.2-0.1,0.6,0,0.8C10.2,7,10.4,7,10.5,7s0.3,0,0.4-0.1L15,2.7V5h1V1H12z M6.9,6.1L2.7,2H5V1H1v4h1V2.7l4.1,4.1C6.2,7,6.4,7,6.5,7s0.3,0,0.4-0.1C7,6.7,7,6.3,6.9,6.1z\"> </path></symbol><symbol viewBox=\"0 0 5 10\" width=\"100%\" height=\"100%\" id=\"zc__svg--grippy\"> <rect width=\"2\" height=\"2\"></rect><rect x=\"3\" width=\"2\" height=\"2\"></rect> <rect y=\"4\" width=\"2\" height=\"2\"></rect><rect x=\"3\" y=\"4\" width=\"2\" height=\"2\"></rect> <rect x=\"3\" y=\"8\" width=\"2\" height=\"2\"></rect><rect y=\"8\" width=\"2\" height=\"2\"></rect> </symbol><svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" id=\"zc__svg--grippy-listbox\"> <g id=\"Group_1151\" data-name=\"Group 1151\" transform=\"translate(-485 -283)\"> <g id=\"Rectangle_1152\" data-name=\"Rectangle 1152\" transform=\"translate(485 283)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1153\" data-name=\"Rectangle 1153\" transform=\"translate(489 283)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1155\" data-name=\"Rectangle 1155\" transform=\"translate(485 287)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1156\" data-name=\"Rectangle 1156\" transform=\"translate(489 287)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1157\" data-name=\"Rectangle 1157\" transform=\"translate(485 291)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1158\" data-name=\"Rectangle 1158\" transform=\"translate(489 291)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> </g> </svg> \t<symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--help\"><g><path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z\"></path><g><path d=\"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z\"></path><path d=\"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z\"></path></g></g></symbol><symbol viewBox=\"1 2 9 9\" width=\"100%\" height=\"100%\" id=\"zc__svg--horizontaldecrement\"> <polygon points=\"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6\"></polygon> </symbol><symbol viewBox=\"1 2 9 9\" width=\"100%\" height=\"100%\" id=\"zc__svg--horizontalincrement\"> <polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--increment\"> <path class=\"cls-1\" d=\"M6,32l5,4L24,22,38,36l4-4L24,13Z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--info\"> <g> <g> <path d=\"M23.9,17.4c1.5,0,2.5-1.1,2.4-2.3c0-1.3-0.9-2.4-2.3-2.4s-2.4,1.1-2.4,2.4C21.6,16.3,22.6,17.4,23.9,17.4z\"></path> <path d=\"M26.2,35.5V21.8c0-1.2-1.4-1.3-1.8-1.3h-0.7c0,0-1.7,0-1.7,1.1v14.3c0,0.3,0.2,0.9,1.3,0.9h1.6C25.3,36.7,26.2,36.5,26.2,35.5z\"></path> </g> <path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,44C13,44,4,35,4,24S13,4,24,4s20,9,20,20S35,44,24,44z\"></path> </g> </symbol><symbol id=\"zc__svg--lines\" viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\"> <line x1=\"11\" y1=\"1\" x2=\"1\" y2=\"11\"></line> <line x1=\"11\" y1=\"5\" x2=\"5\" y2=\"11\"></line> <line x1=\"11\" y1=\"9\" x2=\"9\" y2=\"11\"></line> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--maximize\"> <g transform=\"translate(0,-1036.3622)\"> <g> <path d=\"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z\"></path> </g> </g> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--minimize\"> <rect x=\"2\" y=\"12\" width=\"12\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 12 10\" width=\"100%\" height=\"100%\" id=\"zc__svg--minus\"> <rect x=\"2\" y=\"5\" width=\"9\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 4 16\" id=\"zc__svg--more\"> <path class=\"zpreview__fill\" d=\"M2,1c0.6,0,1,0.4,1,1S2.6,3,2,3S1,2.6,1,2S1.4,1,2,1 M2,0C0.9,0,0,0.9,0,2s0.9,2,2,2s2-0.9,2-2S3.1,0,2,0L2,0z\"> </path><path class=\"zpreview__fill\" d=\"M2,13c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1S1.4,13,2,13 M2,12c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S3.1,12,2,12L2,12z\"> </path><path class=\"zpreview__fill\" d=\"M2,7c0.6,0,1,0.4,1,1S2.6,9,2,9S1,8.6,1,8S1.4,7,2,7 M2,6C0.9,6,0,6.9,0,8s0.9,2,2,2s2-0.9,2-2S3.1,6,2,6L2,6z\"> </path> </symbol><symbol viewBox=\"0 0 12 20\" id=\"zc__svg--navigationnext\"> <path class=\"zpreview__fill\" d=\"M1.5,19.5c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4L9,10L0.8,2.2c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l9,8.5c0.2,0.2,0.3,0.5,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-9,8.5C2,19.4,1.7,19.5,1.5,19.5z\"> </path> </symbol><symbol viewBox=\"0 0 12 20\" id=\"zc__svg--navigationprevious\"> <path class=\"zpreview__fill\" d=\"M9.8,19.2l-9-8.5c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.2,0.1-0.5,0.3-0.7l9-8.5c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L3,10l8.2,7.8c0.4,0.4,0.4,1,0,1.4c-0.2,0.2-0.4,0.3-0.7,0.3C10.3,19.5,10,19.4,9.8,19.2z\"></path> </symbol><symbol viewBox=\"0 0 25 25\" id=\"zc__svg--notfound\"> <path class=\"zpreview__fill\" d=\"M12.5,1.8c5.9,0,10.7,4.8,10.7,10.7s-4.8,10.7-10.7,10.7S1.8,18.4,1.8,12.5S6.6,1.8,12.5,1.8 M12.5,0C5.6,0,0,5.6,0,12.5S5.6,25,12.5,25S25,19.4,25,12.5S19.4,0,12.5,0L12.5,0z\"> </path><line class=\"zpreview__stroke\" stroke-width=\"2\" x1=\"8\" y1=\"8\" x2=\"17\" y2=\"17\"> </line><line class=\"zpreview__stroke\" stroke-width=\"2\" x1=\"17\" y1=\"8\" x2=\"8\" y2=\"17\"> </line> </symbol><symbol viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\" id=\"zc__svg--plus\"> <polygon points=\"11,6 7,6 7,2 6,2 6,6 2,6 2,7 6,7 6,11 7,11 7,7 11,7 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--print\"> <path class=\"zpreview__fill\" d=\"M16,3h-3.1L12,0H4L3.1,3H0v9h2.8L2,16h12l-0.8-4H16V3z M4.7,1h6.5l0.6,2H4.1L4.7,1z M3.2,15l1.1-6h7.3l1.1,6 H3.2z M15,11h-1.9l-0.6-3h-9l-0.6,3H1V4h14V11z\"> </path><rect x=\"13\" y=\"5\" class=\"zpreview__fill\" width=\"1\" height=\"1\"> </rect> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--restore\"> <g transform=\"translate(0,-1036.3622)\"> <path d=\"M2,1041.4v8h10v-8H2z M11,1048.4H3v-6h8V1048.4z\"></path> </g> <g transform=\"translate(0,-1036.3622)\"> <path d=\"M4,1039.4v3h1v-2h8v6h-2v1h3v-8H4z\"></path> </g> </symbol><symbol viewBox=\"0 0 5 12\" id=\"zc__svg--rightarrow\"> <polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon> </symbol><symbol viewBox=\"-7 -7 64 64\" width=\"100%\" height=\"100%\" id=\"zc__svg--round\"> <circle cx=\"24.5\" cy=\"24.5\" r=\"15.5\"></circle> </symbol><symbol viewBox=\"0 0 15 15\" width=\"100%\" height=\"100%\" id=\"zc__svg--search\"> <g id=\"Ellipse_50\" data-name=\"Ellipse 50\" fill=\"none\" stroke=\"gray\" stroke-width=\"1.5\"> <circle cx=\"6\" cy=\"6\" r=\"6\" stroke=\"none\"></circle> <circle cx=\"6\" cy=\"6\" r=\"5.25\" fill=\"none\"></circle> </g> <path id=\"Rectangle_270\" data-name=\"Rectangle 270\" d=\"M0,0H5A1,1,0,0,1,6,1V1A1,1,0,0,1,5,2H0A0,0,0,0,1,0,2V0A0,0,0,0,1,0,0Z\" transform=\"translate(10.757 9.343) rotate(45)\" fill=\"gray\"></path> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--share\"> <path class=\"zpreview__fill\" d=\"M13.5,0.8c0.9,0,1.7,0.8,1.7,1.7s-0.8,1.7-1.7,1.7s-1.7-0.8-1.7-1.7S12.6,0.8,13.5,0.8 M13.5,0C12.1,0,11,1.1,11,2.5S12.1,5,13.5,5S16,3.9,16,2.5S14.9,0,13.5,0L13.5,0z\"> </path> <path class=\"zpreview__fill\" d=\"M2.5,6.3c0.9,0,1.7,0.8,1.7,1.7S3.4,9.7,2.5,9.7S0.8,8.9,0.8,8S1.6,6.3,2.5,6.3 M2.5,5.5C1.1,5.5,0,6.6,0,8s1.1,2.5,2.5,2.5S5,9.4,5,8S3.9,5.5,2.5,5.5L2.5,5.5z\"> </path> <path class=\"zpreview__fill\" d=\"M13.5,11.8c0.9,0,1.7,0.8,1.7,1.7s-0.8,1.7-1.7,1.7s-1.7-0.8-1.7-1.7S12.6,11.8,13.5,11.8 M13.5,11c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S14.9,11,13.5,11L13.5,11z\"> </path> <rect x=\"7.5\" y=\"7\" transform=\"matrix(0.4472 -0.8944 0.8944 0.4472 -5.2373 13.1252)\" class=\"zpreview__fill\" width=\"1\" height=\"7.6\"></rect> <rect x=\"4.2\" y=\"4.8\" transform=\"matrix(0.8944 -0.4472 0.4472 0.8944 -1.5256 4.1374)\" class=\"zpreview__fill\" width=\"7.6\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 18 17\" id=\"zc__svg--slideshow\"> <path class=\"zpreview__fill\" d=\"M19,2V1h-9V0H9v1H0v1h1v11H0v1h9v0.7l-4,3.7L5.6,19L9,15.8V18h1v-2.2l3.4,3.2l0.5-0.6l-4-3.7V14h9v-1h-1V2H19zM17,13H2V2h15V13z M8,5v5l4.5-2.5L8,5z\"></path> </symbol><symbol viewBox=\"0 0 9 16\" id=\"zc__svg--slideshow__next\"> <polyline class=\"zpreview__fill\" points=\"1,1 8,8 1,15\"></polyline> </symbol><symbol viewBox=\"0 0 10 14\" width=\"100%\" height=\"100%\" id=\"zc__svg--slideshow__pause\"> <path class=\"zpreview__fill\" d=\"M3,1v12H1V1H3 M3,0H1C0.4,0,0,0.4,0,1v12c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V1C4,0.4,3.6,0,3,0L3,0z\"> </path><path class=\"zpreview__fill\" d=\"M9,1v12H7V1H9 M9,0H7C6.4,0,6,0.4,6,1v12c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V1C10,0.4,9.6,0,9,0L9,0z\"> </path> </symbol><symbol viewBox=\"0 0 12 14\" id=\"zc__svg--slideshow__play\"> <path fill=\"white\" d=\"M1,1.2L11,7L1,12.8L1,1.2 M1,0.2c-0.5,0-1,0.4-1,1v11.5c0,0.6,0.5,1,1,1c0.2,0,0.3,0,0.5-0.1l10-5.8c0.7-0.4,0.7-1.3,0-1.7l-10-5.8C1.3,0.3,1.2,0.2,1,0.2L1,0.2z\"> </path> </symbol><symbol viewBox=\"0 0 9 16\" id=\"zc__svg--slideshow__previous\"> <polyline class=\"zpreview__fill\" points=\"8,1 1,8 8,15\"></polyline> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--success\"> <g> <path d=\"M41.2,7.2C31.9-2.3,16.7-2.5,7.3,6.8c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.7,41.2,7.2z M37.9,38.2c-7.9,7.7-20.5,7.6-28.2-0.3S2.1,17.4,10,9.7S30.5,2.1,38.2,10C45.9,17.8,45.8,30.5,37.9,38.2z\"></path> <path d=\"M36,19.3L23.1,32.2c-1.1,1.1-2.9,1.1-4,0l-1-1l-4.5-4.6c-0.2-0.2-1-1.1-0.1-2l1.1-1.1c0.8-0.8,1.6-0.3,1.9,0l4.6,4.7l12-11.8c0.2-0.2,1.1-1,2-0.1l1.1,1.1C36.8,18.2,36.3,18.9,36,19.3z\"></path> </g> </symbol><symbol viewBox=\"-2 -2 20 20\" width=\"100%\" height=\"100%\" id=\"zc__svg--tick\"> <polygon points=\"14.6,2.4 4.9,12.1 1.2,8.5 0.4,9.3 4.9,13.8 15.4,3.2 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--time\" width=\"100%\" height=\"100%\"> <path d=\"M8,0.6C3.9,0.6,0.6,3.9,0.6,8s3.3,7.4,7.4,7.4s7.4-3.3,7.4-7.4S12.1,0.6,8,0.6z M8,13.9c-3.3,0-5.9-2.6-5.9-5.9c0-3.3,2.6-5.9,5.9-5.9c3.3,0,5.9,2.6,5.9,5.9C13.9,11.3,11.3,13.9,8,13.9z\"> </path> <polygon points=\"8.5,7.5 8.5,4.5 6.5,4.5 6.5,9.5 11.5,9.5 11.5,7.5\"> </polygon> </symbol><symbol viewBox=\"0 0 25 25\" id=\"zc__svg--unableload\"> <path class=\"zpreview__fill\" d=\"M12.5,2c0.7,0,1.5,0.4,1.8,1.1l8.5,15c0.7,1.3-0.3,3-1.8,3H4.1c-1.6,0-2.6-1.7-1.8-3l8.4-15C11.1,2.3,11.8,2,12.5,2 M12.5,0.1c-1.4,0-2.7,0.7-3.4,2l-8.4,15c-0.7,1.2-0.7,2.6,0,3.9c0.7,1.2,2,2,3.5,2h16.8c1.4,0,2.7-0.7,3.4-1.9c0.7-1.2,0.7-2.6,0.1-3.8l-8.5-15C15.3,0.9,13.9,0.1,12.5,0.1L12.5,0.1z\"> </path><path class=\"zpreview__fill\" d=\"M13,14h-1l-0.8-6.5C11.1,6.7,11.7,6,12.5,6h0c0.8,0,1.4,0.7,1.3,1.5L13,14z\"> </path><circle class=\"zpreview__fill\" cx=\"12.5\" cy=\"17.5\" r=\"1.5\"> </circle> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--upload\"> <path class=\"zpreview__fill\" d=\"M13.8,4.1C13.2,1.7,11.1,0,8.5,0S3.8,1.7,3.2,4.1C1.4,4.5,0,6.1,0,8c0,1.2,0.5,2.3,1.4,3C2.1,11.6,3,12,4,12h4v4h1v-4h4c1,0,1.9-0.4,2.6-1c0.8-0.7,1.4-1.8,1.4-3C17,6.1,15.6,4.5,13.8,4.1z M13,11h-2.6H9V5.7l2.6,2.7l0.8-0.8L8.5,3.8L4.6,7.6l0.8,0.8L8,5.7V11H6.6H4c-1.7,0-3-1.4-3-3c0-1.3,0.8-2.4,2-2.8C3.3,5.1,3.7,5,4,5c0-0.3,0.1-0.7,0.2-1c0.6-1.8,2.3-3,4.2-3c1.9,0,3.6,1.3,4.2,3c0.1,0.3,0.2,0.6,0.2,1c0.3,0,0.7,0.1,1,0.2c1.2,0.4,2,1.5,2,2.8C16,9.6,14.7,11,13,11z\"> </path> </symbol><symbol viewBox=\"-3 -3 22 22\" width=\"100%\" height=\"100%\" id=\"zc__svg--upscroller\"> <path d=\"M0,12l8-8l8,8H0z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--warning\"> <g> <path d=\"M47.3,36.6L27.7,2.5c-0.9-1.4-2.4-2.2-3.9-2.1c-1.6,0-2.9,0.9-3.7,2.2L0.7,36.5c-0.9,1.3-1,3-0.2,4.4c0.8,1.5,2.3,2.4,4,2.4h39c1.6,0,3.1-0.8,3.9-2.2C48.2,39.7,48.2,38,47.3,36.6z M43.9,39.2c-0.1,0.1-0.2,0.2-0.4,0.2h-39c-0.3,0-0.4-0.2-0.5-0.3c-0.1-0.2,0-0.3,0-0.4L23.5,4.6c0,0,0.1-0.2,0.3-0.2c0,0,0,0,0,0c0.1,0,0.3,0,0.4,0.2l19.6,34C44,38.8,44,39,43.9,39.2z\"></path> </g> <path d=\"M24.1,28.4L24.1,28.4c-0.8,0-1.3-0.4-1.4-1l-1-10c-0.1-1.1,1-2,2.4-2l0,0c1.4,0,2.5,0.9,2.4,2l-1,10C25.4,27.9,24.9,28.4,24.1,28.4z\"></path> <circle cx=\"24\" cy=\"33.4\" r=\"2\"></circle> </symbol>";else{var t=document.createElement("div");t.innerHTML="<svg><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--add\"> <polygon points=\"13,7.3 8.7,7.3 8.7,3 7.3,3 7.3,7.3 3,7.3 3,8.7 7.3,8.7 7.3,13 8.7,13 8.7,8.7 13,8.7 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--arrow\"> <polygon points=\"6.5,12.5 5.5,11.5 9,8 5.5,4.5 6.5,3.5 11,8\"></polygon> </symbol> <symbol id=\"zc__svg--arrowbottom\" viewBox=\"0 0 10.70711 6.06066\"> <polyline points=\"10.354 0.354 5.354 5.354 0.354 0.354\"/> </symbol> \t <symbol id=\"zc__svg--arrowleft\" viewBox=\"0 0 6.06066 10.70711\"> <polyline points=\"5.707 10.354 0.707 5.354 5.707 0.354\"/> </symbol> \t <symbol id=\"zc__svg--arrowright\" viewBox=\"0 0 6.06066 10.70711\"> <polyline points=\"0.354 0.354 5.354 5.354 0.354 10.354\"/> </symbol> <symbol id=\"zc__svg--arrowup\" viewBox=\"0 0 10.70711 6.06066\"> <polyline points=\"0.354 5.707 5.354 0.707 10.354 5.707\"/> </symbol> \t \t<symbol id=\"zc__svg--backward\" viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\"><polygon points=\"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6\"></polygon></symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--buttonarrow\"> <polygon points=\"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11\"></polygon> </symbol><symbol viewBox=\"0 0 14 14\" width=\"100%\" height=\"100%\" id=\"zc__svg--calendaricon\"> <rect x=\"-22.5\" y=\"3.5\" width=\"13\" height=\"10\"></rect> <path d=\"M-10,4v9h-12V4H-10 M-9,3h-14v11h14V3L-9,3z\"></path> <rect x=\"-20.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-19.8,1.8v2.5h-0.5V1.8H-19.8 M-19,1h-2v4h2V1L-19,1z\"></path> <rect x=\"-20.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-19.8,7.8v0.5h-0.5V7.8H-19.8 M-19,7h-2v2h2V7L-19,7z\"></path> <rect x=\"-16.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-15.8,1.8v2.5h-0.5V1.8H-15.8 M-15,1h-2v4h2V1L-15,1z\"></path> <rect x=\"-12.6\" y=\"1.4\" width=\"1.2\" height=\"3.2\"></rect> <path d=\"M-11.8,1.8v2.5h-0.5V1.8H-11.8 M-11,1h-2v4h2V1L-11,1z\"></path> <rect x=\"-16.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-15.8,7.8v0.5h-0.5V7.8H-15.8 M-15,7h-2v2h2V7L-15,7z\"></path> <rect x=\"-12.6\" y=\"7.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-11.8,7.8v0.5h-0.5V7.8H-11.8 M-11,7h-2v2h2V7L-11,7z\"></path> <rect x=\"-20.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-19.8,10.8v0.5h-0.5v-0.5H-19.8 M-19,10h-2v2h2V10L-19,10z\"></path> <rect x=\"-16.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-15.8,10.8v0.5h-0.5v-0.5H-15.8 M-15,10h-2v2h2V10L-15,10z\"></path> <rect x=\"-12.6\" y=\"10.4\" width=\"1.2\" height=\"1.2\"></rect> <path d=\"M-11.8,10.8v0.5h-0.5v-0.5H-11.8 M-11,10h-2v2h2V10L-11,10z\"></path> <path d=\"M4,3c0.6,0,1-0.4,1-1V1H3v1C3,2.6,3.4,3,4,3z\"></path> <rect x=\"2\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"2\" y=\"10\" width=\"2\" height=\"2\"></rect> <rect x=\"6\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"6\" y=\"10\" width=\"2\" height=\"2\"></rect> <rect x=\"10\" y=\"7\" width=\"2\" height=\"2\"></rect> <rect x=\"10\" y=\"10\" width=\"2\" height=\"2\"></rect> <path d=\"M12.8,2c0,1-0.8,1.8-1.8,1.8S9.2,3,9.2,2H5.8C5.8,3,5,3.8,4,3.8S2.2,3,2.2,2H0v3v9h14V5V2H12.8z M13,13H1V6h12V13z\"></path> <path d=\"M11,3c0.6,0,1-0.4,1-1V1h-2v1C10,2.6,10.4,3,11,3z\"></path> </symbol><symbol viewBox=\"0 0 21.9 21.9\" width=\"100%\" height=\"100%\" id=\"zc__svg--clear\"> <path d=\"M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0 c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4 s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3 s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7 s-0.1-0.5-0.3-0.7L14.1,11.3z\"></path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--close\"> <rect x=\"1.5\" y=\"7.4\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)\" class=\"st0\" width=\"13\" height=\"1.1\"></rect> <rect x=\"1.5\" y=\"7.4\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)\" class=\"st0\" width=\"13\" height=\"1.1\"></rect> </symbol><symbol viewBox=\"0 0 600 598\" width=\"100%\" height=\"100%\" id=\"zc__svg--zcolorpicker-advancedpicker\"> <path d=\"M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z\"> </path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--zcolorpicker-nocolor\"> <path d=\"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--confirm\"> <g> <path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z\"></path> <g> <path d=\"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z\"></path> <path d=\"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z\"></path> </g> </g> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--decrement\"> <path class=\"cls-1\" d=\"M11.76,13L24,26.521,37.147,13,41,16.9,24,35,7,16.9Z\"></path> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--downarrow\"> <polygon points=\"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11\"></polygon> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--download\"> <path class=\"zpreview__fill\" d=\"M17,16H0v-3h1v2h15v-2h1V16z M12.6,6.6L9,10.3V1H8v9.3L4.4,6.6L3.6,7.4l4.9,4.9l4.9-4.9L12.6,6.6z\"></path> </symbol><symbol viewBox=\"-3 -3 22 22\" width=\"100%\" height=\"100%\" id=\"zc__svg--downscroller\"> <path d=\"M16,4l-8,8L0,4H16z\"></path> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--edit\"> <path class=\"zpreview__fill\" d=\"M13,0L1,12v4h3.8L17,4L13,0z M15.6,4l-2.5,2.4l-2.5-2.6L13,1.4L15.6,4z M4.3,15H2v-2.6l7.8-7.8l2.6,2.6L4.3,15z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--error\"> <path d=\"M41.2,7.2C31.9-2.2,16.7-2.5,7.3,6.9c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.8,41.2,7.2z M37.9,38.2C30,46,17.4,45.9,9.7,38S2.1,17.5,10,9.8S30.5,2.1,38.2,10C45.9,17.9,45.8,30.5,37.9,38.2z\"></path> <path d=\"M31.7,17.5l-1.1-1.1c-0.8-0.8-1.7-0.1-2,0.1L24,21l-4.6-4.7c-0.3-0.3-1.1-0.8-1.9,0l-1.1,1.1c-0.8,0.8-0.1,1.7,0.1,2L21,24l-4.7,4.6c-0.9,0.9-0.3,1.6-0.1,1.8l1.3,1.3c0.2,0.2,0.9,0.8,1.8-0.1L24,27l4.6,4.7c0.9,0.9,1.6,0.3,1.8,0.1l1.3-1.3c0.2-0.2,0.8-0.9-0.1-1.8L27,24l4.7-4.6C32,19.1,32.5,18.4,31.7,17.5z\"></path> </symbol><symbol viewBox=\"0 0 12 12\" id=\"zc__svg--fastbackward\" width=\"100%\" height=\"100%\"><polygon points=\"5.6,10.3 1.9,6.5 5.6,2.6 6.3,3.4 3.3,6.5 6.4,9.6\"></polygon><polygon points=\"9.6,10.3 5.9,6.5 9.6,2.6 10.3,3.4 7.3,6.5 10.4,9.6\"></polygon></symbol><symbol viewBox=\"1 0 12 12\" id=\"zc__svg--fastforward\" width=\"100%\" height=\"100%\"><polygon points=\"7.4,10.3 6.7,9.6 9.7,6.5 6.6,3.4 7.4,2.7 11.1,6.5\"></polygon><polygon points=\"3.4,10.3 2.7,9.6 5.7,6.5 2.6,3.4 3.4,2.7 7.1,6.5\"></polygon></symbol><symbol viewBox=\"0 0 19 10\" id=\"zc__svg--filmstrip\"> <path class=\"zpreview__fill\" d=\"M4,4v5H1V4H4 M5,3H0v7h5V3L5,3z M0,0h19v1H0V0z M18,4v5h-3V4H18 M19,3h-5v7h5V3L19,3z M11,4v5H8V4H11 M12,3H7v7h5V3L12,3z\"> </path> </symbol><symbol viewBox=\"1 0 12 12\" id=\"zc__svg--forward\" width=\"100%\" height=\"100%\"><polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon></symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--fullscreen\"> <path class=\"zpreview__fill\" d=\"M6.9,10.9L2.7,15H5v1H1v-4h1v2.3l4.1-4.1C6.3,10,6.7,10,6.9,10.1S7,10.7,6.9,10.9z M15,12v2.3l-4.1-4.2c-0.2-0.1-0.6-0.1-0.8,0s-0.1,0.6,0,0.8l4.1,4.1H12v1h4v-4H15z M12,1v1h2.3l-4.2,4.1c-0.1,0.2-0.1,0.6,0,0.8C10.2,7,10.4,7,10.5,7s0.3,0,0.4-0.1L15,2.7V5h1V1H12z M6.9,6.1L2.7,2H5V1H1v4h1V2.7l4.1,4.1C6.2,7,6.4,7,6.5,7s0.3,0,0.4-0.1C7,6.7,7,6.3,6.9,6.1z\"> </path></symbol><symbol viewBox=\"0 0 5 10\" width=\"100%\" height=\"100%\" id=\"zc__svg--grippy\"> <rect width=\"2\" height=\"2\"></rect><rect x=\"3\" width=\"2\" height=\"2\"></rect> <rect y=\"4\" width=\"2\" height=\"2\"></rect><rect x=\"3\" y=\"4\" width=\"2\" height=\"2\"></rect> <rect x=\"3\" y=\"8\" width=\"2\" height=\"2\"></rect><rect y=\"8\" width=\"2\" height=\"2\"></rect> </symbol><svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" id=\"zc__svg--grippy-listbox\"> <g id=\"Group_1151\" data-name=\"Group 1151\" transform=\"translate(-485 -283)\"> <g id=\"Rectangle_1152\" data-name=\"Rectangle 1152\" transform=\"translate(485 283)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1153\" data-name=\"Rectangle 1153\" transform=\"translate(489 283)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1155\" data-name=\"Rectangle 1155\" transform=\"translate(485 287)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1156\" data-name=\"Rectangle 1156\" transform=\"translate(489 287)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1157\" data-name=\"Rectangle 1157\" transform=\"translate(485 291)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> <g id=\"Rectangle_1158\" data-name=\"Rectangle 1158\" transform=\"translate(489 291)\" fill=\"#fff\" stroke=\"#a6a6a6\" stroke-width=\"1\"> <rect width=\"2\" height=\"2\" stroke=\"none\"></rect> <rect x=\"0.5\" y=\"0.5\" width=\"1\" height=\"1\" fill=\"none\"></rect> </g> </g> </svg> \t<symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--help\"><g><path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z\"></path><g><path d=\"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z\"></path><path d=\"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z\"></path></g></g></symbol><symbol viewBox=\"1 2 9 9\" width=\"100%\" height=\"100%\" id=\"zc__svg--horizontaldecrement\"> <polygon points=\"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6\"></polygon> </symbol><symbol viewBox=\"1 2 9 9\" width=\"100%\" height=\"100%\" id=\"zc__svg--horizontalincrement\"> <polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--increment\"> <path class=\"cls-1\" d=\"M6,32l5,4L24,22,38,36l4-4L24,13Z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--info\"> <g> <g> <path d=\"M23.9,17.4c1.5,0,2.5-1.1,2.4-2.3c0-1.3-0.9-2.4-2.3-2.4s-2.4,1.1-2.4,2.4C21.6,16.3,22.6,17.4,23.9,17.4z\"></path> <path d=\"M26.2,35.5V21.8c0-1.2-1.4-1.3-1.8-1.3h-0.7c0,0-1.7,0-1.7,1.1v14.3c0,0.3,0.2,0.9,1.3,0.9h1.6C25.3,36.7,26.2,36.5,26.2,35.5z\"></path> </g> <path d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,44C13,44,4,35,4,24S13,4,24,4s20,9,20,20S35,44,24,44z\"></path> </g> </symbol><symbol id=\"zc__svg--lines\" viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\"> <line x1=\"11\" y1=\"1\" x2=\"1\" y2=\"11\"></line> <line x1=\"11\" y1=\"5\" x2=\"5\" y2=\"11\"></line> <line x1=\"11\" y1=\"9\" x2=\"9\" y2=\"11\"></line> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--maximize\"> <g transform=\"translate(0,-1036.3622)\"> <g> <path d=\"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z\"></path> </g> </g> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--minimize\"> <rect x=\"2\" y=\"12\" width=\"12\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 12 10\" width=\"100%\" height=\"100%\" id=\"zc__svg--minus\"> <rect x=\"2\" y=\"5\" width=\"9\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 4 16\" id=\"zc__svg--more\"> <path class=\"zpreview__fill\" d=\"M2,1c0.6,0,1,0.4,1,1S2.6,3,2,3S1,2.6,1,2S1.4,1,2,1 M2,0C0.9,0,0,0.9,0,2s0.9,2,2,2s2-0.9,2-2S3.1,0,2,0L2,0z\"> </path><path class=\"zpreview__fill\" d=\"M2,13c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1S1.4,13,2,13 M2,12c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S3.1,12,2,12L2,12z\"> </path><path class=\"zpreview__fill\" d=\"M2,7c0.6,0,1,0.4,1,1S2.6,9,2,9S1,8.6,1,8S1.4,7,2,7 M2,6C0.9,6,0,6.9,0,8s0.9,2,2,2s2-0.9,2-2S3.1,6,2,6L2,6z\"> </path> </symbol><symbol viewBox=\"0 0 12 20\" id=\"zc__svg--navigationnext\"> <path class=\"zpreview__fill\" d=\"M1.5,19.5c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4L9,10L0.8,2.2c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l9,8.5c0.2,0.2,0.3,0.5,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-9,8.5C2,19.4,1.7,19.5,1.5,19.5z\"> </path> </symbol><symbol viewBox=\"0 0 12 20\" id=\"zc__svg--navigationprevious\"> <path class=\"zpreview__fill\" d=\"M9.8,19.2l-9-8.5c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.2,0.1-0.5,0.3-0.7l9-8.5c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L3,10l8.2,7.8c0.4,0.4,0.4,1,0,1.4c-0.2,0.2-0.4,0.3-0.7,0.3C10.3,19.5,10,19.4,9.8,19.2z\"></path> </symbol><symbol viewBox=\"0 0 25 25\" id=\"zc__svg--notfound\"> <path class=\"zpreview__fill\" d=\"M12.5,1.8c5.9,0,10.7,4.8,10.7,10.7s-4.8,10.7-10.7,10.7S1.8,18.4,1.8,12.5S6.6,1.8,12.5,1.8 M12.5,0C5.6,0,0,5.6,0,12.5S5.6,25,12.5,25S25,19.4,25,12.5S19.4,0,12.5,0L12.5,0z\"> </path><line class=\"zpreview__stroke\" stroke-width=\"2\" x1=\"8\" y1=\"8\" x2=\"17\" y2=\"17\"> </line><line class=\"zpreview__stroke\" stroke-width=\"2\" x1=\"17\" y1=\"8\" x2=\"8\" y2=\"17\"> </line> </symbol><symbol viewBox=\"0 0 12 12\" width=\"100%\" height=\"100%\" id=\"zc__svg--plus\"> <polygon points=\"11,6 7,6 7,2 6,2 6,6 2,6 2,7 6,7 6,11 7,11 7,7 11,7 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--print\"> <path class=\"zpreview__fill\" d=\"M16,3h-3.1L12,0H4L3.1,3H0v9h2.8L2,16h12l-0.8-4H16V3z M4.7,1h6.5l0.6,2H4.1L4.7,1z M3.2,15l1.1-6h7.3l1.1,6 H3.2z M15,11h-1.9l-0.6-3h-9l-0.6,3H1V4h14V11z\"> </path><rect x=\"13\" y=\"5\" class=\"zpreview__fill\" width=\"1\" height=\"1\"> </rect> </symbol><symbol viewBox=\"0 0 16 16\" width=\"100%\" height=\"100%\" id=\"zc__svg--restore\"> <g transform=\"translate(0,-1036.3622)\"> <path d=\"M2,1041.4v8h10v-8H2z M11,1048.4H3v-6h8V1048.4z\"></path> </g> <g transform=\"translate(0,-1036.3622)\"> <path d=\"M4,1039.4v3h1v-2h8v6h-2v1h3v-8H4z\"></path> </g> </symbol><symbol viewBox=\"0 0 5 12\" id=\"zc__svg--rightarrow\"> <polygon points=\"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5\"></polygon> </symbol><symbol viewBox=\"-7 -7 64 64\" width=\"100%\" height=\"100%\" id=\"zc__svg--round\"> <circle cx=\"24.5\" cy=\"24.5\" r=\"15.5\"></circle> </symbol><symbol viewBox=\"0 0 15 15\" width=\"100%\" height=\"100%\" id=\"zc__svg--search\"> <g id=\"Ellipse_50\" data-name=\"Ellipse 50\" fill=\"none\" stroke=\"gray\" stroke-width=\"1.5\"> <circle cx=\"6\" cy=\"6\" r=\"6\" stroke=\"none\"></circle> <circle cx=\"6\" cy=\"6\" r=\"5.25\" fill=\"none\"></circle> </g> <path id=\"Rectangle_270\" data-name=\"Rectangle 270\" d=\"M0,0H5A1,1,0,0,1,6,1V1A1,1,0,0,1,5,2H0A0,0,0,0,1,0,2V0A0,0,0,0,1,0,0Z\" transform=\"translate(10.757 9.343) rotate(45)\" fill=\"gray\"></path> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--share\"> <path class=\"zpreview__fill\" d=\"M13.5,0.8c0.9,0,1.7,0.8,1.7,1.7s-0.8,1.7-1.7,1.7s-1.7-0.8-1.7-1.7S12.6,0.8,13.5,0.8 M13.5,0C12.1,0,11,1.1,11,2.5S12.1,5,13.5,5S16,3.9,16,2.5S14.9,0,13.5,0L13.5,0z\"> </path> <path class=\"zpreview__fill\" d=\"M2.5,6.3c0.9,0,1.7,0.8,1.7,1.7S3.4,9.7,2.5,9.7S0.8,8.9,0.8,8S1.6,6.3,2.5,6.3 M2.5,5.5C1.1,5.5,0,6.6,0,8s1.1,2.5,2.5,2.5S5,9.4,5,8S3.9,5.5,2.5,5.5L2.5,5.5z\"> </path> <path class=\"zpreview__fill\" d=\"M13.5,11.8c0.9,0,1.7,0.8,1.7,1.7s-0.8,1.7-1.7,1.7s-1.7-0.8-1.7-1.7S12.6,11.8,13.5,11.8 M13.5,11c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S14.9,11,13.5,11L13.5,11z\"> </path> <rect x=\"7.5\" y=\"7\" transform=\"matrix(0.4472 -0.8944 0.8944 0.4472 -5.2373 13.1252)\" class=\"zpreview__fill\" width=\"1\" height=\"7.6\"></rect> <rect x=\"4.2\" y=\"4.8\" transform=\"matrix(0.8944 -0.4472 0.4472 0.8944 -1.5256 4.1374)\" class=\"zpreview__fill\" width=\"7.6\" height=\"1\"></rect> </symbol><symbol viewBox=\"0 0 18 17\" id=\"zc__svg--slideshow\"> <path class=\"zpreview__fill\" d=\"M19,2V1h-9V0H9v1H0v1h1v11H0v1h9v0.7l-4,3.7L5.6,19L9,15.8V18h1v-2.2l3.4,3.2l0.5-0.6l-4-3.7V14h9v-1h-1V2H19zM17,13H2V2h15V13z M8,5v5l4.5-2.5L8,5z\"></path> </symbol><symbol viewBox=\"0 0 9 16\" id=\"zc__svg--slideshow__next\"> <polyline class=\"zpreview__fill\" points=\"1,1 8,8 1,15\"></polyline> </symbol><symbol viewBox=\"0 0 10 14\" width=\"100%\" height=\"100%\" id=\"zc__svg--slideshow__pause\"> <path class=\"zpreview__fill\" d=\"M3,1v12H1V1H3 M3,0H1C0.4,0,0,0.4,0,1v12c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V1C4,0.4,3.6,0,3,0L3,0z\"> </path><path class=\"zpreview__fill\" d=\"M9,1v12H7V1H9 M9,0H7C6.4,0,6,0.4,6,1v12c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V1C10,0.4,9.6,0,9,0L9,0z\"> </path> </symbol><symbol viewBox=\"0 0 12 14\" id=\"zc__svg--slideshow__play\"> <path fill=\"white\" d=\"M1,1.2L11,7L1,12.8L1,1.2 M1,0.2c-0.5,0-1,0.4-1,1v11.5c0,0.6,0.5,1,1,1c0.2,0,0.3,0,0.5-0.1l10-5.8c0.7-0.4,0.7-1.3,0-1.7l-10-5.8C1.3,0.3,1.2,0.2,1,0.2L1,0.2z\"> </path> </symbol><symbol viewBox=\"0 0 9 16\" id=\"zc__svg--slideshow__previous\"> <polyline class=\"zpreview__fill\" points=\"8,1 1,8 8,15\"></polyline> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--success\"> <g> <path d=\"M41.2,7.2C31.9-2.3,16.7-2.5,7.3,6.8c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.7,41.2,7.2z M37.9,38.2c-7.9,7.7-20.5,7.6-28.2-0.3S2.1,17.4,10,9.7S30.5,2.1,38.2,10C45.9,17.8,45.8,30.5,37.9,38.2z\"></path> <path d=\"M36,19.3L23.1,32.2c-1.1,1.1-2.9,1.1-4,0l-1-1l-4.5-4.6c-0.2-0.2-1-1.1-0.1-2l1.1-1.1c0.8-0.8,1.6-0.3,1.9,0l4.6,4.7l12-11.8c0.2-0.2,1.1-1,2-0.1l1.1,1.1C36.8,18.2,36.3,18.9,36,19.3z\"></path> </g> </symbol><symbol viewBox=\"-2 -2 20 20\" width=\"100%\" height=\"100%\" id=\"zc__svg--tick\"> <polygon points=\"14.6,2.4 4.9,12.1 1.2,8.5 0.4,9.3 4.9,13.8 15.4,3.2 \"></polygon> </symbol><symbol viewBox=\"0 0 16 16\" id=\"zc__svg--time\" width=\"100%\" height=\"100%\"> <path d=\"M8,0.6C3.9,0.6,0.6,3.9,0.6,8s3.3,7.4,7.4,7.4s7.4-3.3,7.4-7.4S12.1,0.6,8,0.6z M8,13.9c-3.3,0-5.9-2.6-5.9-5.9c0-3.3,2.6-5.9,5.9-5.9c3.3,0,5.9,2.6,5.9,5.9C13.9,11.3,11.3,13.9,8,13.9z\"> </path> <polygon points=\"8.5,7.5 8.5,4.5 6.5,4.5 6.5,9.5 11.5,9.5 11.5,7.5\"> </polygon> </symbol><symbol viewBox=\"0 0 25 25\" id=\"zc__svg--unableload\"> <path class=\"zpreview__fill\" d=\"M12.5,2c0.7,0,1.5,0.4,1.8,1.1l8.5,15c0.7,1.3-0.3,3-1.8,3H4.1c-1.6,0-2.6-1.7-1.8-3l8.4-15C11.1,2.3,11.8,2,12.5,2 M12.5,0.1c-1.4,0-2.7,0.7-3.4,2l-8.4,15c-0.7,1.2-0.7,2.6,0,3.9c0.7,1.2,2,2,3.5,2h16.8c1.4,0,2.7-0.7,3.4-1.9c0.7-1.2,0.7-2.6,0.1-3.8l-8.5-15C15.3,0.9,13.9,0.1,12.5,0.1L12.5,0.1z\"> </path><path class=\"zpreview__fill\" d=\"M13,14h-1l-0.8-6.5C11.1,6.7,11.7,6,12.5,6h0c0.8,0,1.4,0.7,1.3,1.5L13,14z\"> </path><circle class=\"zpreview__fill\" cx=\"12.5\" cy=\"17.5\" r=\"1.5\"> </circle> </symbol><symbol viewBox=\"0 0 17 16\" id=\"zc__svg--upload\"> <path class=\"zpreview__fill\" d=\"M13.8,4.1C13.2,1.7,11.1,0,8.5,0S3.8,1.7,3.2,4.1C1.4,4.5,0,6.1,0,8c0,1.2,0.5,2.3,1.4,3C2.1,11.6,3,12,4,12h4v4h1v-4h4c1,0,1.9-0.4,2.6-1c0.8-0.7,1.4-1.8,1.4-3C17,6.1,15.6,4.5,13.8,4.1z M13,11h-2.6H9V5.7l2.6,2.7l0.8-0.8L8.5,3.8L4.6,7.6l0.8,0.8L8,5.7V11H6.6H4c-1.7,0-3-1.4-3-3c0-1.3,0.8-2.4,2-2.8C3.3,5.1,3.7,5,4,5c0-0.3,0.1-0.7,0.2-1c0.6-1.8,2.3-3,4.2-3c1.9,0,3.6,1.3,4.2,3c0.1,0.3,0.2,0.6,0.2,1c0.3,0,0.7,0.1,1,0.2c1.2,0.4,2,1.5,2,2.8C16,9.6,14.7,11,13,11z\"> </path> </symbol><symbol viewBox=\"-3 -3 22 22\" width=\"100%\" height=\"100%\" id=\"zc__svg--upscroller\"> <path d=\"M0,12l8-8l8,8H0z\"></path> </symbol><symbol viewBox=\"0 0 48 48\" width=\"100%\" height=\"100%\" id=\"zc__svg--warning\"> <g> <path d=\"M47.3,36.6L27.7,2.5c-0.9-1.4-2.4-2.2-3.9-2.1c-1.6,0-2.9,0.9-3.7,2.2L0.7,36.5c-0.9,1.3-1,3-0.2,4.4c0.8,1.5,2.3,2.4,4,2.4h39c1.6,0,3.1-0.8,3.9-2.2C48.2,39.7,48.2,38,47.3,36.6z M43.9,39.2c-0.1,0.1-0.2,0.2-0.4,0.2h-39c-0.3,0-0.4-0.2-0.5-0.3c-0.1-0.2,0-0.3,0-0.4L23.5,4.6c0,0,0.1-0.2,0.3-0.2c0,0,0,0,0,0c0.1,0,0.3,0,0.4,0.2l19.6,34C44,38.8,44,39,43.9,39.2z\"></path> </g> <path d=\"M24.1,28.4L24.1,28.4c-0.8,0-1.3-0.4-1.4-1l-1-10c-0.1-1.1,1-2,2.4-2l0,0c1.4,0,2.5,0.9,2.4,2l-1,10C25.4,27.9,24.9,28.4,24.1,28.4z\"></path> <circle cx=\"24\" cy=\"33.4\" r=\"2\"></circle> </symbol></svg>";for(var a=t.childNodes[0].childNodes;a[0];)e.appendChild(a[0])}document.body.appendChild(e)},"complete"===document.readyState?e.loadSVGIcons():document.addEventListener("DOMContentLoaded",e.loadSVGIcons)}(ZComponents),function(e){let t=e.Templates.Utilities;t.icon=e=>ZT.html`<i class="${e.iconClassName}"> ${ZT.customHTML(e.SVGIconId?`<svg class='${e.SVGIconClassName}' focusable=false > <use xlink:href='${e.SVGIconId}'></use></svg> </svg>`:"")} </i>`,t.commandBar=e=>ZT.html`<div class="zdatetimepicker__commandbar ${e.colClass?e.colClass:""}"> ${e.cols&&e.cols.length?e.cols.map(e=>ZT.html`<div class="zdatetimepicker__column"> ${t.commandBarCol(e)} </div>`):t.commandBarCol(e)} </div>`,t.commandBarCol=e=>ZT.html`${e.left&&e.left.length?ZT.html`<div class=${e.leftClass||"zdatetimepicker__commandbaractionsleft"}>${e.left.map(e=>t.button(e))}</div>`:""} ${e.center&&e.center.length?ZT.html`<div class=${e.centerClass||"zdatetimepicker__commandbaractionscenter"}> ${e.center.map(e=>t.button(e))}</div>`:""} ${e.right&&e.right.length?ZT.html`<div class=${e.rightClass||"zdatetimepicker__commandbaractionsright"}>${e.right.map(e=>t.button(e))}</div>`:""}`,t.button=t=>ZT.html`${t.isLink?ZT.html`<a ?class=${t.className} tabindex=${t.tabindex} aria-label=${t.text}>${t.text}</a>`:t.initBtnComp?e.createButton(t):e.zbutton.Templates.container(t)}`}(ZComponents),ZComponents.currencyInformation={AFN:{name:"Afghan afghani",symbol:"\u060B"},ALL:{name:"Albanian lek",symbol:"Lek"},DZD:{name:"Algerian dinar",symbol:"/\u062C\x06"},EUR:{name:"Euro",symbol:"\u20AC"},AOA:{name:"Angolan kwanza",symbol:"Kz"},XCD:{name:"Eastern Caribbean dollar",symbol:"$"},ARS:{name:"Argentine peso",symbol:"$"},AMD:{name:"Armenian dram",symbol:"\u058F"},AWG:{name:"Aruban florin",symbol:"\u0192"},AUD:{name:"Australian dollar",symbol:"$"},AZN:{name:"Azerbaijani manat",symbol:"\u20BC"},BSD:{name:"Bahamian dollar",symbol:"$"},BHD:{name:"Bahraini dinar",symbol:"BD"},BDT:{name:"Bangladeshi taka",symbol:"\u09F3"},BBD:{name:"Barbadian dollar",symbol:"$"},BYR:{name:"Belarusian ruble",symbol:"p."},BZD:{name:"Belize dollar",symbol:"BZ$"},XOF:{name:"West African CFA franc",symbol:"CFA",alternateSymbol:"\u062F.\u0644"},BTN:{name:"Bhutanese ngultrum",symbol:"Nu."},BOB:{name:"Bolivian boliviano",symbol:"$b"},BAM:{name:"Bosnia and Herzegovina convertible mark",symbol:"KM"},BMD:{name:"Bermudian dollar",symbol:"$"},BWP:{name:"Botswana pula",symbol:"P"},BRL:{name:"Brazilian real",symbol:"R$"},BND:{name:"Brunei dollar",symbol:"$"},BGN:{name:"Bulgarian lev",symbol:"\u043B\u0432"},MMK:{name:"Burmese kyat",symbol:"K"},BIF:{name:"Burundian franc",symbol:"FBu"},KHR:{name:"Cambodian riel",symbol:"\u17DB"},XAF:{name:"Central African CFA franc",symbol:"CFA"},XPF:{name:"CFP Franc",symbol:"CFA"},CAD:{name:"Canadian dollar",symbol:"$"},CVE:{name:"Cape Verdean escudo",symbol:"Esc"},CLP:{name:"Chilean peso",symbol:"$"},COP:{name:"Colombian peso",symbol:"$"},KMF:{name:"Comorian franc",symbol:"CF"},CDF:{name:"Congolese franc",symbol:"FC"},CRC:{name:"Costa Rican col\xF3n",symbol:"\u20A1"},HRK:{name:"Croatian kuna",symbol:"kn"},CUP:{name:"Cuban peso",symbol:"\u20B1"},ANG:{name:"Netherlands Antillean guilder",symbol:"\u0192"},CZK:{name:"Czech koruna",symbol:"K\u010D"},DKK:{name:"Danish krone",symbol:"kr"},DJF:{name:"Djiboutian franc",symbol:"Fdj"},DOP:{name:"Dominican peso",symbol:"RD$"},USD:{name:"United States Dollar",symbol:"$"},EGP:{name:"Egyptian pound",symbol:"\xA3"},ERN:{name:"Eritrean nakfa",symbol:"N\u0192a"},ETB:{name:"Ethiopian birr",symbol:"Br"},FJD:{name:"Fijian dollar",symbol:"$"},GMD:{name:"Gambian dalasi",symbol:"D"},GEL:{name:"Georgian lari",symbol:"\u20BE"},GHS:{name:"Ghanaian cedi",symbol:"\u20B5"},GTQ:{name:"Guatemalan quetzal",symbol:"Q"},GNF:{name:"Guinean franc",symbol:"FG"},GYD:{name:"Guyanaese Dollar",symbol:"$"},HTG:{name:"Haitian gourde",symbol:"G"},HNL:{name:"Honduran lempira",symbol:"L"},HKD:{name:"Hong Kong Dollar",symbol:"$"},HUF:{name:"Hungarian forint",symbol:"Ft"},ISK:{name:"Icelandic kr\xF3na",symbol:"kr"},INR:{name:"Indian rupee",symbol:"\u20B9"},IDR:{name:"Indonesian Rupiah",symbol:"Rp"},IRR:{name:"Iranian rial",symbol:"\uFDFC"},IQD:{name:"Iraqi dinar",symbol:"\u0639.\u062F"},ILS:{name:"Israeli New Shekel",symbol:"\u20AA"},JMD:{name:"Jamaican dollar",symbol:"J$"},JPY:{name:"Japanese yen",symbol:"\xA5"},JOD:{name:"Jordanian dinar",symbol:"JOD"},KZT:{name:"Kazakhstani tenge",symbol:"\u043B\u0432"},KES:{name:"Kenyan shilling",symbol:"KSh"},KPW:{name:"North Korean won",symbol:"\u20A9"},KRW:{name:"South Korean Won",symbol:"\u20A9"},KWD:{name:"Kuwaiti dinar",symbol:"\u062F.\u0643"},KGS:{name:"Kyrgyzstani som",symbol:"\u043B\u0432"},LAK:{name:"Lao kip",symbol:"\u20AD"},LBP:{name:"Lebanese pound",symbol:"\xA3"},LSL:{name:"Lesotho loti",symbol:"L"},LRD:{name:"Liberian dollar",symbol:"$"},LYD:{name:"Libyan dinar",symbol:"\u062F.\u0644"},CHF:{name:"Swiss franc",symbol:"Fr",alternateSymbol:"CHF"},MOP:{name:"Macanese pataca",symbol:"P"},MKD:{name:"Macedonian denar",symbol:"\u0434\u0435\u043D"},MGA:{name:"Malagasy ariary",symbol:"Ar"},MWK:{name:"Malawian kwacha",symbol:"MK"},MYR:{name:"Malaysian ringgit",symbol:"RM"},MVR:{name:"Maldivian rufiyaa",symbol:"Rf"},MRO:{name:"Mauritanian ouguiya",symbol:"UM"},MUR:{name:"Mauritian rupee",symbol:"\u20A8"},MXN:{name:"Mexican peso",symbol:"$"},MDL:{name:"Moldovan leu",symbol:"L"},MNT:{name:"Mongolian t\xF6gr\xF6g",symbol:"\u20AE"},MAD:{name:"Moroccan dirham",symbol:"MAD"},MZN:{name:"Mozambican metical",symbol:"MT"},NAD:{name:"Namibian dollar",symbol:"$"},NPR:{name:"Nepalese rupee",symbol:"\u20A8"},NZD:{name:"New Zealand dollar",symbol:"$"},NIO:{name:"Nicaraguan c\xF3rdoba",symbol:"C$"},NGN:{name:"Nigerian naira",symbol:"\u20A6"},NOK:{name:"Norwegian krone",symbol:"kr"},OMR:{name:"Omani rial",symbol:"\uFDFC"},PKR:{name:"Pakistani Rupee",symbol:"\u20A8"},PAB:{name:"Panamanian balboa",symbol:"B/."},PGK:{name:"Papua New Guinean kina",symbol:"K"},PYG:{name:"Paraguayan guaran\xED",symbol:"Gs"},PEN:{name:"Sol",symbol:"S/."},PHP:{name:"Philippine peso",symbol:"\u20B1"},PLN:{name:"Polish z\u0142oty",symbol:"z\u0142"},QAR:{name:"Qatari Rial",symbol:"\uFDFC"},RON:{name:"Romanian leu",symbol:"lei"},RUB:{name:"Russian ruble",symbol:"\u20BD"},RWF:{name:"Rwandan franc",symbol:"RF"},WST:{name:"Samoan t\u0101l\u0101",symbol:"T"},STD:{name:"S\xE3o Tom\xE9 and Pr\xEDncipe dobra",symbol:"Db"},SVC:{name:"Salvadoran col\xF3n",symbol:"\u20A1"},SAR:{name:"Saudi riyal",symbol:"\uFDFC"},SCR:{name:"Seychellois rupee",symbol:"\u20A8"},SLL:{name:"Sierra Leonean leone",symbol:"Le"},SGD:{name:"Singapore dollar",symbol:"$"},SBD:{name:"Solomon Islands dollar",symbol:"$"},SOS:{name:"Somali shilling",symbol:"S"},ZAR:{name:"South African Rand",symbol:"R"},SSP:{name:"South Sudanese pound",symbol:"SSP",alternateSymbol:"\xA3"},LKR:{name:"Sri Lankan rupee",symbol:"\u20A8"},SDG:{name:"Sudanese pound",symbol:"\xA3Sd"},SRD:{name:"Surinamese dollar",symbol:"$"},SZL:{name:"Swazi lilangeni",symbol:"L"},SEK:{name:"Swedish krona",symbol:"kr"},SYP:{name:"Syrian pound",symbol:"\xA3"},TWD:{name:"New Taiwan dollar",symbol:"NT$"},TJS:{name:"Tajikistani somoni",code:"TJS",symbol:"SM"},TZS:{name:"Tanzanian shilling",symbol:"TSh"},THB:{name:"Thai baht",symbol:"\u0E3F"},TOP:{name:"Tongan pa\u02BBanga",symbol:"T$"},TTD:{name:"Trinidad and Tobago dollar",symbol:"TT$"},TND:{name:"Tunisian dinar",symbol:"\u062F.\u062A"},TRY:{name:"Turkish lira",symbol:"\u20BA"},TMT:{name:"Turkmenistani Manat",symbol:"m"},TVD:{name:"Tuvaluan dollar",symbol:"$"},UGX:{name:"Ugandan shilling",symbol:"USh"},UAH:{name:"Ukrainian hryvnia",symbol:"\u20B4"},AED:{name:"United Arab Emirates dirham",symbol:"\u062F.\u0625"},GBP:{name:"Pound sterling",symbol:"\xA3"},UYU:{name:"Uruguayan peso",symbol:"$U"},UZS:{name:"Uzbekistani so\u02BBm",symbol:"\u043B\u0432"},VUV:{name:"Vanuatu vatu",symbol:"VT"},VEF:{name:"Venezuelan bol\xEDvar",symbol:"Bs"},VND:{name:"Vietnamese dong",symbol:"\u20AB"},YER:{name:"Yemeni rial",symbol:"\uFDFC"},ZMW:{name:"Zambian kwacha",symbol:"ZK"},ZWD:{name:"Zimbabwean Dollar",symbol:"Z$"}},ZComponents.Position=function(e){function t(){}var a=e.DOMUtil,o=e.$window;e.getScrollWidth=function(){if(!e.scrollBarWidth){var t=document.createElement("div");t.setAttribute("style","width:100px;height:100px;overflow:scroll;");var a=document.querySelector("body");a.appendChild(t),e.scrollBarWidth=t.offsetWidth-t.scrollWidth,a.removeChild(t)}return e.scrollBarWidth},t.resetWinDim=function(){t.winDim=void 0},t.setWinDim=function(){t.winDim={scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),height:document.documentElement.clientHeight,width:document.documentElement.clientWidth,docWidth:document.documentElement.scrollWidth,docHeight:document.documentElement.scrollHeight}},t.getWinDim=function(){return t.winDim||t.setWinDim(),t.winDim},t.DEFAULTS={direction:"bottom-left",resetPosition:!0,showWithinTarget:!1,within:o,computeElementDim:!0,computeTargetDim:!0,computeWithinDim:!0,arrow:{minSpace:0,margin:{left:0,top:0},callback:void 0},callbacks:{beforeComputingDir:{dimensionModifier:a.noop,directionModifier:a.noop},beforeComputingPos:{dimensionModifier:a.noop,directionModifier:a.noop}},withinPadding:8,customDimensions:!1,positionAlterable:"flipallfit"},t.calloutPositions={"top-right":"bottom-right","top-left":"bottom-left","bottom-right":"top-right","bottom-left":"top-left",top:"bottom",bottom:"top",left:"right",right:"left","left-top":"right-bottom","left-bottom":"right-top","right-top":"left-bottom","right-bottom":"left-top"},t.regex={relDirections:/^(top|top-right|top-left|bottom|bottom-right|bottom-left|left|left-top|left-bottom|right|right-top|right-bottom|top-left-corner|top-right-corner|bottom-left-corner|bottom-right-corner)$/,withinDirections:/^(top|bottom|left|right|top-left|top-right|bottom-left|bottom-right|center)$/,fit:/^(fit|flipfit|flipallfit|flipsidefit|flipsideallfit|true)$/,flip:/^(flip|flipfit|flipall|flipallfit|flipside|flipsidefit|flipsideall|flipsideallfit|true)$/,flipside:/^(flipside|flipsidefit|flipsideall|flipsideallfit|flipsideonlyfit|true)$/,flipall:/^(flipall|flipallfit|flipsideall|flipsideallfit|true)$/},t.prototype={_getCorrectionOffset:function(e){if(!this.correctionOffset&&(this.correctionOffset={left:0,top:0},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))){var t=a("body"),o=a("<span>").css({position:"absolute",height:"20px",width:"20px",top:"0px",left:"0px"}).appendTo(t);this.correctionOffset=this._calcOffset(o,e),this.correctionOffset.left=this.correctionOffset.left-parseFloat(t.css("margin-left"))-parseFloat(t.css("border-left-width")),this.correctionOffset.top=this.correctionOffset.top-parseFloat(t.css("margin-top"))-parseFloat(t.css("border-top-width")),o.remove()}return this.correctionOffset},_getDimensions:function(e){if(e.preventDefault)return{width:0,height:0,isEvent:!0,offset:{left:e.pageX,top:e.pageY}};if(e=a(e),9===e[0].nodeType)return{width:e.width(),height:e.height(),offset:{left:0,top:0}};if(e[0]===window)return{width:e.width(),height:e.height(),offset:{left:e.scrollLeft(),top:e.scrollTop()}};var t={width:this._getDimension(e[0],"outerWidth"),height:this._getDimension(e[0],"outerHeight"),offset:this._getOffset(e)};return t},_getOffset:function(t){var a=e.Browser.isSafari&&t[0]instanceof SVGElement,o=this._calcOffset(t,a),n=this._getCorrectionOffset(a);return o.left-=n.left,o.top-=n.top,o},_calcOffset:function(e,t){if(t){var a=e[0].getBoundingClientRect();return{top:a.top+window.pageYOffset,left:a.left+window.pageXOffset}}return e.offset()},_fixDirection:function(e){var a=e.split("-"),o,n,i,r;return(/^(top|bottom)$/.test(a[0])||/^corner$/.test(a[2]))&&(this.callout&&this.callout.callback.call(this,this.callout.element,t.calloutPositions[a[0]]),o=this.floatingElemDim.width+(this.callout?this.callout.width?this.callout.width:this.callout.element.outerWidth():0),n=this.floatingElemDim.height+(this.callout?this.callout.height?this.callout.height:this.callout.element.outerHeight():0),i=this._flip.top.call(this,e,n),e=i.direction,0<i.overTop&&t.regex.flipall.test(this.options.positionAlterable)&&(r=this._flip.left.call(this,"right",o),0>=r.overLeft&&(e=r.direction))),a=e.split("-"),(/^(left|right)$/.test(a[0])||/^corner$/.test(a[2]))&&(this.callout&&this.callout.callback.call(this,this.callout.element,t.calloutPositions[a[0]]),o=this.floatingElemDim.width+(this.callout?this.callout.width?this.callout.width:this.callout.element.outerWidth():0),n=this.floatingElemDim.height+(this.callout?this.callout.height?this.callout.height:this.callout.element.outerHeight():0),i=this._flip.left.call(this,e,o),e=i.direction,0<i.overLeft&&t.regex.flipall.test(this.options.positionAlterable)&&(r=this._flip.top.call(this,"bottom",n),e=r.direction)),e},_fixAlternateDirection:function(e){var t=e.split("-"),a=0,o=0,n,i;return this.targetDim.isEvent&&this.callout&&(a=2*this.callout.width+this.callout.width/2,o=2*this.callout.height+this.callout.height/2),/^(left|right)$/.test(t[1])?(i="left"===t[1]?"right":"left",n=this._flip.left.call(this,i,this.floatingElemDim.width-("corner"===t[0]?0:this.targetDim.width)-o),e=e.replace(t[1],"left"===n.direction?"right":"left")):/^(top|bottom)$/.test(t[1])&&(n=this._flip.top.call(this,t[1],this.floatingElemDim.height-this.targetDim.height-a),e=e.replace(t[1],n.direction)),e},_initCallout:function(e){if(this.options.arrow&&this.options.arrow.element){var o={},n=this.options.arrow.element;if(("string"==typeof n||n instanceof a||n.nodeType)&&(n=a(n),n.length&&(o.element=n)),o.element&&"static"!==o.element.css("position"))return o.centeredToTarget=/^(center|undefined)$/.test(this.options.arrow.direction)&&!this.targetDim.isEvent,o.callback="function"==typeof this.options.arrow.callback?this.options.arrow.callback:"function"==typeof this.options.arrowCallback?this.options.arrowCallback:a.noop,o.direction=t.calloutPositions[e],o.callback.call(this,o.element,o.direction.split("-")[0]),o.height="number"==typeof this.options.arrow.height?this.options.arrow.height:0,o.width="number"==typeof this.options.arrow.height?this.options.arrow.width:0,o.minSpace=this.options.arrow.minSpace,o.margin=this.options.arrow.margin||{left:0,top:0},o;this.options.arrow=void 0}},_getElementHeight:function(){var e=this.options.direction;return this.floatingElemDim.height>this._getAvailableHeight(e)?this._getAvailableHeight(e):this.floatingElemDim.height},_getElementWidth:function(){var e=this.options.direction;return this.floatingElemDim.width>this._getAvailableWidth(e)?this._getAvailableWidth(e):this.floatingElemDim.width},_fitCalloutPosition:function(e,t){var a=e.direction.split("-"),o=a[1],n=0,i=this._getElementWidth(),r=this._getElementHeight(),s;/^(left|right)$/.test(a[1])?s=i-e.width:/^(top|bottom)$/.test(a[1])?s=r-e.height:/^(top|bottom)$/.test(a[0])?(s=i-e.width,o="left"):/^(left|right)$/.test(a[0])&&(s=r-e.height,o="top"),t[o]>s&&(t[o]=s),t[o]<n&&(t[o]=n)},_getCalloutPosition:function(e,t){var a={},o=e.direction.split("-"),n;/^(top|bottom)$/.test(o[0])?(a[o[0]]=-e.height,!o[1]&&(a.left=this.floatingElemDim.width/2-e.width/2-t.left)):/^(left|right)$/.test(o[0])&&(a[o[0]]=-e.width,!o[1]&&(a.top=this.floatingElemDim.height/2-e.height/2-t.top)),/^(left|right)$/.test(o[1])?(n=t.left,"left"===o[1]?(n=-n,a.right="auto"):a.left="auto",this.targetDim.width&&this.floatingElemDim.width>this.targetDim.width?a[o[1]]=this.targetDim.width/2-e.width/2+n:a.left=this.floatingElemDim.width/2-e.width/2):/^(top|bottom)$/.test(o[1])&&(n=t.top,"top"===o[1]?(n=-n,a.bottom="auto"):a.top="auto",this.targetDim.height&&this.floatingElemDim.height>this.targetDim.height?a[o[1]]=this.targetDim.height/2-e.height/2+n:a.top=this.floatingElemDim.height/2-e.height/2);var i="none"!==this.floatingElement.css("box-shadow");return"top"===o[0]?a.top+=parseFloat(this.floatingElement.css("border-top-width"))||i?1:0:"bottom"===o[0]?a.bottom+=parseFloat(this.floatingElement.css("border-bottom-width"))||i?1:0:"right"===o[0]?a.right+=parseFloat(this.floatingElement.css("border-right-width"))||i?1:0:"left"===o[0]&&(a.left+=parseFloat(this.floatingElement.css("border-left-width"))||i?1:0),/^(bottom|top)/.test(e.direction)?a.top=a.bottom="":a.left=a.right="",a},_flip:{top:function(e,t){var a=e.split("-")[0],o={direction:e},n=this._getAvailableHeight(e);if(o.overTop=t-n,0<o.overTop){var i="top"===a?"bottom":"top",r=this._getAvailableHeight(e.replace(a,i));r>n&&(o.direction=e.replace(a,i),o.overTop=t-r)}return o},left:function(e,t){var a=e.split("-"),o={direction:e},n=this._getAvailableWidth(e),i,r;if(o.overLeft=t-n,0<o.overLeft){i=a[0],"corner"===a[2]&&(i=a[1]),r="left"===i?"right":"left";var s=this._getAvailableWidth(e.replace(i,r));s>n&&(o.direction=e.replace(i,r),o.overLeft=t-s)}return o}},_fitPosition:function(e,t){var o=a.extend({},e),n=t.split("-");if(n[1]=void 0===n[1]?/^(top|bottom)$/.test(n[0])?"left":"top":n[1],/^(top|bottom)$/.test(n[1])||this.targetDim.isEvent){var i=this.within.scrollTop-o.top;0<i&&(o.top+=i);var r=o.top+this.floatingElemDim.height-(this.within.scrollTop+this._getAvailableHeight().complete);0<r&&(o.top-=r)}if(/^(left|right)$/.test(n[1])||this.targetDim.isEvent){var s=this.within.scrollLeft-o.left;0<s&&(o.left+=s);var l=o.left+this.floatingElemDim.width-(this.within.scrollLeft+this._getAvailableWidth().complete)+1;0<l&&(o.left-=l)}return o},_calculatePosition:function(e){var o,n,i;if(e&&(i=!0,this.options.direction=e),this.options.callbacks.beforeComputingDir.dimensionModifier(this.targetDim,this.floatingElemDim,this.within,this.options),/corner/.test(this.options.direction)||(this.callout=this._initCallout(this.options.direction)),t.regex.flip.test(this.options.positionAlterable)&&!i&&(this.options.direction=this._fixDirection(this.options.direction)),this.callout&&(this.callout.direction=t.calloutPositions[this.options.direction],this.callout.callback.call(this,this.callout.element,this.callout.direction.split("-")[0]),!this.callout.height&&(this.callout.height=this.callout.element.outerHeight()),!this.callout.width&&(this.callout.width=this.callout.element.outerWidth())),t.regex.flipside.test(this.options.positionAlterable)&&(this.options.direction=this._fixAlternateDirection(this.options.direction)),this.options.callbacks.beforeComputingPos.dimensionModifier(this.targetDim,this.floatingElemDim,this.within,this.options),n=this._fixPosition(this.options.direction),o=a.extend({},n),t.regex.fit.test(this.options.positionAlterable)&&(o=this._fitPosition(n,this.options.direction)),o.top<this.within.scrollTop&&(o.top=this.within.scrollTop),o.left<this.within.scrollLeft&&(o.left=this.within.scrollLeft),this.callout&&t.regex.flipall.test(this.options.positionAlterable)&&!i&&!this.targetDim.isEvent&&void 0!==this.callout.minSpace){var r=this.options.direction.split("-"),s=this._getElementWidth(),l=this._getElementHeight(),d,c,m,_,u;if(d=this.targetDim.offset.left-s+this.callout.width,c=this.targetDim.offset.top-l+this.callout.height,m=this.targetDim.offset.left+this.targetDim.width-this.callout.width,_=this.targetDim.offset.top+this.targetDim.height-this.callout.height,/^(top|bottom)$/.test(r[0])?(o.left<d&&(u="left"),o.left>m&&(u="right")):/^(left|right)$/.test(r[0])&&(o.top<c&&(u="top"),o.top>_&&(u="bottom")),u)return this._calculatePosition(u)}var p={left:o.left-this.finalCorrectionOffset.left,top:o.top-this.finalCorrectionOffset.top};if(this.callout){this.callout.direction=t.calloutPositions[this.options.direction];var h={left:o.left-n.left,top:o.top-n.top};this.callout.position=this._getCalloutPosition(this.callout,h),this._fitCalloutPosition(this.callout,this.callout.position)}return p},_getAvailableHeight:function(e){if(!this.availableHeight)if(this.within.isWindow||this.within.isDocument)this.availableHeight={top:this.targetDim.offset.top-this.within.scrollTop,bottom:this.within.height-(this.targetDim.offset.top+this.targetDim.height-this.within.scrollTop),complete:this.within.height};else{this.availableHeight={},this.availableHeight.top=this.within.offset.top<this.win.scrollTop?this.targetDim.offset.top-this.win.scrollTop:this.targetDim.offset.top-this.within.scrollTop,this.availableHeight.bottom=this.within.offset.top+this.within.height-(this.targetDim.offset.top+this.targetDim.height);var t=this.win.height+this.win.scrollTop-(this.within.offset.top+this.within.height);0>t&&(this.availableHeight.bottom+=t),this.availableHeight.complete=this.availableHeight.top+this.availableHeight.bottom+this.targetDim.height}return e?(e=e.split("-")[0],"top"===e)?this.availableHeight.top:"bottom"===e?this.availableHeight.bottom:this.availableHeight.complete:this.availableHeight},_getAvailableWidth:function(e){if(!this.availableWidth)if(this.within.isWindow||this.within.isDocument)this.availableWidth={left:this.targetDim.offset.left-this.within.scrollLeft,right:this.within.width-(this.targetDim.offset.left+this.targetDim.width-this.within.scrollLeft),complete:this.within.width};else{this.availableWidth={},this.availableWidth.left=this.within.offset.left<this.win.scrollLeft?this.targetDim.offset.left-this.win.scrollLeft:this.targetDim.offset.left-this.within.scrollLeft,this.availableWidth.right=this.within.offset.left+this.within.width-(this.targetDim.offset.left+this.targetDim.width);var t=this.win.width+this.win.scrollLeft-(this.within.offset.left+this.within.width);0>t&&(this.availableWidth.right+=t),this.availableWidth.complete=this.availableWidth.left+this.availableWidth.right+this.targetDim.width}if(!e)return this.availableWidth;var a=e.split("-"),o="corner"===a[2]?a[1]:a[0];return"left"===o?this.availableWidth.left:"right"===o?this.availableWidth.right:this.availableWidth.complete},_fixPosition:function(e){var t=e.split("-"),o=a.extend({},this.targetDim.offset);return"top"===t[0]?o.top-=this.floatingElemDim.height+(this.callout?this.callout.height:0):"bottom"===t[0]?o.top+=this.targetDim.height+(this.callout?this.callout.height:0):"left"===t[0]?o.left-=this.floatingElemDim.width+(this.callout?this.callout.width:0):"right"===t[0]&&(o.left+=this.targetDim.width+(this.callout?this.callout.width:0)),void 0===t[1]?t[0].match(/^left|right$/)?o.top=o.top-this.floatingElemDim.height/2+this.targetDim.height/2:o.left=o.left-this.floatingElemDim.width/2+this.targetDim.width/2:"top"===t[1]?o.top=o.top+this.targetDim.height-this.floatingElemDim.height:"right"===t[1]?o.left=o.left-this.floatingElemDim.width+("corner"===t[2]?0:this.targetDim.width):"left"===t[1]&&"corner"===t[2]&&(o.left+=this.targetDim.width),o},_showHiddenParent:function(e){if(e=a(e),e.is(":hidden"))for(var t=1,o=e;t&&o&&!o.is("body");)"none"===o.css("display")&&(this.hiddenParents.push(o),this.prevStylesOfHiddenParents.push(o.attr("style")||""),o.css({display:"block",position:"absolute",opacity:1,visibility:"hidden"}),t=o.is(":hidden")),o=o.parent()},_resetParent:function(){this.hiddenParents&&this.hiddenParents.length&&(this.hiddenParents.forEach(function(e,t){e.attr("style",this.prevStylesOfHiddenParents[t])}),this.hiddenParents=[],this.prevStylesOfHiddenParents=[])},_getCorrection:function(e){var t=e.css("position"),o=e.parent()[0],n=a("<span>").css({position:t,height:"20px",width:"20px",top:"0px",left:"0px",transform:"none",margin:"0px",display:"",visibility:"hidden"});o.appendChild(n[0]);var i=n.offset();return o.removeChild(n[0]),i},_appendScrollBar:function(){var e=document.createElement("div");e.setAttribute("style","width:100px;height:100px;overflow:scroll;");var t=document.querySelector("body");return t.appendChild(e),e.style.cssText="width:100px;height:100px;overflow:scroll;",e},_getWithinDimensions:function(t){t=t.length?t:o;var a=t[0]===window,n=!!t[0]&&9===t[0].nodeType,i=a||n?{left:0,top:0}:this._getOffset(t)||{left:0,top:0},r=a||n?this.win.scrollLeft:i.left<this.win.scrollLeft?this.win.scrollLeft:i.left,s=a||n?this.win.scrollTop:i.top<this.win.scrollTop?this.win.scrollTop:i.top,l,d,c;if(a?(l=this.win.width,d=this.win.height):n?(l=this.win.docWidth,d=this.win.docHeight):(l=t.outerWidth(),d=t.outerHeight(),c=t),c){var m=c.css("overflow-x"),_=c.css("overflow-y"),u="scroll"===m||("auto"===m||c.is("body")&&"visible"===m)&&l<c[0].scrollWidth,p="scroll"===_||("auto"===_||c.is("body")&&"visible"===_)&&d<c[0].scrollHeight,h;p&&(l-=h=e.getScrollWidth()),u&&(d-=void 0===h?e.getScrollWidth():h)}return{element:t,isWindow:a,isDocument:n,offset:i,scrollLeft:r,scrollTop:s,width:l,height:d}},_getDimension:function(e,t){var o=window.getComputedStyle(e).transform,n,i;if(e instanceof SVGElement&&(i=!0),i||!o||"none"===o){var r=e.getBoundingClientRect();r&&("outerWidth"===t?n=r.width:"outerHeight"===t?n=r.height:void 0)}return(isNaN(n)||!n)&&(n=a(e)[t]()),n},_getPosition:function(o,n,i){i=this.options=a.extend(!0,{},t.DEFAULTS,i);var r=i.direction;t.regex.relDirections.test(i.direction)||(i.direction="bottom-left");var s=i.direction;i.direction=e.getRTLBasedDir(i.direction,i.rtl);var l={prevDirection:r,elementPosition:{left:0,right:0},actualDirection:i.direction,direction:s,arrowPosition:{left:0,right:0}};if(!this._isInDOM(n))return l;if(!i.customDimensions&&!o.preventDefault&&!this._isInDOM(o))return l;this.floatingElement=a(n),i.considerHiddenElements&&(this.hiddenparents=[],this.prevStylesOfHiddenParents=[],!o.preventDefault&&this._showHiddenParent(a(o)),this._showHiddenParent(this.floatingElement));var d=this.floatingElement.attr("style");i.resetPosition&&this.floatingElement.css({top:"-99999px",left:"-99999px",overflow:"hidden"}),this.floatingElemDim=i.computeElementDim?this._getDimensions(this.floatingElement):{};var c=t.getWinDim();this.win={scrollLeft:c.scrollLeft+i.withinPadding,scrollTop:c.scrollTop+i.withinPadding,height:c.height-2*i.withinPadding,width:c.width-2*i.withinPadding},this.targetDim=i.customDimensions?o:i.computeTargetDim?this._getDimensions(o):{},this.within=i.computeWithinDim?this._getWithinDimensions(a(i.within)):{},this.finalCorrectionOffset=this._getCorrection(this.floatingElement),i.resetPosition&&this.floatingElement.attr("style",d);var m=this._calculatePosition();i.considerHiddenElements&&this._resetParent(),l.elementPosition=m||l.elementPosition,l.arrowPosition=this.callout?this.callout.position:l.arrowPosition,l.arrowDirection=t.calloutPositions[i.direction]&&t.calloutPositions[i.direction].split("-")[0],l.actualDirection=i.direction,l.direction=e.getRTLBasedDir(i.direction,i.rtl);var _=i.direction.split("-");return /^(top|bottom)$/.test(_[0])?(l.availableHeight=this._getAvailableHeight(_[0])-(this.callout?this.callout.height:0),l.availableWidth=this._getAvailableWidth(_[0])):/^(left|right)$/.test(_[0])&&(l.availableHeight=this._getAvailableHeight(_[0]),l.availableWidth=this._getAvailableWidth(_[0])-(this.callout?this.callout.width:0)),l},_isInDOM:function(e){return e&&1===e.nodeType&&document.body.contains(e)}},e.debounce=function(e,t,a){var o;return function(){var n=this,i=arguments,r=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||e.apply(n,i)},t),r&&e.apply(n,i)}};var n=e.debounce(t.resetWinDim,250);return window.addEventListener("resize",n),window.addEventListener("scroll",n),{get:function(e,o,n){if(e&&a(o).length){e instanceof a&&(e=e[0]),o instanceof a&&(o=o[0]),n=n||{};var i=new t,r=i._getPosition(e,o,n);return i.options=void 0,r}}}}(ZComponents),function(e){var t=Math.round;let a=e.DOMUtil;e.Helpers={open:function(t,a){return e.ShowHideHandler.show(t,a)},close:function(t,a=t.data("zshowhide")||{}){return e.ShowHideHandler.hide(t,a)},fixHeight:function(t,o){return e.ShowHideHandler.fixHeight(t,a.extend(!0,{},t.data("zshowhide"),o||{}))},fixGridWidth:function(t,o){return e.ShowHideHandler.fixGridWidth(t,a.extend(!0,{},t.data("zshowhide"),o||{}))},removeScrollClass:function(t){return e.ShowHideHandler.removeScrollCls(t)}},e.ShowHideHandler=function(e,a){'use strict';return{_DEFAULTS:{forElement:void 0,appendTo:void 0,width:void 0,height:void 0,withinPadding:8,isGrid:!1,renderInPlace:!1,position:null,direction:"auto",offset:null,mustBeShown:!1,viewport:null,minWidth:200,displayType:"box",arrowCallback:void 0,alterBorderRadius:!0,scroll:"default",toggle:!0,isSubList:!1,arrowElement:void 0,closeOnBodyClick:!0,cname:"",hideMethodName:"hide",hideEventName:"hide",bodyCls:"zmenu__body",headerCls:"zmenu__header",footerCls:"zmenu__footer",gridCls:"zmenu--thumbnail",mainCls:"zmenu",widthCls:"zmenu__width"},show:function(t,o){t=a(t);let n=a.extend(!0,{},this._DEFAULTS,o),i=t.is(":visible"),r=t.data("forElement")||"",s=a(n.forElement),l=n.isSubList,d=s&&s[0]===r[0],c=n.mustBeShown,m=i&&c,_=n.renderInPlace,u=a(n.appendTo),p=n.onShow;if(d&&i&&!c)return void(n.toggle&&!l&&n.onToggle&&n.onToggle(t));if(c&&this._fetchScrollVal(t),(!_||l)&&!c){let e=(u&&u.length?u:a("body"))[0],o=t[0];e.contains(o)&&-1!==Array.prototype.slice.call(e.childNodes).indexOf(o)||e.appendChild(o)}let h=n.viewport||(u.length?u:void 0);h&&(h="window"===h?e.$window:"document"===h?e.$document:a(h),n.within=h);let g={};if(_)t.addClass("zmenu--inline"),e.display(void 0,t),p&&p(t,n);else if(g=this._calcDimensions(t,n,s,m,l),!g)return;return l&&(g.parent=s),g.direction=g.pos&&g.pos.direction,t.data(g),n.isSubList||this._setFocus(t,n),e.isEmpty(n.animation)||!n.animation.open?(!m&&e.display(void 0,t),n.arrowElement&&n.arrowElement.show(),p&&p(t,n)):n.onShowWithAnimation&&n.onShowWithAnimation(t,n),t.data("zshowhide",n),t.data("zscrEle")&&t.data("zscrEle").scrollTop(t.data("zscrVal")),g},_calcDimensions:function(t,a,o,n,i){let r=a.direction,s=a.position,l=a.isRightClick||"at-cursor"===r;a.closeOnBodyClick&&e.bindDocumentEvents&&e.bindDocumentEvents({isCE:a.isCE,element:a.originalElement||t,container:t,forElement:!l&&o,ctype:a.cname,closeMethodName:a.hideMethodName,closeEvent:a.hideEventName});let d=a.event||{},c=a.beforeShow&&a.beforeShow(t,d,{currentTarget:l?d.target:o});if(!1===c)return;n||e.display(void 0,t).css("opacity","0");let m=this.fixWidth(t,a);t.removeClass(a.widthCls),a.isGrid&&this.fixGridWidth(t,a),t.css("height","auto");let _=t.find("."+a.bodyCls),u=!1;_.length&&_.css("height","auto"),a.height&&parseFloat(a.height)<=t.outerHeight()&&(t.outerHeight(parseInt(a.height)),u=!0);let p={};if(s||(p=this.calcPosition(t,a,l,i,d,o),s=p.elementPosition),this.fixHeight(t,a),this._checkForScroll(t,u,s,m,p.actualDirection||r,a.scroll),a.alterBorderRadius&&!a.arrowElement&&e.alterBorderRadius({element:t,forElement:o,hasSideAlignment:i,offset:s,direction:p.actualDirection||r}),s){if(l){let e=a.rtl;s.top+=e?-2:2,s.left+=e?-2:2}t.css(s)}return n||(e.display(!0,t),t.css("opacity","")),p},_checkForScroll:function(e,t,a,o,n,i){t=(t||e.hasClass("zh-scroll_y")||e.find(".zh-scroll_y").length)&&"slider"!==i;let r=o.actualWidth,s=o.minW;if(t){let t=0,o=this.scrollWidth||this.getScrollWidth();s?s-r<o+1&&(t=r+o+1-s):t=o,a&&("bottom-right"===n||"top-right"===n)&&(a.left-=t),e.width(e.width()+t)}},getScrollWidth:function(){let e=document.createElement("div"),t=document.querySelector("body");return t.appendChild(e),e.style.cssText="width:50px;height:50px;overflow:scroll;",this._scrollWidth=a(e).width()-e.scrollWidth,t.removeChild(e),this._scrollWidth},_setFocus:function(e,t){clearTimeout(e._focusTimer);let a=t.beforeFocus;(a===void 0||a(e))&&(e._focusTimer=setTimeout(()=>e.focus(),100))},_fetchScrollVal:function(e){let t=e.find(".zh-scroll_y");t=t.length?t:e;let a=t.scrollTop();e.data("zscrEle",t),e.data("zscrVal",a)},fixGridWidth:function(o,n){let r=parseInt(n.columns),i="."+n.gridCls,s="."+n.bodyCls,l="."+n.mainCls,d=o.find(i),c=o;if(d.length){let t=0,o,n;for(let i=0;i<d.length;i++)n=e._getOpts(d[i]),o=n.columns,o&&o>t&&(t=o,c=a(d[i]))}if(!r||-1===r){let t=o.closest(l),a=e._getOpts(t);if(r=t.data("isExternalSubmenu")?a.columns:r,!r||-1===r)return}c[0]!==o[0]||o.hasClass(n.gridCls)?c.find(s).length&&(c=o.find(s)):c=o.find(i);let m=n.getAllMenuItems(c,!1,!1,!0),_=0,u;for(let a=0;a<r&&a<m.length;a++)u=window.getComputedStyle(m[a]),_+=t(parseFloat(u.width))+t(parseFloat(u.marginLeft))+t(parseFloat(u.marginRight)),e.Browser.isIE&&11>=e.Browser.getIEVersion()&&(_+=t(parseFloat(u.paddingLeft))+t(parseFloat(u.paddingRight))+t(parseFloat(u.borderRightWidth))+t(parseFloat(u.borderLeftWidth)));o.width(_),o.data("width",_)},fixHeight:function(t,o){let n="auto",i=t.find("."+o.bodyCls),r=i.length?i:void 0;t.height(n),r&&r.height(n);let s="auto"===o.direction||"at-cursor"===o.direction,l=t.outerHeight(),d=parseInt(1*t.css("top").split("px")[0]-a(window).scrollTop())||0,c=e.windowObject?e.windowObject.height:a(window).height(),m=o.actualDirection||o.direction,_=o.availableHeight,u=o.isRightClick,p=m&&(0===m.indexOf("bottom")||0===m.indexOf("top"))?u?c:_:c,h=p-l;u&&(d+=2),(d+l>=p&&0>h||!s)&&(n=u?c-d:_);let g=parseInt(o.height);g?n=g>=_?_:g:0<h&&s&&(n=l);let f="slider"===o.scroll&&r,b=f?"zh-overflowhidden":"zh-scroll_y",v=!1;if(l>n){if(v=!0,r){let e=t.find("."+o.headerCls),a=t.find("."+o.footerCls),i=e.length?parseInt(e.outerHeight(!0)):0,s=a.length?parseInt(a.outerHeight(!0)):0,l=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")),d=parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width")),c=d+i+l+(1<a.length?a.length*s:s);r.innerHeight(n-c)}t.outerHeight(n)}f&&o.displayScrollers&&o.displayScrollers(v,t),(r||t)[v?"addClass":"removeClass"](b)},fixWidth:function(e,t){e.addClass(t.widthCls);let a=e.outerWidth(),o;return t.width?(a=parseInt(t.width),e.removeClass(t.widthCls),e.width(a)):t.minWidth&&a<parseInt(t.minWidth)&&"icon"!==t.contentType&&(o=parseInt(t.minWidth),e.removeClass(t.widthCls),e.outerWidth(o-1)),e.width(e.width()+1),{actualWidth:a,minW:o}},calcPosition:function(t,o,n,i,r,s){let l=o.offset,d=o.arrowElement,c=e.Position.get(n&&!i?r:s,t,a.extend(!0,{},{arrow:{element:i?null:d,callback:o.arrowCallback}},o),d||void 0),m;if(o.availableHeight=c.availableHeight,l&&(o.availableHeight-=parseInt(l.top)||0),m=c.elementPosition,o.actualDirection=m.direction=c.actualDirection,c.pos=m,d&&!i){let e=c.arrowPosition;if(l){let t=c.arrowDirection;if("top"===t||"bottom"===t){let t=o.rtl?"right":"left",a=o.rtl?1:-1;void 0!==l.left&&(e[t]+=l.left*a)}else void 0!==l.top&&(e.top-=l.top)}d.css(e)}return l&&(c.pos.top+=parseInt(l.top)||0,c.pos.left+=parseInt(l.left)||0),c},hide:function(t,a){if(t.is(":visible")&&!a.renderInPlace){let o=a.beforeHide&&a.beforeHide();if(!1!==o){let o=t.data("zshowhide")||{};if(o.alterBorderRadius&&e.alterBorderRadius({element:t,forElement:o.forElement},!0),this._fetchScrollVal(t),e.isEmpty(a.animation)||!a.animation.close){e.display(!0,t),this.removeScrollCls(t);let o=a.onHide;o&&o(t,a)}else{let e=a.onHideWithAnimation;e&&e(t,a)}}}},removeScrollCls(e){e.removeClass("zh-scroll_y zh-overflowhidden"),e.find(".zh-scroll_y, .zh-overflowhidden").removeClass("zh-scroll_y zh-overflowhidden")}}}(e,a)}(ZComponents),function(e,t){let a=e.keyCode,o=[a.HOME,a.PAGE_UP],n=[a.END,a.PAGE_DOWN];class ZKeyboardNavigation extends e.CoreComponent{get name(){return"zkeyboardnavigation"}get props(){return{direction:"vertical",hoverClassName:"on-hover",focusClassName:"has-focus",items:"",wrapAround:!1,scrollToView:!0,handleHover:!0,selectOnEnterKey:!0,selectOnSpaceKey:!0,characterKeyFocus:!0,keyMatchAttribute:"label",focusItemOnItemMouseover:!0,keyNavigation:!0,inputSelectors:"input, textarea, div[contentEditable]"}}get EVENTS(){return["beforefocusmove","focusmove","mouseenter","mouseleave","keydown","arrowkeydown","blur"]}_create(e){this._prevSKey="",this._bindEvents(e)}_bindEvents(e){this._addEvents({keyDown:"keydown",blur:"focusout",itemFocus:"click"},e);let t=this._opts,a=this.name,o=t.hoverClassName;t.handleHover&&e.on("mouseenter."+a,t.items,a=>{t.focusItemOnItemMouseover&&(this._mouseEntered=!0),this._mouseHoverHandler(a,!0),this._dispatchEvent("mouseenter",a,{item:o&&e.find("."+o)})}).on("mouseleave."+a,t.items,a=>{t.focusItemOnItemMouseover&&(this._mouseEntered=!1),this._dispatchEvent("mouseleave",a,{item:o&&e.find("."+o)}),this._mouseHoverHandler(a)})}moveFocus(t){let a=t.keyCode===e.keyCode.ENTER||t.keyCode===e.keyCode.SPACE;if(a||this._opts.keyNavigation)return this._keyDownHandler(t)}_mouseHoverHandler(e,a,o,n={}){let i=t(e.target),r="keydown"===e.type,s=this._opts,l=this._opts.items;if(i=i.is(l)?i:i.closest(l),!!i.length){let t=this.element,l=r||s.focusItemOnItemMouseover,d=s.hoverClassName,c=s.focusClassName,m=r?this._getCurrItem(t,s):t.find("."+d);if(!m||!a||m[0]!==i[0]){a&&m&&!r&&m.removeClass(d);let t=!0;if(l&&(t=this["_"+(a?"":"un")+"focus"](i,s,e,n)),!1!==t&&a&&m&&m.removeClass((s.focusItemOnItemMouseover?d+" ":"")+(l?c:"")),(!r||!1!==t&&s.focusItemOnItemMouseover)&&i[(a?"add":"remove")+"Class"](d),this.element.data("prevHover",m),o){let t="onMouse"+(a?"Enter":"Leave");s[t]&&s[t](e,i)}}return!0}}_itemFocusHandler(e){let a=this._opts,o=t(e.target),n=a.items,i=o.is(n)?o:o.closest(n);if(i&&i.length){let t=this.element.find("."+a.focusClassName);t.length&&this._unfocus(t,a,e),this._focus(i,a,e)}}_keyDownHandler(e){let i=e.keyCode,r=this._opts,s=this.element,l={},d=t(e.target),c=d.closest(this._opts.inputSelectors).length,m=c&&d.is("input"),_=!0;if(c&&!m)return;let u=s.find(r.items),p=r.keyNavigation,h=u.length,g=r.direction,f=(Object.keys(a).find(e=>a[e]===i)||"").replace("_","").toLowerCase(),b="down"===f,v="up"===f,C="right"===f,S="left"===f,w="horizontal"===g,T="vertical"===g,I=this._getCurrItem(s,r),M=!1,D=T?b:w&&I.length?C:b||C,z=T?v:w&&I.length?S:v||S,x;if(1<I.length&&(I=t(I[D?I.length-1:0])),!(m&&-1===["up","down","enter"].indexOf(f))){r.focusItemOnItemMouseover&&this._mouseEntered&&this._bindMouseMove(),(r.selectOnEnterKey&&"enter"===f||r.selectOnSpaceKey&&"space"===f)&&(this._enterKeyHandler&&this._enterKeyHandler(e,I),l.isEnterKey="enter"===f,l.isSpaceKey="space"===f,_=!1),l.key=f;let a=v||b||C||S;a&&(l["is"+f[0].toUpperCase()+f.slice(1)+"Key"]=!0);let d=e.metaKey||e.ctrlKey;if(!d&&(D||z)&&p){if(!I||!I.length)x=t(u[D?0:u.length-1]);else if("both"===g){let t=u.index(I),a=I[z?"prevAll":"nextAll"](r.items);x=this._gridNavigation&&this._gridNavigation(e,I,f,a,t,v,b,S,C)}else{let e=u.index(I);e+=D?1:-1,(0>e||e===h)&&(r.wrapAround?e=D?0:h-1:e+=D?-1:1),x=u[e]}}else if("escape"===f)l.isEscapeKey=!0;else if(p&&(0<=o.indexOf(i)||d&&z))x=u[0],M=!0;else if(p&&(0<=n.indexOf(i)||d&&D))x=u[h-1],M=!0;else{if("tab"===f)return this._blurHandler(e);p&&r.characterKeyFocus&&this._callSearch&&"enter"!==f&&"space"!==f&&(x=this._callSearch(e.key,e,I))}return x=t(x),x.length&&(r.scrollToView&&this._scrollToView(x,s,d&&z,d&&D),e.target=x,_=this._mouseHoverHandler(e,!0,!0)),l.item=I,l.nextItem=x,this._dispatchEvent("keydown",e,l),a&&this._dispatchEvent("arrowkeydown",e,l),!(p&&!m&&(this._isNonModKey(e)||M))&&_}}_bindMouseMove(){let e=this.element,a="."+this.name,o=this._opts;e.on("mousemove"+a,function(n){let i=t(n.target).closest(o.items);i&&i.length&&i.trigger("mouseenter"),e.off("mousemove"+a)})}_focus(e,t=this._opts,a,o={}){let n=t.focusClassName;if(n&&!e.hasClass(n))return o.item=e,!1!==this._dispatchEvent("beforefocusmove",a,o)&&(e.addClass(n+(!a&&t.focusItemOnItemMouseover?" "+t.hoverClassName:"")),this._dispatchEvent("focusmove",a,o),!0)}_unfocus(e,t=this._opts){let a=t.focusClassName;a&&e.hasClass(a)&&e.removeClass(a)}focusItem(e,t,a=!0){a&&this._opts.scrollToView&&this._scrollToView(e,this.element),this._focus(e,this._opts,t)}_getCurrItem(e,t){let a=e.find(t.items),o=t.focusItemOnItemMouseover,n=o?"hover":"focus",i=a.filter("."+t[n+"ClassName"]);return!i.length&&o&&t.focusClassName&&(i=a.filter("."+t.focusClassName)),i}_isNonModKey(t){return!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey&&t.keyCode!==e.keyCode.ESCAPE}_blurHandler(e){if(document.activeElement!==this.element[0]&&this._dispatchEvent("beforeblur",e)){let a=this.element,o=this._opts,n=o.hoverClassName,i=o.focusClassName,r=e&&e.relatedTarget;r&&t(r).closest(this.element).length||a.find((n?"."+n:"")+(n?",":"")+"."+i).removeClass(n+" "+i),this._dispatchEvent("blur",e)}}_scrollToView(e,t,a,o){let n=this._opts.scrollableEle||(t.find(".zh-scroll_y").length?t.find(".zh-scroll_y"):t.find(".zh-overflowhidden").length?t.find(".zh-overflowhidden"):t),i=!e[0].previousElementSibling,r=!i&&!e[0].nextElementSibling;if(a=a||i,!this.element.is(":visible")||!n[0].contains(e[0]))return;o=o||r;let s=a?0:o?n[0].scrollHeight:0;if(!a&&!o){let t=e.offset().top-n.offset().top,a=n[0].scrollTop;s=0>t?a+t:Math.max(a,t+a+e.outerHeight(!0)-n.outerHeight())}n.scrollTop(s)}setAttribute(e,t){this._opts[e]=t}destroy(){let e=this.name;this.element.off("."+e).removeData(e),this.element.removeData("prevHover"),this.element=void 0}_callSearch(e,t,a){let o=!1,n=+new Date;return e=e.toLowerCase(),this._prevKTime&&700<n-this._prevKTime?(o=this._prevSKey===e,this._prevSKey=e):this._prevSKey+=e,this._prevKTime=n,this._itemSearch(o,t,a)}_itemSearch(e,a,o){let n=this._opts,i=this.element.find(n.items);if(i=i.filter("[data-"+n.keyMatchAttribute+"^=\""+this._prevSKey+"\"]"),i.length){if(e){let e=i.toArray().indexOf(o[0]);return e+=1,e>=i.length&&(e=0),t(i[e])}return t(i[0])}}_gridNavigation(e,a,o,n,i,r,s,l,d){let c=a.position(),m=this._getNextGridMenuItem(c,n,r,l||d);if(!m||!m.length){let e=-1,_=this._opts,u=_.wrapAround,p=r||l,h=_.items,g="."+_.headerClassName,f="."+_.footerClassName,b=_.ctype,v=a.closest(g).length?"header":a.closest(f).length?"footer":"body",C="header"==v,S="body"==v,w,T;if(w=C?"footer":S?"header":"body",T=C?"body":S?"footer":"header",!p){let e=w;w=T,T=e}h=this.element.find(`.${b}__${w}`).length?`.${b}__${w} ${h}`:this.element.find(`.${b}__${T}`).length?`.${b}__${T} ${h}`:this.element.find(`.${b}__body`).length?`.${b}__body ${h}`:h,n=this.element.find(h),"footer"==v?e=p?l?n.length-1:this._getLRFItem(t(n[n.length-1]).position(),n):0:((r||s)&&(o=r?"down":s?"up":o,r="up"===o,m=this._getNextGridMenuItem(c,r?n.toArray().splice(0,i):n.toArray().splice(i+1).reverse(),r,l||d)),(!m||!m.length)&&(!(l||d)||u)&&(e=p?n.length-1:0)),m=m&&m.length?m:-1!==e&&n[e]}return m}_getNextGridMenuItem(e,a,o,n){let r=n?"top":"left",s=a.length,i;for(let l=0,d;l<s;l++){d=t(a[l]);let o=d.position();if(o[r]===e[r]||"top"==r){i=d;break}}return i}_getLRFItem(e,a){let o=a.length-1,n,r;for(let s=o;0<=s&&(r=t(a[s]).position(),r.top===e.top);s--)n=a[s];return a.index(n)}}e.registerComponent("ZKeyboardNavigation",ZKeyboardNavigation)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZSelectable extends e.ZKeyboardNavigation{get name(){return"zselectable"}get props(){return{multiple:!1,selectedClassName:"is-selected",selectOnFocus:!1,selectOnEnterKey:!0,selectOnSpaceKey:!0,allowDragToSelect:!0,allowShiftSelection:!0,keyNavigation:!0,keyNavigationOptions:{direction:"vertical",wrapAround:!1,characterKeyFocus:!0}}}get EVENTS(){return["beforeselect","select","beforedeselect","deselect","contextmenu","reset","beforereset","change"]}_create(e,a){this._opts=t.extend(!0,{},this._opts,a.keyNavigationOptions||{}),super._create(e,a)}_bindEvents(e){super._bindEvents(e),this._addEvents({mouseDown:"mousedown",mouseUp:"mouseup",keyUp:"keyup"},e)}_keyUpHandler(e){e.shiftKey||this.element.removeClass("zh-userselectnone")}_keyDownHandler(e){let a=e.keyCode,o=this.element,n=this._opts,i=this._getCurrItem(o,n),r=e.shiftKey,s=t(e.target),l=s.closest(this._opts.inputSelectors).length;if(!l)if(!this._shiftPressed&&r&&16===a){let e=o.find("."+n.selectedClassName),t=e.length;this._shiftPressed=t&&1===t?e:n.focusItemOnItemMouseover?this._lastSelItem:i;let a=window.getSelection();(!a.containsNode||a.containsNode(o[0],!0))&&a.removeAllRanges(),o.addClass("zh-userselectnone")}else r||(this._shiftPressed=void 0);return!l&&n.multiple&&(e.metaKey||e.ctrlKey)&&65===a?void(e.preventDefault(),this.selectAllItems(!0)):super._keyDownHandler(e)}_enterKeyHandler(e,t){if(t.hasClass(this._opts.hoverClassName)||t.hasClass(this._opts.focusClassName))return e.target=t,this._handleSelection(t,void 0,e),!1}_mouseDownHandler(e){this._dispatchEvent("beforemousedown",e)&&(this._md=!0,this._mdy=e.pageY,this._mdx=e.pageX,this._mdEle=t(e.target).closest(this._opts.items),!e.shiftKey&&(this._shiftPressed=void 0),this.element.addClass("zh-userselectnone"),this._bindMouseDrag&&this._bindMouseDrag())}_mouseMoveHandler(e){if(this._md){let a=t(e.target),o=this._opts,n=o.focusClassName,i=o.selectedClassName,r=a.closest(o.items);if(r.length){let e=r.hasClass(i);r[(e?"toggle":"add")+"Class"](i+" "+n)}e.preventDefault()}}_mouseUpHandler(a){if(this._dispatchEvent("beforemouseup",a)){this.element.off("mousemove."+this.name),this._md=!1,3===a.which&&this._dispatchEvent("contextmenu",a);let o=t(a.target),n=this._opts,i=o.closest(n.items);if(!i.length)return;if(this._mdEle&&i[0]===this._mdEle[0]&&(this._mdEle=void 0),this._handleSelection(i,n,a),this._scrollToView(i,this.element),this._mdEle=this._mdy=this._mdx=void 0,!this._shiftPressed){this.element.removeClass("zh-userselectnone");let a=window.getSelection();if(e.Browser.isIE){let e=document.activeElement;t(e).closest(n.inputSelectors).length||a.removeAllRanges()}else(!a.containsNode||a.containsNode(this.element[0],!0))&&a.removeAllRanges()}}}_handleSelection(a,o=this._opts,n,i,r,s,l){let d=o.selSelector;if(!d||t(n.target).closest(d).length){let d=this.element,c=o.focusClassName,m=o.selectedClassName;if(o.multiple&&o.selectOnFocus&&"keydown"!==n.type&&!(n.metaKey||n.ctrlKey||n.shiftKey)&&this._clearAll(n,a,!0),o.multiple&&"keydown"!==n.type){let e=o.allowDragToSelect&&this._mdEle||o.allowShiftSelection&&this._shiftPressed&&this._shiftPressed.hasClass(m);if(e)return this._selectMultipleItems(n,o,a,r)}let _=d.find("."+m).toArray();o.multiple||i||!_.length||_[0]===a[0]||this._deselect(t(_[0]),o,n,a);let u=n.keyCode===e.keyCode.DOWN,p="keydown"===n.type&&(r||u)?a.data("selectOnUp"):void 0,h=a.hasClass(m)&&(void 0===p||(r?!p:p)),g=(o.toggle||n.ctrlKey||n.metaKey||n.shiftKey)&&h&&!l&&(!this._shiftPressed||a[0]!==this._shiftPressed[0]),f=this._focus(s||a,o,n,{ahead:g?"deselect":"select"});!1!==f&&c&&d.find("."+c).not(s||a).removeClass(c+(o.focusItemOnItemMouseover?" "+o.hoverClassName:"")),g?this._deselect(a,o,n,a):!a.hasClass("is-selected")&&(n.shiftKey&&(!this._shiftPressed||!this._shiftPressed.hasClass(m))&&(this._shiftPressed=a),this._select(a,o,r,n)),this._dispatchEvent("change",n,{item:a})}}_select(t,a=this._opts,o,n,i){let r=a.selectedClassName;if(!t.hasClass(r)){let s={item:t};this._dispatchEvent("beforeselect",n,s)&&(a.selectOnFocus&&!i&&this._focus(t,a,n),t.addClass(r),this._lastSelItem=t,(o||!o&&(!n||"keydown"!==n.type||!n.shiftKey&&n.keyCode===e.keyCode.DOWN))&&t.data("selectOnUp",o),this._dispatchEvent("select",n,s))}}_deselect(e,t=this._opts,a,o){let n=t.selectedClassName;if(e.hasClass(n)){let t={item:e,relatedItem:o};this._dispatchEvent("beforedeselect",a,t)&&(e.removeClass(n),e.removeData("selectOnUp"),this._lastSelItem&&this._lastSelItem[0]===e[0]&&(this._lastSelItem=void 0),this._dispatchEvent("deselect",a,t))}}selectItem(e,t,a=!0){a&&this._opts.scrollToView&&this._scrollToView(e,this.element),this._select(e,this._opts,void 0,t)}deSelectItem(e,t){this._deselect(e,void 0,t)}selectAllItems(e){this._changeAll(!1,!0);let a=this._opts,o=a.focusClassName;if(e&&o){let e=this.element.find(a.items);this.element.find("."+o).removeClass(o+(a.focusItemOnItemMouseover?" "+a.hoverClassName:"")),this._focus(t(e[e.length-1]),a)}}deselectAllItems(){this._changeAll(!0)}_changeAll(e,a){let o=this.element.find(this._opts.items),n=o.length;for(let r=0;r<n;r++)this["_"+(e?"de":"")+"select"](t(o[r]),void 0,void 0,void 0,a)}_mouseHoverHandler(e,a,o){let n=this._opts,i="keydown"===e.type&&n.selectOnFocus;if(super._mouseHoverHandler(e,a,o,{ahead:i?t(e.target).hasClass(n.selectedClassName)?"deselect":"select":void 0}),i)return this._selectOnKeyNav(e,n)}_getCurrItem(e,t){let a=e.find(t.items),o=t.focusItemOnItemMouseover,n={};return o&&(n=a.filter("."+t.hoverClassName)),n.length||(n=t.focusClassName&&a.filter("."+t.focusClassName),!n.length&&!o&&(n=a.filter("."+t.selectedClassName))),n}setAttribute(e,t){if("keyNavigationOptions"===e){let e=["direction","wrapAround","characterKeyFocus"],a=e.length,o;for(let n=0;n<a;n++)o=e[n],void 0!==t[o]&&(this._opts[o]=t[o])}this._opts[e]=t}destroy(){this.element.removeClass("zh-userselectnone"),super.destroy()}_selectMultipleItems(e,a,o,n){let r=this.element.find(a.items).toArray(),i=this._mdEle||this._shiftPressed,s=a.selectedClass,l=this.element.find("."+a.focusClassName),d,c;if(this._prevEle&&this._prevEle[0]===i[0]){let n=r.indexOf(i[0]),s=r.indexOf(this._lastFocused[0]),l=r.indexOf(o[0]),m=s<n&&l>n||s>n&&l<n,_=s>n&&l>n&&l<s;if(m||s<n&&l<n&&l>s||_){let u=m?s<n?s:n+1:_?l:s,p=m?s<n?n:s+1:_?s+1:l;for(let n=u;n<p;n++)this._deselect(t(r[n]),a,e,o);d=n,c=l}else if(n===l){let i=s<n?s:n+1,l=s<n?n:s+1;for(let n=i;n<l;n++)this._deselect(t(r[n]),a,e,o)}else d=r.indexOf(i[0]),c=r.indexOf(o[0])}else d=r.indexOf(i[0]),c=r.indexOf(o[0]);let m=!1;if(d<c)r=r.splice(d,c-d+1),m=!0;else{let e=d;d=c,c=e,r=r.splice(d,c-d+1)}let _=r.filter(function(e){if(!t(e).hasClass(s))return e}),u=_.length;(this._mdEle&&this._movingUp||this._shiftPressed&&!m)&&(_=_.reverse());for(let r=0;r<u;r++)this._select(t(_[r]),a,n,e,!0);let p=t((u?_:r)[u?u-1:r.length-1]);p.length&&(l&&l.length&&this._unfocus(l,a,e),this._focus(p,a,e),this._lastFocused=p),u&&this._dispatchEvent("rangeselect",e,{selList:t(_)}),this._prevEle=i,this._dispatchEvent("change",e,{item:o})}_bindMouseDrag(){let e=this.element,a=this._opts,o=this,n=a.keyNavigationOptions.direction,i="."+this.name,r,s;e.on("mousemove"+i,function(l){r=t(l.target),s=r.closest(a.items),s.length&&o._mdEle&&s[0]===o._mdEle[0]||(o._movingUp="vertical"===n&&l.pageY<=o._mdy||"horizontal"===n&&l.pageX<=o._mdx,e.off("mousemove"+i))})}_selectOnKeyNav(a,o){let n=o.selectedClassName,i=t(a.target),r=o.items;i=i.is(r)?i:i.closest(r);let s=o.multiple&&(a.shiftKey||a.ctrlKey||a.metaKey),l=a.keyCode,d=l===e.keyCode.UP,c=!1;s||(this._clearAll(a,i),c=!0),!this._shiftPressed&&s&&(this._shiftPressed=i[d?"next":"prev"](o.items));let m=i.hasClass(n),_=this.element.data("prevHover"),u=_&&_.hasClass(n),p=u&&_.data("selectOnUp"),h=!m&&u&&p&&!d,g=!m&&u&&!p&&d,f;if(s&&(m&&u||h||g)){if(p){if(d)return!s;f=i,i=_}else{if(!d)return!s;f=i,i=_}(h||g)&&(this._handleSelection(i,o,a,s,d,f,c),i=f)}return this._handleSelection(i,o,a,s,d,f,c),!s}_clearAll(e,a,o){let n=this._opts,r=this.element.find("."+n.selectedClassName).toArray(),i=r.indexOf(a[0]);!o&&-1<i&&r.splice(i,1);let s=r?r.length:0;if(s){let o={list:r,item:a};if(this._dispatchEvent("beforereset",e,o)){let l;for(let o=0;o<s;o++)l=t(r[o]),this._deselect(l,n,e,a);this._dispatchEvent("reset",e,o)}}}}e.registerComponent("ZSelectable",e.ZKeyboardNavigation,ZSelectable)}(ZComponents,ZComponents.DOMUtil),function(e){e.animationHandler=function(t){let a=t.action,o=t.element,n=t.callback,i=t.animation||t.default,r={slide:{show:"slideDown",open:"slideDown",close:"slideUp",hide:"slideUp"},fade:{show:"fadeIn",open:"fadeIn",close:"fadeOut",hide:"fadeOut"}},s="string"==typeof i,l,d;if(i&&("object"==typeof i||s)){s&&(i={name:i});let t=i[a];if(d=t&&t.duration?t.duration:i.duration,t&&(i=t),"string"==typeof i||i.name?(l=i.name||i,r[l]&&(l=r[l][a])):l=i.className,o.finish?o.finish():o.stop(!0,!0),l)return void("object"==typeof l?o.animate(l,d,n):/^(fadeIn|fadeOut|slideDown|slideUp)$/.test(l)?o[l](d,n):o.removeClass(o.data("zanimationclass")).data("zanimationclass",l).addClass(l).off(e._animationEnd).on(e._animationEnd,()=>{n&&n(),o.off(e._animationEnd)}))}n&&n()},e.clearAnimationData=function(t){t.removeClass(t.data("zanimationclass")),t.removeData("zanimationclass"),t.off(e._animationEnd)}}(ZComponents),ZComponents.ShortCut=function(e){function t(e,t){if(C&&r(e)){var o=e.keyCode,n="";e.ctrlKey&&(n="ctrl+"),u.isMac()&&e.metaKey&&(n+="cmd+"),e.shiftKey&&(n+="shift+"),e.altKey&&(n+="alt+");var s=String.fromCharCode(o);65<=o&&90>=o&&(o=s.charCodeAt());var l=n;n+=o;var d=b[n];if(!d)for(var c in w)if(w[c]===o.toString()&&(n=l+c.toLowerCase(),d=b[n],d))break;if(d){var i=d.keyInfo||{},m=d.element||"",p=d.handleOn,h=d.isDirectInit;if(m=_(m),h&&!0!==i.disabled||m&&(t&&"keyup"!==p||!t&&"keyup"===p)){if(h){var g=i.elementIds;g=g&&g[0],m=_("#"+g)}var f=m&&-1!==T.indexOf(m[0].tagName);if(h&&!m.length||!m.is(":disabled")&&f||!f&&!m.is("[disabled]")){var v={ele:m,shortcutKey:d.shortcutKey,fromShortCut:!0};h?a(i.action,m,e,i.params):m.is(":checkbox")&&"click"===d.event?m.each(function(){v.ele=_(this),_(this).triggerHandler(d.event,v)}):m.trigger(d.event,v)}e.stopPropagation(),e.preventDefault()}}}}function a(e,t,a,n){var i;if(e&&"string"==typeof e){var r=o(e);i=r.callable(n)}else i="function"==typeof e?e.apply(t,n):void 0;return void 0===i?!a.isDefaultPrevented():i}function o(e){if(e){var t=e.split("."),a=window,o="",n;return _(t).each(function(e,i){n=i.indexOf("()"),a=0<n?a[i.substring(0,n)]():a[i],e==t.length-2&&(o=a)}),{fn:a,base:o,callable:function(){a&&a.call(o,arguments[0])}}}}function n(t,a){a=a||e._getOpts(t);var o=a.shortcutkey||a.shortcutKey||a.key;if(o){for(var n="object"==typeof o&&o instanceof Array?o:[o],r=0,s;r<n.length;r++){if(s=n[r],"object"==typeof n[r]&&(s=h?n[r].macKey?n[r].macKey:n[r].key:n[r].key,!n[r].key&&!h))return!1;s&&!s.macKey&&h&&(s=s.replace(/ctrl/i,a.skipShortcutFormat?"Cmd":"cmd")),a.skipShortcutFormat||(s=s.toString().toLowerCase()),n[r]=s}return n}}function r(t){if(e.ShortCut.discardInputElement){var a=_(t.srcElement);if(0===a.length&&(a=_(t.target)),a.is("input")||a.is("textarea"))return!1}return!0}function i(e){var t=e.split("+"),a="",o;e="";for(var n=0;n<p.length;n++)for(var r=0;r<t.length;r++)o=t[r].trim(),p[n]===o?a+=o+"+":-1===_.inArray(o,p)&&(e=o),""===o&&(e="+");return w[e.toUpperCase()]||(e=e.toUpperCase().charCodeAt(0)),a+=e}function s(e,t,a,o,n,r){var s=i(t);if(s){var l={element:e,event:a,handleOn:o};n&&(l.isDirectInit=!0,l.keyInfo=r),b[s]=l}}function l(e){for(var t=e.split("+"),a="",o=this,n=0;n<t.length;n++)t[n]=t[n].charAt(0)==t[n].charAt(0).toUpperCase()?t[n].toUpperCase():t[n].charAt(0).toUpperCase()+t[n].substring(1,t[n].length),t.length-1!=n&&(t[n]+="+"),a+=t[n];return a}function d(){S=!0,e.$document.on("keyup.shortcut",function(e){t(e,!1)})}function c(e){var t=i(e);t&&delete b[t]}function m(e,t,a){var o=e.eventName||"click",r=e.handleOn,c=n(null,e);if(f||S||"keyup"!==r||d(),c)for(var m=e.skipshortcutregister||e.skipRegistration,_=0;_<c.length;_++)m||s(t,c[_],o,r,a,e),e.skipShortcutFormat||(c[_]=l(c[_]));return!!c&&c}var _=e.DOMUtil;var u=e.OS,p=["ctrl","cmd","shift","alt"],h=u.isMac(),g=!0,f=u.isWindows(),b={},v={},C=!0,S=!1,w={"<F1>":"112","<F2>":"113","<F3>":"114","<F4>":"115","<F5>":"116","<F6>":"117","<F7>":"118","<F8>":"119","<F9>":"120","<F10>":"121","<F11>":"122","<F12>":"123",PRINTSCREEN:"44",NUMLOCK:"144",PAUSE:"19",INSERT:"45",HOME:"36",PAGEUP:"33",PAGEDOWN:"34",DELETE:"46",END:"35",TAB:"9",CAPSLOCK:"20",WINDOWS:"91",ARROW_UP:"38",ARROW_DOWN:"40",ARROW_LEFT:"37",ARROW_RIGHT:"39",ENTER:"13",BACKSPACE:"8",SPACE:"32",ESCAPE:"27",DOT:"190",".":"190","":"226",91:"219",92:"220",93:"221",61:"187",45:"189",96:"192",44:"188",47:"191",39:"222",59:"186",123:"219",124:"220",125:"221",43:"187",95:"189",126:"192",60:"188",62:"190",63:"191",34:"222",58:"186",33:"49",64:"50",35:"51",36:"52",37:"53",94:"54",38:"55",42:"56",40:"57",41:"48"},T=["BUTTON","INPUT","TEXTAREA","OPTION","SELECT","TEXTAREA","OPTGROUP","FIELDSET"];return e.$document.on("keydown.shortcut",function(e){t(e,!0)}),{init:function(t){t=t||{},g=!1!==t.handleAction,g||e.$document.off("keydown.shortcut")},discardInputElement:!0,disableAction:function(e){var t=v[e];t&&(t.disabled=!0)},enableAction:function(e){var t=v[e];t&&(t.disabled=!1)},addShortcuts:function(e){for(var e=e instanceof Array?e:[e],t=0,a;t<e.length;t++){a=e[t];var o=m(a,a.elements,!0);v[a.actionName]=a,v[a.actionName].shortcutKey=o[0]}},register:function(t){var a=e._getOpts(t),o=a.shortcutkey||a.shortcutKey;return a.eventName=o&&o.event?o.event:"click",m(a,t)},getShortcutKey:function(e){var t=n(e);if(t){for(var a=0;a<t.length;a++)t[a]=l(t[a]);return t}return!1},getInfo:function(e,t,a){if(e){var o=v[e]||{};return o.shortcutKey||o.key||""}return!1!==a&&t?this.register(t):t?this.getShortcutKey(t):void 0},enable:function(){C=!0},disable:function(){C=!1},deregister:function(e){for(var t=n(e),a=0;a<t.length;a++)c(t[a])}}}(ZComponents),function(e){function t(t,o){(n=>{var s=o.componentName,l=t.data(s),d,c,m,_;if(l){if(d=o.forElement||r(l._opts.forElement),!d||!d.length)return;m="zmenu"===s?"show":"open",_="zmenu"===s?"hide":"close",c=l.element,l.openHandler?l.openHandler.forElement.push(d):l.openHandler={forElement:[d],closeMethod:_,openMethod:m};var u=l.isCE?"z":s;t.on(u+"beforedestroy."+s,()=>e.removeOpenListener(s.slice(1),t)).on(u+"close."+s,()=>n.splice(n.indexOf(l),1)),d.off("."+s).data(s,{});var p=d.data(s);if(p.componentName=s,p.openMethod=m,p.element=t,"click"===o.popOn)d.off("mousedown."+s).on("mousedown."+s,e=>{a(r(e.currentTarget)),c.is(":visible")&&i===e.currentTarget?l[_]():(i=e.currentTarget,l[m](o),n.push(l))});else{var h=o.popOn;if(!/focus|mouseover/.test(h))return;var g="mouseover"===h?"mouseenter.":"focusin.",f="mouseover"===h?"mouseleave.":"focusout.";d.off(g+s+" "+f+s).on(g+s,e=>{p._mouseEntered=!0,a(r(e.currentTarget),_),c.is(":visible")||(l[m](o),n.push(l)),clearTimeout(p._mouseLeaveTimeout)}).on(f+s,()=>{p._mouseEntered=!1,p._mouseLeaveTimeout=setTimeout(()=>{c.is(":visible")&&l[_]()},o.mouseLeaveTime||1500)}),c.off(g+s+" "+f+s).on(g+s,()=>{clearTimeout(p._mouseLeaveTimeout)}).on(f+s,()=>{setTimeout(()=>{p._mouseEntered||l[_]()},100)})}}})(n)}function a(e){for(var t=0,a;t<n.length;t++)a=n[t],a&&a.element.is(":visible")&&!e.closest(a.element).length&&o(e,a.openHandler)&&(a[a.openHandler.closeMethod](),n.splice(t,1),t--)}function o(e,t){for(var a=!1,o=0,n;o<t.forElement.length;o++)if(n=t.forElement[o],e[0]===n[0]){a=!0;break}return!a}var n=[],r=e.DOMUtil,i;e.removeOpenListener=function(e,t){e="z"+e;for(var a=0;a<t.length;a++){var o=r(t[a]),n=o.data(e)&&o.data(e).openHandler;if(n)for(var s=0,l;s<n.forElement.length;s++)l=n.forElement[s],l.off("."+e),l.removeData(e)}},e.addOpenListener=function(e,a){e="z"+e;for(var o=0;o<a.length;o++)a[o].options.componentName=e,t(a[o].element,a[o].options)}}(ZComponents),function(e){let t=e.DOMUtil,a=[],o=[],n=e=>o[a.indexOf(e)],r=(t,a)=>{let o=n(a);if(!o||!document.documentElement.contains(a))return e.unBindDocumentEvents(a),!1;if(t.closest(o.container.add(o.forElement)).length)return!1;let s=o.componentsInContext;for(let e=0;e<s.length;e++)if(!r(t,s[e]))return!1;return!0},i=".zclosehandler",s=e.$window;e.bindDocumentEvents=l=>{let d=i+"-"+Math.floor(1e6*Math.random()),c=l.ctype,m=t(l.element),_=l.container&&t(l.container)||m,u=t(l.forElement),p=l.closeMethodName,h=l.isCE||m.data(c).isCE,g=h?"z":c,f=g+(l.closeEvent||p)+i,b=n(m[0]);if(b&&u.is(b.forElement))return;e.unBindDocumentEvents(m),a.forEach(e=>{let t=n(e),a=t.componentsInContext.indexOf(m[0]);u.closest(t.container).length?0>a&&t.componentsInContext.push(m[0]):-1<a&&t.componentsInContext.splice(a,1)}),a.push(m[0]);let v={_eventSuffix:d,forElement:u,container:_,ctype:c,closeFn:p,componentsInContext:[]};o.push(v),m.on(f+" "+(g+"beforedestroy"+i),()=>{e.unBindDocumentEvents(m)}),v.timer=setTimeout(()=>{function a(e){o=r(t(e.target),m[0])}let o;s[0].addEventListener("mousedown",a,!0),s[0].addEventListener("contextmenu",a,!0),v.mousedownHandler=a,s.on("mousedown"+d+" contextmenu"+d,function(a){if(o){let o=t.Event("zclosehandlerbeforehide",{originalEvent:a});m.trigger(o),o.isDefaultPrevented()||e.unBindDocumentEvents(m,!0,a)}})},10)},e.unBindDocumentEvents=function(r,l,d){let c=a.indexOf(r[0]);if(-1!==c){let m=o[c];clearTimeout(m.timer),r.off(i),s[0].removeEventListener("mousedown",m.mousedownHandler,!0),s[0].removeEventListener("contextmenu",m.mousedownHandler,!0),s.off(m._eventSuffix),a.splice(c,1),o.splice(c,1);let _=m.componentsInContext;for(let a=0;a<_.length;a++)e.unBindDocumentEvents(t(_[a]),!0,d);if(a.forEach(e=>{let t=n(e);if(t.componentsInContext.length){let e=t.componentsInContext,a=e.indexOf(r[0]);-1<a&&e.splice(a,1)}}),l){let t=e[m.ctype.replace("z","")](r);t[m.closeFn](d)}}}}(ZComponents),ZComponents.FocusHandler=function(e){var t=e.DOMUtil;return"use strict",{init:function(e,t){this._setInitialFocus(e,t),this._bindEvents(e,t)},_setInitialFocus:function(e,a=""){var o=e.find("input[autofocus],input[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),textarea[autofocus],textarea[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),button[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),z-button[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),.zselectbox[autofocus],.zselectbox[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"]):not("+a+"),li[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),a[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+")").filter(":visible");if(!o.length&&(o=e.find("input:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),label[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),textarea:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),button:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),z-button:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),li[tabindex]:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),.zselectbox:not([tabindex=\"-1\"]):not([disabled]):not("+a+"),a:not([tabindex=\"-1\"]):not([disabled]):not("+a+")").filter(":visible"),!o.length))return void e.focus();var n=t(o.get(o.length-1)),i=n.prop("tabindex");o.toArray().forEach(function(e){(t(e).prop("tabindex")<i||t(e).attr("autofocus"))&&(n=t(e),i=t(e).prop("tabindex"))}),n.hasClass("zselectbox")||n.hasClass("zselectbox__textbox")?(n=n.closest(".zselectbox"),n.hasClass("zcombobox")?n.prev().zcombobox("setFocus"):n.prev().zselect("setFocus")):n.focus()},_bindEvents:function(a,o=""){var n=this,i=a.find("input:not([tabindex=\"-1\"]):not("+o+"),label[tabindex]:not([tabindex=\"-1\"]):not("+o+"),textarea:not([tabindex=\"-1\"]):not("+o+"),li[tabindex]:not([tabindex=\"-1\"]):not("+o+"),button:not([tabindex=\"-1\"]):not("+o+"),z-button:not([tabindex=\"-1\"]):not("+o+"),.zselectbox:not([tabindex=\"-1\"]):not("+o+"),a:not([tabindex=\"-1\"]):not("+o+"),div[tabindex]:not([tabindex=\"-1\"]):not("+o+"),div[contenteditable]:not([tabindex=\"-1\"]):not("+o+")").filter(":visible");a.off("keydown.zfocushandler").on("keydown.zfocushandler",function(a){if(a.which===e.keyCode.TAB){var o=i.length,r=i.index(a.target);r+=a.shiftKey?-1:1,r===o?r=0:-1===r&&(r=o-1);var s=t(i[r]);(0===r||r===o-1||s[0].disabled)&&(s[0].disabled&&(s=n._findNextActiveElement(r,i,a.shiftKey)),s.focus(),a.preventDefault(),a.stopPropagation())}})},_findNextActiveElement:function(e,a,o){var n=a.length;o||e!==a.length-1||(e=-1),o&&0===e&&(e=n);for(var r=e+(o?-1:1),s=e+(o?1:-1);o?r>=s||0<=r:r<=s||r<n;){if(!a[r].disabled)return t(a[r]);r=0===r&&o?n-1:r!==n-1||o?o?r-1:r+1:0}},destroy:function(e){e.off("keydown.zfocushandler")},refresh:function(e,t,a){this._bindEvents(e,t),a&&this._setInitialFocus(e,t)}}}(ZComponents),function(e){var t=Math.min,a=Math.pow,o=Math.max,n=Math.round;let i=e.DOMUtil;e.ColorUtil={darken:function(e,t){t=this.limit(t,0,1);let o=[{mode:"MODIFY",value:1-t}];return this.hsl(e,{luminance:o})},lighten:function(e,t){t=this.limit(t,0,1);let o=[{mode:"MODIFY",value:1-t},{mode:"OFFSET",value:t}];return this.hsl(e,{luminance:o})},shade:function(e,t){t=this.limit(t,0,1);let o=[{mode:"MODIFY",value:1-t}];return this.rgb(e,{red:o,green:o,blue:o})},tint:function(e,t){t=this.limit(t,0,1);let o=[{mode:"MODIFY",value:1-t},{mode:"OFFSET",value:t}];return this.rgb(e,{red:o,green:o,blue:o})},rgb:function(e,t){return this.modify(e,t,"linearRGB")},tolinearRGB:function(e){return e.map(e=>{if(e/=255,0>e)return 0;if(.0405>=e)return e/12.92;if(1>=e){let t=(e+.055)/1.055;return a(t,2.4)}return 1})},linearRGBtoRGB:function(e){return e.map(e=>{if(0>e)e=0;else if(.0031308>=e)e*=12.92;else if(1>=e){e=1.055*a(e,1/2.4)-.055}else e=1;return n(e*=255)})},modify:function(e,t,a){let o=this[`to${a}`](e),n={red:0,green:1,blue:2,luminance:2};for(let i in t){let e=n[i];t[i].forEach(t=>{o[e]=this.modifyValue(o[e],t)})}return this[`${a}toRGB`](o)},modifyValue:function(e,t){return"MODIFY"===t.mode?e*=parseFloat(t.value):"OFFSET"===t.mode&&(e+=parseFloat(t.value)),e},hsl:function(e,t){return this.modify(e,t,"HSL")},toHSL:function(e){let a=e[0],i=e[1],r=e[2],d=o(...e),c=t(...e),m=0,_;d===c?m=0:d===a?(_=(i-r)/(d-c),m=(60*_+360)%360):d===i?(_=(r-a)/(d-c),m=60*_+120):(_=(a-i)/(d-c),m=60*_+240),m/=360;let u=(d+c)/510,l=0;return l=d===c?0:.5>=u?(d-c)/(2*u):(d-c)/(2-2*u),l/=255,[m,l,u]},HSLtoRGB:function(e){let t=e[0],a=e[1],o=e[2],i;i=.5>o?o*(1+a):o+a-o*a;let r=2*o-i,s=t;return[s+1/3,s,s-1/3].map(e=>(0>e?e+=1:1<e&&(e-=1),e%=1,e=e<1/6?r+6*(i-r)*e:e>=1/6&&.5>e?i:.5<=e&&e<2/3?r+6*(i-r)*(2/3-e):r,n(255*this.limit(e,0,1))))},cmykToRGB:function(e){let t=255*(1-e[0])*(1-e[3]),a=255*(1-e[1])*(1-e[3]),o=255*(1-e[2])*(1-e[3]);return[t,a,o]},rgbToCMYK:function(e){let a=1-e[0]/255,o=1-e[1]/255,n=1-e[2]/255,i=t(a,o,n);a=(a-i)/(1-i),o=(o-i)/(1-i),n=(n-i)/(1-i);return a=isNaN(a)?0:a,o=isNaN(o)?0:o,n=isNaN(n)?0:n,[a,o,n,i]},isDark:function(e){return this.brightness(e)<255*.5},rgbToHex:function(t){let a="#";return t.forEach(t=>{a+=e.ColorUtil.numToHex(t)}),a},rgbToHSV:function(e){let a=e[0]/255,i=e[1]/255,r=e[2]/255,l=t(a,i,r),d=o(a,i,r),c=100*d,m=0,_=0,u=d-l;if(0===d)return _=m=0,[m,_,c];_=100*(u/d);let p=0;u&&(a===d?p=(i-r)/u:i===d?p=2+(r-a)/u:p=4+(a-i)/u),m=60*p,0>m&&(m+=360);let g=n;return m=g(100*m)/100,_=g(100*_)/100,c=g(100*c)/100,[m,_,c]},hsvToRGB:function(e){let a=e[0],o=e[1],i=e[2],s=o/100,l=i/100,d,c,m;d=c=m=0;let _=function(e,t,a){let o=n;d=o(255*e),c=o(255*t),m=o(255*a)};if(0===s)return _(l,l,l),[d,c,m];360===a&&(a=0);let u=a/60,f=Math.floor(u),v=u-f,C=l*(1-s),p=l*(1-s*v),S=l*(1-s*(1-v));return 0===f?_(l,S,C):1===f?_(p,l,C):2===f?_(C,l,S):3===f?_(C,p,l):4===f?_(S,C,l):_(l,C,p),[d,c,m]},numToHex:function(e){let t=parseInt(e).toString(16);return 1===t.length?`0${t}`:t},hexToNum:function(e){return parseInt(e,16)},brightness:function(e){let t=e[0],a=e[1],o=e[2];return .299*t+.587*a+.114*o},limit:function(e,a,n){return o(t(e,n),a)},getColorInstance:function(t){return new e.Color(t)},REGEX:{colorMode:/^(rgb|rgba|hsl|hsla|hsv|hsva|hex|hex8|cmyk)$/}},e.Color=function(e){return this.init(e),this},e.Color.prototype={init:function(e){this.initialColor=e,e=d(e),e?(this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this.format=e.format,this.colorInFormat=e.colorInFormat,this._valid=!0):this._valid=!1},isValid:function(){return this._valid},colorCodeMapping:{hue:"decimal",saturation:"percent",brightness:"percent",lightness:"percent",rgb:"decimal",cmyk:"percent",opacity:"decimal"},getObject:function(t,a){a=a?i.extend({},this.colorCodeMapping,a):this.colorCodeMapping;let o=[this._r,this._g,this._b],s=n,r=function(e){return s(100*e)/100},l=function(e,t){return"percent"===e?r(100*t)+"%":s(360*t)},d=function(e,t){return"percent"===e?r(100*t)+"%":s(255*t)},c=function(e,t){return"decimal"===e?r(t):s(100*t)+"%"};if(/(hsv)/.test(t)){let t=[];return /(hsv)/.test(this.format)?(t[0]=this.colorInFormat.h,t[1]=this.colorInFormat.s,t[2]=this.colorInFormat.v):(t=e.ColorUtil.rgbToHSV(o),/(hsl)/.test(this.format)&&(t[0]=360*this.colorInFormat.h)),{h:l(a.hue,t[0]/360),s:c(a.saturation,t[1]/100),v:c(a.brightness,t[2]/100),a:c(a.opacity,this._a)}}if(/(hsl)/.test(t)){let t=[];return /(hsl)/.test(this.format)?(t[0]=this.colorInFormat.h,t[1]=this.colorInFormat.s,t[2]=this.colorInFormat.l):(t=e.ColorUtil.toHSL(o),/(hsv)/.test(this.format)&&(t[0]=this.colorInFormat.h/360)),{h:l(a.hue,t[0]),s:c(a.saturation,t[1]),l:c(a.lightness,t[2]),a:c(a.opacity,this._a)}}if(/(cmyk)/.test(t)){let t=[];return /(cmyk)/.test(this.format)?(t[0]=this.colorInFormat.c,t[1]=this.colorInFormat.m,t[2]=this.colorInFormat.y,t[3]=this.colorInFormat.k):t=e.ColorUtil.rgbToCMYK(o),{c:c(a.cmyk,t[0]),m:c(a.cmyk,t[1]),y:c(a.cmyk,t[2]),k:c(a.cmyk,t[3])}}return /(hex)/.test(t)?{hex:e.ColorUtil.rgbToHex(o).replace(/#/,""),a:c(a.opacity,this._a)}:{r:d(a.rgb,o[0]/255),g:d(a.rgb,o[1]/255),b:d(a.rgb,o[2]/255),a:c(a.opacity,this._a)}},getPercentageObject:function(e){let t=this.getObject(e);return /(hsv|hsl)/.test(e)?(t.h=100*(t.h/360)+"%",t.a=100*t.a+"%"):/(rgb)/.test(e)&&(t.r=100*(t.r/255)+"%",t.g=100*(t.g/255)+"%",t.b=100*(t.b/255)+"%",t.a=100*t.a+"%"),t},getColor:function(t,a,o){let n=this.getObject(t,a);if(n){let a=1!==this._a;return(o=void 0===o||o,/^(hsv)/.test(t))?(t=o?a?"hsva":"hsv":t,/^(hsva)/.test(t)?"hsva("+n.h+", "+n.s+", "+n.v+", "+n.a+")":"hsv("+n.h+", "+n.s+", "+n.v+")"):/^(hsl)/.test(t)?(t=o?a?"hsla":"hsl":t,/^(hsla)/.test(t)?"hsla("+n.h+", "+n.s+", "+n.l+", "+n.a+")":"hsl("+n.h+", "+n.s+", "+n.l+")"):/^(cmyk)$/.test(t)?"cmyk("+n.c+","+n.m+","+n.y+","+n.k+")":/^(hex)/.test(t)?(t=o?a?"hex8":"hex":t,/^(hex8)/.test(t)?"#"+n.hex+e.ColorUtil.numToHex(255*this._a):"#"+n.hex):(t=o||!/(rgb)/.test(t)?a?"rgba":"rgb":t,/^(rgba)/.test(t)?"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")":"rgb("+n.r+", "+n.g+", "+n.b+")")}},setAlpha:function(e){this._a=l("a",e)},getAlpha:function(){return this._a},setColor:function(e){this.init(e)}};let r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},s=function(){let e="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",a="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{value:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+a),cmyk:new RegExp("cmyk"+a),hex3:/^#?([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1})$/,hex6:/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,hex8:/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/}}(),l=function(t,a){let o=/%/.test(a);return(a=o?parseFloat(a)/100:parseFloat(a),"h"===t)?n(e.ColorUtil.limit(o?360*a:a,0,360)):/(s|v|l)/.test(t)?n(e.ColorUtil.limit(100*a,0,100)):/(c|m|y|k)/.test(t)?n(100*e.ColorUtil.limit(a,0,1))/100:/(r|g|b)/.test(t)?n(e.ColorUtil.limit(o?255*a:a,0,255)):"a"===t?void 0===a||isNaN(a)||0>a||1<a?1:a:void 0},d=function(t){if(t=c(t),"object"==typeof t){let a=t.format,o;if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v"))a=a||"hsva",t.h=l("h",t.h),t.s=l("s",t.s),t.v=l("v",t.v),o=e.ColorUtil.hsvToRGB([t.h,t.s,t.v]);else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l"))a=a||"hsla",t.h=l("h",t.h)/360,t.s=l("s",t.s)/100,t.l=l("l",t.l)/100,o=e.ColorUtil.HSLtoRGB([t.h,t.s,t.l]);else if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b"))a=a||"rgba",t.r=l("r",t.r),t.g=l("g",t.g),t.b=l("b",t.b),o=[t.r,t.g,t.b];else if(t.hasOwnProperty("c")&&t.hasOwnProperty("m")&&t.hasOwnProperty("y")&&t.hasOwnProperty("k"))a=a||"cmyk",t.c=l("c",t.c),t.m=l("m",t.m),t.y=l("y",t.y),t.k=l("k",t.k),o=e.ColorUtil.cmykToRGB([t.c,t.m,t.y,t.k]);else if(t.hasOwnProperty("hex")){if(a=a||"hex",o=c(t.hex),!o)return;o=[o.r,o.g,o.b]}if(o)return{r:o[0],g:o[1],b:o[2],a:l("a",t.a),format:a,colorInFormat:t}}},c=function(t){if("string"==typeof t||"number"==typeof t){t=t.trim().toLowerCase();let a=!1;if(r[t])t=r[t],a=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0};let o=s.rgb.exec(t);if(o)return{r:o[1],g:o[2],b:o[3],format:"rgb"};if(o=s.rgba.exec(t),o)return{r:o[1],g:o[2],b:o[3],a:o[4],format:"rgba"};if(o=s.hsl.exec(t),o)return{h:o[1],s:o[2],l:o[3],format:"hsl"};if(o=s.hsla.exec(t),o)return{h:o[1],s:o[2],l:o[3],a:o[4],format:"hsla"};if(o=s.hsv.exec(t),o)return{h:o[1],s:o[2],v:o[3],format:"hsv"};if(o=s.hsva.exec(t),o)return{h:o[1],s:o[2],v:o[3],a:o[4],format:"hsva"};if(o=s.cmyk.exec(t),o)return{c:o[1],m:o[2],y:o[3],k:o[4],format:"cmyk"};if(o=s.hex8.exec(t),o)return{r:e.ColorUtil.hexToNum(o[1]),g:e.ColorUtil.hexToNum(o[2]),b:e.ColorUtil.hexToNum(o[3]),a:n(100*(e.ColorUtil.hexToNum(o[4])/255))/100,format:"hex8"};if(o=s.hex6.exec(t),o)return{r:e.ColorUtil.hexToNum(o[1]),g:e.ColorUtil.hexToNum(o[2]),b:e.ColorUtil.hexToNum(o[3]),format:a?"rgba":"hex"};if(o=s.hex3.exec(t),o)return{r:e.ColorUtil.hexToNum(o[1]+o[1]),g:e.ColorUtil.hexToNum(o[2]+o[2]),b:e.ColorUtil.hexToNum(o[3]+o[3]),format:"hex"}}else return Array.isArray(t)?{r:t[0],g:t[1],b:t[2],a:t[3],format:"rgba"}:Object.assign({},t)}}(ZComponents),function(e,t){class ZButton extends e.CoreComponent{get name(){return"zbutton"}get attrs(){return{type:"button",appearance:"normal",action:null,actionInProgress:!1,size:"medium",text:null,iconClass:null,SVGIconId:null,disabled:!1,isCustomHTMLEncoded:!0,contentType:"",defaultIconClassName:"",defaultSVGIconId:null}}get props(){return{iconClassName:null,progressIndicator:{type:"circular",position:"left",direction:"left-to-right",loadingText:"",value:5}}}get EVENTS(){return["click","change","statechange"]}get compoundAttrs(){return{disabled:"disabled aria-disabled"}}static getBtnProps(t,a,o){let n=Object.create(t),i=void 0!==a,r=i&&a[0],s=n.customAttributes||{},l;l=n.text||n.label||"",l||o||!i||(l=r.innerText.trim()),l&&(s["aria-label"]=t.text=n.text=l);let d=i&&"INPUT"===r.tagName;d&&(s.for=r.id,n.title=n.title||r.title,n.type=r.type,a.addClass("zh-dnone"),n.hasInput=!0,n.alwaysSetAttrs=!0),s.tabIndex=void 0===s.tabindex?i&&r.tabIndex||0:s.tabindex,t.isCE&&i&&!r.getAttribute("tabindex")&&(s.tabIndex=0),n=ZButton.getIconInfo(n);let c=t.innerHTML;"custom"===t.contentType&&c&&(n.innerHTML=t.isCustomHTMLEncoded?c:e.encodeHTML(c));let m=`zbutton  ${n.size?` zbutton--${n.size} `:"zbutton--medium"}${n.appearance?` zbutton--${n.appearance}`:" zbutton--normal"} ${n.templateRender?(n.className||"")+(n.icon&&!n.text?" zbutton--icononly":""):""}`;return n.title&&(s.title=n.title),n._prevTabIndex=s.tabIndex,n.disabled&&(m+=" is-disabled",n.hasInput&&(s.tabIndex=-1)),s.class&&(m+=" "+s.class,delete s.class),s.disabled=n.disabled,e.Browser.isFirefox&&52>=e.Browser.getFirefoxVersion()&&(m+=" zbutton--ffsupport"),t.cls=m,n.className=m,s.role=n.role||"button",n.name&&i&&r.name&&(s.name=n.name),n.type=n.type||"button",n.attrs=s,n}_init(e,t){t.isCE=this.isCE,t.disabled=t.disabled||e[0].disabled,this._data=ZButton.getBtnProps(t,e),this._prevTabIndex=this._data._prevTabIndex,this._skipParent=!this._data.hasInput}_initialRender(){let e=this.element;"custom"!==this._opts.contentType||this._data.innerHTML?this._render():(this.container=e,this._postRender(e,this._opts),this._postEachRender(e,this._data))}_postRender(e){let t=this._data;t.className+=" "+this._opts.cls,this._container=t.hasInput?this.container:e,this._container[0].type=t.type}_postEachRender(){let e=this._data,t=e.icon&&!e.text;this._updateClass(t?"zbutton--icononly":"",t?null:"zbutton--icononly")}_handleStates(){let e=this._opts.disabled,t=this._data;t.attrs.disabled=e,this._disable(e),this.isCE||this._disable(e,this.element),t.hasInput&&(e&&(this._currentTab=this.container.attr("tabindex")),this.container.attr("tabindex",e?-1:this._currentTab),t.attrs.tabIndex=e?-1:this._currentTab),this._dispatchEvent("statechange",{},{button:this.element,disabled:e,fromUI:!1})}_bindEvents(){let t=this.name,a=this.getElement();this._handleFocus(this._container),a.on("click."+t,e=>{a.hasClass("is-disabled")||(this._opts.actionInProgress&&this.showProgressIndicator&&this.showProgressIndicator(),this._dispatchEvent("click",e,{button:this.element,fromUI:!0}))}).on("mousedown."+t,e=>{if(a.hasClass("is-disabled"))return e.stopImmediatePropagation(),!1}),e.ShortCut&&e.ShortCut.register(this.element)}static getIconInfo(t,a,o){let n=t.iconClassName||t.iconClass||t.SVGIconId||t.defaultSVGIconId,i="";n&&(i=t.defaultIconClassName+" zbutton__icon"),t.defaultIconClassName=i;let r=e._getIconInfo(t.iconClassName||t.iconClass,t.SVGIconId,t.defaultSVGIconId,t.defaultIconClassName,!a&&t);if(a){let e=["icon","iconClass","SVGIconId","iconClassName","SVGIconClassName"],t=e.length,a;for(let n=0;n<t;n++)a=e[n],o[a]=r[a]}else return r}_setAttribute(e,t,a=this.getElement()){let o=this._opts,n=this._data,i=o[e];if(o[e]=t,"appearance"===e||"size"===e)this._updateClass("zbutton--"+t,"zbutton--"+i),"size"===e&&o.actionInProgress&&(t=""===t.trim()||"default"===t?"medium":t,a.find(".zbutton__loader circle").attr({cx:this._CIRCLEX[t],cy:this._CIRCLEY[t],r:this._CIRCLER[t]}));else if("disabled"===e)this._handleStates();else if("text"===e)this._domChanged=!0,n[e]=t;else if(-1<["iconClassName","iconClass","SVGIconId","defaultSVGIconId"].indexOf(e))o.actionInProgress||ZButton.getIconInfo(o,!0,n),this._domChanged=!0;else if("actionInProgress"===e||"progressIndicator"===e)this._setProgressAttribute(e,t);else if("title"===e){let e=n.attrs||{};e.title=t,n.attrs=e,this._domChanged=!0}this._domChanged&&n.hasInput&&(this._render(n,void 0,this.container[0],this._skipParent),this._domChanged=!1)}destroy(){let e=this.getElement(),t=this._data;t.className=" ",super.destroy(),e.text(t.text)}get _CIRCLEX(){return{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"}}get _CIRCLEY(){return{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"}}get _CIRCLER(){return{medium:"6.5",large:"9px",small:"6px",mini:"5.5px"}}setProgressValue(e,t){100<e&&(e=100),this._data.progressInfo.value=this._opts.progressIndicator.value=e,t||this._render()}getProgressValue(){return this._opts.progressIndicator.value}showProgressIndicator(e){e=e||{};let t=this._opts.progressIndicator,a=e.loadingText||t.loadingText,o=this._data;o.showProgress=!0,""!==a&&(this._prevText=o.text,o.text=a),o.progressInfo||(this._setProgressData(e,!0),this._opts.actionInProgress=!0),this._updateClass("is-disabled zbutton--loading zh-transition"),this._render()}_setProgressData(t,a){let o=this._opts.progressIndicator,n=t.position||o.position,i=t.direction||o.direction,r=t.type||o.type,s=t.SVGIconId||o.SVGIconId,l=t.value||o.value,d=t.iconClassName||o.iconClassName,c=this._opts.size,m=this._CIRCLEY,_=this._CIRCLEX,u={trackCX:m[c],trackCY:m[c],trackRadius:m[c],progressCX:_[c],progressCY:_[c],progressRadius:_[c]};(s||d)&&(u.progressIcon=e._getIconInfo(d,s,null,"zbutton__icon zbutton--loader")),"circular"===r?u["circular"+n[0].toUpperCase()+n.slice(1)]=!0:(u["linear-bar"===r?"linearBar":"linearFill"]=!0,u.direction="right-to-left"===i?"fromright":"fromleft"),u.position="linear-bar"===r?"top"===n||"bottom"===n?n:"bottom":"left"===n||"right"===n?n:"left",u.className=u.circularRight&&!this._container.is(".zbutton--icononly")?"zh-floatright ":"",this._data.progressInfo=u,"circular"!==r&&this.setProgressValue(l,!0),a||this._render()}hideProgressIndicator(){let e=this._data;e.showProgress=this._opts.actionInProgress=!1,e.text=this._prevText||e.text,this._updateClass("","zbutton--loading zh-transition"),this._opts.disabled||(this._container.removeAttr(this.compoundAttrs.disabled),this._updateClass("","is-disabled")),this._render()}_setProgressAttribute(e,a){let o=this._opts;"actionInProgress"===e?this[(a?"show":"hide")+"ProgressIndicator"]():"progressIndicator"==e&&(a=t.extend({},o[e],a),this._setProgressData(a)),o[e]=a}}e.registerComponent("ZButton",ZButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zbutton.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`${e.mainElement||ZT.html`<button ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" tabindex="${e.attrs&&e.attrs.tabIndex||e.tabIndex||0}" ?title="${e.title}" class="${e.className}" ?data-action-name=${e.attrs&&e.attrs.actionName} >${e.templateRender?ZT.html`${t.WCChildren(e)}`:""}${e.children&&t.WCChildren(e)}</button>`}`,t.WCChildren=e=>ZT.html` ${e.innerHTML?ZT.html`${ZT.customHTML(e.innerHTML)}`:t.WCDefaultChild(e)} `,t.WCDefaultChild=e=>ZT.html` ${e.showProgress&&e.progressInfo.circularLeft?ZT.html`${t.WCLoader(e.progressInfo)}`:e.icon&&ZT.html`${a.WCIcon(e)}`} ${e.text&&ZT.html`<span class='zbutton__text'>${e.text}</span>`} ${e.showProgress&&!e.progressInfo.circularLeft&&ZT.html`${t.WCLoader(e.progressInfo)}`}`,t.WCLoader=e=>ZT.html` ${e.linearBar&&ZT.html`<span class="zbutton__${e.position}line" style="width:${e.value}%;" ></span>`} ${e.linearFill&&ZT.html`<span class="zbutton__bgprogress zbutton__bgprogress--${e.direction}" style="width:${e.value}%;" ></span>`} ${(e.circularLeft||e.circularRight)&&(e.progressIcon?icon(e.progressIcon):ZT.customHTML(`<i class="zbutton__icon zbutton--loader ${e.className}"><svg class="zbutton__svg zbutton__loader zeffects--rotate" width="100%" height="100%"> <circle class="circle__track" cx="${e.trackCX}" cy="${e.trackCY}" r="${e.trackRadius}"></circle> <circle class="circle__load" cx="${e.progressCX}" cy="${e.progressCY}" r="${e.progressRadius}"></circle> </svg></i>`))}`}(ZComponents),function(e){let t=e.zbutton.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`${e.mainElement||ZT.html`<button ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" tabindex="${e.attrs&&e.attrs.tabIndex||e.tabIndex||0}" ?title="${e.title}" class="${e.className}" ?data-action-name=${e.attrs&&e.attrs.actionName} >${e.templateRender?ZT.html`${t.children(e)}`:""}${e.children&&t.children(e)}</button>`}`,t.children=e=>ZT.html` ${e.innerHTML?ZT.html`${ZT.customHTML(e.innerHTML)}`:t.defaultChild(e)} `,t.defaultChild=e=>ZT.html` ${e.showProgress&&e.progressInfo.circularLeft?ZT.html`${t.loader(e.progressInfo)}`:e.icon&&ZT.html`${a.icon(e)}`} ${e.text&&ZT.html`<span class='zbutton__text'>${e.text}</span>`} ${e.showProgress&&!e.progressInfo.circularLeft&&ZT.html`${t.loader(e.progressInfo)}`}`,t.loader=e=>ZT.html` ${e.linearBar&&ZT.html`<span class="zbutton__${e.position}line" style="width:${e.value}%;" ></span>`} ${e.linearFill&&ZT.html`<span class="zbutton__bgprogress zbutton__bgprogress--${e.direction}" style="width:${e.value}%;" ></span>`} ${(e.circularLeft||e.circularRight)&&(e.progressIcon?icon(e.progressIcon):ZT.customHTML(`<i class="zbutton__icon zbutton--loader ${e.className}"><svg class="zbutton__svg zbutton__loader zeffects--rotate" width="100%" height="100%"> <circle class="circle__track" cx="${e.trackCX}" cy="${e.trackCY}" r="${e.trackRadius}"></circle> <circle class="circle__load" cx="${e.progressCX}" cy="${e.progressCY}" r="${e.progressRadius}"></circle> </svg></i>`))}`}(ZComponents),function(e,t){class ZMenuButton extends e.ZButton{get name(){return"zmenubutton"}get attrs(){return{openOn:"click",menuId:null,delay:0,arrowIcon:!0,arrowIconClass:null,arrowSVGIconId:null,activeClass:"is-selected"}}get props(){return{arrowIconClassName:null}}static getIconInfo(t){let a=e._getIconInfo(t.arrowIconClassName||t.arrowIconClass,t.arrowSVGIconId,"zc__svg--downarrow zbutton__svg zbutton__menuarrow","zbutton__icon zh-floatright");return t.arrowIcon=!0,t.arrowIconInfo=a,t}static init(e){e.className+=" zbutton--menu";let t=e.customAttributes||{};return t["aria-haspopup"]=!0,t["aria-expanded"]=!1,t["aria-controls"]=e.menuId,e.customAttributes=t,e.arrowIcon?ZMenuButton.getIconInfo(e):e}_init(){this._opts=e.ZMenuButton.init(this._opts),super._init(...arguments)}_updateIcon(){let t=this._opts;t.arrowIcon&&e.ZMenuButton.getIconInfo(t)}_mousedownHandler(t){let a=3===t.which,o=this._opts,n=this._getID(this.element),i=o.disabled;if(!i&&e.menu&&window.setTimeout(()=>this._showHideMenu(a,n),o.delay||0),i||a)return t.stopImmediatePropagation(),!1}_keydownHandler(a){let o=!1,n=!1,i=!1,r=a.keyCode,s=e.keyCode,l=this._activeMenu||t("#"+this._opts.menuId);if(r===s.ESCAPE||r===s.TAB?l.is(":visible")&&(l.find(".on-hover").hasClass("zmenu--submenu")?i=!0:(e.menu(l).hide(),r===s.ESCAPE&&a.stopPropagation())):(r===s.ENTER||r===s.SPACE)&&l?document.activeElement===this.element[0]&&(o=!0,l.find(".on-hover").length?i=!0:n=!0):(o=!0,l.is(":visible")?i=!0:(r===s.UP||r===s.DOWN)&&(n=!0)),i?e.menu(l).handleKeyCode(a):n&&this._showHideMenu(),o)return!1}_clickHandler(e){this._dispatchEvent("click",e,{button:this.element})}_bindEvents(){let t={mousedown:"mousedown",keydown:"keydown",click:"click"};"mouseover"===this._opts.openOn&&(t={mouseEnter:"mouseenter",mouseLeave:"mouseleave"}),this._addEvents(t),this._handleFocus(this._container),e.ShortCut&&e.ShortCut.register(this.element)}_showHideMenu(a,o){let n=this._opts,i=t("#"+n.menuId);if(!a&&!i.is(":visible")){let t={menuHide:"zmenuhide."+o+" zhide."+o,menuShow:"zmenushow."+o+" zshow."+o+" zmenusubmenushow."+o+" zsubmenushow."+o,menuSubmenuHide:"zmenusubmenuhide."+o+" zsubmenuhide."+o};"mouseover"===n.openOn&&(t.menuMouseEnter="mouseenter",t.menuMouseLeave="mouseleave"),e.Browser.isFirefox||(t.menuFocus="zmenubeforefocus zbeforefocus zmenubeforesubmenufocus zbeforesubmenufocus"),this._addEvents(t,i),e.menu(i,{rtl:n.rtl}),e.menu(i).show({forElement:this._container.data("menuForElement")||this._container}),this._handleState(!0),this._addEvents({windowResize:"resize"},e.$window)}else"mouseover"!==this._opts.openOn&&(this._handleState(),e.menu(i).hide())}_windowResizeHandler(){e.currentMenu&&e.menu(e.currentMenu).hide()}_menuFocusHandler(){return!1}_mouseLeaveHandler(a){let o=this._opts,n="#"+o.menuId;this._mouseEnterFired=!1,this._mouseLeaveTimeout=setTimeout(()=>{this._durationLeft&&(this._durationLeft-=new Date().getTime()-this._closeAfterStartTime);let i=t(a.relatedTarget);i.parents(n).length||i.attr("id")===n||(this._handleState(),e.menu(t("#"+o.menuId)).hide())},50)}_menuMouseEnterHandler(){this._resetLeaveTimer()}_menuMouseLeaveHandler(e){this._mouseLeaveHandler(e)}_mouseEnterHandler(e){this._mouseEnterFired=!0,this._resetLeaveTimer(),this._mousedownHandler(e)}_resetLeaveTimer(e){this._durationLeft&&(this._durationLeft-=new Date().getTime()-this._closeAfterStartTime),this._mouseLeaveTimeout&&clearTimeout(this._mouseLeaveTimeout)}_menuHideHandler(t,a){let o=(t.detail||a||{}).menuitem,n=t.originalEvent;if(n){let e=o&&o.is(".is-fixed"),t="mouseup"===n.type;!e&&t&&(this.element.focus(),this.element.removeClass("has-kfocus")),(t||e)&&this.element.removeClass("has-focus")}this._handleState(),this._removeEvents("resize",e.$window);let i=this._getID(this.element);this._removeEvents("zmenuhide."+i+" zhide."+i,t.detail.element),this._removeEvents("zmenusubmenuhide."+i+" zsubmenuhide."+i,t.detail.element),this._activeMenu=void 0}_menuSubmenuHideHandler(e){this._activeMenu=e.detail.element}_menuShowHandler(e){let t=e.detail;this._activeMenu=t.menu||t.element}_handleState(e){this._container[e?"addClass":"removeClass"](this._opts.activeClass),this.element.attr("aria-expanded",e)}_destroy(){this.element.removeClass("zbutton--menu").removeAttr("aria-haspopup");let e=t("#"+this._opts.menuId),a=this._getID(this.element);this._removeEvents("zmenuhide."+a+" zhide."+a+" zmenubeforefocus zbeforefocus zmenubeforesubmenufocus zbeforesubmenufocus",e),this._removeEvents("zmenushow."+a+" zshow."+a+" zmenusubmenushow."+a+" zsubmenushow."+a+" zmenusubmenuhide."+a+" zsubmenuhide."+a,e),this._activeMenu=void 0,super._destroy()}_setAttribute(a,o){"menuId"===a&&this.element[0].setAttribute("aria-controls",o);let n=this._opts;if("arrowIconClassName"===a||"arrowIconClass"===a||"arrowSVGIconId"===a)n[a]=o,this._updateIcon(),this._domChanged=!0;else if("rtl"===a)e.menu(t(`#${n.menuId}`)).setAttribute("rtl",o);else return super._setAttribute(a,o)}}e.registerComponent("ZMenuButton",e.ZButton,ZMenuButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zmenubutton.Templates,a=e.Templates.Utilities.icon;t.WCContainer=e=>ZT.html`<button ?aria-label="${e.text}" id="${e.id}" role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.WCChildren(e)}</button>`,t.WCChildren=e=>ZT.html`${e.icon&&ZT.html`<i class="zbutton__icon ${e.iconClassName} "> ${e.SVGIconId&&ZT.customHTML(`<svg class="${e.SVGIconClassName}"> <use xlink:href="${e.SVGIconId}" ></use> </svg>`)} </i>`} ${e.text&&ZT.html`<span class="zbutton__text">${e.text}</span>`} ${e.arrowIcon&&a(e.arrowIconInfo)}`}(ZComponents),function(e){let t=e.zmenubutton.Templates,a=e.Templates.Utilities.icon;t.container=e=>ZT.html`<button ?aria-label="${e.text}" id="${e.id}" role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.children(e)}</button>`,t.children=e=>ZT.html`${e.icon&&ZT.html`<i class="zbutton__icon ${e.iconClassName} "> ${e.SVGIconId&&ZT.customHTML(`<svg class="${e.SVGIconClassName}"> <use xlink:href="${e.SVGIconId}" ></use> </svg>`)} </i>`} ${e.text&&ZT.html`<span class="zbutton__text">${e.text}</span>`} ${e.arrowIcon&&a(e.arrowIconInfo)}`}(ZComponents),function(e,t){class ZSplitButton extends e.CoreComponent{get name(){return"zsplitbutton"}get attrs(){return{appearance:"normal",size:"medium",text:null,icon:null,iconClass:null,SVGIconId:null,disabled:!1,arrowIcon:!0,arrowIconClass:null,arrowSVGIconId:null,menuId:null,updateButtonOnMenuItemClick:!0,activeClass:""}}get props(){return{iconClassName:null,arrowIconClassName:null,splitbuttonAttributes:{}}}get EVENTS(){return["click","change"]}_init(t,a){a.isCE=this.isCE,a.disabled=a.disabled||this.element[0].disabled;let o=t[0],n=t.attr("id"),i;a.text=a.text||o.textContent,n&&(i=n+"DropDown"),a.primaryButton=e.ZButton.getBtnProps({text:a.text,isCE:a.isCE,className:"zbutton--action",appearance:a.appearance,disabled:a.disabled,templateRender:!0,iconClass:a.iconClass,iconClassName:a.iconClassName,size:a.size,SVGIconId:a.SVGIconId},t),a.menuButton=e.ZMenuButton.init({id:i,templateRender:!0,className:"zbutton zbutton--icononly",appearance:a.appearance,size:a.size,disabled:a.disabled||!1,delay:a.delay,arrowIcon:!0,arrowIconClass:a.arrowIconClass,arrowIconClassName:a.arrowIconClassName,isCE:a.isCE,menuId:a.menuId,arrowSVGIconId:a.arrowSVGIconId,customAttributes:a.splitbuttonAttributes}),t.removeAttr("data-menu-id")}_postRender(){let e=this.element,a=this.container,o=this._opts,n=e.attr("title");n&&(e.removeAttr("title"),a.attr("title",n));let i=a.find(".zbutton--menu");o.isCE||a.attr("id",e.attr("id")+"Container"),this._data.className+=" zbutton--split  zbutton--split"+(o.appearance||"normal"),i.data("menuForElement",a),this.actionBtn=a.find(".zbutton--action").length?a.find(".zbutton--action"):t(a.find(".zbutton")[0]),this.menuButton=i}_bindEvents(){let a=t("#"+this._opts.menuId),o=this.name,n=this.actionBtn,i=this.menuButton;this.container.on("click."+o,o=>{if(!n.hasClass("is-disabled")){let n=t(o.target).closest(".zbutton"),r=n[0]===i[0];!r&&e.menu&&e.menu(a).hide(),this._dispatchEvent("click",o,{isMenuButton:r,button:this.element,menuButton:i},this.isCE?this.container:this.element)}}),n.off("click.zbutton").off("mousedown."+o).on("mousedown."+o,e=>{if(n.hasClass("is-disabled"))return e.stopImmediatePropagation(),!1}),e.ShortCut&&(e.ShortCut.register(n),e.ShortCut.register(this.menuButton)),a.on("zmenushow."+o+" zshow."+o,e=>{let t=this.container[0];if(a.data("forElement")[0]===t){let r=window.getComputedStyle(t,null),s=e.detail.menu.attr("class"),l=this._opts.rtl;s.match("top")?(n.css("border-bottom-"+(l?"right":"left")+"-radius",r["borderBottom"+(l?"Right":"Left")+"Radius"]),i.css("border-bottom-"+(l?"left":"right")+"-radius",r["borderBottom"+(l?"Left":"Right")+"Radius"])):s.match("bottom")&&(n.css("border-top-"+(l?"right":"left")+"-radius",r["borderTop"+(l?"Right":"Left")+"Radius"]),i.css("border-top-"+(l?"left":"right")+"-radius",r["borderTop"+(l?"Left":"Right")+"Radius"])),a.off("zmenubeforeshow."+o+" zbeforeshow."+o),this.container.addClass(this._opts.activeClass)}}).on("zmenuhide."+o+" zhide."+o,()=>{let e={"border-bottom-left-radius":"","border-top-left-radius":"","border-bottom-right-radius":"","border-top-right-radius":""};n.css(e),i.css(e),this.container.removeClass(this._opts.activeClass)}),this._opts.updateButtonOnMenuItemClick&&a.on("zmenubeforeshow."+o+" zbeforeshow."+o,()=>{this._opts.updateButtonOnMenuItemClick&&this._hideMenuItem(!0)}).on("zmenuitemclick."+o+" zitemclick."+o,t=>{let o=t.detail,n=e.menu(o.menu)._opts,i=this._opts.iconClassName||this._opts.iconClass||this._opts.SVGIconId,r=e.button(this.actionBtn)._opts.text,s=i?r?"icon-text":"icon":"text";if(n.contentType===s){this._hideMenuItem(!1);let n=o.data;e.menu(a).hideMenuItems([o.menuitem]),i&&(n.SVGIconId?this._setAttribute("SVGIconId",n.SVGIconId):n.iconClassName&&this._setAttribute("iconClassName",n.iconClassName)),r&&this._setAttribute("text",n.label),this._dispatchEvent("change",t,{button:this.element,menuButton:this.menuButton},this.isCE?this.container:this.element)}})}_hideMenuItem(a){let o=t("#"+this._opts.menuId),n=e.button(this.actionBtn)._opts.text,r=this._opts.SVGIconId&&-1===this._opts.SVGIconId.indexOf("#")?"#"+this._opts.SVGIconId:this._opts.SVGIconId,s=this._opts.iconClassName||this._opts.iconClass,l=o.find(".zmenu__item"),d=e.menu(o)._opts.contentType;n=n&&n.trim();for(let c=0;c<l.length;c++){let i=l[c].itemData,m=i.label||t(l[c]).text().trim(),_="text"!==i.contentType,u=!!(_&&r)&&r===i.SVGIconId,p=!!(_&&s&&i.iconClassName)&&i.iconClassName.replace("zmenu__icon","").trim()===s,h=u||p||!a,g=m&&n?m===n:!a;("icon-text"===d?h&&g:"icon"===d?h:g)&&e.menu(o)[a?"hideMenuItems":"showMenuItems"]([l[c]])}}_setAttribute(t,a){if(("disabled"===t||"menuId"===t||"size"===t||"appearance"===t||"arrowIconClassName"===t||"arrowIconClass"===t||"arrowSVGIconId"===t||"rtl"===t)&&(e.menubutton(this.menuButton).setAttribute(t,a),"appearance"===t)){let e="primary"===a;this._updateClass(e?"":"zbutton--splitnormal",e?"zbutton--splitnormal":"")}return this._opts[t]=a,e.button(this.actionBtn).setAttribute(t,a)}_destroy(){this.actionBtn.removeClass("zbutton zbutton--icononly is-selected is-disabled zbutton--"+this._opts.size+" zbutton--"+this._opts.appearance).removeAttr("role aria-label");let e=t("#"+this._opts.menuId);e.off("zmenubeforeshow.zsplitbutton zbeforeshow.zsplitbutton zmenushow.zsplitbutton zshow.zsplitbutton zmenuitemclick.zsplitbutton zitemclick.zsplitbutton zmenuhide.zsplitbutton zhide.zsplitbutton")}}e.registerComponent("ZSplitButton",ZSplitButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zsplitbutton.Templates,a=e.zmenubutton.Templates.button,o=e.zbutton.Templates.button;t.WCContainer=e=>ZT.html`<div ?aria-label="${e.text}" id="${e.id}" role="splitbutton" class="zbutton--split ${e.className}">${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=t=>ZT.html`${e.createButton(t.primaryButton)} ${e.createMenuButton(t.menuButton)}`}(ZComponents),function(e){let t=e.zsplitbutton.Templates,a=e.zmenubutton.Templates.button,o=e.zbutton.Templates.button;t.container=e=>ZT.html`<div ?aria-label="${e.text}" id="${e.id}" role="splitbutton" class="zbutton--split ${e.className}">${e.children&&t.children(e)}</div>`,t.children=t=>ZT.html`${e.createButton(t.primaryButton)} ${e.createMenuButton(t.menuButton)}`}(ZComponents),function(e,t){var a=Math.ceil;e.createFileUpload=function(t={}){return t.tagName=t.isCE?"z-fileupload":"input",e.createElement(t,"fileupload")};class ZFileUpload extends e.ZButton{get name(){return"zfileupload"}get attrs(){return{type:"file",directory:!1,accept:"",maxAllowedSize:null,maxAllowedFiles:null,multiple:!1}}get props(){return{labels:{exceedsAllowedSize:"File size exceeds the maximum allowed size of {0}.",exceedsAllowedFiles:"Number of Files Exceeded."},errorMessage:{exceedsAllowedSize:null,exceedsAllowedFiles:null}}}get EVENTS(){return["change"]}static dirAttrValue(){return{webkitdirectory:"",directory:"",mozdirectory:"",odirectory:"",msdirectory:""}}_postRender(){let e=this.element,a=this._opts,o=a.directory?ZFileUpload.dirAttrValue():{};if(o.type=a.type,this.isCE){let a=e.attr("id");e.removeAttr("tabindex"),t("<input type=file id='"+a+"Input' tabindex=-1 style='display:none' /><label for='"+a+"Input' class='zbutton--fileupload'></label>").appendTo(e),e=e.find("input"),this._label=e.find("label")}this._input=e,o.role="fileupload",a.multiple&&(o.multiple=!0),a.accept&&(o.accept=a.accept),this.element.attr(o),super._postRender(...arguments)}_bindEvents(){this._addEvents({change:"change"},this.element),this._addEvents({containerKeydown:"keydown",containerClick:"click mousedown"}),this._handleFocus(),e.ShortCut&&e.ShortCut.register(this.element)}_changeHandler(e){let t=this._input,a=t.prop("files"),o={},n=this._opts.maxAllowedFiles,i=this._opts.maxAllowedSize,r=!1;this._isNotNull(n)&&(r=this._checkFilesCount(a,n),r)||(0<parseInt(i)&&(o=this._checkFilesSize(a,i)),(o&&o.length||i===void 0||null===i)&&this._dispatchEvent("change",e,{input:t,value:t.val(),files:o.length<a.length?o:a},t))}_containerKeydownHandler(t){if(t.keyCode===e.keyCode.ENTER||t.keyCode===e.keyCode.SPACE)return this[this.isCE?"_label":"container"].trigger("click"),t.stopImmediatePropagation(),!1}_containerClickHandler(e){if(this.container.hasClass("is-disabled"))return"mousedown"===e.type&&e.stopImmediatePropagation(),!1}_showAlert(t){let a=this._getI18NText(t?"exceedsAllowedSize":"exceedsAllowedFiles",[this._opts[t?"maxAllowedSize":"maxAllowedFiles"]],"errorMessage");e.AlertDialog?(e.AlertDialog.close(),e.AlertDialog.open({type:"error",rtl:this._opts.rtl,primaryMessage:a})):window.alert(a),this._input[0].value=""}_setAttribute(e,t){let a=this._input;if("directory"===e){let e=ZFileUpload.dirAttrValue();t?a.attr(e):a.removeAttr(Object.keys(e).join(" "))}else"accept"===e?a[t?"attr":"removeAttr"](e,t):(super._setAttribute(e,t),("multiple"==e||"disabled"==e)&&a[t?"attr":"removeAttr"](e,t));this._opts[e]=t}_destroy(){this.element.off("change.zfileupload"),super._destroy()}_checkFilesSize(e){let t=e.length,a=0,o={},n;for(let r=0;r<t;r++){if(n=e[r],a+=parseFloat(n.size),this._checkAllowedSize(a))return this._showAlert(!0);o[r]=n,o.length=r+1}return o}_checkAllowedSize(e){let t=this._opts.maxAllowedSize,o=t.substring(t.length-2).toLowerCase(),n=["kb","mb","gb","tb"].indexOf(o)+1;return t=parseInt(t),a(e)>a(t*(n?Math.pow(1024,n):1))}_checkFilesCount(e,t){let a=e.length>parseInt(t);return a&&(this.value="",this._showAlert()),a}}e.registerComponent("ZFileUpload",e.ZButton,ZFileUpload)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zfileupload.Templates;t.WCContainer=e=>ZT.html`<z-fileupload ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.WCChildren(e)}</z-fileupload>`,t.WCChildren=e.zbutton.Templates.children}(ZComponents),function(e){let t=e.zfileupload.Templates;t.container=e=>ZT.html`<label ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.children(e)}</label>`,t.children=e.zbutton.Templates.children}(ZComponents),function(e,t){class ZCheckboxButton extends e.ZButton{get name(){return"zcheckboxbutton"}get attrs(){return{type:"checkbox",name:null,checked:!1}}_init(e,t,a){t.checked=!!(t.checked||this.element[0].checked),t.role=a||"checkbox",super._init(...arguments)}_initialRender(){let e=this.isCE?this.element:t("div[for=\""+this.element.attr("id")+"\"]"),a=this._data;e.attr("type",a.type),"custom"===this._opts.contentType&&(this.isCE?!a.innerHTML:e.length)?(e.attr(a.attrs),this.container=e,this._postRender(e,this._opts),this._postEachRender(e,a)):this._render()}_applyChange(e,t){let a=this._opts.role;("checkbox"===a||t)&&this._container[e?"addClass":"removeClass"]("is-selected"),"radio"===a&&(this._container.attr("tabindex",e?this._data._prevTabIndex:-1),this._data.attrs.tabIndex=e?this._data._prevTabIndex:-1),this._addedByComponent=!0,this._container.prop("checked",e).attr("aria-checked",e),this.element.prop("checked",e),this._addedByComponent=!1}_bindEvents(){this._applyChange(this._opts.checked,!0),this._addEvents({click:"click",keydown:"keydown"}),super._bindEvents()}_clickHandler(t,a=!0,o){if(!this._container.hasClass("is-disabled")){let n=a;this._container.prop("checked")&&!o&&(n=!1),this._opts.checked=n,this._applyChange(n,!1,t),t&&this._dispatchEvent("change",t,{button:this.element,fromUI:!e.isEmpty(t)})}}_keydownHandler(t){let a=e.keyCode;(t.keyCode===a.ENTER||t.keyCode===a.SPACE)&&(this._container.trigger("click"),t.preventDefault())}_setAttribute(e,t){"checked"===e?this._clickHandler({},t):super._setAttribute(e,t)}_destroy(){this.element.removeClass("zh-dnone"),super._destroy()}}e.registerComponent("ZCheckboxButton",e.ZButton,ZCheckboxButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcheckboxbutton.Templates,a=e.zbutton.Templates;t.WCContainer=e=>ZT.html`<z-checkboxbutton ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.WCChildren(e)}</z-checkboxbutton>`,t.WCChildren=e=>ZT.html`${a.WCChildren(e)}`}(ZComponents),function(e){let t=e.zcheckboxbutton.Templates,a=e.zbutton.Templates;t.container=e=>ZT.html`<div ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" ?type="${e.type}" class="zbutton ${e.className}">${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`${a.children(e)}`}(ZComponents),function(e,t){class ZRadioButton extends e.ZCheckboxButton{get name(){return"zradiobutton"}get attrs(){return{type:"radio",name:null,checked:!1}}_init(e,t){this._opts.templateName="zcheckboxbutton",super._init(e,t,"radio")}_bindEvents(){this._selector=this._opts.isCE?"z-radiobutton":"input[type='radio']",super._bindEvents();let a=this.element,o=a.attr("name"),n=t(`${this._selector}[name=${o}]`),i=n.filter((e,o)=>{let n=t(o).data("zradiobutton"),i=n&&o.checked,r=!n&&o!==a[0],s=!r&&this._opts.checked;if(i||r||s)return o});if((!i||!i.length||n&&1===n.length&&n[0]===a[0])&&(n=n.filter((e,t)=>{if(!t.disabled&&"true"!==t.getAttribute("data-disabled"))return t}),n&&n.length)){let t=n[0];if(t===a[0])this._container[0].setAttribute("tabindex",this._data._prevTabIndex);else{let a=e.radiobutton(t);a.getElement()[0].setAttribute("tabindex",a.getData()._prevTabIndex)}}!a.closest(".zbutton--group").length&&e.selectable&&this._handleSeparateRadio&&this._handleSeparateRadio()}getData(){return this._data}_applyChange(e,t){t=t||!this.element.closest(".zbutton--group").length,super._applyChange(e,t)}handleSelection(t,a){t&&this._container.trigger("focus"),this._applyChange(t),a&&a.originalEvent&&"mouseup"!==a.originalEvent.type&&t&&this._dispatchEvent("change",a,{button:this.element,fromUI:!e.isEmpty(a)})}_clickHandler(t,a){return this.element.closest(".zbutton--group").length?void(t&&this._dispatchEvent("change",t,{button:this.element,fromUI:!e.isEmpty(t)})):super._clickHandler(t,a,!0)}_handleSeparateRadio(){let t=this.element,a=t.parent();a.data("zselectable")||e.selectable(a,{items:".zbutton[type=\"radio\"]:not(.is-disabled)",selectOnFocus:!0,focusItemOnItemMouseover:!1,keyNavigationOptions:{direction:"horizontal",wrapAround:!0},select:e=>{this._updateSelection(e,!0)},deselect:e=>{this._updateSelection(e,!1)}})}_updateSelection(t,a){let o=t.detail.item;e.radiobutton(this.isCE?o[0]:o.prev("input")).handleSelection(a,t)}}e.registerComponent("ZRadioButton",e.ZCheckboxButton,ZRadioButton)}(ZComponents,ZComponents.DOMUtil),function(e,t){e.createButtonGroup=function(t){t.tagName=t.isCE?"z-buttongroup":"div";let a=t.items.length,o=e.createElement(t,"buttongroup",!0),n,r,s,l;for(let d=0;d<a;d++)n=t.items[d],n.isCE=t.isCE,n.type&&(l=n.customAttributes||{},l.type=n.type,n.customAttributes=l),r="z"+(n.type||"")+"button",s=e.tagNames[r],n.tagName=t.isCE?s[1]:"radio"!==n.type&&"checkbox"!==n.type?s[0]:"input",o.append(e.createElement(n,r.slice(1),!0));return t.isCE||e.buttongroup(o,t),o};class ZButtonGroup extends e.CoreComponent{get name(){return"zbuttongroup"}get attrs(){return{appearance:"normal",disabled:!1,size:"medium",selectors:"button, input, a, div",nospriteIcon:!1,spriteIconClass:"",label:"",labelPosition:"",constructButtonGroup:!0}}get props(){return{spriteIconClassName:""}}get EVENTS(){return["click","change"]}get _validCESelectors(){return"z-button,z-radiobutton,z-checkboxbutton,z-anchor,z-colorsplitbutton,z-colorbutton,z-menubutton,z-splitbutton,z-fileupload,z-buttongroup,div"}get SELECTORS(){let e=this.isCE;return{items:e?this._validCESelectors:"button, input, a, div:not([for])"}}_render(){}_construct(a,o){if(this._items=this.element[0].querySelectorAll(this._SELECTORS.items+":not([ctype])"),this.element.addClass("zbutton--group "+this._opts.className+(this._opts.rtl?" h-rtl":"")),this.element[0].setAttribute("role","buttongroup"),this.isCE)this._handleChange("appearance"),this._handleChange("size"),this._handleChange("disabled");else{let a=this._opts,o=a.spriteIconClassName,n=a.spriteIconClass,i=this._validCESelectors.replace(/-/g,"").split(","),r,s,l,d,c;for(let m in this._items)this._items.hasOwnProperty(m)&&"length"!=m&&(r=t(this._items[m]),s=e._getOpts(r),c=s.icon||s.iconClass||s.iconClassName,s.constructButton=a.constructButtonGroup,!a.nospriteIcon&&!s.nospriteIcon&&c&&(o||n)&&(s.icon=(o||n)+" "+c),"zbuttongroup"===s.ctype?(this.element.data("mainButtonGroup",!0),r.data("innerButtonGroup",!0).addClass("zbutton--group__inner"),r.zbuttongroup(s)):(s.appearance=a.appearance,s.size=a.size,d=["INPUT","BUTTON","A","DIV"].indexOf(r[0].tagName),l=s.ctype,-1<d&&(!l&&0===d&&(r.attr("data-ignoretrack","true"),l="radio"===r.attr("type")?"zradiobutton":"zcheckboxbutton"),0>i.indexOf(l)&&(l="zbutton"),r[l](s),s.ctype=l)))}}_handleStates(){let e=this._opts.disabled;this._disable(e,this.element),this._handleChange("disabled")}_bindEvents(){let t=this.name,a=this.element;a.on("zbuttonchange."+t+" zradiobuttonchange."+t+" zcheckboxbuttonchange."+t,e=>{this._dispatchEvent("change",e,e.detail)}).on("zbuttonclick."+t,e=>{this._dispatchEvent("click",e,e.detail)}),this._handleStates(),e.selectable&&a.find("[type=\"radio\"]").length&&e.selectable(a,{items:".zbutton[type=\"radio\"]:not(.is-disabled)",selectOnFocus:!0,focusItemOnItemMouseover:!1,keyNavigationOptions:{direction:"horizontal",wrapAround:!0},select:e=>{let t=e.detail.item;this._handleSelection(e,t,!0)},deselect:e=>{let t=e.detail.item;this._handleSelection(e,t,!1)}})}_handleSelection(a,o,n){o=this.isCE?o:t("#"+o.attr("for")),e.radiobutton(o).handleSelection(n,a)}setButtonsAttribute(e,t,a){this._handleChange(t,a,e)}_handleChange(a,o,n){let r="string"==typeof n?n.split(","):n||this._items,s=0,l,d,c,m;for(o=o||this._opts[a],s=0;s<r.length;s++)l=t(r[s]),c=l[0].tagName.toLowerCase(),m=-1<c.indexOf("z-"),l.length&&(d=(m?c:l.data("componentName")).substring(m?2:1),d&&e[d](l).setAttribute(a,o))}_setAttribute(a,o){if(this._opts[a]=o,"disabled"===a)this._handleStates();else if("appearance"===a||"size"===a||"rtl"===a)this._handleChange(a,o);else if("spriteIconClassName"===a||"spriteIconClass"===a||"nospriteIcon"===a){let a=this._items.length,n,r,s;for(let l=0;l<a;l++)n=t(this._items[l]),r=e._getOpts(n),s=n.is("input")?n.next("div.zbutton"):n.zbutton("getElement"),r.nospriteIcon||s.find(".zbutton__icon").removeClass(this._opts.spriteIconClass+" "+this._opts.spriteIconClassName).addClass(o+" "+r.icon)}else"selectors"===a&&(this.destroy(),this._opts.selectors=o,this.element[this.name](this._opts))}_destroy(){let a=this._items,o=a.length,n=this.name,r,s,l;e.selectable&&this.element.find("[type=\"radio\"]").length&&e.selectable(this.element).destroy();for(let d=0;d<o;d++)s=a[d],r=e._getOpts(s),l=r.ctype||"zbutton",r.buttongroup&&(l=n),t(s)[l]("destroy");this.element.removeAttr("role aria-disabled").removeClass("zbutton--group").off("."+n).removeData("zbuttongroup")}}e.registerComponent("ZButtonGroup",ZButtonGroup)}(ZComponents,ZComponents.DOMUtil),ZComponents.Date=function(e){var t=Math.min,a=e.DOMUtil;return"use strict",{monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],invalidInput:"Invalid date/time provided. Please provide correct input",century:21,AM:"AM",PM:"PM",_setMonth:function(e,t){var a=e.getDate();if(isNaN(e))return e;for(t-=1,t%=12,e.setMonth(t);0<t&&e.getMonth()!==t;)e.setDate(--a);return e},_parseDateValue:function(e,t,a){if(e){var o=!1,n=[],t,i;if(e instanceof Date)return{date:e,isValid:!0};a.length&&(n=a.slice()),n.unshift(t);for(var r=e,s=e.match(/[^ -/:-@\u5e74\u6708\u65e5[-`{-~\t\n\r]+/g)||[],l=0;l<n.length;l++)if(e=r,i=this.parseDate(e,n[l]),i&&i.isValid){o=!0;break}return o||(i=this.getDateFromOffset(r,i?i.date:void 0,n[0],s)),i}},_getFormattedDate:function(e,t){var a=["yyyy","yy","M","MM","MMM","MMMM","d","dd","ddd","dddd","H","HH","h","hh","m","mm","s","ss"],o,n;if(t){for(var r=0;r<a.length;r++)if(n=a[r],n in e&&!isNaN(e[n])){switch(o=new Date(t),n){case"M":case"MM":case"MMM":case"MMMM":o=this._setMonth(o,e[n]);break;case"yyyy":9999<e[n]?o.setFullYear(9999):o.setFullYear(e[n]);break;case"yy":var s=this.century-1,l=s.toString()+e[n];o.setFullYear(parseInt(l));break;case"d":case"dd":case"ddd":case"dddd":o.setDate(e[n]);break;case"H":case"HH":o.setHours(e[n]);break;case"h":case"hh":o.setHours(e[n]);break;case"m":case"mm":o.setMinutes(e[n]);break;case"s":case"ss":o.setSeconds(e[n]);}isNaN(o)||(t=o)}return o}},_getDateByIntelligence:function(e,t,a){var o=new Date(e),n=e.match(/[-\/. ?]/g)||[],r;if(!isNaN(o))return 1===n.length&&2001===o.getFullYear()&&o.setFullYear(new Date().getFullYear()),o;var s=a,l=e.match(/:/g),d;if(l){var c=!1,m,_,u;d=l.length;var p=["AM","PM","am","pm"],h;s&&(s[0]&&(s[0]=parseInt(s[0])),s[1]&&(s[1]=parseInt(s[1])),s[2]&&!isNaN(s[2])&&(s[2]=parseInt(s[2])));for(var g=0;g<p.length;g++)if(-1<s.indexOf(p[g])){h=s.indexOf(p[g]);break}if(0===d)c=!0;else if(1===d){if(h&&-1<h){var f=s[h].toUpperCase();if(1<=s[0]&&12>=s[0]&&0<=s[1]&&59>=s[1]){var b=s[0]%12;"AM"===f&&(m=0==b?0:s[0]),"PM"===f&&(m=0==b?12:s[0]+12),_=s[1]}else c=!0}else 0<=s[0]&&23>=s[0]&&0<=s[1]&&59>=s[1]?(m=s[0],_=s[1]):c=!0;}else if(2!==d)c=!0;else if(h&&-1<h){var f=s[h].toUpperCase();if(1<=s[0]&&12>=s[0]&&0<=s[1]&&59>=s[1]&&0<=s[2]&&59>=s[2]){var b=s[0]%12;"AM"===f&&(m=0==b?0:s[0]),"PM"===f&&(m=0==b?12:s[0]+12),_=s[1],u=s[2]}}else 0<=s[0]&&23>=s[0]&&0<=s[1]&&59>=s[1]&&0<=s[2]&&59>=s[1]?(m=s[0],_=s[1],u=s[2]):c=!0;c?r=!0:(e=new Date,void 0!==m&&e.setHours(m),void 0!==_&&e.setMinutes(_),void 0===u?e.setSeconds(0):e.setSeconds(u))}else if(n.length){var v=e.split(n[0]),C,S;4===v[0].length?(S=parseInt(v[0]),C=parseInt(v[1])):4===v[1].length&&(C=parseInt(v[0]),S=parseInt(v[1])),void 0!==C&&void 0!==S?(e=new Date,e.setFullYear(S),e.setDate(1),e.setMonth(C)):r=!0}else r=!0;if(r)throw new Error(this.invalidInput);return e},_getDate:function(e,t,a,o,n,i){return new Date(e,t,a,o,n,i)},_appendZerosToValue:function(e,t,a){return e=e.toString(),t=t||2,a=t-e.length,a?["","0","00","000","0000"][t].substring(0,a)+e:e},_replaceMatchedText:function(e,t=[],a){if(e){var o,n;switch(a){case"d":n=e.getDate();break;case"dd":var e=e.getDate();n=(10>e?"0":"")+e;break;case"ddd":n=(t.daysAbbreviated||this.daysAbbreviated)[e.getDay()];break;case"dddd":n=(t.days||this.days)[e.getDay()];break;case"M":n=e.getMonth()+1;break;case"MM":var i=e.getMonth()+1;n=(10>i?"0":"")+i;break;case"MMM":n=(t.monthsAbbreviated||this.monthsAbbreviated)[e.getMonth()];break;case"MMMM":n=(t.months||this.months)[e.getMonth()];break;case"yy":n=this._appendZerosToValue(e.getFullYear()%100);break;case"yyyy":n=this._appendZerosToValue(e.getFullYear(),4);break;case"h":n=e.getHours()%12||12;break;case"hh":var r=e.getHours()%12||12;n=(10>r?"0":"")+r;break;case"H":n=e.getHours();break;case"HH":var r=e.getHours();n=(10>r?"0":"")+r;break;case"m":n=e.getMinutes();break;case"mm":var o=e.getMinutes();n=(10>o?"0":"")+o;break;case"s":n=e.getSeconds();break;case"ss":var s=e.getSeconds();n=(10>s?"0":"")+s;break;case"tt":n=12>e.getHours()?"AM":"PM";break;case"z":case"zz":case"zzz":n=e.toString().split(" ")[5];}return void 0===n?a.slice(1,a.length-1):n}},formatDate:function(e,t,a){var o=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,n=this;return e&&e instanceof Date?t.replace(o,this._replaceMatchedText.bind(this,e,a)):e},parsePattern:function(e){e=e.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,"");var t=/d(?:d{1,3})?|M(?:M{1,3})?|yy(?:yy)?|h(?:h)?|H(?:H)?|m(?:m)?|s(?:s)|t{2}|z(?:z{1,3})?/g,a=e.replace(t,"\0").split("\0"),o=e.match(t);return!!(a&&a.length&&o&&o.length)&&{dateSeperator:a,dateParts:o}},parseDate:function(e,t){var a={},o,t,n;if(e){if(e instanceof Date)return"string"==typeof t&&0>t.indexOf("s")&&e.setSeconds(0,0),{date:e,isValid:!0};if("string"==typeof e&&("string"!=typeof e||e.length)){var r=function(e){var t=e.slice(0,c[u].length),a=c[u].slice(0,t.length);return t.toLowerCase()===a.toLowerCase()},s=e,l;if(e=s,"string"==typeof t){var d=t.match(/(["'])(?:(?=(\\?))\2.)*?\1/g);d&&(l=d.map(function(e){return e.replace(/'/g,"")})),t=this.parsePattern(t)}var c=e.match(/[^ -/:-@\u5e74\u6708\u65e5[-`{-~\t\n\r]+/g)||[],m;l&&(c=c.filter(function(e){return-1===l.indexOf(e)}));var _=t.dateParts.slice();if(e=new Date,c.length===_.length)for(var u=0;u<_.length;u++)if(o=parseInt(c[u],10),m=_[u],isNaN(o)){if("MMM"===m||"MMMM"===m)"MMM"===m||"MMMM"===m?(n=this.monthsAbbreviated.filter(r),o=this.monthsAbbreviated.indexOf(n[0])+1):void 0,a[m]=o;else if("dddd"===m||"ddd"===m)o=c[-1<_.indexOf("d")?_.indexOf("d"):-1<_.indexOf("dd")],a[m]=o;else if("tt"===m&&("AM"===c[u]||"PM"===c[u])){var p=-1===_.indexOf("hh")?"h":"hh",h=c[_.indexOf(p)],g=parseInt(h),f="PM"===c[u]?12:0;a[p]=0===g%12?f:g+f,a[m]=h}}else if(("yyyy"===m||"yy"===m)&&9999<o&&(c[u]="9999"),!(-1<m.indexOf("d")&&31<o||-1<m.indexOf("M")&&12<o||-1<m.indexOf("y")&&m.length!==c[u].length))a[m]=o;else break;return Object.keys(a).length&&c.length===Object.keys(a).length?(e=this._getFormattedDate(a,e),-1===t.dateParts.indexOf("s")&&-1===t.dateParts.indexOf("ss")&&e.setSeconds(0,0),e={date:e,isValid:!0}):e={date:e,isValid:!1},e}}},getDateFromOffset:function(e,a,o,n){if(a){var i;if(0===e.indexOf("TODAY"))i=e.substring(5);else if(0===e.indexOf("FROM_VALUE"))i=e.substring(10);else return{date:void 0,isValid:!1};var r=/([+-][0-9]+)(DAYS|MONTHS|YEARS|WEEKS)/g,s=r.exec(i),l=a.getDate(),d=a.getMonth(),c=a.getFullYear(),m=a.getHours(),_=a.getMinutes(),u=a.getSeconds();if(!s)try{var p={date:this._getDateByIntelligence(e,o,n),isValid:!0};return p}catch(e){var p={date:void 0,isValid:!1};return p}for(;s;){switch(s[2]||"DAYS"){case"DAYS":l+=parseInt(s[1],10);break;case"WEEKS":l+=7*parseInt(s[1],10);break;case"MONTHS":d+=parseInt(s[1],10),l=t(l,new Date(c,d+1,0).getDate());break;case"YEARS":c+=parseInt(s[1],10),l=t(l,new Date(c,d+1,0).getDate());break;case"HOURS":m+=parseInt(s[1],10);break;case"MINUTES":_+=parseInt(s[1],10);break;case"SECONDS":u+=parseInt(s[1],10);}s=r.exec(i)}a=this._getDate(c,d,l,m,_,u);var h={date:a,isValid:!0};return h}},convertOffsetToValue:function(e){var t=/([+-]{1}([0-9])+$)/g,a=t.exec(e);return a?parseInt(a[0]):0},getUTCDate:function(){return new Date(Date.UTC.apply(Date,arguments))},areDatesEqual:function(e,t){if(e&&t)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},areTimesEqual:function(e,t){if(e&&t)return e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()&&e.getSeconds()===t.getSeconds()},isTimeGreater:function(e,t){return e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()),+e>+t},isGreater:function(e,t){if(e&&t)return!(e.getTime()<t.getTime())}}}(ZComponents),function(e,t){var a=Math.abs;class ZDraggable extends e.CoreComponent{get name(){return"zdraggable"}get props(){return{cursor:"move",handle:null,ignoreAsHandle:"input,textarea,button,select,option",axis:"both",region:!1,showGhostOnDrag:!1,cursorOffset:{top:0,left:0},classNameOnDrag:"",disabled:!1,dragStartDelay:0,autoScrollRegion:!0,cancelOnEscKey:!0,scrollSpeed:5,scrollSensitivity:20}}get EVENTS(){return["start","drag","end","cancel"]}_create(e,t){e.addClass("zh-draggable"),this._handle=t.handle?e.find(t.handle):e,this._handle.addClass("zdraggable "+(t.disabled?"is-disabled":"")),this._bindEvents(),this._prevCursor=this._handle.css("cursor"),this._setCursor(),t.disabled&&this._disable()}_setCursor(e){this._handle.css("cursor",e?this._prevCursor:this._opts.cursor)}_bindEvents(){this._addEvents({mouseDown:"mousedown",docMouseUp:"mouseup contextmenu"},this._handle)}_mouseDownHandler(a){let o=this._opts;if(!t(a.target).closest(o.ignoreAsHandle).length&&!o.disabled){let n=a.pageX,i=a.pageY;this._delay=window.setTimeout(()=>{n===a.pageX&&i===a.pageY&&(this._md=!0,this._mx=a.pageX,this._my=a.pageY,this._scrollPar=this._getScrollPar(this.element),this._scrollOff=this._scrollPar[0]===document?void 0:this._scrollPar.offset(),this._prevPos=this.element["parent"===o.region?"position":"offset"](),this._addEvents({drag:"mousemove",docKeydown:"keydown",docMouseUp:"mouseup contextmenu"},e.$document)),clearTimeout(this._delay),this._delay=void 0},o.dragStartDelay),t("body").addClass("zh-userselectnone")}}_dragHandler(o){let n=this._dragEle||this.element,i=this._opts;if(this._md&&!i.disabled){if(!this._stDispatched){if(i.showGhostOnDrag&&!this._dragEle){let e=n,a=e[0].parentNode;this._dragEle=n=t(n[0].cloneNode(!0)),a.appendChild(n[0]),n.css("position","absolute");let o=e["parent"===i.region?"position":"offset"]();n.css({top:o.top,left:o.left})}n.addClass(i.classNameOnDrag),this._dispatchEvent("start",o),this._stDispatched=!0}let r=this._scrollPar[0],s=o.pageX,l=o.pageY,d=n.outerHeight(),c=n.outerWidth();if(i.autoScrollRegion&&"viewport"!==this._opts.region){let t=e.$document;if(r!==t[0]&&"HTML"!==r.tagName)this._checkScroll("Top",l,d,n),this._checkScroll("Left",s,c,n);else{let o=e.$window,n=i.scrollSensitivity,r=this._prevX?Math.max(a(this._prevY-l),a(this._prevX-s)):i.scrollSpeed,d=t.scrollTop(),c=t.scrollLeft(),m=l-d<n?d-r:o.height()-(l-d)<n?d+r:void 0,_=s-c<n?c-r:o.width()-(s-c)<n?c+r:void 0;m!==void 0&&t.scrollTop(m),_!==void 0&&t.scrollLeft(_),this._prevX=s,this._prevY=l}}let m=n.offset(),_;if(i.region)if("string"!=typeof i.region)"object"==typeof i.region?(_=i.region,m=n.position()):_=i.region;else if("viewport"===i.region)_=[0,0,t(window).width(),t(window).height()];else if("page"===i.region)_=e.$document;else if("parent"===i.region){let t=n.parent().is("body");_=t?e.$document:n.parent(),t||(m=n.position())}let u=!(0<=l-this._my),p=0<=s-this._mx,h=m.top+(r.scrollTop||0)+l+i.cursorOffset.top-this._my,g=m.left+(r.scrollLeft||0)+s+i.cursorOffset.left-this._mx;h=0>h?0:h,g=0>g?0:g;let f,b;_&&_ instanceof Array?(h=h<_[1]?_[1]:h,g=g<_[0]?_[0]:g,f=_[2],b=_[3]):(f=_&&_[0].scrollWidth||e.$document.width(),b=_&&_[0].scrollHeight||e.$document.height()),h+d>b&&(h=b-d),g+c>f&&(g=f-c);let v={};"y"!==i.axis&&0<=s&&(v.left=g),"x"!==i.axis&&0<=l&&(v.top=h),n["parent"===i.region?"css":"offset"](v),n.css({right:"",bottom:""}),this._dispatchEvent("drag",o,{isUp:u,isRight:p}),this._mx=s+i.cursorOffset.left,this._my=l+i.cursorOffset.top,o.preventDefault()}}_checkScroll(e,t,a,o){let n=this._scrollPar[0],i=this._scrollOff[e.toLowerCase()],r=n["scroll"+e],s="Top"===e?"Height":"Width",l=n["scroll"+s],d=n["offset"+s],c=this._opts.scrollSensitivity,m=this._opts.scrollSpeed,_=!1,u;i+d-t<c?(u=r+m,_=!0):t-i<c&&(u=r-m);let p=a+(u===void 0?0:u);u!==void 0&&0<=u&&(_?p<=l:0<=p)&&this._updateProp(e,u,a,l,o,_,m)}_updateProp(e,t,a,o,n,i,r){this._scrollPar[0]["scroll"+e]=t;let s=n[0]["offset"+e],l=i?s+r:s-r;(i?l+a<=o:0<=l+a)&&n.css({[e.toLowerCase()]:l})}_getScrollPar(e,a){let o=e.css("position"),n="parent"===this._opts.region,i=a?/(auto|scroll|hidden)/:/(auto|scroll)/,r=e.parents().filter(function(){let a=t(this);return!("parent"!==n&&"absolute"===o&&"static"===a.css("position")||n&&a[0]!==e[0].parentNode)&&i.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==o&&r.length?r:t(e[0].ownerDocument||document)}_docMouseUpHandler(e){this._md&&!this._opts.disabled&&this._resetValues(e),clearTimeout(this._delay),this._delay=void 0}_docKeydownHandler(t){this._md&&this._opts.cancelOnEscKey&&t.keyCode===e.keyCode.ESCAPE&&(this._revertPos(),this._dispatchEvent("cancel",t))}_resetValues(a,o){this._md=this._stDispatched=!1;let n=this._opts;n.classNameOnDrag&&(this._dragEle||this.element).removeClass(n.classNameOnDrag),a&&this._dispatchEvent("end",a),n.showGhostOnDrag&&this._removeGhost(o),t("body").removeClass("zh-userselectnone"),this._removeEvents("mousemove mouseup contextmenu keydown",e.$document)}_removeGhost(e){if(this._dragEle){if(!e){let e="parent"===this._opts.region,t=this._dragEle[e?"position":"offset"]();this.element[e?"css":"offset"]({top:t.top,left:t.left})}this._dragEle[0].parentNode.removeChild(this._dragEle[0]),this._dragEle=void 0}}_revertPos(){this.element.css({left:this._prevPos.left,top:this._prevPos.top}),this._resetValues(void 0,!0)}_dispatchEvent(e,t,a={}){let o=this.element;a.offset=o.offset(),a.position=o.position(),super._dispatchEvent(e,t,a)}destroy(){let e=this.name;this._md=this._stDispatched=this._mx=this._my=void 0,this._handle.off("."+e).removeClass("zdraggable"),this.element.removeClass("zh-draggable"),this.element.removeData("zdraggable"),this._setCursor(!0)}_disable(e){super._disable(e,this._handle),this._handle[e?"removeClass":"addClass"]("zdraggable"),this.element[e?"removeClass":"addClass"]("zh-draggable"),this._setCursor(e)}_setAttribute(e,t){"handle"===e&&(this._handle.off("."+this.name).removeClass("zdraggable"),this._setCursor(!0),this._resetValues(),this._handle=t?this.element.find(t):this.element,this._handle.addClass("zdraggable"),this._setCursor(),this._bindEvents()),this._opts[e]=t}}e.registerComponent("ZDraggable",ZDraggable)}(ZComponents,ZComponents.DOMUtil),function(e,t){var a=Math.abs,o=Math.max;class ZSortable extends e.CoreComponent{get name(){return"zsortable"}get attrs(){return{items:"> *",handle:void 0,ignoreAsHandle:"input,textarea,button,select,option",axis:"both",region:void 0,disabled:!1,classNameOnSort:"",cancelOnEscKey:!0,connectWith:void 0,autoScrollRegion:!0,placeholderClassName:"",sortStartDelay:0,cursorOffset:{left:0,top:0},restrictExternalItem:!1,scrollSensitivity:20,scrollSpeed:20,prependToEmpty:!1}}get EVENTS(){return["start","drag","change","beforeend","end","cancel"]}_create(){this._init(),this._construct(),this._bindEvents()}_init(){this._doc=e.$document[0]}_construct(){let e=this.element;this.savedData={},e.addClass("zsortable"),this._manipulateHandles(),this._offsetPos=e.offset(),this._inited=!0}_manipulateHandles(){this._refreshItems(),this._setHandleClassName(),this._refreshPositions()}_handleMouseDown(e){let a=this._opts,o=this.name,n=a.sortStartDelay;n&&t(this._doc).on("mousemove.delay."+o,a=>{a.pageX!==e.pageX&&a.pageY!==e.pageY&&(clearTimeout(this._delay),t(this._doc).off("mousemove.delay."+o))}),this._delay=window.setTimeout(()=>{let n=t(e.target);this._dispatchEvent("start",n,e),this._isMouseMoved=!1,this._ms&&this._handleMouseUp(e),this._mdEvent=e;let i=1===e.which,r=!!("string"==typeof a.ignoreAsHandle&&n[0].nodeName)&&n.closest(a.ignoreAsHandle).length,s=!a.handle||n.closest(a.handle).length;return!(i&&!r&&s&&this._captureMouseAction(e))||(!0===n.data(o+".prevClickEve")&&n.removeData(o+".prevClickEve"),t(this._doc).on("mousemove."+o,e=>{this._handleMouseMove(e)}).on("mouseup."+o,e=>{this._handleMouseUp(e)}),e.preventDefault(),!0)},n)}_handleMouseMove(t){return(this._dispatchEvent("drag",t.target,t),this._isMouseMoved&&e.Browser.isIE&&(!document.documentMode||9>document.documentMode)&&!t.button)?this._handleMouseUp(t):((t.which||t.button)&&(this._isMouseMoved=!0),this._ms)?(this._onMouseDrag(t),t.preventDefault()):(this._opts.cancelOnEscKey&&e.$document.on("keydown."+this.name,this._keydownHandler.bind(this,t)),this._ms=!1!==this._handleMouseMoveStart(this._mdEvent,t),this[this._ms?"_onMouseDrag":"_handleMouseUp"](t),!this._ms)}_keydownHandler(t,a){a.keyCode===e.keyCode.ESCAPE&&(this._handleMouseUp(this._mdEvent,!0),this._dispatchEvent("cancel",a.target,a)),e.$document.off("keydown."+this.name)}_dispatchEvent(e,t,a){return super._dispatchEvent(e,a,{value:t,draggedElement:this._draggedEle})}_handleMouseMoveStart(e){this.currentContainer=this,this._refreshPositions(),this._draggedEle=this._createDraggableElement(),this._saveDraggedEleSize(),this._saveMargins(),this._scrollParent=this._getScrollParent(this._draggedEle),this._scrollEleOffset=this._scrollParent[0]===document?{left:0,top:0}:this._scrollParent.offset(),this._offsetPos=this._selItem.offset(),this._offsetPos={top:this._offsetPos.top-this._margins.top,left:this._offsetPos.left-this._margins.left},this._draggedEle.css("position","absolute"),this._cssPos=this._draggedEle.css("position");let a=this,o=e.pageX,n=e.pageY;return t.extend(this._offsetPos,{click:{left:o-a._offsetPos.left,top:n-a._offsetPos.top},parent:a._getParentOffset(),relative:a._getRelativeOffset()}),this._elementPosition=this._fixPosition(e),this._eventPageX=o,this._eventPageY=n,this._formerDomElements={prev:this._selItem.prev()[0],parent:this._selItem.parent()[0]},this._createPlaceHolder(),this._opts.region&&this._setContainment(),this._draggedEle.addClass(this._opts.classNameOnSort+" zsortable__helper"),this._onMouseDrag(e),!0}_setContainment(){let e=this._opts,a=e.region;"parent"===a&&(a=this._draggedEle[0].parentNode);let n="page"===a;if(n||"viewport"===a){let e=t(n?document:window);this._containment=[0-this._offsetPos.relative.left-this._offsetPos.parent.left,0-this._offsetPos.relative.top-this._offsetPos.parent.top,e.width()-this._draggedEleSize.width-this._margins.left,(e.height()||document.body.parentNode.scrollHeight)-this._draggedEleSize.height-this._margins.top]}else if("parent"!==a){let e=t(a)[0],n=t(e),i=t(a).offset(),r="hidden"!==t(e).css("overflow"),s=parseInt(n.css("borderLeftWidth")),l=parseInt(n.css("borderTopWidth"));this._containment=[i.left+s+parseInt(n.css("paddingLeft"))-this._margins.left,i.top+l+parseInt(n.css("paddingTop"))-this._margins.top,i.left+(r?o(e.scrollWidth,e.offsetWidth):e.offsetWidth)-s-parseInt(n.css("paddingRight"))-this._draggedEleSize.width-this._margins.left,i.top+(r?o(e.scrollHeight,e.offsetHeight):e.offsetHeight)-l-parseInt(n.css("paddingBottom"))-this._draggedEleSize.height-this._margins.top]}}_onMouseDrag(e){let n=this._opts,r,s,l;this._position=this._fixPosition(e),this._changeToAbsolute=this._changePosition("absolute"),this._lastAbsolutePos||(this._lastAbsolutePos=this._changeToAbsolute);let i=this._opts.region,d=this._scrollEleOffset,c=this._scrollParent,m=!i||e.pageX>=this._containment[0]&&e.pageX<=this._containment[2],_=!i||e.pageY>=this._containment[1]&&e.pageY<=this._containment[3]+this._draggedEleSize.height,u=n.scrollSpeed;if(n.autoScrollRegion&&"viewport"!==n.region&&(m||_)){let r=!1,s,l;if(c[0]!==document&&"HTML"!==c[0].tagName)_&&(d.top+c[0].offsetHeight-e.pageY<n.scrollSensitivity?(r=!0,l=c[0].scrollTop+u+this._selItem.height()):e.pageY-d.top<n.scrollSensitivity&&(l=c[0].scrollTop-u),null!=l&&(!i||r&&c.offset().top-this._selItem.offset().top+l<=c[0].scrollHeight-c[0].offsetHeight||!r&&void 0!==this._containment[1]&&l>=this._containment[1]-c.offset().top)?(this._fullScroll=!1,c[0].scrollTop=l,this._refreshPositions(!0),this._offsetPos.top=this._selItem.offset().top,this._offsetPos.left=this._selItem.offset().left):!this._fullScroll&&null!=l&&(r&&!(this._selItem.offset().top+l)<=c[0].scrollHeight&&c[0].scrollTop!==c[0].scrollHeight-c[0].offsetHeight||!r&&l>=this._containment[1]&&0!==c[0].scrollTop)&&(c[0].scrollTop=r?c[0].scrollHeight-c[0].offsetHeight:0,this._fullScroll=!0)),m&&(d.left+c[0].offsetWidth-e.pageX<n.scrollSensitivity?(r=!0,s=c[0].scrollLeft+u):e.pageX-d.left<n.scrollSensitivity&&(s=c[0].scrollLeft-u),null!=s&&(!i||this._changeToAbsolute.left+s<this._containment[1])&&(c[0].scrollLeft=s));else{let i=t(document),r=this._prevX?o(a(this._prevY-e.pageY),a(this._prevX-e.pageX)):n.scrollSpeed;e.pageY-i.scrollTop()<n.scrollSensitivity?i.scrollTop(i.scrollTop()-r):t(window).height()-(e.pageY-i.scrollTop())<n.scrollSensitivity&&i.scrollTop(i.scrollTop()+r),e.pageX-i.scrollLeft()<n.scrollSensitivity?i.scrollLeft(i.scrollLeft()-r):t(window).width()-(e.pageX-i.scrollLeft())<n.scrollSensitivity&&i.scrollLeft(i.scrollLeft()+r),this._prevX=e.pageX,this._prevY=e.pageY}}this._changeToAbsolute=this._changePosition("absolute"),m&&("both"===n.axis||"y"!==n.axis)&&(this._draggedEle[0].style.left=this._position.left-n.cursorOffset.left+"px"),_&&("both"===n.axis||"x"!==n.axis)&&(this._draggedEle[0].style.top=this._position.top-n.cursorOffset.top+"px");for(let t=this.items.length-1;0<=t;t--)if((r=this.items[t],l=r.item[0],s=this._intersectsWithPointer(r),!!s)&&l!==this._selItem[0]&&this._placeHolder[1===s?"next":"prev"]()[0]!==l&&!this._placeHolder[0].contains(l)){this._direction=1===s?"down":"up",this._intersectsWithSides(r)&&"INPUT"!==r.item[0].nodeName&&this._reArrangeItems(e,r);break}return this._lastAbsolutePos=this._changeToAbsolute,this._checkContainerIntersection(e),!1}_checkContainerIntersection(){let e=this.containers,t=e.length,o,n;for(let a=t-1;0<=a;a--)e[a].element[0].contains(this._selItem[0])||this._intersectsWith(this.containers[a].savedData)&&(o=e[a],n=a);if(o&&o.element[0]!==this.element[0]){let t=e[n],o=1e4,i=null,r=this._changeToAbsolute[t.floating?"left":"top"],s;for(let e=this.items.length-1;0<=e;e--)t.element[0].contains(this.items[e].item[0])&&(s=t.floating?this.items[e].item.offset().left:this.items[e].item.offset().top,a(s-r)<o&&(o=a(s-r),i=this.items[e],this.direction=0<s-r?"down":"up"));this.currentContainer=t,this._reArrangeItems(event,i,!i&&t.element,!0)}}_reArrangeItems(e,t,a,o){let n=this._placeHolder[0];if(a){let e=a[0];this._opts.prependToEmpty?e.insertBefore(n,e.firstChild):e.appendChild(n)}else{let e=t.item[0],a="down"===this._direction?e:e.nextSibling;e.parentNode.insertBefore(n,a)}this._counter=this._counter?++this._counter:1,setTimeout(()=>{this._refreshPositions(!o)},0)}_intersectsWithSides(e){let t=this._changeToAbsolute,a=this._isOverAxis(t.top+this._offsetPos.click.top,e.top+e.height/2,e.height),o=this._isOverAxis(t.left+this._offsetPos.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),r=!1;if(!i&&!n)return!1;let s=this._containment,l;return this.floating&&i?(s&&(r=t.left<=s[0]||t.left>=s[2]),l=r||"right"===i&&o||"left"===i&&!o):(s&&(r=t.top<=s[1]||t.top>=s[3]),l=r||n&&("down"===n&&a||"up"===n&&!a)),l}_intersectsWithPointer(e){let t="x"===this._opts.axis||this._isOverAxis(this._changeToAbsolute.top+this._offsetPos.click.top,e.top,e.height,"x"),a="y"===this._opts.axis||this._isOverAxis(this._changeToAbsolute.left+this._offsetPos.click.left,e.left,e.width,"y"),o=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();if(!(t&&a))return!1;let i=this.floating?n&&"right"===n||"down"===o?2:1:o&&("down"===o?2:1);return i}_intersectsWith(e){let t={width:this._placeHolder.outerWidth(),height:this._placeHolder.outerHeight()},a=this._changeToAbsolute.left,o=a+t.width,n=this._changeToAbsolute.top,i=n+t.height,r=e.left,s=r+e.width,l=e.top,d=l+e.height,c=this._offsetPos.click.top,m=this._offsetPos.click.left;return t[this.floating?"width":"height"]>e[this.floating?"width":"height"]?n+c>l&&n+c<d&&a+m>r&&a+m<s:r<a+t.width/2&&o-t.width/2<s&&l<n+t.height/2&&i-t.height/2<d}_isOverAxis(e,t,a,o){let n="x"===o,i=n?Math.ceil(this._selItem.outerHeight()):0;return n&&i!==a?e+i>t&&e<t+a:e>=t&&e<t+a}_getDragVerticalDirection(){let e=this._changeToAbsolute.top-this._lastAbsolutePos.top;return 0!=e&&(0<e?"down":"up")}_getDragHorizontalDirection(){let e=this._changeToAbsolute.left-this._lastAbsolutePos.left;return 0!=e&&(0<e?"right":"left")}_changePosition(e){let t="absolute"===e?1:-1,a="absolute"!==this._cssPos||this._scrollParent[0]!==this._doc&&this._scrollParent[0].contains(this._offsetParent[0])?this._scrollParent:this._offsetParent,o;("html"===a[0].tagName.toLowerCase()||"body"===a[0].tagName.toLowerCase())&&(o=!0);let n={top:this._position.top+this._offsetPos.relative.top*t+this._offsetPos.parent.top*t-("fixed"===this._cssPos?-this._scrollParent.scrollTop():o?0:a.scrollTop())*t,left:this._position.left+this._offsetPos.relative.left*t+this._offsetPos.parent.left*t-("fixed"===this._cssPos?-this._scrollParent.scrollLeft():o?0:a.scrollLeft())*t};return n}_createPlaceHolder(){let e=this._selItem[0].nodeName.toLowerCase();this._placeHolder=t("<"+e+">",this._doc).addClass(this._selItem[0].className+" zsortable__placeholder"),this._placeHolder.addClass(this._opts.placeholderClassName),this._selItem.after(this._placeHolder),this._placeHolder.width(this._selItem.innerWidth()-parseInt(this._selItem.css("paddingLeft")||0,10)-parseInt(this._selItem.css("paddingRight")||0,10)),this._placeHolder.height(this._selItem.innerHeight()-parseInt(this._selItem.css("paddingTop")||0,10)-parseInt(this._selItem.css("paddingBottom")||0,10))}_fixPosition(e){let t=e.pageX,o=e.pageY,n="absolute"!==this._cssPos||this._scrollParent[0]!==this._doc&&this._scrollParent[0].contains(this._offsetParent[0])?this._scrollParent:this._offsetParent,i;return this._containment&&(e.pageX-this._offsetPos.click.left<this._containment[0]&&(t=this._containment[0]+this._offsetPos.click.left),e.pageY-this._offsetPos.click.top<this._containment[1]&&(o=this._containment[1]+this._offsetPos.click.top),e.pageX-this._offsetPos.click.left>this._containment[2]&&(t=this._containment[2]+this._offsetPos.click.left),e.pageY-this._offsetPos.click.top>this._containment[3]&&(o=this._containment[3]+this._offsetPos.click.top)),("html"===n[0].tagName.toLowerCase()||"body"===n[0].tagName.toLowerCase())&&(i=!0),{top:o-this._offsetPos.click.top-this._offsetPos.relative.top-a(this._offsetPos.parent.top)+("fixed"===this._cssPos?-this._scrollParent.scrollTop():i?0:n.scrollTop()),left:t-this._offsetPos.click.left-this._offsetPos.relative.left-this._offsetPos.parent.left+("fixed"===this._cssPos?-this._scrollParent.scrollLeft():i?0:n.scrollLeft())}}_getScrollParent(e,a){let o=e.css("position"),n=a?/(auto|scroll|hidden)/:/(auto|scroll)/,i=e.parents().filter(function(e,a){let i=t(a);return!("absolute"===o&&"static"===i.css("position"))&&n.test(i.css("overflow")+i.css("overflow-y")+i.css("overflow-x"))}).eq(0);return"fixed"!==o&&i.length?i:t(e[0].ownerDocument||document)}_getParentOffset(){this._offsetParent=t(this._draggedEle[0].offsetParent);let a=this._offsetParent[0]===document?{left:0,top:0}:this._offsetParent.offset();return"absolute"===this._cssPos&&this._scrollParent[0]!==this._doc&&this._scrollParent[0].contains(this._offsetParent[0])&&(a.left+=this._scrollParent.scrollLeft(),a.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]===this._doc.body||this._offsetParent[0].tagName&&"html"===this._offsetParent[0].tagName.toLowerCase()&&e.Browser.isIE)&&(a={top:0,left:0}),{top:a.top+(parseInt(this._offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this._offsetParent.css("borderLeftWidth"),10)||0)}}_getRelativeOffset(){if("relative"===this._cssPos){let e=this._selItem.position();return{top:e.top-(parseInt(this._draggedEle.css("top"),10)||0)+this._scrollParent.scrollTop(),left:e.left-(parseInt(this._draggedEle.css("left"),10)||0)+this._scrollParent.scrollLeft()}}return{top:0,left:0}}_saveMargins(){this._margins={left:parseInt(this._selItem.css("marginLeft"),10)||0,top:parseInt(this._selItem.css("marginTop"),10)||0}}_createDraggableElement(){let t=this._selItem,a=this._selItem;return this._savedCSS={width:a[0].style.width,height:a[0].style.height,position:a.css("position"),top:a.css("top"),left:a.css("left")},t.width(a.width()-(e.Browser.isIE?parseInt(a.css("borderLeftWidth"))+parseInt(a.css("borderRightWidth")):0)).height(a.height()),t}_saveDraggedEleSize(){this._draggedEleSize={width:this._draggedEle.outerWidth(),height:this._draggedEle.outerHeight()}}_captureMouseAction(e){let a=null,o=this;if(this._isPrev=!1,this.reverting)return!1;if(this._opts.disabled)return!1;this._refreshItems();let n=t(e.target).parents().toArray();if(n.forEach(function(e){if(t.data(e,o.name+"-item")===o)return a=t(e),!1}),t.data(e.target,this.name+"-item")===o&&(a=t(e.target)),!a)return!1;this._selItem=a;let i=this._selItem.prev();return i.length?(this._adjacentElement=i,this._isPrev=!0):this._adjacentElement=this._selItem.next(),!0}_handleMouseUp(e,a){let o=this.name;return clearTimeout(this._delay),t(this._doc).off("mousemove."+o).off("mouseup."+o),this._ms&&(this._ms=!1,this._prevX=this._prevY=void 0,e.target===this._mdEvent.target&&t.data(e.target,o+".prevClickEve",!0),this._dropDraggedElement(e,a)),!1}_dropDraggedElement(e,t){e&&(!this._dispatchEvent("beforeend",e.target,e)&&(t=!0),this._placeElement(e,t))}_placeElement(e,t){let a=this._selItem,o;if(this.reverting=!1,t?a["insert"+(this._isPrev?"After":"Before")](this._adjacentElement):!this._noFinalSort&&a.parent().length&&this._placeHolder.before(a),this._noFinalSort=null,this._draggedEle[0]===a[0]){for(o in this._savedCSS)("auto"===this._savedCSS[o]||"static"===this._savedCSS[o])&&(this._savedCSS[o]="");a.css(this._savedCSS).removeClass("zsortable__helper")}else a.show();this._draggedEle.removeClass(this._opts.classNameOnSort),this.dragging=!1,this._placeHolder[0].parentNode.removeChild(this._placeHolder[0]),this.fromOutside=!1,this._dispatchEvent("end",e.target,e),this._dispatchEvent("change",e.target,e)}_bindEvents(){let e=this.name;this.element.on("mousedown."+e,e=>{this._handleMouseDown(e)}).on("click."+e,a=>{if(!0===t.data(a.target,e+".prevClickEve"))return t.removeData(a.target,e+".prevClickEve"),a.stopImmediatePropagation(),!1}).on("mouseup."+e,e=>{this._handleMouseUp(e)})}_refreshItems(){this.items=[],this.containers=[this];let e=this._opts,a=[[t(e.items,this.element),this]],o,n,r;if(e.connectWith&&this._inited&&!e.restrictExternalItem){let o=t(e.connectWith),n;for(let e=0;e<o.length;e++)n=t(o[e]).data("zsortable"),n&&n.element[0]!==this.element[0]&&(a.push([t(n._opts.items,n.element),n]),this.containers.push(n))}for(let e=a.length-1;0<=e;e--){o=a[e][1],r=a[e][0];for(let e=0;e<r.length;e++)n=t(r[e]),n.data(this.name+"-item",o),this.items.push({item:n,width:0,height:0,left:0,top:0})}}_setHandleClassName(){this.element.find(".zsortable__handle").removeClass("zsortable__handle");let e=this._opts.ignoreAsHandle.split(","),t=this.items,a,o;for(let n=0;n<t.length;n++)o=t[n].item,a=e.indexOf(o[0].nodeName.toLowerCase()),-1===a&&o.addClass("zsortable__handle")}_refreshPositions(e){let t=this.items;this.floating=!!t.length&&("x"===this._opts.axis||this._isFloating(t[0].item));let a,o,n;for(let r=t.length-1;0<=r;r--)a=t[r],o=a.item,e||(a.width=o.outerWidth(),a.height=o.outerHeight()),n=o.offset(),a.left=n.left,a.top=n.top;let r=this.containers;for(let t=r.length-1;0<=t;t--)n=r[t].element.offset(),r[t].savedData.left=n.left,r[t].savedData.top=n.top,r[t].savedData.width=r[t].element.outerWidth(),r[t].savedData.height=r[t].element.outerHeight();return this}_isFloating(e){let t=e.css("float").toLowerCase(),a=e.css("display").toLowerCase();return"left"===t||"right"===t||"table-cell"===a||"inline"===a}_unbindEvents(e){let a=this.name;this.element.off("mousedown."+a).off("click."+a),t(this._doc).off("mousemove."+a).off("mouseup."+a),e&&this.element.removeData(a)}destroy(){this._unbindEvents(!0)}disable(){this._unbindEvents()}enable(){this._bindEvents()}getItems(){return this.items}refresh(){return this._manipulateHandles(),this}_disable(){}_setAttribute(e,t){this._opts[e]=t,"items"===e?this._manipulateHandles():"ignoreAsHandle"===e?this._setHandleClassName():("connectWith"==e||"restrictExternalItem"==e)&&this._refreshItems()}}e.registerComponent("ZSortable",ZSortable)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZResizable extends e.CoreComponent{get name(){return"zresizable"}get props(){return{disabled:!1,minHeight:10,minWidth:10,maxWidth:!1,maxHeight:!1,boundary:"viewport",directions:"s,e,se",relatedElements:null,handleClasses:{},delay:0,cueIcons:{},cues:"se",handles:"none",displayCues:"always",displayHandles:"oncontextmouseover",preserveAspectRatio:!1}}get dirMap(){return{se:"southEast",ne:"northEast",sw:"southWest",nw:"northWest",s:"south",n:"north",e:"east",w:"west"}}get EVENTS(){return["start","end","resize"]}_create(e,t){let a=t.disabled;e.addClass("zresizable"+(a?" is-disabled":"")),this._createVisuals(),a||this._bindEvents(),t.preserveAspectRatio&&(this._ratio=e.width()/e.height())}_createVisuals(){let t=this._opts,a=t.directions,o="string"==typeof a;t.rtl&&o&&(a=a.replace(/e/g,"east").replace(/w/g,"e").replace(/east/g,"w")),o&&(a="all"===a?["s","e","n","w","se","sw","ne","nw"]:a.split(","));let n="",r="style=display:none;",s=!1,l=!1,d="object"==typeof t.handles?t.handles:void 0,c="object"==typeof t.cues?t.cues:void 0,m=e.isEmpty(t.cueIcons),_="zresizable__icon zresizable__cue",u,p,h,g;for(let o=0,i;o<a.length;o++)i=a[o].trim(),h=this.dirMap[i],s="all"===t.handles||t.handles===i||d&&-1<d.indexOf(i),l="all"===t.cues||t.cues===i||c&&-1<c.indexOf(i),n+="<div hdir="+i+" class='zresizable__handle zresizable__"+i+" "+(t.handleClasses[h]||"")+"'>",n+="<div class=\"zresizable__sub__handle "+(s?"h-visibleitem":"")+"\" "+(s?"":r)+" ></div>",m?n+="<i class=\""+_+" "+(l?"h-visibleitem":"")+"\" "+(l?"":r)+"  ></i>":(p=t.cueIcons[h+"iconClassName"],u=t.cueIcons[h+"SVGIconId"],u||p?(g=e._getIconInfo(p,u),_+=" "+g.iconClassName,n+="<i class=\""+_+" "+(l?"h-visibleitem":"")+"\"  "+(l?"":r)+">",g.SVGIconId&&(n+="<svg class="+g.SVGIconClassName+"><use xlink:href=\""+g.SVGIconId+"\" ></use></svg>"),n+="</i>"):n+="<i class=\""+_+" "+(l?"h-visibleitem":"")+"\" "+(l?"":r)+"  ></i>"),n+="</i></div>";this.element.append(n)}_bindEvents(){let e=this.element.find(".zresizable__handle");this._addEvents({handleMD:"mousedown",handleMU:"mouseup"},e),this._bindHandleCueEvents(!0),this._bindHandleCueEvents()}_handleMDHandler(a){let o=this.name,n=this._opts,i=n.delay,r=this.element;i&&e.$document.on("mousemove.delay."+o,t=>{t.pageX!==a.pageX&&t.pageY!==a.pageY&&(clearTimeout(this._delay),e.$document.off("mousemove.delay."+o))}),this._delay=window.setTimeout(()=>{a.preventDefault(),this._md=!0;let e=parseInt(r.outerWidth(!0)),o=parseInt(r.outerHeight(!0));this.size={width:e,height:o},this.orgSize={width:e,height:o},n.boundary&&this._saveContainerData();let i=r.offset(),s=parseInt(i.top)||0,l=parseInt(i.left)||0;this.offset=i,this.orgPos={left:l,top:s},this.position={left:l,top:s},this.currTop=s,this.currLeft=l,this._bindDocEvents(s,l),this.orgMousePos={left:a.pageX,top:a.pageY},this.sizeDiff={width:r.outerWidth(!0)-r.width(),height:r.outerHeight(!0)-r.height()},n.relatedElements&&this._cacheProperties(n.relatedElements),this._target=t(a.target).closest(".zresizable__handle"),this._resizeDirection=t(this._target).attr("class").replace("zresizable__handle zresizable__",""),this._dispatchEvent("start",a)},i)}_handleMUHandler(a){let o=this.name;clearTimeout(this._delay),this._md&&(this._dispatchEvent("end",a),e.$document.off("mousemove."+o+" mouseup."+o),t("body").css("cursor","default").removeClass("zh-userselectnone"),this._md=!1)}_bindHandleCueEvents(e){let a=(e?".handle.":".cue.")+this.name,o=this.element,n=o.find(".zresizable__handle"),i=(e?".zresizable__sub__handle":".zresizable__cue")+".h-visibleitem",r=o.find(".zresizable__handle "+i),s=this._opts["display"+(e?"Handles":"Cues")],l=(e,a,o)=>{if(o){let o=t(e.target).closest(".zresizable__handle");o.find(i)[a?"hide":"show"]()}else r[a?"hide":"show"]()},d=(e,t)=>{l(e,!1,t)},c=(e,t)=>{l(e,!0,t)};r.hide(),"onelementmouseover"===s?o.on("mouseenter"+a,d).on("mouseleave"+a,c):"onelementactive"===s?o.on("focus"+a,d).on("blur"+a,c):"oncontextmouseover"===s?n.on("mouseenter"+a,function(e){d(e,!0)}).on("mouseleave"+a,function(e){c(e,!0)}):"always"===s&&r.show()}_unbindHandleCueEvents(e){let t=this.element,a=t.find(".zresizable__handle"),o=(e?".handle.":".cue.")+this.name;t.off(o),a.off(o)}_bindDocEvents(){this._addEvents({docMM:"mousemove",handleMU:"mouseup"},e.$document)}_docMMHandler(e){if(this._md){let o=this.element;(o[0].style.right||o[0].style.bottom)&&(o.css({right:"",bottom:""}),o.css({top:this.currTop,left:this.currLeft}));let n=e.pageX-this.orgMousePos.left||0,i=e.pageY-this.orgMousePos.top||0,r=t(this._target).attr("hdir"),a=this._computePosition(r,n,i);a=this._checkLimit(a,r),this._opts.boundary&&(a=this._checkContainerLimit(a)),this._opts.relatedElements&&this._resizeOthers(),("n"===r||"ne"===r||"nw"===r||"w"===r||"sw"===r)&&o.offset({top:this.position.top,left:this.position.left}),o.outerWidth(this.size.width),o.outerHeight(this.size.height),t("body").css("cursor",r+"-resize").addClass("zh-userselectnone"),this._updateCache(a),this._dispatchEvent("resize",e)}}_dispatchEvent(e,t){super._dispatchEvent(e,t,{originalPosition:this.orgPos,originalSize:this.orgSize,resizedDirection:this._resizeDirection})}_cacheProperties(e){let a=t(e),o;for(let n=0;n<a.length;n++)o=t(a[n]),o.data("resizable-related",{width:parseInt(o.outerWidth(!0)),height:parseInt(o.outerHeight(!0)),left:parseInt(o.css("left"),10),top:parseInt(o.css("top"),10)})}_resizeOthers(){let e={height:this.size.height-this.orgSize.height||0,width:this.size.width-this.orgSize.width||0,top:this.position.top-this.orgPos.top||0,left:this.position.left-this.orgPos.left||0},a=t(this._opts.relatedElements),o=a.length,n,r,s,l,d,c,m,_;for(let u=0;u<o;u++){for(n=t(a[u]),r=n.data("resizable-related"),s={},l=n.closest(this.element).length?["width","height"]:["width","height","top","left"],c=l.length,d=0;d<c;d++)m=l[d],_=(r[m]||0)+(e[m]||0),_&&0<=_&&("width"===m||"height"===m?n["outer"+m[0].toUpperCase()+m.substr(1)](_):s[m]=_);n.css(s)}}_updateCache(e){e.left&&(this.position.left=e.left),e.top&&(this.position.top=e.top),e.height&&(this.size.height=e.height),e.width&&(this.size.width=e.width)}_computePosition(e,a,o){let n=this.orgSize,i=this.orgPos,r={};return"n"===e?(r.top=i.top+o,r.height=n.height-o):"s"===e?r.height=n.height+o:"e"===e?r.width=n.width+a:"w"===e?(r.left=i.left+a,r.width=n.width-a):"se"===e||"sw"===e||"ne"===e||"nw"===e?r=t.extend(this._computePosition(e[0],a,o),this._computePosition(e[1],a,o)):void 0,this._opts.preserveAspectRatio&&(r.width?r.height=r.width/this._ratio:r.height&&(r.width=r.height*this._ratio)),r}_hasScroll(e,a){return"hidden"!==t(e).css("overflow")&&0<e["scroll"+(a?"Left":"Top")]}_saveContainerData(){let a=this._opts.boundary,o="parent"===a?this.element.parent().get(0):a,n={},i="page"===o;if(i||"viewport"===o){n={left:0,top:0};let t=e[i?"$document":"$window"],a=window.pageXOffset,o=window.pageYOffset;this.parentData={scrollTop:o,scrollLeft:a,top:o,left:a,element:t,width:t.width()-a,height:t.height()+(i?o:0)}}else{let e=t(o),a=[],r=["Top","Right","Left","Bottom"],s=r.length,l;for(let t=0;t<s;t++)l=r[t],a[t]=parseInt(e.css("padding"+l))||0;n=e.offset();let i=e.innerHeight()-a[3],d=e.innerWidth()-a[1],c={height:this._hasScroll(e)?e[0].scrollHeight:i,width:this._hasScroll(e,"left")?e[0].scrollWidth:d};this.parentData={element:o,scrollTop:e.scrollTop(),scrollLeft:e.scrollLeft(),left:n.left,top:n.top,width:c.width,height:c.height}}}_checkContainerLimit(e){let t=this.parentData,a=this.position,o=t.scrollTop;a.top+e.height-o>=t.top+t.height&&(e.height=t.top+t.height-o-a.top);let n=t.scrollLeft;return a.left+e.width-n>=t.left+t.width&&(e.width=t.left+t.width-n-a.left),e.top&&e.top<t.top&&(e.top=t.top,e.height=this.size.height),e.left&&e.left<t.left&&(e.left=t.left,e.width=this.size.width),e}_checkLimit(e,t){let a=this._opts,o=a.minWidth,n=a.maxWidth,i=a.minHeight,r=a.maxHeight,s=e.width&&o&&e.width<o,l=e.height&&i&&e.height<i,d=e.width&&n&&e.width>n,c=e.height&&r&&e.height>r;s&&(e.width=o),l&&(e.height=i),d&&(e.width=n),c&&(e.height=r);let m=this.orgPos.left+this.orgSize.width,_=this.position.top+this.size.height,u=/sw|nw|w/.test(t),p=/nw|ne|n/.test(t);s&&u&&(e.left=m-o),d&&u&&(e.left=m-n),l&&p&&(e.top=_-i),c&&p&&(e.top=_-r);let h=!e.width&&!e.height;return h&&!e.left&&e.top?e.top=void 0:h&&!e.top&&e.left&&(e.left=void 0),e}destroy(){this.element.removeClass("zresizable").removeData("zresizable"),this.element.find(".zresizable__handle").remove(),this._unbindEvents(!0)}_showHideEle(e=this._opts.directions,t,a){let o="string"==typeof e?e.split(","):e,n=o.length,r;for(let s=0;s<n;s++)r=this.element.find(".zresizable__"+o[s]).find(".zresizable__"+(a?"cue":"sub__handle")),r[t?"removeClass":"addClass"]("h-visibleitem")[t?"hide":"show"]()}showHandles(e){this._showHideEle(e)}hideHandles(e){this._showHideEle(e,!0)}showCues(e){this._showHideEle(e,!1,!0)}hideCues(e){this._showHideEle(e,!0,!0)}_setAttribute(e,t){let a=this._opts,o=this.element;if(a[e]=t,"directions"===e||"cues"===e||"handles"===e||"rtl"===e||"cueIcons"===e)o.find(".zresizable__handle").remove(),this._createVisuals(),a.disabled||this._bindEvents();else if("displayCues"===e||"displayHandles"===e){let t=0>e.indexOf("Cue");this._unbindHandleCueEvents(t),this._bindHandleCueEvents(t)}else"preserveAspectRatio"===e&&(this._ratio=t?o.width()/o.height():void 0)}_unbindEvents(t){let a=this.name,o=this.element.find(".zresizable__handle");o.off("."+a),this.element.off("."+a),e.$document.off("."+a),t&&o.remove()}_disable(e){this.element[e?"addClass":"removeClass"]("is-disabled"),this[(e?"_un":"_")+"bindEvents"]()}}e.registerComponent("ZResizable",ZResizable)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZTooltip extends e.CoreComponent{get name(){return"ztooltip"}get attrs(){return{isMessageHTMLEncoded:!1,selector:void 0,displayType:"box",position:"at-cursor",hideOnTargetClick:!0,margin:void 0,showDelay:500,hideDelay:300,maxDisplayTime:5e3,reshowDelay:void 0,showShortcutKey:!0,animation:{show:{name:"fade"},hide:{name:"fade"}},className:void 0,innerHTML:void 0,pauseOnMouseOver:!1,positionAlterable:void 0,parseTitleForOptions:!1,forElement:""}}get EVENTS(){return["beforeshow","show","beforehide","hide"]}_create(){let t="."+this.name;this._eventSuffix=t+"-temp",this.element.on("mouseenter"+t+" mousemove"+t,this._targetEnter.bind(this)).on("mouseleave"+t,()=>{e._inTooltipArea=!1}),this._scrollHandlerBinded=this._scrollHandler.bind(this)}_scrollHandler(e){this._hide(void 0,e)}_handleEvents(t){let a=this._eventSuffix;e.$document.off(a),window.removeEventListener("scroll",this._scrollHandlerBinded,!0),t&&(e.$document.on("keydown"+a+" mousedown"+a,e=>{this._hide(void 0,e)}),window.addEventListener("scroll",this._scrollHandlerBinded,!0))}_targetEnter(a,o,n){let i;if(this.custom=!1,this.target&&(this.target.is(":hidden")||this.target.is("button[disabled], input[disabled], textarea[disabled], fieldset[disabled], select[disabled], keygen[disabled] , output[disabled], option[disabled]")))return void this._hide(void 0,a);if(a){if(!a.originalEvent)return;if(this.pageX=a.pageX,this.pageY=a.pageY,i=t(a.target).closest("[title],[data-title-content-id]"),this.target&&this.target.is(":hover")&&!this.target.find(i).length){if(!this._refreshed&&(this._lastTip||this._hiddenOnTimeOut))return;i=this.target}else if(!i.length||!i.attr("title")&&!this._opts.forElement&&!i.attr("data-title-for-element")||i.attr("data-title-content-id")||this._opts.selector&&!i.is(this._opts.selector))return;if(e._inTooltipArea){if(this.element.find(e._inTooltipArea.element[0]).length)return;e._inTooltipArea._hide(!0)}e._inTooltipArea=this}else if(o)this.custom=!0,i=t(o);else return;this._hiddenOnTimeOut=!1,this.target&&this._clearTitle(!0,this.target),this.target=i,this.targetOpt=this._getOptions(i,n),this.custom&&(this.targetOpt.showDelay=0),this._clearTitle(),this.target.off(this._eventSuffix).on("mouseleave"+this._eventSuffix,e=>{this._hiddenOnTimeOut=!1,this._hide(void 0,e)}),this._lastEvent=a,this._show(a)}_hide(e,t){if(this.target&&this._trigger("beforehide",t)){let t=!this.target.is(":hover");t&&this._clearTitle(!0),this._clearShowTimer(),this._clearHideTimer(),this.container&&this._removeTip(e,t),this._handleEvents()}}_show(e){let t=this.targetOpt,a=this.target;t.showDelay&&t.reshowDelay===void 0&&(this.targetOpt.reshowDelay=t.showDelay/5),this.targetOpt.hideOnTargetClick&&a.on("mousedown"+this._eventSuffix,e=>{this._trigger("beforehide",e)&&(this._clearShowTimer(),this._removeTip(!0))}),this._showTooltip(e)}_clearShowTimer(){clearTimeout(this.showTimer)}_clearHideTimer(){clearTimeout(this.hideTimer)}_setTimer(e,t){let a=t.maxDisplayTime;a="number"==typeof a?+a:0,a&&(this._clearHideTimer(),this.hideTimer=setTimeout(()=>{this._trigger("beforehide",void 0,{exceededMaxDisplayTime:!0})&&(this._hiddenOnTimeOut=!0,this._removeTip(!0))},a))}_getTitleForEllipsisEle(e){let t=this.target;return"self"!==e.forElement&&(t=t.find(e.forElement)),!t.length||t[0].clientWidth>=t[0].scrollWidth?void 0:e.title||t.text()}_showHandler(e,t){if(this._trigger("beforeshow",e)){let a=this.targetOpt;if(!this.target.is(":visible"))return;if(a.forElement){let e=this._getTitleForEllipsisEle(a);if(!e)return;a.title=e}this._clearHideTimer(),/^(auto|top|bottom|right|left|top-left|top-right|bottom-left|bottom-right|at-cursor|follow-cursor)$/.test(a.position)||(a.position=this._DEFAULTS.position),this._isAtCursorPos()&&(this.pageX!==void 0&&this.pageY!==void 0||a.offset?a.displayType="box":a.position="top"),this._includeContent(),this._createTooltip(),this._setTimer(this.target,a),"follow-cursor"===a.position&&this.target.on("mousemove"+this._eventSuffix,e=>{this._positionElement(e),this._setTimer(this.target,a)}),this._positionElement(e),this._handleEvents(!0),this._animate(this.container,t,"show",()=>{this._trigger("show",e)})}}_showTooltip(e){let t=this.targetOpt,a=t.showDelay,o=t.animation;this.container&&(this.target.is(this._lastTip)?o=a=void 0:(a=t.reshowDelay,this._trigger("hide",e,this._lastTip))),this._lastTip=this.target,this._clearShowTimer(),a?this.showTimer=setTimeout(this._showHandler.bind(this,e,o),a):this._showHandler(e,o)}_animate(a,o,n,i){let r=()=>{a.css("display","hide"===n?"none":""),i&&i()};if(o&&e.animationHandler&&!t.isEmptyObject(o)){let t={element:a,action:n,callback:r,ctype:this.name,animation:o};e.animationHandler(t)}else r()}_includeContent(){let t=this.targetOpt;if("object"==typeof t){let a=t.title=t.title||t.content||"";a="string"==typeof t.innerHTML?this._populateTemplate(t.innerHTML,t):"string"==typeof t.contentId?document.getElementById(t.contentId).innerHTML:this._encodeContent(a),t.showShortcutKey&&e.ShortCut&&(a=this._appendShortCut(t,a)),this._setContent(t,a)}}_setContent(e,t){this._opts.content=t}_encodeContent(t){return this.targetOpt.isMessageHTMLEncoded?t:e.encodeHTML(t)}_populateTemplate(e,t){if("string"==typeof e)return e.replace(/(#?#[^# ]+#?#)/g,e=>{let a=t[e.replace(/#/g,"")];return this._isNotNull(a)?this._encodeContent(a):e});return"function"==typeof e?e(t):void 0}_isAtCursorPos(){return /^(at-cursor|follow-cursor)$/.test(this.targetOpt.position)}_positionElement(e){let t=this._getPosition(e),a=t.direction.split("-")[0];this.container.removeClass("class").addClass("ztooltip ztooltip--"+a);let o=this.targetOpt.margin;(this._isAtCursorPos()||o&&"object"==typeof o)&&this._updateMargin(o,t,a),this.container.css(t.elementPosition),this._callout&&this._callout.css(t.arrowPosition)}_getPosition(a){let o=this.targetOpt,n=this.target,i=o.position,r=o.positionAlterable;this.container.css({left:"auto",right:"auto"});let s=o.offset;return this._isAtCursorPos()||s?(s?(this.pageX=parseInt(s.left),this.pageY=parseInt(s.top)):i="bottom-left",n=a||{preventDefault:function(){}},n.pageX=this.pageX,n.pageY=this.pageY,r="flipallfit"):"auto"===o.position?(i="bottom",r="flipallfit"):void 0===r&&(r=!1),e.Position.get(n,this.container,{rtl:o.rtl,direction:i,eventObj:a,bufferSpace:this._callout?10:0,positionAlterable:r,arrowCallback:(e,a)=>{t(e).attr("class","ztooltip__pointer zh-"+a)},arrow:"callout"===o.displayType?{element:this._callout,direction:!0,minSpace:8}:void 0})}_removeTipHandler(e){if(this.container){if(!e&&this.targetOpt.pauseOnMouseOver&&this.container.is(":hover"))return;this._lastTip=null,this._animate(this.container,this.targetOpt.animation,"hide",()=>{this._callout=null,this._trigger("hide")})}}_removeTip(e,t){this._lastEvent=!1,this._clearHideTimer(),this.container&&(this.custom&&t&&this._clearTitle(!0,this.target),e||!this.targetOpt.hideDelay?this._removeTipHandler(e):this.hideTimer=setTimeout(this._removeTipHandler.bind(this),this.targetOpt.hideDelay))}_getOptions(e,a){let o=e.attr("title"),n={title:o};if(this._opts.parseTitleForOptions&&o&&isNaN(o)&&-1!==o.indexOf("{"))try{n=JSON.parse(o)}catch(t){}else t.extend(n,this._getTargetAttrs(e));return t.extend(!0,{},this._opts,n,a||{})}_createTooltip(){let e=this.targetOpt;this._opts.callout="callout"===e.displayType,this._callout=!1;let a=this._render(!!this.container);a&&(this.container?this.container.stop(!0,!0).hide():this.container=t(a).on("mouseleave"+this._eventSuffix,()=>{this.target||this._removeTipHandler()})),this.container.css("pointer-events",e.pauseOnMouseOver?"auto":"").attr("class","ztooltip "+(e.className||"")+(e.rtl?" h-rtl":"")),this._opts.callout&&(this._callout=this.container.find(".ztooltip__pointer"))}_render(a){return e._render(this._opts,this.name,null,this.container&&this.container[0],t("body")[0],{skipParent:a})}_isUploadFileBtn(e){return"INPUT"===e.tagName&&"file"===e.type}_clearTitle(e,a){if(a=a||this.target,a&&a.length)if(e){a.off(this._eventSuffix);let e=a.data("zdependentElements")||[];for(let a=0;a<e.length;a++){let o=t(e[a]),n=o.attr("title");(void 0===n||!n&&this._isUploadFileBtn(o[0]))&&o.attr("title",o.data("ztitle")),o.removeData("ztitle")}a.removeData("zdependentElements");let o=a.data("ztitleId");o&&a.attr("data-title-content-id",o).removeData("ztitleId"),this.target=void 0}else{let e=a.parents("[title]").toArray();e.push(a);for(let a=0,o;a<e.length;a++)o=t(e[a]),o.data("ztitle",o.attr("title")),o.removeAttr("title"),this._isUploadFileBtn(o[0])&&(o[0].title="");a.data("zdependentElements",e);let o=a.attr("data-title-content-id");o&&a.data("ztitleId",o).removeAttr("data-title-content-id")}}_trigger(e,t,a){return this._dispatchEvent(e,t,{target:a||this.target,tooltip:"show"===e?this.container:void 0})}_destroy(){this.element.off("."+this.name),this._hide(!0)}refresh(){this._lastEvent&&(this._refreshed=!0,this._targetEnter(this._lastEvent),this._refreshed=!1)}setAttribute(e,a){return"object"==typeof a&&this._opts[e]?void t.extend(this._opts[e],a):void(this._opts[e]=a)}_getTargetAttrs(t){let a={},o=t[0].attributes,n=Object.keys(o);return n.forEach(t=>{let n=o[t];if(n){let t=n.nodeName,o=n.value;t.match(/^data-title-/)&&(t=t.replace(/^data-title-/,"").replace(/-([a-z])/g,e=>e[1].toUpperCase()).replace(/(html)/gi,"HTML"),a[t]="true"===o||"false"===o?"true"===o:-1===o.indexOf("{")?o:e._getObject(o))}}),a}show(e,a){return e=t(e||this.element),e.length&&(a=a||{},a.showDelay=0,this._targetEnter(void 0,e,a)),e}hide(e){this._hide(e)}_updateMargin(e,t,a){let o=e&&parseInt(e.top),n=e&&parseInt(e.left),i=this.targetOpt.rtl?-1:1,r=t.elementPosition;if(isNaN(o)&&(o=0),isNaN(n)&&(n=0),this._isAtCursorPos()){let e=t.availableHeight-this.container.outerHeight();r.left+=n*i,o||(o=Math.min(16,e))}"top"===a?r.top-=o:"bottom"===a?r.top+=o:"right"===a?r.left+=n*i:"left"==a&&(r.left-=n*i)}_appendShortCut(t,a){let o=this.target;o=o.is("label.zbutton")?o.prev("input"):o;let n=e._getOpts(o),i=e.ShortCut.getInfo(n.actionName,o,!1);return i&&(i=t.shortcutKeyCustomHTML?t.shortcutKeyCustomHTML.replace(/(#key#)/gi,i):" ("+i+")",a+=i),a}}e.registerComponent("ZTooltip",ZTooltip)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.ztooltip.Templates;t.WCContainer=e=>ZT.html`<div class="ztooltip" style='display:none;'>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html`<div class="ztooltip__content">${ZT.customHTML(e.content)}</div> ${e.callout&&ZT.html`<div class="ztooltip__pointer"></div>`}`}(ZComponents),function(e){let t=e.ztooltip.Templates;t.container=e=>ZT.html`<div class="ztooltip" style='display:none;'>${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`<div class="ztooltip__content">${ZT.customHTML(e.content)}</div> ${e.callout&&ZT.html`<div class="ztooltip__pointer"></div>`}`}(ZComponents),function(e,t){window.ZAlertBanner=e.AlertBanner={show:function(a){"string"==typeof a&&(a={message:a}),a.createdByShowMethod=!0;let o=e.createAlertBanner(a);a.isCE?o[0].show():e.alertbanner(o).show();let n=t(o).attr("id"),i=n?n+"-banner":e.getID("zalertbanner",o);return t(o).attr("id",i),i},hide:function(a,o){t(a).toArray().forEach(t=>{"Z-ALERTBANNER"===t.tagName?t[0].hide(o):e.alertbanner(t).hide(o)})}};class ZAlertBanner extends e.CoreComponent{get name(){return"zalertbanner"}get attrs(){return{type:"info",icon:null,iconClass:null,SVGIconId:null,errorIconClass:null,errorSVGIconId:null,successIconClass:null,successSVGIconId:null,warningIconClass:null,warningSVGIconId:null,infoIconClass:null,infoSVGIconId:null,message:null,isMessageHTMLEncoded:!1,position:"top",align:"center",hideDelay:null,closeButton:!1,closeSVGIconId:null,closeIconClass:null,display:"fixed",target:"body",displayAfter:null,displayBefore:null,displayInside:null,hideOnClick:!1,left:null,right:null,bottom:null,top:null,width:null,pauseOnMouseOver:!1}}get props(){return{margin:null,errorIconClassName:null,successIconClassName:null,warningIconClassName:null,infoIconClassName:null,closeIconClassName:null,iconClassName:null,animation:{},labels:{close:"Close"}}}get EVENTS(){return["show","hide","beforeshow","beforehide"]}_init(){clearTimeout(this._autoHideTimer);let t=e.Browser.getIEVersion(),a=this.element[0].childNodes;this.isCE&&!this._opts.message&&a.length&&(this._data.messageDOM=[...a]),this._data.isIE=-1!==t&&10>t,this._validate()}_validate(t){let a=this._opts,o=this._data,n=a.margin||{},i="_getIcon",r=a.type,s=a.hideDelay,l=a.closeButton;a.hideOnClick=!l&&a.hideOnClick,a.hideDelay=this._hideDelay=parseInt(/(undefined|null)/.test(s)?l?0:5e3:s);let d="inline"===a.display?0:10;if(("number"==typeof n||"string"==typeof n)&&(d=parseInt(n),d=Number.isNaN(n)?0:n,n={}),["left","right","top","bottom"].forEach(e=>{/(undefined|null)/.test(n[e])&&(n[e]=d)}),a.margin=n,o.closeButton=!1,l&&(o.closeButton=e._getIconInfo(a.closeIconClass||a.closeIconClassName,a.closeSVGIconId,"zc__svg--close zalertbanner__svg","zalertbanner__icon"),o.closeText=this._getI18NText("close")),o.icon=a.icon,o.type=r,o.IconClassName=o.IconClass=o.SVGIconId=o.SVGIconClassName=null,a.icon){"custom"===r&&(i="_customIcon");let t=this[i](a,r);e._getIconInfo(t.iconClass,t.SVGIconId,"zc__svg--"+r+" zalertbanner__svg"," zalertbanner__icon",o)}let c=a.message;c&&(c=a.isMessageHTMLEncoded?c:e.encodeHTML(c),o.messageDOM=""),!c&&o.messageDOM&&(c=null),o.message=c}_postRender(){this.container.attr("role","status").hide(),this._opts.createdByShowMethod&&this._handleOpen()}_postEachRender(){let e=this._opts,t="click."+this.name;e.closeButton&&this.container.find(".zalertbanner__close").off(t).on(t,e=>this.hide(!1,e)),this._data.className="zalertbanner "+("custom"===e.type?"":"zalertbanner--"+e.type)+" "+(e.className||e.zclassName||"")+" "+(e.rtl?"zh-rtl":"")}_setStyles(){let e=this.container[0].style,t=this._opts.width;"none"!==t&&(this.container.css({width:"",display:""}),t?e.width=t:"inline"===this._opts.display&&(e.width=this.container.outerWidth()+1+"px")),"inline"!==this._opts.display&&(e.position=(this._target||this.container.parent()).is("body")?"fixed":"absolute")}_bindEvents(){let e=this._opts,t="click."+this.name;e.hideOnClick&&this.container.off(t).on(t,this.hide.bind(this)),e.pauseOnMouseOver&&e.hideDelay&&this._pauseOnHover()}_setHideTimer(){let e=this._opts.hideDelay;e&&(clearTimeout(this._autoHideTimer),this._startTimer=new Date().getTime(),this._autoHideTimer=setTimeout(this.hide.bind(this),e))}_showHandler(){this._trigger("show"),this._setHideTimer()}_closeHandler(e){this._trigger("hide",e)}_trigger(e,t){return this._dispatchEvent(e,t)}show(){this._trigger("beforeshow")&&(clearTimeout(this._autoHideTimer),this._setStyles(),this._position(),this.container.hide(),this._showHide())}_showHide(t,a,o){let n=t?void 0:this._opts.animation,i=()=>{this._display(a,this.container),a?this._closeHandler(o):this._showHandler()};"object"==typeof n&&!e.isEmpty(n)&&e.animationHandler?this._animate(this.container,n,a?"hide":"show",i):i()}hide(e,t){this._trigger("beforehide")&&(clearTimeout(this._autoHideTimer),this._showHide(e,!0))}_destroy(){this.container.empty(),clearTimeout(this._autoHideTimer),clearTimeout(this._startTimer),this._animate=this._target=this._opts=void 0}_animate(t,a,o,n){e.animationHandler({element:t,action:"none"===o?"hide":"show",callback:n,ctype:this.name,animation:a})}_customIcon(e){return{iconClass:e.iconClass||e.iconClassName,SVGIconId:e.SVGIconId}}_getIcon(e,t){return{iconClass:e[t+"IconClass"]||e[t+"IconClassName"],SVGIconId:e[t+"SVGIconId"]}}_inlinePosition(e,t){let a=this._opts,o=a.margin,n=a.position,i={};return o.top&&(i["margin-top"]=o.top),o.bottom&&(i["margin-bottom"]=o.bottom),i}_getTarget(e){let t=e.displayAfter||e.displayBefore,a;return t&&(a=e.displayAfter?"insertAfter":"insertBefore"),{target:t||e.displayInside,action:a}}_pauseOnHover(){let e="."+this.name;this.container.on("mouseenter"+e,this._pauseTimer.bind(this)).on("mouseleave"+e,this._setHideTimer.bind(this))}_pauseTimer(){this._startTimer&&(clearTimeout(this._autoHideTimer),this._hideDelay-=new Date().getTime()-this._startTimer,this._startTimer=void 0)}_position(){let e=this._opts,t={left:"",right:"",top:"",bottom:""};this.container.css(t);let a=this._getPosition();for(let o in t)e[o]&&(a[o]=e[o]);this.container.css(a)}_getDimension(e){let t=this.container[e?"outerHeight":"outerWidth"]();return this.container.css({left:"auto",top:"auto"}),t}_getPosition(){let e=this._opts,t=e.margin,a=this._getRTLBasedDir(e.align),o={},n=parseInt(t[this._getRTLBasedDir(a)]);return o=this["_"+e.display+"Position"](a,n),"left"===a?o.left=n:"right"===a?"fixed"===e.display?o.right=n:o.left=`calc(100% - ${this._getDimension()+n}px)`:o.left=`calc(50% - ${this._getDimension()/2}px)`,o}_fixedPosition(e,t){let a=this._opts,o=a.margin,n=a.position,i={};return /^(top|bottom)$/.test(n)?i[n]=parseInt(o[n]):i.top="calc(50% - "+this._getDimension(!0)/2+"px)",this.container.attr("data-position",n+"-"+e),i}_setAttribute(e,a){let o=this.container,n=o.is(":visible"),i=this._opts,r=!0,s=i[e];/(target)$/.test(e)?("target"===e&&t(this._target).removeData("previous-bannerId"),this._target=void 0,i[e]=a,r=!1):/(icon|closeButton|type|closeIconClassName|closeSVGIconId|IconClassName|SVGIconId|message|isMessageHTMLEncoded)$/.test(e)?(i[e]=a,this._validate(s)):/(display)/.test(e)?(i[e]=a,r=!1,o.css("position",""),n&&(this._setStyles(),this._position())):/(margin|left|right|top|bottom)/.test(e)?(i[e]=a,r=!1,this._validate(),n&&this._position()):/(hideDelay|hideOnClick|pauseOnMouseOver)/.test(e)&&s!==a?(i[e]=a,r=!1,this._validate(),o.off("."+this.name),this._bindEvents()):/(className|zclassName)/.test(e)?(this._updateClass(a,s),i[e]=a):"animation"===e?"object"==typeof i.animation&&"object"===a?t.extend(!0,i.animation,a):i[e]=a:i[e]=a,"message"===e&&this._position(),r&&(this._domChanged=!0)}_handleOpen(){let a=this._opts,o={},n="inline"===a.display;n&&(o=this._getTarget(a));let i=o.action||"appendTo",r=t(o.target||a.target);this.container[i](r),this._target=r;let s=r.data("previous-bannerId");if(s){let o=a.animation,i=t("#"+s);i.finish?i.finish():i.stop(!0,!0),i.is(":visible")&&i.length&&(i.is("z-alertbanner")?i[0].hide(!0):e.alertbanner(i).hide(!0),n&&o&&o.show&&(o.show=!1))}r.data("previous-bannerId",this.container[0].id)}_closeHandler(e){let t=this.container,a=this._target,o=this;this._opts&&this._opts.createdByShowMethod?(a.data("previous-bannerId")===t.attr("id")&&a.removeData("previous-bannerId"),this._trigger("hide",e),t&&t.remove(),o._destroy(),o.element.remove()):this._trigger("hide",e)}}e.registerComponent("ZAlertBanner",ZAlertBanner)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zalertbanner.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div class="zalertbanner ${e.className}">${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html` ${e.isIE&&ZT.html`<div class="zalertbanner__table"></div>`} ${e.icon&&a.WCIcon(e)} ${e.isIE&&t.WCCloseButton(e)} ${e.type&&ZT.html`<span class="zalertbanner__text">${e.messageDOM} ${ZT.customHTML(e.message)}</span>`} ${!e.isIE&&t.WCCloseButton(e)} `,t.WCCloseButton=e=>ZT.html` ${e.closeButton&&ZT.html`<div class="zalertbanner__action" title=${e.closeText}><button type="button" class="zalertbanner__close">${a.WCIcon(e.closeButton)}</button></div>`}`}(ZComponents),function(e){let t=e.zalertbanner.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div class="zalertbanner ${e.className}">${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html` ${e.isIE&&ZT.html`<div class="zalertbanner__table"></div>`} ${e.icon&&a.icon(e)} ${e.isIE&&t.closeButton(e)} ${e.type&&ZT.html`<span class="zalertbanner__text">${e.messageDOM} ${ZT.customHTML(e.message)}</span>`} ${!e.isIE&&t.closeButton(e)} `,t.closeButton=e=>ZT.html` ${e.closeButton&&ZT.html`<div class="zalertbanner__action" title=${e.closeText}><button type="button" class="zalertbanner__close">${a.icon(e.closeButton)}</button></div>`}`}(ZComponents),function(e,t){class ZAlertDialog extends e.CoreComponent{get name(){return"zalertdialog"}static get DEFAULTS(){return{rtl:!1,type:"custom",buttonsAlignment:"right",isHTMLEncoded:!1,isTitleHTMLEncoded:!1,isMessageHTMLEncoded:!1,className:"",closeButton:!1,icon:void 0,draggable:!0,labels:{cancel:"Cancel",no:"No",ok:"OK",yes:"Yes",close:"Close",help:"Help",suppressionMessage:"Do not show this message again."},suppressAlert:!0,overlayClassName:"",closeIcon:void 0,helpIcon:void 0,helpIconClassName:"",OKButtonLabel:void 0,cancelButtonLabel:void 0,yesButtonLabel:void 0,noButtonLabel:void 0,closeButtonLabel:void 0,helpButtonLabel:void 0,suppressionDecisionBoxLabel:void 0,excludeFocus:".zbutton--action"}}static open(e){this._opts=t.extend(!0,{},this.DEFAULTS,e);let a=this;this.close({},{},function(){a._init(e)})}static _getID(){let e=this._opts;return"zalert-"+(e.name||e.customAttributes&&e.customAttributes.id||"")+"-suppressed"}static _init(t){let a=this._opts,o=this._getID(),n=document.cookie.split(";"),i=n.filter(function(e){if(0===e.trim().indexOf(o+"=true"))return e});return i.length?void(a.suppressed&&a.suppressed()):void(this._construct(),this._bindEvents(),this._positionDialog(),this._createOverlay(),this._opts.animation&&this._opts.animation.open?this._openAnimate():(this._display(),this._handleOpen()),e.$window.off("resize.zalertdialog").on("resize.zalertdialog",e=>{let t=this._opts.position;this.container&&this.container.is(":visible")&&(t&&!t.length||"center"===t)&&"resize"===e.originalEvent.type&&this._positionDialog()}))}static _construct(){let a=this._opts;this._data=a,this._data.className=`${a.className} ${a.rtl?"zh-rtl":""}`;let o=a.title||a.closeButton;o?this._updateTitleInfo():this._data.titleBar=!1;let n=a.isHTMLEncoded||a.isMessageHTMLEncoded;a.primaryMessage&&""!==a.primaryMessage.trim()&&(this._data.primaryMessage=n?a.primaryMessage:e.encodeHTML(a.primaryMessage)),a.secondaryMessage&&""!==a.secondaryMessage.trim()&&(this._data.secondaryMessage=n?a.secondaryMessage:e.encodeHTML(a.secondaryMessage)),a.suppressionDecisionBox&&(this._data.suppressionDecisionBoxLabel=a.suppressionDecisionBoxLabel||this._getString("suppressionMessage")),this._setIcon(),this._createFooter(),this.container=t(e._render(this._data,"zalertdialog",null,null,document.body,{})),this.container.addClass(this._data.className),a.customAttributes&&this.container.attr(a.customAttributes);let i=this.container.find(".zbutton");i.not(".zbutton--help").on("click.zalertdialog",this._clickHandler.bind(this));let r=i.not(".zbutton--action"),s=r.length;for(let a=0;a<s;a++)e._handleFocus(t(r[a]),"zalertdialog");a.suppressionDecisionBox&&this._handleSuppression(),o&&this._handleTitleBar()}static _clickHandler(e){let a=t(e.target).closest(".zbutton"),o=this._data.buttons,n=o.length,r=a.attr("id"),s;for(let t=0;t<n;t++)o[t].id&&o[t].id===r&&(s=o[t]);let i={button:a,properties:s,buttonOptions:s};"zalertbutton--close"===r&&(i.buttonType="CLOSE",i.closeButton=!0),s&&s.action&&"string"!=typeof s.action?s.action(e,i):this.close(e,i),e.stopPropagation(),e.preventDefault()}static _createFooter(){let t=this._getButtons(),a={},o,n;for(let i in t)t.hasOwnProperty(i)&&(a=t[i],o=a.text,a.id=a.id||this._getID()+e.getID(),a.templateRender=!0,a.role=a.type="button",a.contentType=""===o||void 0===o||null===o?"icon":"text",a.tabIndex=a.tabIndex||0,n=a.action,a.className="zbutton zbutton--"+(a.appearance||"normal")+(n&&"string"==typeof n&&"CANCEL"===n?" zh--clickonescape":""));this._data.buttons=t;let i=this._opts.commandBar||{};i.componentName=this.name;let r=this._opts.buttonsAlignment;i.className=`zdialog__footer ${"right"===r?"":this._getAlignCls(r)}`,this._data.commandBar=i,this._opts.helpButton&&this._setHelpButton()}static _getString(t){return e.getI18NText("zalertdialog",t,this._opts.labels,[])}static _getButtons(){let t=this._opts,a={CANCEL:{actionType:"CANCEL",id:"zc-zdialog-cancel",text:t.cancelButtonLabel||this._getString("cancel"),action:"CANCEL",name:"cancel",isCancel:!0},OK:{actionType:"OK",id:"zc-zdialog-ok",text:t.OKButtonLabel||this._getString("ok"),appearance:"primary",name:"ok"},NO:{actionType:"NO",id:"zc-zdialog-no",text:t.noButtonLabel||this._getString("no"),action:"CANCEL",isCancel:!0,name:"no"},YES:{actionType:"YES",id:"zc-zdialog-yes",text:t.yesButtonLabel||this._getString("yes"),appearance:"primary",name:"yes"}},o=t.buttonsOrder||(e.OS.isWindows()?"windows":"mac");a={OK:a.OK,CANCEL:a.CANCEL,YES:a.YES,NO:a.NO},"mac"===o&&(a={CANCEL:a.CANCEL,OK:a.OK,NO:a.NO,YES:a.YES});let n=t.buttons;if(!n)return"custom"===t.type||"confirm"===t.type?[a.CANCEL,a.OK]:[a.OK];if("object"==typeof n)return t.buttons;if("string"==typeof n){let e=[],t=0,o=n.split("-");for(let n in a)-1!==o.indexOf(n.toLowerCase())&&(e[t]=a[n],t++);return e}}static _display(t){let a=!e.Browser.isIE||11<=e.Browser.getIEVersion();return this.container.css("display",t?"none":a?"flex":"block")}static _handleOpen(){let t=this._opts;t.open&&t.open({dialog:this.container,element:this.container,options:t}),t.closeTimeout!==void 0&&""!==t.closeTimeout&&window.setTimeout(()=>{this.close({},{})},parseInt(t.closeTimeout)),this.container.attr("aria-expanded",!0),e.FocusHandler&&e.FocusHandler.init(this.container,t.excludeFocus),this._focusActionButton()}static _focusActionButton(){let e=this._opts.defaultActionButton;e=e&&0!==e.indexOf("#")?`button[data-text='${e.toLowerCase()}']`:".zbutton--primary";let t=this.container.find(e);t.length||(t=this.container.find("button:last")),t.focus()}static _createOverlay(){this._overlay=t("<div class='zdialog--overlay "+this._opts.overlayClassName+"' ></div>").attr("tabindex",1),this._hideBodyScroll(!0),e.zIndex+=2,document.body.insertBefore(this._overlay[0],this.container[0]),this._overlay.css("z-index",e.zIndex-1),this.container.css("z-index",e.zIndex);let a="."+this.name;this._overlay.on(`keydown.${a}`,e=>{e.stopPropagation(),e.preventDefault()}).on(`mousedown.${a}`,function(e){e.stopPropagation()})}static _hideBodyScroll(e){t("body")[e?"addClass":"removeClass"]("zh-overflowhidden")}static close(e,a,o){let n=this.container;n&&n.is(":visible")?(n.finish?n.finish():n.stop(!0,!0),a=a||{actionType:"CLOSE",isCancel:!0},a.element=n,a.options=this._opts,a.isSuppressed=this._opts.suppressionDecisionBox&&t("#zalert__suppression--box").prop("checked"),this._opts.beforeclose?!1!==this._opts.beforeclose(e,a)&&this._handleClose(e,a,o):this._handleClose(e,a,o)):o&&o.apply(this)}static _handleClose(e,t,a){this._opts.animation?this._closeAnimate(e,t,a):(this._display(!0),this._close(e,t,a))}static _close(a,o,n){this.container.remove(),this._overlay&&this._overlay.remove(),t("body").find(".zdialog--overlay").length||this._hideBodyScroll(!1),e.zIndex-=2,a=a||{},t.extend(!0,o,{options:this._opts,button:t(a.target),event:a,element:this.container}),this._opts.close&&this._opts.close(a,o),this._overlay=this.container=void 0,n&&n.apply(this)}static _bindEvents(){let a=`.${this.name}`,o=this._opts;this.container.on(`keydown${a}`,a=>{if(a.keyCode===e.keyCode.ESCAPE){let e=this.container.find(".zh--clickonescape:first");e.length?window.setTimeout(()=>e.trigger("click"),150):o.closeButton?this.container.find(".zdialog__actiongroup #zalertbutton--close").trigger("click"):this.close(a,{ESCAPE_PRESSED:!0})}else if(a.keyCode===e.keyCode.ENTER){let e=this.container.find(o.defaultActionButton||".zbutton--primary");t(a.target).closest(".zbutton:not(.zbutton--menu), input:not(.ztokenfield):not(.zsuggestfield-element):not([type=checkbox]), div.zdialog__header").length&&e.length&&!t(a.target).closest(".zdialog__footer").length&&e.trigger("click")}}).on(`click${a}`,function(e){e.stopPropagation()}),this.container.find(".zdialog__header").length&&this.container.find(".zdialog__header").on(`mouseup${a}`,()=>this._focusActionButton());let n=(o.helpButton||{}).action;n&&t("#zalert--helpbutton").on("click",()=>n())}static _closeAnimate(t,a,o){let n=this._opts.animation.close,i=n.className,r=n.name,s=n.duration?n.duration:0;i?this.container.addClass(i).on(e._animationEnd,()=>{this.container.removeClass(i),this._display(!0),this._close(t,a,o)}):"object"==typeof r?this.container.animate(r,s,()=>this._close(t,a,o)):this.container[r](s,()=>this._close(t,a,o))}static _openAnimate(){let t=this._opts.animation.open,a=t.className,o=t.name,n=t.duration?t.duration:0;a?this._display().addClass(a).on(e._animationEnd,()=>{this.container.removeClass(a),this._handleOpen()}):"object"==typeof o?this._display().animate(o,n,this._handleOpen):this.container[o](n,this._handleOpen.bind(this))}static get _ALIGNMENTS(){return{left:"zdialogfooter--invert",right:"",center:"zh-center"}}static _getAlignCls(e){return this._ALIGNMENTS[e]}static _closeButton(){let t=this._opts;this._data.closeButton=e.ZButton.getBtnProps({id:"zalertbutton--close",title:t.closeButtonLabel||this._getString("close"),className:"zbutton--action",iconClassName:t.closeIconClassName,templateRender:!0,SVGIconId:t.closeSVGIconId,customAttributes:{tabindex:-1},defaultSVGIconId:"zc__svg--close zbutton__svg"})}static _draggable(){e.draggable(this.container,{ignore:".zdialog__actiongroup",handle:".zdialog__header",cursor:"default",container:"window"})}static _setHelpButton(){let t=this._opts;this._data.helpButton=e.ZButton.getBtnProps({id:"zalert--helpbutton",className:"zbutton--help",title:t.helpButtonLabel||this._getString("help"),iconClassName:"zdialog__icon "+t.helpIconClassName,templateRender:!0,SVGIconId:t.helpSVGIconId||(t.helpIconClassName?"":"zc__svg--help zdialog__svg grayscale"),customAttributes:t.helpButton.customAttributes||{},action:t.helpButton.action})}static _setIcon(){let t=this._opts,a=t.type,o=!0,n="custom"===a?"zdialog__svg":`zc__svg--${a} zdialog__svg ${a}color`,i,r,s;t.iconClassName||t.SVGIconId?(i=t.iconClassName,r=t.SVGIconId):"custom"===a?o=!1:(i=t[`${a}IconClassName`],r=t[`${a}SVGIconId`]),o&&(s=e._getIconInfo(i,r,n,"zdialog__icon"),this._data.iconClassName=s.iconClassName,this._data.SVGIconClassName=s.SVGIconClassName||t.SVGIconClassName,this._data.SVGIconId=s.SVGIconId),this._data.alertIcon=o}static _positionDialog(){let a=this.container,o=this._opts,n=o.position;o.width&&a.outerWidth(o.width),o.height&&a.outerHeight(o.height);let i=a.outerWidth(!0)+parseInt(a.css("border-left-width"))+parseInt(a.css("border-right-width")),r=a.outerHeight(!0)+parseInt(a.css("border-bottom-width"))+parseInt(a.css("border-top-width")),s=this._getGoldenMeanPosition(a);"object"==typeof n&&(n.left||n.top)?(s=t.extend({},s,n),s.left=parseInt(s.left)+window.pageXOffset,s.top=parseInt(s.top)+window.pageYOffset):"center"===n&&(s.top=e.windowObject.height/2-r/2+window.pageYOffset,s.left=e.windowObject.width/2-i/2+window.pageXOffset),a.css(s)}static _getGoldenMeanPosition(e){let t=document.documentElement.clientHeight,a=document.documentElement.clientWidth,o=t/2,n=o-o/1.618-parseFloat(e.height()/2),i=a/2-parseFloat(e.width()/2);return 0>n&&(n=0),0>i&&(i=0),{top:n+window.pageYOffset,left:i+window.pageXOffset}}static _handleSuppression(){let e=this._opts;this.container.find("#zalert__suppression--box").on("change",()=>{if(e.suppressAlert){let e=t("#zalert__suppression--box").prop("checked"),a=this._getID();document.cookie=a+"="+e}})}static _updateTitleInfo(){let t=this._opts;this._data.title=t.isHTMLEncoded||t.isTitleHTMLEncoded?t.title:e.encodeHTML(t.title),this._data.titleBar=!0,t.closeButton&&this._closeButton()}static _handleTitleBar(){let a=this;this.container.find("#zalertbutton--close").on("click",e=>{a.close(e,{button:t(e.target),buttonType:"CLOSE",closeButton:!0})}),this._opts.draggable&&e.draggable&&this._draggable()}}e.AlertDialog=window.ZAlertDialog=ZAlertDialog,e.zalertdialog={Templates:{}}}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zbutton.Templates.WCContainer,a=e.zalertdialog.Templates,o=e.Templates.Utilities;a.WCContainer=e=>ZT.html`<z-alertdialog class="zdialog zdialog--alert" tabindex="-1" role="alertdialog" aria-modal="true" aria-expanded="true">${e.children&&a.WCChildren(e)}</z-alertdialog>`,a.WCChildren=e=>ZT.html` ${e.titleBar&&ZT.html`<div class="zdialog__header zdraggable"> ${e.title&&ZT.html`<span class="zdialog__title">${ZT.customHTML(e.title)}</span>`} ${e.closeButton&&ZT.html`<div class="zdialog__actiongroup">${t(e.closeButton)}</div>`} </div>`} <div class="zdialog__content"> ${e.alertIcon&&ZT.html`<div class="zdialog__alerticon">${o.WCIcon(e)}</div>`} <div class="zdialog__description"> ${e.primaryMessage&&ZT.html`<div class="zdialog__primarytext">${ZT.customHTML(e.primaryMessage)}</div>`} ${e.secondaryMessage&&ZT.html`<div class="zdialog__secondarytext">${ZT.customHTML(e.secondaryMessage)}</div>`} ${e.suppressionDecisionBoxLabel&&ZT.html`<div class="zdialog__suppression"> <div class="zcheckbox"><input id="zalert__suppression--box" type="checkbox" class="zcheckbox__helper"><label for="zalert__suppression--box" class="zcheckbox__label">${e.suppressionDecisionBoxLabel}</label></div> </div>`} </div> </div> ${e.commandBar&&ZT.html`<div class="zalertdialog__commandbar zalertdialog__footer ${e.commandBar.className}"> ${e.helpButton&&t(e.helpButton)} ${e.buttons.map(e=>t(e))} </div>`}`}(ZComponents),function(e){let t=e.zbutton.Templates.container,a=e.zalertdialog.Templates,o=e.Templates.Utilities;a.container=e=>ZT.html`<div class="zdialog zdialog--alert" tabindex="-1" role="alertdialog" aria-modal="true" aria-expanded="true">${e.children&&a.children(e)}</div>`,a.children=e=>ZT.html` ${e.titleBar&&ZT.html`<div class="zdialog__header zdraggable"> ${e.title&&ZT.html`<span class="zdialog__title">${ZT.customHTML(e.title)}</span>`} ${e.closeButton&&ZT.html`<div class="zdialog__actiongroup">${t(e.closeButton)}</div>`} </div>`} <div class="zdialog__content"> ${e.alertIcon&&ZT.html`<div class="zdialog__alerticon">${o.icon(e)}</div>`} <div class="zdialog__description"> ${e.primaryMessage&&ZT.html`<div class="zdialog__primarytext">${ZT.customHTML(e.primaryMessage)}</div>`} ${e.secondaryMessage&&ZT.html`<div class="zdialog__secondarytext">${ZT.customHTML(e.secondaryMessage)}</div>`} ${e.suppressionDecisionBoxLabel&&ZT.html`<div class="zdialog__suppression"> <div class="zcheckbox"><input id="zalert__suppression--box" type="checkbox" class="zcheckbox__helper"><label for="zalert__suppression--box" class="zcheckbox__label">${e.suppressionDecisionBoxLabel}</label></div> </div>`} </div> </div> ${e.commandBar&&ZT.html`<div class="zalertdialog__commandbar zalertdialog__footer ${e.commandBar.className}"> ${e.helpButton&&t(e.helpButton)} ${e.buttons.map(e=>t(e))} </div>`}`}(ZComponents),function(e,t){var a=Math.abs,o=Math.round;e.createMenu=function(a,o,n={}){a&&"object"==typeof a&&(o=a.items,n=a,a=a.id);let i=t("#"+a);return i.data("zmenu")?i:(n.id=a,n.usingJSON=!0,o.body||o.header||o.footer?(t.extend(!0,n,o),n.items=o.body,delete n.body):n.items=o,n.allowReplace=!0,e.createElement(n,"menu"))};class ZMenu extends e.CoreComponent{get name(){return"zmenu"}get attrs(){return{allowReplace:!0,constructMenu:!0,appendTo:null,arrowIconClass:null,arrowSVGIconId:null,checkedCheckboxItemIconClass:null,checkedCheckboxItemSVGIconId:null,checkedRadioItemIconClass:null,checkedRadioItemSVGIconId:null,columns:3,headerContentType:void 0,footerContentType:void 0,contentType:"text",direction:"auto",displayType:"box",forElement:null,menuClass:"",zclassName:"",height:null,usingJSON:!1,isCustomHTMLEncoded:!0,isLabelHTMLEncoded:!1,offset:null,pointer:!1,renderInPlace:!1,scroll:"slider",scrollDownArrowIconClass:null,scrollDownArrowSVGIconId:null,scrollUpArrowIconClass:null,scrollUpArrowSVGIconId:null,type:"list",toggle:!0,width:null,EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},minWidth:200,handleAccessKeyNavigation:!0,itemTagName:"li",groupTagName:"ul",viewport:null,menuItems:null,submenuHideDelay:300}}get props(){return{items:null,header:null,footer:null,body:null,arrowIconClassName:null,checkedCheckboxItemIconClassName:null,checkedRadioItemIconClassName:null,scrollDownArrowIconClassName:null,scrollUpArrowIconClassName:null,animation:{}}}get parts(){return["header","body","footer"]}get _DIRECTIONS(){return{menu:"bottom-left",submenu:"right-bottom",pointer:"bottom"}}get EVENTS(){return["beforeshow","beforehide","show","hide","beforesubmenushow","submenushow","beforesubmenuhide","submenuhide","itemhover","itemclick","beforefocus","keydown","submenuitemclick","beforesubmenufocus"]}static get _CONTENT_TYPES(){return{text:"",icon:"zmenu--icononly","icon-text":"zmenu--iconwithtext"}}static get _ITEM_TYPES(){return{default:"zmenu__item",separator:"zmenu__separator",splitmenu:"zmenu__item zmenu--split",itemgroup:"zmenu__title",custom:"zmenu__item zmenu__custom"}}static get ARIA_ROLES(){return{default:"menuitem",splitmenu:"menuitem",custom:"menuitem",radio:"menuitemradio",checkbox:"menuitemcheckbox",itemgroup:"group",separator:"separator"}}get SELECTORS(){let e=this.isCE;return{container:e?"z-menu":"div",menu:e?"z-menubody":"ul:not([data-header]):not([data-footer])",body:e?"z-menubody":"ul:not([data-header]):not([data-footer])",header:e?"z-menuheader":"ul[data-header=true]",footer:e?"z-menufooter":"ul[data-footer=true]",group:e?"z-menuitemheading":"li[data-item-type=itemgroup]",item:e?"z-menuitem":"li",separator:e?"z-menuseparator":"li[data-item-type=separator]",visibleItems:".zmenu__item:not(.is-disabled):visible"}}_getItemDetails(n,a,i,r){let s=n.itemType||"default",l=n.itemType=a.isCE&&i?"Z-MENUSEPARATOR"===i.tagName?"separator":"Z-MENUITEMHEADING"===i.tagName?"itemgroup":s:s,d=n.contentType||a.contentType||"text",c=!1,m=ZMenu._ITEM_TYPES["radio"===l||"checkbox"===l?"default":l],_=new RegExp((r?m:m+"|on-hover")+"|is-disabled|zh-dnone|zmenu--submenu","g");if(n.className=(n.className?n.className.replace(_,"")+" ":"")+m,!a.allowReplace&&i&&(n.element=i),"separator"===l)n.isSeparator=!0,n.contentType="text",i&&(i=t(i));else{if(r||!n.label||a.isLabelHTMLEncoded||(n.label=e.encodeHTML(n.label)),!r&&!n.label&&i){let o=t(i)[n.custom?"html":"text"]();!n.custom&&!a.isLabelHTMLEncoded&&(-1<o.indexOf("<")||-1<o.indexOf(">"))&&(o=e.encodeHTML(o)),n.label=o}if("itemgroup"===l)d="text";else{if("custom"===l||n.custom)this._getCustItemInfo(n,i);else{let t=n.action,a;"string"==typeof t&&-1!==t.indexOf("URL:")&&(n.target=n.target||"_blank",n.className+=" zmenu--withlink",n.url=t.replace("URL:",""),"_blank"===n.target&&(n.rel="noopener noreferrer")),n.ellipsis&&(n.label+="..."),a=e.ShortCut&&i?e.ShortCut.getInfo(t,i,!0):n.shortcutKey,n.shortcutKey=a&&("string"==typeof a?a:a[0]),this._data.hasShortcut=!!a}if(n.menuItems){let t=n.id+"submenu";n.menuId=t,e.createMenu(t,n.menuItems,{type:n.type,isCE:a.isCE,contentType:n.contentType,appendTo:n.appendTo,[a.isCE?"zclassName":"className"]:n.submenuClassName})}}n.hasSubmenu=n.menuId||"splitmenu"===l||"submenu"===l,n.hasSubmenu&&(n.className+="splitmenu"===l||n.splitmenu?"":" zmenu--submenu",n.arrowIcon=e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"zc__svg--arrow zmenu__arrow zh-arrowicon","zmenu__icon zh-alignright"),n.customType&&(n.iconAsSuffix=!0),this._hasSMenu=!0);let o=`${"grid"===a.type?"zmenu__image":"zmenu__icon"}`;n.iconClassName=(n.iconClassName||"").replace(new RegExp(n.iconClass+"|"+o,"g"),""),n.SVGIconId&&(n.SVGIconId+=" zmenu__svg"),n=e._getIconInfo(n.iconClass||n.iconClassName,n.SVGIconId,void 0,o,n),n.contentType=d,("radio"===l||"checkbox"===l)&&(n=this._getIconDetails(n,a,n.checked)),a.isCE&&"itemgroup"===l&&(n.isHeading=!0)}if(i){i=t(i);let e=["disabled","checked","hidden","name"],o;for(let t=0;4>t;t++)o=e[t],n[o]=n[o]||i.attr(o);if(a.allowReplace){let e=i[0].attributes,t={};for(let o=0;o<e.length;o++)"class"===e[o].name?n.className=e[o].value+" "+n.className:t[e[o].name]=e[o].value;n.attrs=t}else c=!0}else n.customAttributes&&(n.attrs={...n.customAttributes});"separator"!==l&&("radio"===l||"checkbox"===l)&&(n=this._getIconDetails(n,a,n.checked)),n.isSeparator||n.isHeading||(n.isDefault=!0);let u=n.className;return u=n.disabled?u+" is-disabled":0<=u.indexOf("is-disabled")?u.replace(/is-disabled/g,""):u,u=n.hidden?u+" zh-dnone":0<=u.indexOf("zh-dnone")?u.replace(/zh-dnone/g,""):u,n.className=u,n.uniqueKey=n.uniqueKey||(n.id||"mitem")+o(1e8*Math.random()),n.id=i&&i.attr("id")||n.id||n.attrs&&n.attrs.id||n.uniqueKey,n.role=ZMenu.ARIA_ROLES[l],n.element&&(n.defaultClass=void 0===n.defaultClass?n.element.className:n.defaultClass,n.attrs=t.extend(!0,{},n.attrs,{id:n.id,class:n.defaultClass+" "+n.className,role:n.role,"data-unique-key":n.uniqueKey})),!1,(n.attrs&&!e.isEmpty(n.attrs)||n.checked)&&this._itemsHavingAttrs.push(n.id),n.layoutName=this._getLayout(`${n.customType?"custom":n.url?"anchor":"default"}Layout`),n.className=n.className.trim(),c&&(n.element.itemData=n),a.addItemCallback&&a.addItemCallback(i,n,a),n}_init(e,t){let a=this._data;t.headerContentType||(t.headerContentType=t.contentType,this._sameheaderct=!0),t.footerContentType||(t.footerContentType=t.contentType,this._samefooterct=!0),this._itemsHavingAttrs=[],this._labelList=[],this._namespace=".zmenu",this._data.shortcutItems=[],a.callout="callout"===t.displayType,this._skipParent=a.alwaysSetAttrs=!0,a.attrs=a.attrs||{},a.attrs.role="menu",a.attrs.tabindex=e[0].getAttribute("tabindex")||0,a.items=[];let o=this._SELECTORS;this._isContainer=e[0].tagName.toLowerCase()===o.container&&(!this.isCE||!e.children(o.item).length),this._lastOverlayedMenu=e,t.constructMenu&&(this[this._isContainer?"_storeAllPortionItems":"_storeMenuItemDetails"](),a.simple=!this._isContainer),this._isContainer||(t.scroll="default"),this.isCE&&t.allowReplace&&(this._addedByComponent=!0),this._useParent=!t.usingJSON,this._NAV_OPTS={...this.NAV_OPTS,ctype:this.name,headerClassName:"zmenu__header",footerClassName:"zmenu__footer",items:this._SELECTORS.visibleItems,keydown:this._keydownHandler.bind(this),arrowkeydown:this._arrowKeydownHandler.bind(this),focusmove:this._focusMoveHandler.bind(this),beforeblur:this._beforeBlurHandler.bind(this)}}_storeMenuItemDetails(t,a=this.element){let o=this._SELECTORS,n=this._data,r=a[0]!==this.element[0],s=[],l=this._opts,i=t?t+"Items":"items",d=l[t]||l[i]||a[0].querySelectorAll(`${o.item}, ${o.separator}, ${o.group}`),c=d.length,m={};for(let o=0;o<c;o++)l.usingJSON||(m=e._getOpts(d[o])),m.contentType=r&&e._getOpts(a).contentType||l[t+"ContentType"]||void 0,s.push(this._getItemDetails(l.usingJSON?d[o]:m,l,!l.usingJSON&&d[o]));s.length&&(n[i]=s)}_postRender(e){let t=this._opts,a=this._data;a.className+=` ${e?e[0].className:""} zmenu ${t.contentType?ZMenu._CONTENT_TYPES[t.contentType]:""} ${!1===this._isContainer&&"grid"===t.type?"zmenu--thumbnail":""} ${t.menuClass||""}`,t.allowReplace||(a.rendered=!0,a.isInitial=!0,this["_setCustomAttrsForItem"+(this._isContainer?"s":"")](a,!0)),t.renderInPlace&&this._resetLabels(e),this.isCE&&t.allowReplace&&(this._addedByComponent=!1),e.attr("aria-hidden",!0)}_postEachRender(){let e=this._data;(e.rendered&&!e.isInitial&&this._itemsHavingAttrs.length||this._opts.allowReplace&&(!e.rendered||this._itemsHavingAttrs.length))&&this["_setCustomAttrsForItem"+(this._isContainer?"s":"")](e,!1),this._pointerElement=e.callout&&this.element.find(".zmenu__pointer"),this._addedByComponent=!1}_setCustomAttrsForItem(e,a,o){this.isCE&&(this._addedByComponent=!0);let n=[],i=e[o||"items"],r,s,l,d;if(i&&i.length)for(r=0;r<i.length;r++)(d=i[r],s=d.attrs,l=t("#"+d.id)[0],this._opts.allowReplace||(l=d.element||l,this._render(d,d.layoutName,l,!0),d.className&&t(d.element).attr("class",d.className)),l=t("#"+d.id),!!l.length)&&(-1!==this._itemsHavingAttrs.indexOf(d.id)&&(s&&(s.class&&l.attr("class",s.class),delete s.class,l.attr(s)),l.prop("checked",d.checked)),n.push(l));return this.isCE&&(this._addedByComponent=!1),n}_bindEvents(){this._data.isInitial=!1;let e=this.element,t=this._namespace;this._addEvents({mouseup:"mouseup"}),e.on("mouseenter"+t,".zmenu__item",(e,t)=>this._mouseenterHandler(e,t)).on("mouseleave"+t,".zmenu__item",e=>this._mouseleaveHandler(e))}get NAV_OPTS(){return{wrapAround:!0,handleHover:!1}}_focusMoveHandler(e){let t=this._lastOverlayedMenuItem;if(t&&t.length&&this._lastOverlayedMenuItem.trigger("mouseleave"),e.target=e.detail.item,e.type=e.originalEvent&&e.originalEvent.type,this._mouseenterHandler(e),"slider"===this._opts.scroll&&this._data.scroller){let e=this.element,t=this._lastOverlayedMenuItem,o=t.offset().top+t.outerHeight(),n=this.element.find(".zmenu--scrollerdown"),i=this.element.find(".zmenu--scrollerup"),r=e.find(".zmenu__body"),s;n.is(":visible")?(s=o>n.position().top,s=s?r.scrollTop()+a(n.position().top-o):void 0):i.is(":visible")&&(s=0>t.offset().top,s=s?t.offset().top:void 0),void 0!==s&&r.scrollTop(s),this._showScrollEle(r)}}_beforeBlurHandler(e){let a=this._lastOverlayedMenuItem||this.element.find(".on-hover"),o=e.relatedTarget;return!(o&&a&&a.length&&(a[0].itemData.hasSubmenu&&this._isMenuOfMenuItemShown(a)||t(o)[0].contains(a[0])))}_bindRuntimeEvents(){let t=this._lastOverlayedMenu||this.element;e.keyboardnavigation(t,{...this._NAV_OPTS,direction:this._isGridMenu(t)?"both":"vertical"})}_mouseenterHandler(e,t){this[this._hasSMenu?"_checkSubmenuEnter":"_handleMouseEnterOnMenuItems"](e,!e.originalEvent,t)}_handleMouseEnterOnMenuItems(a,o=!a.originalEvent,n){let i=t(a.target).closest(".zmenu__item"),r=this._getData(i),s=i.closest(".zmenu"),l=s.find(".zmenu__body").length&&s.find(".zmenu__body"),d=this._hideOpenedSubmenu.bind(this);if(l&&l.stop(),r.disabled||"itemgroup"===r.itemType){d(s);let e=this._lastOverlayedMenuItem;return void(e&&this._updateHoverState(e,!1))}let c=this._setLastOverlayedMenuItem.bind(this);if(r.hasSubmenu&&i.hasClass("on-hover")&&this._isMenuOfMenuItemShown(i))return void c(i);let m=s.data("parent");if(m&&(m=m.closest(".zmenu"),clearTimeout(e._getOpts(m).mouseOverTimeout)),n&&(a=n),this._triggerEvent("itemhover",a,this._lastOverlayedMenu,i,r)&&(!1!==o&&this._scrollToView(i,l||s),d(s),c(i),this._updateHoverState(i,!0,r),r.hasSubmenu)){let o=r.submenu||t("#"+r.menuId);e.keyboardnavigation(s).setAttribute("activeEleOnRight",o),e.keyboardnavigation(o,{...e.menu(o)._NAV_OPTS,direction:this._isGridMenu(o)?"both":"vertical"}),e.keyboardnavigation(o).setAttribute("activeEleOnLeft",s),this._handleMouseEnterOnSubmenuItem(i,a,r)}}_setLastOverlayedMenuItem(t){let a=this._lastOverlayedMenuItem,o=t&&t.length;if(a&&o&&a[0]===t[0])return;let n=this._lastOverlayedMenu,i;if(a&&o&&!n[0].contains(t[0]).length){let e=this._getData(t),a=e.submenu;a&&a[0]===n[0]||(i=n.data("parent"),i&&i.parent().has(t[0]).length&&t.trigger("mouseleave"))}if(a&&a.trigger("mouseleave",t),this._lastOverlayedMenuItem=t,o){let a=t.closest(".zmenu"),o=this.element,n=o.data("parent"),i;for(this.setLastOverlayedMenu(a);n;)i=o.data("parent"),o=i.closest(".zmenu"),n=o.data("parent");e.menu(o)._lastOverlayedMenuItem=t}}_hideOpenedSubmenu(e){this._hasSMenu&&this._hideAllSubmenus&&this._hideAllSubmenus(e)}_hideParentMenu(t,a){t=this._findMain(t),t[0]===this.element[0]?this._hideOpenedSubmenu(t,!0,a):e.menu(t).hide(void 0,a)}_scrollToView(t,a){let o=t.offset().top-a.offset().top,n=a[0].scrollTop,i=e.menu(a.closest(".zmenu")).getData().scroller,r=0<=o?"downEle":"upEle",s;if(i&&i[r].is(":visible")){let e=i[r].outerHeight(!0);o+="upEle"==r?-e:e}s=0>o?n+o:Math.max(n,o+n+t.outerHeight(!0)-a.outerHeight()),a.scrollTop(s),i&&n!==s&&this._showScrollEle(a)}_mouseleaveHandler(e){this[this._hasSMenu?"_checkSubmenuLeave":"_handleMouseLeaveOnMenuItems"](e)}_handleMouseLeaveOnMenuItems(e){let a=t(e.target).closest(".zmenu__item"),o=this._getData(a);if(!o.hasSubmenu||this._handleMouseLeaveOnSubmenuItem(a,e)){let e=this._lastOverlayedMenuItem;!a.hasClass("on-hover")&&e&&e[0]!==a[0]&&(a=e,o=this._getData(a)),this._updateHoverState(a,!1,o),this._lastOverlayedMenuItem=void 0}}_mouseupHandler(a){if(3!==a.which||t(a.target).closest(".zmenu--withlink").length){let o=t(a.target).closest(".zmenu__item");if(o.length){let t=this._getData(o),n=t.itemType;if(!(t.disabled||"itemgroup"===n||"separator"===n)){let i=this._triggerEvent.bind(this),r=o.closest(".zmenu");if(i("before"+(r.data("parent")?"submenu":"")+"itemclick",a,r,o,t)){let s=t.action;if(s){let n=[o,a,{menuitem:o,options:t}];"string"==typeof s&&-1===s.indexOf("URL:")?e._triggerFunction(s,n[0],n.splice(1)):"function"==typeof s&&s.call(n[0],n[1],n[2])}("radio"===n||"checkbox"===n)&&i("beforeitemchecked",a,void 0,o,t)&&this._checkMenuItem(o,"checkbox"!==n||!t.checked,t),i((r.data("parent")?"submenu":"")+"itemclick",a,r,o,t)&&(!t.hasSubmenu||"splitmenu"===t.itemType)&&this.hide(void 0,a)}}}}}_enterKeyHandler(a){a.target=t(this._lastOverlayedMenuItem);let o=this._lastOverlayedMenuItem;o&&o.data("menuId")&&!o.hasClass("zmenu--split")?(a.keyCode=e.keyCode.RIGHT,this.handleKeyCode(a)):this._mouseupHandler(a)}_escKeyHandler(e){this._lastOverlayedMenu.data("parent")?(this._hideLastShownMenu(),this._lastOverlayedMenu&&this._lastOverlayedMenu[0].focus()):this.hide(),e.stopPropagation(),e.preventDefault()}_onLtRtKey(e,t){return this._openCloseSubmenu(t,e)}handleKeyCode(t,a){this._lastOverlayedMenu=this._lastOverlayedMenu||this.element,a||e.keyboardnavigation(this._lastOverlayedMenu).moveFocus(t);let o=t.keyCode,n=this._lastOverlayedMenuItem;this._labelList.length&&this._opts.handleAccessKeyNavigation&&this._callMenuitemSearch(String.fromCharCode(o),+new Date);let i=this._lastOverlayedMenu.find(".on-hover"),r=!1;if(i.length&&(!n||n&&n[0]!==i[0])){let e=this._getData(i).submenu;r=e&&e.length,!r&&n&&(r=this._lastOverlayedMenu.data("parent")&&this._lastOverlayedMenu.data("forElement")[0]===n[0])}t&&"keydown"===t.type&&!r&&this._triggerEvent("KEYDOWN",t,this.element)}_keydownHandler(e){let t=e.detail;t.isEnterKey||t.isSpaceKey?this._enterKeyHandler(e):t.isEscapeKey&&this._escKeyHandler(e)}_arrowKeydownHandler(e){let t=e.detail,a=this._lastOverlayedMenuItem,o=this._opts.rtl,n=(o?t.isLeftKey:t.isRightKey)&&a&&(a.hasClass("zmenu--submenu")||a.hasClass("zmenu--split")),i=t["is"+(o?"Right":"Left")+"Key"];(n||i)&&this._onLtRtKey(e,t.key)}_isNonModifier(e){return!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}getData(){return this._data}_getData(t,a){if(!t.length)return{};let o=t.attr("data-unique-key"),n=t.parent(),i=!n.length||n.hasClass("zmenu__body")||n.hasClass("zmenu")?"items":n.hasClass("zmenu__footer")?"footerItems":"headerItems",r=n.closest(".zmenu"),s=r.length?r:this.element,l=e.menu(s).getData()[i],d=l.length;for(let e=0;e<=d-1;e++)if(l[e].uniqueKey===o)if(a)delete l[e],l.splice(e,1),--d;else return l[e]}_removeData(e){this._getData(e,!0)}_fixMenuUI(t,a,o){t.is(":visible")&&e.Helpers.fixHeight(t)}_resetLabels(e){this._opts.handleAccessKeyNavigation&&this._refreshLabelArray(e)}setLastOverlayedMenu(e,t){this._lastOverlayedMenu=e,t||e[0]===this.element[0]||this._setLastOverlayedSubMenu(e)}_findMain(e=this.element){return(e.data("parent")?this._findParentMenu(e):e).closest(".zmenu")}show(a,o){a=a?Object.create(a):{};let n=this._opts,i=a.event||{},r=t(a.appendTo||n.appendTo),s=t(a.forElement||n.forElement),l=a.isSubMenu=!!o,d=this._DIRECTIONS,c=a.direction,m=n.direction,_=n.isRightClick||"at-cursor"===(c||m),u=_?"callout"===n.displayType?d.pointer:d.menu:c||m;o=o||this.element,o.data("forElement",s);let p=this._triggerEvent(l?"beforesubmenushow":"beforeshow",i,o,void 0,{currentTarget:_?i.target:s});if(!1===p)return a;let h=l?e.menu(o).getAttributes():this._opts,g=this._isGridMenu(o),f=a.offset||(l?h.offset:n.offset)||void 0;l||this._bindRuntimeEvents(),this.setLastOverlayedMenu(o),(n.pointer||"callout"===n.displayType)&&!l&&(a=this._getCalloutDetails(a)),a.direction=c?"auto"===c?u:c:l?d.submenu:"auto"===m?u:m,a.positionAlterable=("at-cursor"===m||_)&&!l?"fit":a.positionAlterable||n.positionAlterable||(l?"flipfit":"auto"===m||"at-cursor"===m);let b=e.Helpers.open(o,t.extend(!0,{},{forElement:s,isSubList:l,isGrid:g,renderInPlace:n.renderInPlace,position:n.position,width:h.width,height:h.height,offset:f,contentType:h.contentType,appendTo:r,within:a.within,viewport:n.viewport,event:a.event,animation:h.animation,isContextual:_,direction:a.direction,positionAlterable:a.positionAlterable,rtl:h.rtl,columns:h.columns,alterBorderRadius:!0,isRightClick:n.isRightClick,hideMethodName:"_hide",hideEventName:"hide",cname:"zmenu",arrowElement:this._pointerElement,arrowCallback:a.arrowCallback,scroll:n.scroll,isCE:h.isCE,getAllMenuItems:(e,t,a,o)=>this._getAllMenuItems(e,t,a,o),onShow:()=>{this._handleMenuOpen(o,l,a)},onShowWithAnimation:()=>{this._openWithAnimation(o,a)},onToggle:()=>{this.hide(o,n)},displayScrollers:e=>{let t=(e?"_":"_un")+"initSliders";(e||this[t])&&this[t](o,void 0,!0)},beforeFocus:()=>this._triggerEvent(l?"beforesubmenufocus":"beforefocus",{})},a));return b?(o.data("positionOpts",Object.create(a)),a.position=b.pos,a):a}_handleMenuOpen(e,t,a){this._resetLabels(e),e.attr("aria-hidden",!1),this._triggerEvent((t?"submenu":"")+"show",a.event,e,void 0,{})}selectHoveredMenuItem(){let e=this._lastOverlayedMenuItem;return e&&t(e).trigger("mouseup"),e}hoverMenuItem(e){return e=t(e),e.length?void this._mouseenterHandler({target:e[0]}):(e=this._lastOverlayedMenuItem,e&&this._updateHoverState(e,!1),void(this._lastOverlayedMenuItem=void 0))}_updateHoverState(e,t,a=this._getData(e)){e[(t?"add":"remove")+"Class"]("on-hover"),t||e.removeClass("has-focus"),a.className=t?a.className+" "+"on-hover":a.className.replace(/on-hover/g,"")}_isGridMenu(e=this.element,t){let a=t?e.closest(".zmenu"):e;if(a.length){return"grid"===this.getMenuType(a)||a.hasClass("zmenu--thumbnail")||a.find(".zmenu--thumbnail").length}}getMenuType(t){return t&&t.data("isExternalSubmenu")?e.menu(t).getMenuType():this._opts.type}getMenuItemAt(e,t=this.element,a){let o=t.find(`.zmenu__item:eq(${e})`);return a?this._getData(o):o}_setFocus(){clearTimeout(this._focusTimer),this._triggerEvent("beforefocus",{})&&(this._focusTimer=setTimeout(()=>this.element.focus(),100))}callRender(){this._render()}_hide(e){this.hide(void 0,e)}hide(a=this.element,o){let n=this.element,i=this._opts,r=a.data("parent"),s=!!(a[0]!==n[0]||r&&r.is(".zmenu__item")&&!o);e.Helpers.close(a,{renderInPlace:i.renderInPlace,animation:i.animation,beforeHide:()=>{let e=this._triggerEvent((s?"beforesubmenu":"before")+"hide",o,a);if(!1!==e){s||this._hideParentMenu(a,o&&o.originalEvent?o.originalEvent:o);let e=t(`${this._SELECTORS.item}.${"on-hover"}`,a),l;for(let a=0;a<e.length;a++)l=t(e[a]),l.is(".zmenu--split")&&l.find(".zmenu__icon.zh-alignright").removeClass("on-hover"),this._updateHoverState(l,!1),l.removeClass("has-focus");if(a[0]===n[0])this._lastOverlayedMenuItem=void 0;else{let e=r.parent();e.is(".zmenu__body, .zmenu__header, .zmenu__footer")&&(e=e.parent()),this.setLastOverlayedMenu(e)}this._isToBeDelayed=!1}return e},onHide:()=>{this._handleMenuClose(a,s,o)},onHideWithAnimation:()=>{this._closeWithAnimation(a,s,o)}})}_handleMenuClose(e,t,a){!t&&this._isContainer&&"slider"===this._opts.scroll&&this._uninitSliders&&this._uninitSliders(e);e.removeClass("zh-scroll_y").find(".zh-scroll_y").removeClass("zh-scroll_y"),e.find(".has-focus, .on-hover").removeClass("has-focus on-hover"),this._resetLabels(e),e.attr("aria-hidden",!0),this._triggerEvent((t?"submenu":"")+"hide",a,e)}_triggerEvent(e,a={},o=this.element,n,i){n=n||t(a.target).closest(".zmenu__item");let r=n.length,s=o[0]===this.element[0],l={originalEvent:a,forElement:o.data("forElement"),target:o.data("forElement"),offset:this._offset||o.offset(),menu:o,isBaseMenu:s,menuitem:n,data:r?i:void 0,itemValue:r&&i&&i.itemValue};return i&&(l=t.extend(!0,{},i,l)),-1!==e.indexOf("submenu")&&"beforesubmenufocus"!==e?this._triggerEventToSubmenu(e,a,l,o):this._dispatchEvent(e,a,l,o)}triggerEvent(){return this._dispatchEvent(...arguments)}_getLayout(e){return this.isCE?"WC"+e.replace(/./,e=>e.toUpperCase()):e}_refreshLabelArray(e){this._labelList=[],this._prevSKey=this._prevKTime=this._prevSIndex="";let a=e.find(".zmenu__item:not(.zmenu__title):not(.is-disabled):not(.zmenu__separator):visible"),o=a.length,n;for(let r=0;r<o;r++)n=a[r],this._labelList.push({text:n.getAttribute("data-label")||t(n).find(".zmenu__text").text()||"",itemId:n.id})}_callMenuitemSearch(e,t){let a=!1;this._prevKTime&&700<t-this._prevKTime?(a=this._prevSKey===e,this._prevSKey=e):this._prevSKey+=e,this._prevKTime=t,this._menuitemSearch(a)}_menuitemSearch(e){let t=this._labelList,a=t.length,o=new RegExp("^"+this._prevSKey.replace(/[|()[{.+*?$\\]/g,"\\$0"),"i"),n=e&&this._prevSIndex<a?this._prevSIndex+1:0;n=0<n&&n<a?n:0;for(let i=n;i<a;i++)if(o.test(t[i].text)){let e=-1;for(let n=i+1;n<a;n++)if(o.test(t[n].text)){e=i;break}return this._prevSIndex=e,void this._handleMouseEnterOnMenuItems({target:"#"+t[i].itemId},!0)}}addMenuItems(e,t,a){return this._fetchAndRender(e,t,!0,a)}replaceMenuItems(e,t,a){let o=this._data;this._removeCustomAttrs(e),o.headerItems=o.footerItems=o.items=[];let n=this._lastOverlayedMenuItem;return n&&n.length&&n.removeClass("on-hover"),this._lastOverlayedMenuItem=null,this._itemsHavingAttrs=[],this._fetchAndRender(e,t,void 0,a)}_fetchAndRender(e,t,a,o){let n=this._fetchItemDetails(e,a);return this._invokeRender(t,n,void 0,void 0,o)}_removeCustomAttrs(e){let t=this.parts,a,o,n;for(let i=0;3>i;i++)a=t[i],o=this._data[1==i?"items":a+"Items"],n=e[a],n&&o&&o.length&&this._removeCustomAttrsOf(o,n)}_removeCustomAttrsOf(e,a){if(!e||!e.length)return;let o,n;for(let r=0;r<e.length&&r<a.length;r++)o=e[r],-1!==this._itemsHavingAttrs.indexOf(o.id)&&(n=o.customAttributes,n&&(Object.keys(n).forEach(e=>{n[e]=null}),a[r].customAttributes=t.extend(!0,{},n,a[r].customAttributes)));this._itemsHavingAttrs=[]}_invokeRender(e,a,o,n,i){let r=this.element,s=this.isCE;if(s&&(this._addedByComponent=!0),this._isContainer&&this._updateSectionCls("grid"===this._opts.type,this._data),this._opts.allowReplace||n)this._render();else{let e=this.parts,t,a,o;for(let n=0;3>n;n++)t=1==n?"items":e[n]+"Items",this._data[t]&&(a=this._data[t],o=this.element.find(".zmenu__"+e[n]),o=o.length||1!=n?o:this.element,o.length?this._render(a,"items",this.element.find(".zmenu__"+e[n])[0]):this._render())}s&&(this._addedByComponent=!1);let l=[];return a&&(l=o?t("#"+a.id):this[this._isContainer?"_setCustomAttrsForItems":"_setCustomAttrsForItem"](a)),e&&e(l,a),i||this._fixMenuUI(r,r.data("positionOpts")),this._resetLabels(r),l}_fetchItemDetails(e,a){let o={items:[],headerItems:[],footerItems:[]},n=this._data,r=e instanceof t?e:Object.create(e),s=r.length,l=this._opts,d,c,m;if(r instanceof Array)for(c=0;c<s;c++)d=this._getItemDetails(r[c],l),m=d.isHeader?"headerItems":d.isFooter?"footerItems":"items",o[m].push(d),a&&n[m].push(d);else{let e=this.parts,t,i,s;for(c=0;3>c;c++)if(t=r[e[c]],t){for(s=1===c?"items":e[c]+"Items",i=0;i<t.length;i++)d=this._getItemDetails(t[i],l),o[s].push(d);a&&(n[s]=(n[s]||[]).concat(o[s]))}}return a||(n.headerItems=o.headerItems,n.footerItems=o.footerItems,n.items=o.items),o}addCustomMenuItem(e,t){e[0]._constructed||"true"===e.attr("_constructed")||this.addMenuItem(e,t)}removeMenuItems(e){if(e)for(let t=0;t<e.length;t++)this.removeMenuItem(e[t],!0);else{let e=this._data;e.headerItems=[],e.footerItems=[],e.items=[],e.headerElement=e.bodyElement=e.footerElement=this._lastOverlayedMenuItem=null}this._invokeRender(void 0,void 0,void 0,!0)}removeMenuItem(e,a){let o=this.element;if(e=t(e,o),e.length&&this._data.rendered&&e.attr("role")){let n=e.attr("name");this._removeData(e);let i=n?t("#"+n+".zmenu__title"):void 0;if(i&&i.length){let t=o.find(".zmenu__item[name="+n+"]:not(.zmenu__title):not([data-unique-key=\""+e.attr("data-unique-key")+"\"])");t.length||this._removeData(i)}a||this._invokeRender()}}addMenuItem(a,o){if(this._addedByComponent)return;let n=a instanceof t||1===a.nodeType?t(a):void 0;"object"==typeof a&&(a=Object.create(n?e._getOpts(n):a));let r=a.customAttributes||{},s;for(let e in this._propNames)s=this._propNames[e],a[s]&&(r[s]=a[s]);a.isHeader&&(a.contentType=this._opts.headerContentType),a.isFooter&&(a.contentType=this._opts.footerContentType),a=this._getItemDetails(a,this._opts,n&&n[0]);let i=this._data,l=a.index;this._isNotNull(l)?i.items.splice(l,0,a):i[a.isHeader?"headerItems":a.isFooter?"footerItems":"items"].push(a);let d=a.menuItems;return d&&"object"===d&&(o=void 0),n&&n[0].parentNode.removeChild(n[0]),this._invokeRender(o,a,!0)}_closeWithAnimation(t,a,o){let n=this._opts.animation;if(a&&(n=t.data("zmenu")._opts.animation),n.close){n=n.close||n.hide;let i=n.className,r=n.name,s=n.duration?n.duration:0,l=()=>{this._handleMenuClose(t,a,o),e.Helpers.removeScrollClass(t)};i?t.addClass(i).on(e._animationEnd,()=>{t.removeClass(i),this._display(!0,t),l&&l(),l=void 0,t.off(e._animationEnd)}):"object"==typeof r?t.animate(r,s,l):this._opts.EFFECTS[r]&&(!s&&(s=400),t[this._opts.EFFECTS[r].close](s,l)),a&&t.data("parent").closest(".zmenu").data("waitingTime",s)}else 0<t.data("waitingTime")?window.setTimeout(()=>{this._display(!0,t),this._handleMenuClose(t,a,o),t.data("waitingTime",0)},t.data("waitingTime")):(this._display(!0,t),this._handleMenuClose(t,a,o))}_openWithAnimation(t,a){let o=this._opts.animation,n=a.isSubMenu;if(n&&(o=t.data("zmenu")._opts.animation),o.open){o=o?o.open||o.show:a.animation.open||a.animation.show;let i=o.className,r=o.name,s=o.duration?o.duration:0,l=()=>{this._handleMenuOpen(t,n,a)};i?(this._pointerElement&&this._pointerElement.show().addClass(i),this._display(void 0,t),t.addClass(i).on(e._animationEnd,()=>{t.removeClass(i),l&&l(),l=void 0,t.off(e._animationEnd)})):"object"==typeof r?(this._pointerElement&&this._pointerElement.show().animate(r,s,l),this._display(void 0,t),t.animate(r,s,l)):this._opts.EFFECTS[r]&&(!s&&(s=400),this._pointerElement&&this._pointerElement[this._opts.EFFECTS[r].open](s,l),t[this._opts.EFFECTS[r].open](s,l))}else n&&(this._display(void 0,t),this._pointerElement&&this._pointerElement.show(),this._handleMenuOpen(t,n,a))}_getCalloutDetails(e){return this._changeCalloutData(!0),e.arrowCallback=(e,t)=>{this._arrowDirection=t,e.removeClass("zh-top zh-bottom zh-right zh-left").addClass(`zh-${t}`)},e}_changeCalloutData(e){return e&&this._pointerElement&&this._pointerElement.length?this._pointerElement.removeClass("zh-top zh-bottom zh-left zh-right"):void(this._data.callout=!!e,this._render())}_getCustItemInfo(t,a){let o=t.innerHTML||t.zinnerHTML,n;if(o){let t=o.replaceArray;if(n=o.content||o,t)for(let a=0;a<t.length;a++)n=n.replace("{"+a+"}",e.encodeHTML(t[a]))}n=a?a.innerHTML:n,t.innerHTML=this._opts.isCustomHTMLEncoded?n:e.encodeHTML(n),t.customType=!0}_destroy(a=this.element){if(clearTimeout(this._focusTimer),a.removeData("positionOpts forElement parent isRightClick direction actualDirection arrowDirection arrowPosition availableHeight availableWidth elementPosition oldDirection pos zshowhide zscrEle"),e.keyboardnavigation(a).destroy(),a.off("."+this.name),!this.isCE){let e=this._opts;if(a.removeClass("zh-scroll_y"),e.usingJSON){let e=a[0].querySelectorAll(".zmenu--submenu,.zmenu--split"),o;for(let a=0;a<e.length;a++)o=t(e[a]).data("submenu"),o&&o.data("usingJSON")&&this._removeAllSubmenus(o)}else{let e=this._data;e.callout=!1,e.headerClassName=e.bodyClassName=e.footerClassName="",this._pointerElement=void 0;let t=["headerItems","items","footerItems"],a=/zmenu__item|zmenu__title|zmenu__custom|zmenu__separator|is-disabled|is-fixed|is-selected/g,o;for(let n=0;3>n;n++)o=t[n],e[o]&&this._changeDataForDes(e[o],a);this._render()}}}_changeDataForDes(e,t){let a;for(let o=0;o<e.length;o++)a=e[o],a.iconClassName=a.iconClass=a.SVGIconId=a.role=a.itemType=a.shortcutKey=a.description=a.hasSubmenu=a.menuId=a.checked=a.iconAsSuffix=a.iconAsPrefix=void 0,a.className=a.className.replace(t,""),a.layoutName=this._getLayout("destroyLayout")}disableMenuItems(e){this._toggleDisState(e,!0)}enableMenuItems(e){this._toggleDisState(e,!1)}_toggleDisState(e,a){let o=this._SELECTORS;e||(a?e=this.element.find(o.item).filter(function(){return"none"!==t(this).css("display")}):e=this.element.find(".is-disabled")),this.setMenuItemsAttribute(e,"disabled",a)}_getAllMenuItems(e,t,a,o,n){return e&&e.length||(e=this.element),e.find(`.zmenu__item:not(.zmenu__title${n?",.zmenu__separator":""}${t?",.zmenu--thumbnail":""}${a?",li ul[mtype=submenu] li":""})${o?":visible":""}`)}_getIconDetails(e,t,a,o){let n=e.itemType,i=o?"zmenu__image":"zmenu__icon",r=n[0].toUpperCase()+n.slice(1),s=t[`checked${r}ItemIconClass`]||t[`checked${r}ItemIconClassName`]||"",l=t[`checked${r}ItemSVGIconId`],d=`#zc__svg--${"radio"===n?"round":"tick"}`;if(o||e.iconClass||e.iconClassName&&e.iconClassName.trim()!==i&&e.iconClassName.trim()!==(i+" "+s).trim()||e.SVGIconId&&e.SVGIconId!==d&&e.SVGIconId.slice(1)!==l){let t=e.className.replace(/is-selected/g," ");a&&(t+=" is-selected"),e.className=t}else a?(e.iconClassName=i+" "+s,e.SVGIconId=!s&&(t[`checked${r}ItemSVGIconId`]||d),e.SVGIconId&&-1===e.SVGIconId.indexOf("#")&&(e.SVGIconId="#"+e.SVGIconId),e.SVGIconClassName="radio"===n?"zmenu__radio":"zmenu__tick"):(e.iconClassName===i+" "+s&&(e.iconClassName=i),e.SVGIconId&&(e.SVGIconId===d||e.SVGIconId.slice(1)===l)&&(e.SVGIconId=void 0));return e.iconAsPrefix=e.customType,e}_checkMenuItem(e,t,a){a=this._getData(e),this["radio"===a.itemType?"_handleRadioItem":"_addCheckedStateIcon"](e,t,a)}_addCheckedStateIcon(t,a,o,n){let i=this._isGridMenu(t,!0),r=t.find("i:first");if(r.length){let o=this._getData(t);o=this._getIconDetails(o,e.menu(this._lastOverlayedMenu)._opts,a,i);let r=o.attrs||{};r.checked=r["aria-checked"]=o.checked=a,o.attrs=r,this._itemsHavingAttrs.push(o.id),n||e.menu(t.closest(".zmenu")).callRender()}t.prop("checked",a)}_handleRadioItem(e,a,o,n){if(a){let a=t(e).attr("name"),o=this._SELECTORS,i=e.closest(o.menu);i=i.length?i:e.closest(o.container);let r=i.find(`${o.item}[role=menuitemradio][name=${a}]`);for(let e=0,a;e<r.length;e++)a=t(r[e]),(a.prop("checked")||a.attr("checked"))&&this._addCheckedStateIcon(a,!1,this._getData(a),n)}this._addCheckedStateIcon(e,a,o,n)}_changeCheckedIcons(){let e=this._opts,a=this.element.find("[role=\"menuitemradio\"],[role=\"menuitemcheckbox\"]"),o;for(let n=0;n<a.length;n++)o=this._getData(t(a[n])),o.iconClass=o.iconClassName=o.SVGIconId="",o=this._getIconDetails(o,e,o.checked)}_clearRadioCheckboxData(e){let t=e.itemType,a=t[0].toUpperCase()+t.slice(1),o=this._opts,n=o[`checked${a}ItemIconClass`]||o[`checked${a}ItemIconClassName`]||"",i=o[`checked${a}ItemSVGIconId`],r=`#zc__svg--${"radio"===t?"round":"tick"}`;(e.iconClassName===n||e.SVGIconId===r||e.SVGIconId&&0<=e.SVGIconId.indexOf(i))&&(e.SVGIconId=e.iconClassName=null)}_initSliders(t){let a=e.menu(t).getData(),o=t.find(".zmenu__body").length?t.find(".zmenu__body"):t;a.scroller||(this._getScrollInfo(a),this._getScrollInfo(a,!0),this._render(),this._bindSliderEvents(o,a)),this._positionSliders(o,a)}_positionSliders(e,t){let a=e.closest(".zmenu"),o=t.scroller,n=o.upEle,i=o.downEle,r=e.position(),s,l,d,c;if(a.length){let a=e.parent();c=r.top+e.height()-i.outerHeight(!0),t.footerItems.length||(c+=parseInt(a.css("padding-bottom"))),s=l="0px",d=r.top-(t.headerItems.length?0:parseInt(a.css("padding-top")))}else d=r.top+1,s=l=r.left+1,c=r.top+(e.outerHeight()-i.outerHeight(!0)-1);i.show(),n.css({left:s,top:d}),i.css({left:l,top:c})}_bindSliderEvents(a,e){let n=a.closest(".zmenu"),i=n.find(".zmenu--scrollerup"),r=n.find(".zmenu--scrollerdown");e.scroller.upEle=i,e.scroller.downEle=r;let s=this._namespace;i.add(r).off("mouseenter mouseleave").on("mouseenter",o=>{this._startScroll(a,t(o.target).closest(".zmenu--scroller").hasClass("zmenu--scrollerup"))}).on("mouseleave",()=>{this._stopScroll(a)}).hide();let l="click"+s;i.add(r).off(l).on(l,()=>{let e=t(this).hasClass(".zmenu--scrollerup"),n=o(a.scrollTop());return this._stopScroll(a),a.scrollTop(n+(e?-1:1)),this._startScroll(a,e),!1});let d="mousewheel"+s;a.off(d).on(d,e=>{a.stop(),a.scrollTop(o(a.scrollTop())+(0<e.originalEvent.wheelDelta?-6:6)),this._showScrollEle(a),e.stopPropagation(),e.preventDefault()})}_getScrollInfo(e,t){let a=t?"up":"down";e[a]||(e.scroller=e.scroller||{},e.scroller[a]={className:"zmenu--scroller zmenu--scroller"+a},this._changeScrollerIcons(a[0].toUpperCase()+a.slice(1)))}_showScrollEle(e){let t=this._data.scroller,a=o(e.scrollTop());t.upEle[0===a?"hide":"show"](),t.downEle[e[0].scrollHeight-a<=e.outerHeight()?"hide":"show"]()}_startScroll(e,t){let n=t?0:e[0].scrollHeight-e.innerHeight(),i=o(e.scrollTop())-n,r=a(1e3*i/50);e.animate({scrollTop:n},{duration:r,easing:"linear",complete:()=>{this._showScrollEle(e)}})}_stopScroll(e){e.stop(),this._showScrollEle(e)}_uninitSliders(t,a,o){let n=e.menu(t).getData(),i=n.scroller||{};t=t.find(".zmenu__body").length?t.find(".zmenu__body"):t,Object.keys(i).length&&o&&this._positionSliders(t,n),i.upEle&&i.upEle[a?"remove":"hide"](),i.downEle&&i.downEle[a?"remove":"hide"](),a&&(i=null)}_changeScrollerIcons(e){let t=e.toLowerCase(),a=this._opts,o=a["scroll"+e+"ArrowIconClass"]||a["scroll"+e+"ArrowIconClassName"]||"";this._data.scroller[t].icon={iconClassName:"zmenu__icon "+o,SVGIconId:"#"+(a["scroll"+e+"ArrowSVGIconId"]||!o&&"zc__svg--"+t+"scroller"),SVGIconClassName:"zmenu__"+t+"scroller"}}_setAttribute(t,a){this._addedByComponent=this.isCE;let o=this.element,n=this._data,i=o.is(":visible"),r=this._opts,s=!1;if("headerContentType"===t)this._sameheaderct=!1;else if("footerContentType"===t)this._samefooterct=!1;else if("height"===t||"width"===t){let n=parseInt(a);r[t]=n,o.data(t,n),i&&("height"===t?e.Helpers.fixHeight(o,{height:n}):o.width(n))}else if("pointer"===t||"displayType"===t)this._changeCalloutData(a&&"box"!==a);else if("renderInPlace"===t&&!a)o.removeClass("zmenu--inline");else if("handleAccessKeyNavigation"===t)e.keyboardnavigation(o).setAttribute("characterKeyFocus",a);else if("contentType"===t){let e=ZMenu._CONTENT_TYPES;this._updateClass(e[a],e[r.contentType]);let t=r.contentType;r.contentType=a,this._sameheaderct&&(r.headerContentType=a),this._samefooterct&&(r.footerContentType=a),this._changeOpt("contentType",a,t)}else if("type"===t){r.type=a;let e="grid"===a;this._isContainer?this._updateSectionCls(e,n):this._updateClass(e?"zmenu--thumbnail":"",e?"":"zmenu--thumbnail"),"text"!==r.contentType&&this._changeOpt("type",e)}else("header"===t||"footer"===t||"body"===t||"items"===t)&&this.addMenuItems("items"===t?a:{[t]:a});r[t]=a,"columns"===t&&i?e.Helpers.fixGridWidth(o,{columns:a}):-1!==["scrollDownArrowIconClass","scrollDownArrowIconClassName","scrollDownArrowSVGIconId","scrollUpArrowIconClass","scrollUpArrowIconClassName","scrollUpArrowSVGIconId"].indexOf(t)&&n.scroller?this._changeScrollerIcons(-1===t.indexOf("Down")?"Up":"Down"):"arrowIconClassName"===t||"arrowIconClass"===t||"arrowSVGIconId"===t?this._changeArrowIcon():("checkedCheckboxItemSVGIconId"===t||"checkedCheckboxItemIconClassName"===t||"checkedCheckboxItemIconClass"===t||"checkedRadioItemSVGIconId"===t||"checkedRadioItemIconClassName"===t||"checkedRadioItemIconClass"===t)&&this._changeCheckedIcons(t,a),(-1!==t.indexOf("Icon")||"contentType"===t||"type"===t)&&(s=!0),this._domChanged||(this._domChanged=s),this._addedByComponent=!1}_changeOpt(e,t,a){let o=["headerItems","items","footerItems"],n;for(let r=0;3>r;r++)n=this._data[o[r]],n&&n.length&&("contentType"===e?(1==r||this._opts[(0==r?"header":"footer")+"ContentType"]===t)&&this._changeItemData(n,t,e,a):this._changeItemData(n,t,e,a))}_changeItemData(e,t,a,o){let n=t?"zmenu__image":"zmenu__icon";e.forEach(e=>{"contentType"===a?e.contentType="itemgroup"===e.itemType?"text":o===e.contentType?t:e.contentType:"text"!==this._opts.contentType&&(e.iconClassName=e.iconClassName?e.iconClassName.replace(t?"zmenu__icon":"zmenu__image",n):n)})}setMenuItemsAttribute(a,o,n,i){this._addedByComponent=!0;let r=["itemValue","action","disabled","checked","hidden","className","menuId","description","label","SVGIconId","iconClassName"],s=this._opts,l;for(let d=0,c;d<a.length;d++)if(c=t(a[d],this.element),c.length){if(l=this._getData(c),"itemgroup"===l.itemType&&"itemgroup"!==o){let e=t(`[name=${c.attr("name")}]:not(.zmenu__title)`,this.element);e.length&&this.setMenuItemsAttribute(e,o,n)}if(-1!==r.indexOf(o)&&("checked"===o&&l.checked&&""===n&&(n="checked"),"label"===o&&!s.isLabelHTMLEncoded&&(n=e.encodeHTML(n)),l[o]=n),"customAttributes"===o)l.attrs=t.extend(!0,{},l.attrs||{},n);else if(("innerHTML"===o||"zinnerHTML"===o)&&("custom"===l.itemType||l.custom))l.innerHTML=s.isCustomHTMLEncoded?n:e.encodeHTML(n);else if("shortcutKey"===o)n=e.ShortCut?e.ShortCut.getInfo(l.action,c,!0):n,l[o]=n;else if("itemType"===o){let e=l.itemType;l.className=l.className.replace(ZMenu._ITEM_TYPES["radio"===e||"checkbox"===e?"default":e],""),("radio"===e||"checkbox"===e)&&this._clearRadioCheckboxData(l),l[o]=n}else"checked"===o?this._handleRadioItem(c,l.checked,l,!0):"menuId"===o&&l.submenu&&(l.submenu=null);l=this._getItemDetails(l,s,void 0,!0),"itemValue"===o&&"action"===o||i||(this._addedByComponent=this.isCE,this._render())}this._addedByComponent=!1}hideMenuItems(e){this._toggleMenuItems(e,!0)}showMenuItems(e){this._toggleMenuItems(e,!1)}_toggleMenuItems(e,a){let o=this._SELECTORS;e||(a?e=this.element.find(o.item+", "+o.separator).filter(function(){return"none"!==t(this).css("display")}):e=this.element.find(o.item+":not("+o.item+"[data-hidden=true])")),this.setMenuItemsAttribute(e,"hidden",a)}_mouseEnterOnSplit(e,t,a){clearTimeout(this._splitDelay),this._splitDelay=window.setTimeout(()=>{this._hoverSplit(e,!0),"keydown"!==t.type&&this._showSubmenu(e,t,a)},150)}_mouseLeaveOnSplit(e){this._hoverSplit(e)}_hoverSplit(e,t){e.find(".zmenu__icon.zh-alignright")[t?"addClass":"removeClass"]("on-hover"),clearTimeout(this._splitDelay)}_changeArrowIcon(){let a=this._opts,o=this.element.find(".zmenu--submenu,.zmenu--split");for(let n=0;n<o.length;n++)this._getData(t(o[n])).arrowIcon=e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"zc__svg--arrow zmenu__arrow zh-arrowicon","zmenu__icon zh-alignright")}_hideAllSubmenus(e){let a=e.find(this._SELECTORS.item);for(let o=0;o<a.length;o++){let e=t(a[o]),n=this._getData(e),i=n.submenu;i&&i.is(":visible")&&(this._hideAllSubmenus(i),e.trigger("mouseleave"))}this._isToBeDelayed=!1}_findParentMenu(e){for(let t=e.data("parent"),a;t;)a=t.closest(".zmenu"),a.is(":visible")?(e=a,t=e.data("parent")):t=!1;return e}_setLastOverlayedSubMenu(t){e.menu(this._findMain()).setLastOverlayedMenu(t,!0)}_getSubmenu(a,o=this._getData(a)){if(o.submenu)return o.submenu;let n=o.menuId,i=n?t(`#${n}`):a.children(`${this._SELECTORS.container}:not(.zmenu__iconcontainer):first`);if(i.length){let r=e._getOpts(i);return n||t(r.appendTo?r.appendTo:"body")[0].appendChild(i[0]),r.rtl=this._opts.rtl,i.data("zmenu")||e.menu(i),o.submenu=i,i.data({isExternalSubmenu:!0,parent:a}),i}}_openCloseSubmenu(e,t){let a=!1,o=this._opts.rtl;if(o?"left"===e:"right"===e){let e=this._lastOverlayedMenu.find(".on-hover"),o=this._getSubmenu(e);if(!o||!o.length)return;this.show({forElement:this._lastOverlayedMenuItem,event:t},o),this._lastOverlayedMenuItem=void 0,o.find(`${this._SELECTORS.visibleItems}:first`).trigger("mouseenter"),this._lastOverlayedMenu=o,a=!0}else this._isMenuMainMenu(this._lastOverlayedMenu)||this._hideLastShownMenu();let n=this._triggerEvent(a?"beforesubmenufocus":"beforefocus",{},a?void 0:this._lastOverlayedMenu);!1!==n&&this._lastOverlayedMenu&&this._lastOverlayedMenu[0].focus()}_handleMouseEnterOnSubmenuItem(e,t,a){clearTimeout(this._menuTimeout),"splitmenu"===a.itemType?this._mouseEnterOnSplit(e,t,a):"keydown"!==t.type&&this._showSubmenu(e,t,a)}_handleMouseLeaveOnSubmenuItem(e,a){let o=!!a.originalEvent;if(o){if(!e.parent().has(a.relatedTarget).length){if(e.data("submenu")&&this._isMenuOfMenuItemShown(e))return!1;this._setLastOverlayedMenuItem(void 0)}return!1}let n=this._getData(e),i=n.submenu;if(this._isMenuOfMenuItemShown(e)&&(!a||t(a.relatedTarget).closest(".zmenu")[0]===i[0]))return!1;if("splitmenu"===n.itemType&&this._mouseLeaveOnSplit(e),clearTimeout(this._menuTimeout),t(i).data("parent")&&t(i).data("parent")[0]===e[0]){this.hide(i);let e=this._triggerEvent("beforefocus",{});!1!==e&&this.element[0].focus(),this.element.off("mousemove"+this._namespace)}return!0}_isMenuOfMenuItemShown(e){let t=this._getData(e);return t.submenu&&t.submenu.is(":visible")}_isElementInMenu(e,a=this.element){return a[0].contains(t(e)[0])}_removeAllSubmenus(a){let o=a.find(".zmenu--submenu,.zmenu--split"),n;for(let e=0;e<o.length;e++)n=this._getData(t(o[e]),void 0,a),n&&n.data("usingJSON")&&this._removeAllSubmenus(n);e.menu(a).destroy(),a.remove()}_showSubmenu(e,t,a,o){let n=!!t&&"keydown"!==t.type&&!!t.originalEvent,i=a.submenu||this._getSubmenu(e,a);if(i&&n){this._hideAllSubmenus(e.closest(".zmenu"));this._menuTimeout=setTimeout(()=>{if(e.is(":visible")){let a={forElement:e,direction:i.data("zmenu")._opts.submenuDirection?i.data("zmenu")._opts.submenuDirection:this._DIRECTIONS.submenu};a=this.show(a,i),this._clearMouseHoverTimeout(),this._mousex=t.clientX,this._prevmousex=t.pageX,this._bindMousemoveEvent(i,a.position&&a.position.direction||a.direction);let o=this._triggerEvent("beforesubmenufocus",{});!1!==o&&i&&i[0].focus()}},o?0:100)}}_bindMousemoveEvent(e,t){let a=e.offset(),o=e.data("parent").closest(".zmenu").offset(),n=0!==t.indexOf("left");this.element.on("mousemove"+this._namespace,e=>{this._isToBeDelayed=this._prevmousex&&(n?this._prevmousex<=e.pageX:this._prevmousex>=e.pageX)&&(n?e.pageX<=a.left:e.pageX>=o.left),this._prevmousex=e.pageX})}_isMenuMainMenu(e){let a=e.data("forElement");return!(a&&(a.hasClass("zmenu--submenu")||a.hasClass("zmenu--split")))&&t(e)[0]===this.element[0]}_hideLastShownMenu(){let t=this._lastOverlayedMenu.data("parent");this._lastOverlayedMenuItem=t,this.hide(this._lastOverlayedMenu);let a=t.closest(".zmenu");this.setLastOverlayedMenu(a);let o=e.menu(a);o._lastOverlayedMenuItem=t,o._lastOverlayedMenu=a}_clearMouseHoverTimeout(){let t=e._getOpts(this.element);if(clearTimeout(t.mouseOverTimeout),clearTimeout(t.mouseOutTimeout),void 0!==this.element.data("parent")){let t=e._getOpts(this.element.data("parent").closest(".zmenu"));clearTimeout(t.mouseOverTimeout),clearTimeout(t.mouseOutTimeout)}}_checkSubmenuEnter(a){let o=!!a.originalEvent,n=function(){this._handleMouseEnterOnMenuItems(a,!a.originalEvent)};if(this._clearMouseHoverTimeout(),o){let a=t(this.element.data("forElement"));a.is(".zmenu__item")&&(a.closest(".zmenu").data("zmenu")._isToBeDelayed=!1),this._isToBeDelayed?e._getOpts(this.element).mouseOverTimeout=setTimeout(n.bind(this),this._opts.submenuHideDelay):(n.bind(this)(),clearTimeout(this._mouseoutTimer))}else n.bind(this)(),clearTimeout(this._mouseoutTimer)}_checkSubmenuLeave(a){let o=!!a.originalEvent,n=t(a.target).closest(".zmenu__item"),i=function(){o&&this._isToBeDelayed?this._mouseoutTimer=setTimeout(i.bind(this),20):this._handleMouseLeaveOnMenuItems(a),clearTimeout(this._mouseoutTimer)};o&&(n.data("submenu")||e._getOpts(this.element).mouseOverTimeout)?e._getOpts(this.element).mouseOutTimeout=setTimeout(i.bind(this),10):i.bind(this)()}_triggerEventToSubmenu(t,a,o,n){e.menu(n).triggerEvent(t.replace("submenu",""),a,o);let i=n.data("parent").closest(".zmenu");return e.menu(i).triggerEvent(t,a,o,i)}_storeAllPortionItems(){let e=this._SELECTORS,t=["header","menu","footer"],a=this._data,o=this._opts,n,r,s;a.headerItems=[],a.footerItems=[];for(let a=0;3>a;a++)n=t[a],r=this.element.find(e[n]),s=1==a,(s||r.length||o[n])&&(n=s?"body":n,this._storeMenuItemDetails(s?"":n,r.length?r:void 0));this._updateSectionCls("grid"===o.type,a,!0)}_setCustomAttrsForItems(e,t){let a=[],o=["headerItems","items","footerItems"];for(let n=0;3>n;n++)a=a.concat(this._setCustomAttrsForItem(e,t,o[n]));return a}_updateSectionCls(t,a,o){let n=this.parts,r=this._opts||{},s=this._SELECTORS,l,d,c,m;for(let _=0;3>_;_++)l=n[_],d=this.element.find(o?s[l]:".zmenu__"+l),c=d.length&&e._getOpts(d).type||r[l+"Type"]||r.type,m="zmenu__"+l+((!c||"list"!==c)&&t?" zmenu--thumbnail":""),o&&!r.allowReplace&&d&&d[0]!==this.element[0]&&(a[l+"Element"]=d[0],d.addClass(m)),a[l+"ClassName"]=m}}e.registerComponent("ZMenu",ZMenu)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zmenu.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<z-menu class="${e.className}" ?id=${e.id}>${e.children&&t.WCChildren(e)}</z-menu>`,t.WCChildren=e=>ZT.html` ${e.simple?ZT.html`${e.items&&e.items.map(e=>t.WCItem(e))}`:t.WCAdvancedChildren(e)} `,t.WCItem=e=>ZT.html`${e.element||ZT.html` ${e.isDefault?t.WCDefaultItem(e):e.isSeparator?t.WCSeparator(e):e.isHeading?t.WCHeading(e):""} `}`,t.WCDefaultItem=e=>ZT.html`<z-menuitem ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" ?name=${e.name} ?data-menu-id="${e.menuId}" data-unique-key="${e.uniqueKey}" ?data-label='${e.label}' ?checked="${e.checked}" .itemData="${e}"> ${t[e.layoutName](e)} </z-menuitem>`,t.WCHeading=e=>ZT.html`<z-menuitemheading ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" ?name=${e.name} data-unique-key="${e.uniqueKey}" .itemData="${e}"> ${e.label&&ZT.html`<span class="zmenu__text" >${ZT.customHTML(e.label)}</span>`} </z-menuitemheading>`,t.WCSeparator=e=>ZT.html`<z-menuseparator ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" data-unique-key="${e.uniqueKey}" .itemData="${e}"></z-menuseparator>`,t.WCAnchorLayout=e=>ZT.html`<a class="zmenu__link" href=${e.url} target=${e.target} rel='${e.rel}' >${t.WCDefaultLayout(e)}</a>`,t.WCDestroyLayout=e=>ZT.html`${e.label}`,t.WCDefaultLayout=e=>ZT.html`${ZT.customHTML("")} ${"text"!==e.contentType&&ZT.html`<div class="zmenu__iconcontainer" >${e.iconText||a.WCIcon(e)}</div>`} ${"icon"!==e.contentType&&!e.customType&&ZT.html` ${e.label&&ZT.html`<span class="zmenu__text" >${ZT.customHTML(e.label||"")}</span>`} ${e.shortcutKey&&ZT.html`<span class="zmenu__shortcut" >${e.shortcutKey}</span>`} ${e.description?ZT.html`<span class="zmenu__description" >${e.description}</span>`:""} `} ${e.hasSubmenu&&a.WCIcon(e.arrowIcon)} `,t.WCCallout=()=>ZT.html`<div class="zmenu__pointer" ></div>`,t.WCCustomLayout=e=>ZT.html`${e.iconAsPrefix&&t.WCDefaultLayout(e)} ${ZT.customHTML(e.innerHTML||"")} ${e.iconAsSuffix&&t.WCDefaultLayout(e)} `,t.WCScroller=e=>ZT.html`<div class='${e.className}'>${a.WCIcon(e.icon)}</div>`,t.WCContainer=e=>ZT.html`<z-menu class="${e.className}" ?id=${e.id}>${e.children&&t.WCChildren(e)}</z-menu>`,t.WCAdvancedChildren=e=>ZT.html`${e.callout&&ZT.html`${t.WCCallout(e)}`} ${e.headerItems.length&&ZT.html`${e.headerElement||ZT.html`<z-menuheader class='${e.headerClassName}' data-header=true > ${t.WCItems(e.headerItems)} </z-menuheader>`}`} ${e.items&&ZT.html`${e.bodyElement||ZT.html`<z-menubody class='${e.bodyClassName}' data-body=true > ${t.WCItems(e.items)} </z-menubody>`}`} ${e.footerItems.length&&ZT.html`${e.footerElement||ZT.html`<z-menufooter class='${e.footerClassName}' data-footer=true > ${t.WCItems(e.footerItems)} </z-menufooter>`}`} ${e.scroller&&ZT.html`${t.WCScroller(e.scroller.up)} ${t.WCScroller(e.scroller.down)}`} `,t.WCItems=e=>ZT.html`${e.map(e=>t.WCItem(e))}`}(ZComponents),function(e){let t=e.zmenu.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<ul class="${e.className}" ?id=${e.id}>${e.children&&t.children(e)}</ul>`,t.children=e=>ZT.html` ${e.simple?ZT.html`${e.items&&e.items.map(e=>t.item(e))}`:t.advancedChildren(e)} `,t.item=e=>ZT.html`${e.element||ZT.html` ${e.isDefault?t.defaultItem(e):e.isSeparator?t.separator(e):e.isHeading?t.heading(e):""} `}`,t.defaultItem=e=>ZT.html`<li ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" ?name=${e.name} ?data-menu-id="${e.menuId}" data-unique-key="${e.uniqueKey}" ?data-label='${e.label}' ?checked="${e.checked}" .itemData="${e}"> ${t[e.layoutName](e)} </li>`,t.heading=e=>ZT.html`<li ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" ?name=${e.name} data-unique-key="${e.uniqueKey}" .itemData="${e}"> ${e.label&&ZT.html`<span class="zmenu__text" >${ZT.customHTML(e.label)}</span>`} </li>`,t.separator=e=>ZT.html`<li ?id=${e.id} ?data-item-type=${e.itemType} class="${e.className}" role="${e.role}" data-unique-key="${e.uniqueKey}" .itemData="${e}"></li>`,t.anchorLayout=e=>ZT.html`<a class="zmenu__link" href=${e.url} target=${e.target} rel='${e.rel}' >${t.defaultLayout(e)}</a>`,t.destroyLayout=e=>ZT.html`${e.label}`,t.defaultLayout=e=>ZT.html`${ZT.customHTML("")} ${"text"!==e.contentType&&ZT.html`<div class="zmenu__iconcontainer" >${e.iconText||a.icon(e)}</div>`} ${"icon"!==e.contentType&&!e.customType&&ZT.html` ${e.label&&ZT.html`<span class="zmenu__text" >${ZT.customHTML(e.label||"")}</span>`} ${e.shortcutKey&&ZT.html`<span class="zmenu__shortcut" >${e.shortcutKey}</span>`} ${e.description?ZT.html`<span class="zmenu__description" >${e.description}</span>`:""} `} ${e.hasSubmenu&&a.icon(e.arrowIcon)} `,t.callout=()=>ZT.html`<div class="zmenu__pointer" ></div>`,t.customLayout=e=>ZT.html`${e.iconAsPrefix&&t.defaultLayout(e)} ${ZT.customHTML(e.innerHTML||"")} ${e.iconAsSuffix&&t.defaultLayout(e)} `,t.scroller=e=>ZT.html`<div class='${e.className}'>${a.icon(e.icon)}</div>`,t.container=e=>ZT.html`<div class="${e.className}" ?id=${e.id}>${e.children&&t.children(e)}</div>`,t.advancedChildren=e=>ZT.html`${e.callout&&ZT.html`${t.callout(e)}`} ${e.headerItems.length&&ZT.html`${e.headerElement||ZT.html`<ul class='${e.headerClassName}' data-header=true > ${t.items(e.headerItems)} </ul>`}`} ${e.items&&ZT.html`${e.bodyElement||ZT.html`<ul class='${e.bodyClassName}' data-body=true > ${t.items(e.items)} </ul>`}`} ${e.footerItems.length&&ZT.html`${e.footerElement||ZT.html`<ul class='${e.footerClassName}' data-footer=true > ${t.items(e.footerItems)} </ul>`}`} ${e.scroller&&ZT.html`${t.scroller(e.scroller.up)} ${t.scroller(e.scroller.down)}`} `,t.items=e=>ZT.html`${e.map(e=>t.item(e))}`}(ZComponents),function(e,t){class ZList extends e.CoreComponent{get name(){return"zlist"}get attrs(){return{id:null,direction:"auto",positionAlterable:!0,forElement:null,contentType:"text",appendTo:null,height:null,width:null,messages:{},checkedIcon:null,checkedIconClassName:null,checkedSVGIconId:null,showSearchField:!1,isGrouped:!1,lazyLoading:!0,virtualization:!1,maxPage:3,viewPerPage:null,sort:!1,sortBy:null,sortOrder:null,customSorter:null,filterByCSSSelector:!1,serverSearch:!1,cacheData:!0,selectHoveredOnTabPress:!1,preventDefaultOnTabPress:!1,customSearch:null,showAllItemsOnDOWNKeyPress:!1,search:{by:"label",searchIncrementsInCache:!1,highlightKeyword:!1,showNoResultsMessage:!1,moreResultsAction:!1},dataMapping:{label:"label",value:"value",informativeText:"informativeText",iconClassName:"iconClassName",textIcon:null,SVGIconId:"SVGIconId",options:"options"},inputField:null,inputFieldSettings:{updateOnSelect:!0,autoFill:!0,handleEvents:!0,filterBasedOnCurPos:!1,suggestOnFocus:!0},callbacks:{}}}get CLASSES(){return{suggestfield:"zsuggestfield",unselectable:"zsuggestfield__nonselectable",iconhint:"zsuggestfield--withiconandhint",icon:"zsuggestfield--withicon",loadingmenu:"zsuggestfield--loading",withhint:"zmenu--withhint",icononly:"zmenu--icononly",icontext:"zmenu--iconwithtext",title:"zmenu__title",loader:"zmenu--loading",text:"zmenu__text",hint:"zmenu__description",menuicon:"zmenu__icon",menuitem:"zmenu__item",menubody:"zmenu__body"}}get isIE9(){return 9===e.Browser.getIEVersion()}_create(){this._namespace="."+this.name,this.isCE=!1,this._init(),this._initDS()}_init(){let e=this._opts;this._groupsIncluded=[],this.params={},this._dataMapping=e.dataMapping,this._isGrouped=!!this._dataMapping.groupLabel,this._showSearchField=e.showSearchField,this._isCheckBoxType=e.checkedIcon||"checkbox"===e.itemType,this.inputField=this._maxHt=this._opened=void 0,!this._showSearchField&&e.inputField&&(this.inputField=t(e.inputField),this._bindInputFieldEvents()),this._searchable=e.showSearchField||e.inputField,e.forElement&&(e.forElement=t(e.forElement)),this._setContentProps(e.contentType)}_setContentProps(e){(!/^(image-text|image-text-desc|text-desc|text|custom|image)$/.test(e)||"image"===e&&this._dataMapping.image)&&(e="text"),this._isCustom=-1<e.indexOf("custom"),this._hasImage=this._hasIcon=this._hasContentTag=!1,this._isCustom||(this._hasText=-1<e.indexOf("text"),this._hasDesc=this._hasContentTag=-1<e.indexOf("desc"),-1<e.indexOf("image")&&(this._hasContentTag=this._hasText,this._hasIcon=!(this._hasImage=this._dataMapping.image)))}_setNoResults(e){if(e)this._inSufficentQuery=!0;else if(this._noResults=!0,this._opts.search.showNoResultsMessage)return this._addNoResults();return this._opts.showSearchField?void this._hideAllItems():(this._hideSuggestions(),!1)}_createMenu(a){this._menu||(t("#"+this._opts.id).remove(),this._menu=t(e.createMenu(this._opts.id,a||[],this._getMenuSettings())),this._menuBody=t(this._menu[0].querySelector("."+this.CLASSES.menubody)),this._menuInstance=e.menu(this._menu),this._showSearchField&&this._storeSearchBox(),this._bindMenuEvents(),this._trigger("menucreation",void 0,{menu:this._menu,instance:this._menuInstance}))}_getMenuSettings(){let e=this._opts.customAttributes||{};e.role="listbox";let t={allowReplace:!0,scroll:"default",className:this._getClass(),contentType:this._isCheckBoxType?"icon-text":this._hasIcon?this._hasText?"icon-text":"text":"text",customAttributes:e,templateData:{searchBox:null,loader:null},handleAccessKeyNavigation:!this._searchable&&this._opts.handleAccessKeyNavigation,templateFunc:"listChildren"};return["forElement","isCE","rtl","positionAlterable","direction","appendTo","viewport","animation","height","width"].forEach(e=>t[e]=this._opts[e]),["BeforeFocus","ItemClick","ItemHover","Show","BeforeHide","Hide","ItemChecked","BeforeItemChecked"].forEach(e=>{let a=e.toLowerCase();t[a]=this["_on"+e].bind(this,a)}),this._loading&&this._includeLoaderData(t.templateData),this._showSearchField&&this._addSearchBox(t),t}_onItemChecked(){this._trigger(...arguments)}_onBeforeItemChecked(){this._trigger(...arguments)}_onBeforeFocus(e,t){return this.inputField?t.preventDefault():void this._trigger(...arguments)}_hideEle(e){e.addClass("zh-dnone")}_showEle(e){e.removeClass("zh-dnone")}_initDS(){let t=this._opts;this._menuLoaded=this._ajaxSource=this._highlighted=this._moreResultsData=!1,this._headerJSON=[],this._footerJSON=[],this._groupHeads=[];let a=t.headerItems,o=t.footerItems;(a&&a.length||o&&o.length)&&this._setHeaderFooterItems(a,o);let n=t.dataSource,i=t.data;if(this._dsInit=!1,n&&n.URL||i&&i.length){this._dsInit=!0,this.params={};let a={callbacks:{}};n&&n.URL?(this._ajaxSource=!0,this._bindAjaxEvents(a.callbacks)):"nested"===t.dataStructure&&(this._isGrouped=!0,i=this._flattenData(i),this._dataMapping.groupLabel="groupLabel"),a.dataSource=n,a.data=i,this._virtualization=!1,t.filterByCSSSelector&&!this._ajaxSource?(this._lazyLoadData=!1,this._styleBasedFilter=!0,this._filterFn=this._filterListViaStyles):(this._lazyLoadData=t.lazyLoading,t.virtualization&&(this._virtualization=this._lazyLoadData=!0),this._styleBasedFilter=!1,this._filterFn=this._filterByAddRemoval),a.filter=t.search,["sort","sortBy","sortOrder","customSorter","serverSearch","customSorter","dataMapping","isResponseFiltered","cacheData","customSearch"].forEach(e=>{a[e]=t[e]});let o=t.viewPerPage;a.maxResults=this._lazyLoadData?this._isNotNull(o)?o:10:0,a.searchIncrementsInCache=t.search.searchIncrementsInCache,this.DSInstance=new e.ZDatasourceHandler(null,a)}}getMenuData(e,t,a){let o={id:this._getItemId(e),name:t,itemType:a?"itemgroup":"custom",selectable:!a,originalData:e,custom:!0};if("object"==typeof e){["className","hidden","disabled","customAttributes","isHeader","isFooter"].forEach(t=>{o[t]=e[t]}),e.separator&&(o.itemType="separator",o.selectable=!1);let t=this._dataMapping;if(e.isHeader||e.isFooter)e.separator||(o.innerHTML=e.innerHTML||this._mapJSONToData(e,t.label,!0),o.clickable=!0),o.selectable=!1;else if(!e.separator){let a=(t,a)=>{o[t]=a&&this._mapJSONToData(e,a,!0)};["label","image","iconClassName","SVGIconId","textIcon"].forEach(e=>{a(e,t[e])}),a("description",t.informativeText)}}else o.label=this._encodeContent(e),e={label:e};if(a&&(o.label=this._highlight(o.label,this._dataMapping.groupLabel)),o.selectable){this._isCheckBoxType&&(o.itemType="checkbox",o.custom=!0),o.innerHTML=this._getMenuItemTemplate(o,e),o.iconClassName=o.SVGIconId=o.description="";let t=o.customAttributes=o.customAttributes||{};t["data-label"]=o.label,e.value&&(t["data-value"]=e.value),this._styleBasedFilter&&this._searchable&&this._getAttrForCSSFilter(e,t)}return o.normalisedData=e,o}_openList(e,t){if(this._menuLoaded)this._callMenuShow(e);else{this._noResults=!1;let a=this.params.query;this.params.query="",this._loadDataSource(o=>{let n={results:o,params:this.params};this.params.query=a,this._trigger("beforelistupdate",e,n),n.addedMenuItems=this._replaceMenuItems(this._getMenuJSON(o)),t&&this._applyFilterStyles(),this._afterFilter(e,n),this._menuLoaded=!0})}}_afterFilter(e,a,o){let n=this._opts,i=a&&a.addedMenuItems;if(!o){if(this._styleBasedFilter?this.getFirstItem():i&&i.length)this._styleBasedFilter&&(n.search.showNoResultsMessage&&this._removeNoResults(),n.search.moreResultsAction&&this._showMoreResults());else if(this._trigger("noresults",e,{query:this.params.query})&&!1===this._setNoResults())return;this._callMenuShow(e)}if(n.search.highlightKeyword&&this._highlightInList(a),!this._noResults&&this._lazyLoadData){if(this._hasImage||this._hasIcon&&this._isCheckBoxType){let e=this._totalImgWidth;if(this._freshRequest){let a=this.getFirstItem();e=0,a=t(a);let o=a.find(".zsuggestfield__avatar"),n=a.find(".zmenu__iconcontainer");o.length&&(e=o.outerWidth(!0)),n.length&&(1===n.length?e+=n.outerWidth(!0):n.toArray().forEach(a=>e+=t(a).outerWidth(!0))),this._totalImgWidth=e}!this._freshRequest&&e&&i.forEach(a=>t(a).find(".zmenu__content").css("width",`calc(100% - ${e+""}px)`))}o&&this._afterLazyLoad()}this._trigger("listupdate",e,a)}_getMsg(e){let t=this._opts,a=this.componentInstance;return a?a._getI18NText(e):t.messages[e]}_getClass(){let e=this._opts.className||"",t=this.CLASSES,a=t=>{e+=" "+t};return this._isCustom||(this._hasIcon?this._hasText?a(this._hasDesc?t.iconhint:t.icon):a(t.icononly):this._hasImage?(a(t.suggestfield),this._hasDesc&&a(t.withhint)):this._isCheckBoxType&&a(t.icontext)),this._loading&&a(t.loadingmenu),e}_getMenuItemTemplate(e,t){let a="",o="",n="",i=this.CLASSES;return this._isCustom?this._getCustomContent(e.originalData,t.zinnerHTML||t.innerHTML||this._opts.template,!0):((this._hasIcon||this._hasImage)&&(a=this._getIconHTML(e)),this._hasText&&(o="<span class=\""+i.text+"\">"+this._highlight(e.label,this._dataMapping.label)+"</span>"),this._hasDesc&&(n="<span class=\""+i.hint+"\">"+(this._highlight(e.description,this._dataMapping.informativeText)||"")+"</span>"),a+(this._hasContentTag?"<div class=\"zmenu__content\">"+(o+n)+"</div>":o))}_highlight(e,t){return e&&this.params.query&&this._opts.search.highlightKeyword&&(e=this._highlightValidKey(e,t)),e}getFirstItem(e){return e=`.${this.CLASSES.menuitem}:not(#${this._getID("noresults")}):not([item-type=itemgroup]):not([hidden])${e||""}`,[...this._menuBody[0].children].find(a=>{let o=t(a);return o.is(e)&&(!this._styleBasedFilter||"none"!==o.css("display"))})}getFirstValidItem(){return this.getFirstItem(":not(.is-disabled)")}_onItemHover(e,t,a){if(a=this._getEventData(t,a),a.unhoverable)t.preventDefault();else{let o=this._getItemEventData(a),n=t&&t.detail.originalEvent;n&&"keydown"===n.type&&(o.keyEvent=this._scrolledOnKeyDown=!0,this._opts.inputFieldSettings.autoFill&&(this._autoFilled=!0,this._setInputValue(a))),this._trigger(e,t,o)}}_onShow(){this._preventMouseUpSelection=!this._opened;let e=this._opts;this._opened=!0;let t;this._noResults||(e.search.focusFirstResult&&(t=this.getFirstValidItem()),this._bindMenuBodyEvents(),this._freshRequest&&this._lazyLoadData&&(this.params.totalPages>this.params.pageIndex||this.params.moreServerPages)&&(this._bindScroll(),this._virtualization&&this._calcItemHts())),e.showSearchField&&(this._updateSearchBoxOnMenuShow(),this.focusInputField()),this._menu.off("keydown.zmenu keydown.znavigatable"),this.hoverMenuItem(t),this._setExpandAttr(),this._trigger(...arguments)}hoverMenuItem(e){this._loading||this._menuInstance.hoverMenuItem(e)}_bindMenuEvents(){this._addEvents({menuKeyDown:"keydown",menuFocus:"focusin",menuMouseMove:"mousemove"},this._menu)}_menuMouseMoveHandler(){this._preventMouseUpSelection=!1}_bindMenuBodyEvents(){this._addEvents({scroll:"scroll"},this._menuBody)}_scrollHandler(e){this._considerScrollForLazyLoad?this._scrollHandlerToLoadPage(e):this._lastScrollTop=this._menuBody[0].scrollTop}_menuFocusHandler(){this.focusInputField()}focusInputField(){let e=this.inputField;e&&this._opts.inputFieldSettings.handleEvents&&document.activeElement!==e[0]&&e[0].focus()}_handleKeyCode(e){return this._menuInstance.handleKeyCode(e)}_onEnterKeyPress(e){if(!(this._showSearchField&&this._noResults)){let t=this._getHovered();return t.length?this._handleKeyCode(e):void this.closeDropdownList(e)}}_getHovered(){return this._menu.find(".on-hover")}_onEscKeyPress(e){return e.preventDefault(),this._trigger("esckeypress",e),this._handleKeyCode(e)}_upDownKeyPress(a){return this._lazyLoadData&&t(this._menuBody[0][a.keyCode===e.keyCode.UP?"firstElementChild":"lastElementChild"]).hasClass("on-hover")?void a.preventDefault():this._handleKeyCode(a)}_menuKeyDownHandler(t){let a=e.keyCode,o=t.keyCode;if(o===a.ESCAPE)return this._onEscKeyPress(t);if(!this._loader)switch(o){case a.DOWN:case a.UP:return this._upDownKeyPress(t);case a.PAGE_DOWN:case a.PAGE_UP:return this._handleKeyCode(t);case a.ENTER:return this._onEnterKeyPress(t);case a.SPACE:this.inputField||this._onEnterKeyPress(t);break;case a.TAB:return this.closeDropdownList(t),void t.preventDefault();default:return this._handleKeyCode(t);}}_onItemClick(e,t,a){var o=t.originalEvent;if(o&&!0!==o.isTrigger&&(o.originalEvent&&(o=o.originalEvent),"mouseup"===o.type&&!0!==o.isTrigger&&!1!==o.isTrusted&&this._preventMouseUpSelection&&(this._preventMouseUpSelection=!1,!o.isTrigger)))return void t.preventDefault();if(a=this._getEventData(t,a),a.noresults)return void t.preventDefault();if(a.selectable||a.clickable)this._setInputValue&&this._setInputValue(a);else if(a.moreresults){let e=this._opts.search.moreResultsAction;"function"==typeof e&&e(),this._trigger("moreactionclick",t,this._getItemEventData(a))}else return;return this._trigger(e,t,this._getItemEventData(a))}_getItemEventData(e){return{data:e.originalData,listItem:e.menuitem,listItemData:e.data}}_getEventData(e,t){return t||(e&&"object"==typeof e.detail?e.detail:void 0)}_onHide(){this._opened=!1,this._cachedData=void 0,this._showSearchField&&this.inputField.val(""),this._setExpandAttr(),this._removeStyle(),this._trigger(...arguments)}_setExpandAttr(){this._opts.forElement&&this._opts.forElement.attr("aria-expanded",this._opened)}_onBeforeHide(){return this._trigger(...arguments)}_hideSuggestions(e){this._menu&&this._opened&&this._menuInstance.hide(void 0,e)}_trigger(e,t,a){let o=this._opts.callbacks[e],n;return"function"==typeof o&&(n=o(t,this._getEventData(t,a))),void 0===n?!(t&&t.isDefaultPrevented()):n}_getMenuJSON(e){return this._isGrouped?this._getMenuJSONForGroupedData(e):e.map(e=>this.getMenuData(e))}_addMenuItems(e){return this._menu?this._menuInstance.addMenuItems(e,null,!this._freshRequest):(this._createMenu(e),[...this._menuBody[0].children])}_replaceMenuItems(e){return(e={header:this._headerJSON,body:e,footer:this._footerJSON},this._opts.search.moreResultsAction&&this._setMoreResults(),this._menu)?this._menuInstance.replaceMenuItems(e,null,!this._freshRequest):(this._createMenu(e),[...this._menuBody[0].children])}_getID(e){return"z"+this._opts.id+"-"+e}_loadDataSource(e,t=[]){this._dsInit?this.DSInstance.fetch(this.params,a=>{this.params=a,t=t.concat(a.results),a.moreServerPages&&this._lazyLoadData&&t.length<this._opts.viewPerPage?this._getNextPage(e,void 0,t):e(t)}):e([])}_mapJSONToData(e,t){return super._mapJSONToData(e,t,!0)}_getItemId(e){return super._getItemId(e,this._opts.id)}_callMenuShow(e){let t=this._opts,a={event:e,mustBeShown:!0,positionAlterable:t.positionAlterable,forElement:t.forElement},o=t.direction,n=t.positionAlterable;"auto"===o&&(o="bottom-left"),n&&(a.direction=o,a.positionAlterable=n,this._alterPositionOptions(a)),this._trigger("beforeshow",e,{openOptions:a})&&(this._createMenu(),this._menuInstance.show(a))}_alterPositionOptions(e){this._opened||(this._maxHt=0),e.callbacks={beforeComputingDir:{dimensionModifier:(e,t,a,o)=>{t.height>this._maxHt||!this._maxHt?this._maxHt=t.height:(o.positionAlterable=!1,o.direction=this._menu.data("direction"))}}}}openDropdownList(e){let t=this._opts;if(this._searchable||this._lazyLoadData){let a;(!this._searchable||t.showSearchField||t.showAllItemsOnDOWNKeyPress&&!t.serverSearch)&&(a=""),this.search(a,e,!t.showSearchField)}else this._openList(e)}closeDropdownList(e){this._hideSuggestions(e)}_destroyDSIns(){this.DSInstance&&this.DSInstance.destroy()}_removeStyle(){this.styletag&&(this.styletag.remove(),this.styletag=void 0)}refresh(){let e=this.params&&this.params.query,t=this._opened;this._highlightData=void 0,this._detachEvents(),this._removeStyle(),this._destroyDSIns(),this._create(),this._menu&&(this._menuInstance.setAttributes(this._getMenuSettings()),this._showSearchField&&this._storeSearchBox(),t&&(e?this.search(e):this.openDropdownList(),this._setScrollTop()))}_setScrollTop(){this._menuBody[0].scrollTop=this._lastScrollTop}_getText(t){let a=e.encodeHTML(this._getMsg(t)).replace(/#query#/g,"<b class=\"h-bold\">"+this.params.query+"</b>");return"<span class="+this.CLASSES.text+">"+a+"</span>"}_setAttribute(e,t){this._opts[e]=t}setAttributes(e,t){super.setAttributes(e,t),this.refresh()}_detachEvents(){this.inputField&&this._removeEvents("",this.inputField),this._menuBody&&this._removeEvents("",this._menuBody)}clearCache(){this.refresh()}destroy(){clearTimeout(this._searchTimer),this._detachEvents(),this._destroyDSIns(),this._removeStyle(),this.componentInstance=void 0,this._menu&&(!this._opts.isCE&&e.menu(this._menu).destroy(),this._menu.remove())}positionList(){this._callMenuShow(),this._setScrollTop()}_includeLoader(){this._menuInstance?this._updateLoaderState(!0):(this._loading=!0,this._createMenu(),this._callMenuShow())}_removeLoader(){this._updateLoaderState(!1)}_updateLoaderState(e){if(e!==this._loading){let t=this._menuInstance;this._loading=e;let a=t.getAttribute("templateData");e?this._includeLoaderData(a):a.loader=!1,t.setAttributes({templateData:a,[(this._opts.isCE?"z":"")+"className"]:this._getClass()})}e&&!this._opened&&this._callMenuShow()}_includeLoaderData(t){let a=this._opts,o=a.loaderIconClassName,n=a.loaderSVGIconId;t.loader=o||n?e._getIconInfo(o,n,"#zc__svg--loader zmenu__svg zmenu__loader zeffects--rotate","zmenu__icon zh-loading",t.loader={}):t.defaultLoader=!0}_bindAjaxEvents(e){e.requeststart=this._onReqStart.bind(this),e.requestend=this._onReqEnd.bind(this),e.requesterror=this._onReqErr.bind(this)}_onReqStart(e){this._includeLoader(),this._trigger("requeststart",null,e)}_onReqEnd(e){this._removeLoader(),this._trigger("requestend",null,e)}_onReqErr(e){this._removeLoader(),this._replaceMenuItems([{innerHTML:this._getText("serverError"),itemType:"custom",className:this.CLASSES.unselectable+" zmenu__servererror",unhoverable:!0}]),this._trigger("requesterror",null,e)}_filterByAddRemoval(e){return this._inSufficentQuery=!1,this._menu&&this.params.query===this.params.previousQuery&&!this._virtualization&&this._opts.cacheData?void(this._opened||this._noResults&&!this._opts.search.showNoResultsMessage||(this._trigger("beforelistupdate"),this._callMenuShow(),this._setScrollTop(),this._trigger("listupdate"))):void(this._freshRequest=!0,this.params.pageIndex=1,this._noResults=null,this._lastScrollTop=0,this._scroll={},this._groupsIncluded=[],this.DSInstance._serverPaging&&(this.params.serverPageIndex=0,this.params.moreServerPages=!0),this._unbindScroll&&this._unbindScroll(),this._virtualization?this._showVirtualData(e):this._loadDataSource(t=>this._addDataToMenu(t,e)))}_addDataToMenu(e,t){let a={results:e,params:this.params};this._trigger("beforelistupdate",t,a),e=a.results,e.length&&(a.addedMenuItems=this[this._freshRequest?"_replaceMenuItems":"_addMenuItems"](this._getMenuJSON(e))),this._afterFilter(t,a,!this._freshRequest)}_filterListViaStyles(e){this._noResults=this._inSufficentQuery=!1,this._menuLoaded?(this._trigger("beforelistupdate",e),this._applyFilterStyles(),this._afterFilter(e)):this._openList(e,!0)}_applyFilterStyles(){let e=this.params.query;if(e.length){let t=this._opts.search||{};t.caseSensitive||(e=e.toLowerCase());let a="startswith"===t.criteria?"^":"*",o=`#${this._opts.id} .${this.CLASSES.menubody} > *:not(.${this.CLASSES.title})${this._getSearchBy(this._opts.search.by).map(t=>`:not([data-${t}${a}="${this._escapeQuery(e)}"])`).join("")}:not(#${this._getID("noresults")}) {display:none !important;}`;if(this._injectStyle(o),this._isGrouped){this._opened||this._menu.show();let e=this._groupsIncluded.filter(e=>!this.getFirstItem("[name="+e+"]"));e.length&&(o+="#"+e.join(",#")+"{display:none; !important}"),this._opened||this._menu.hide(),this._injectStyle(o)}}else this._removeStyle()}_getAttrForCSSFilter(e,t){let a=this._getSearchBy(this._opts.search.by);a.forEach(a=>{let o=e[a];this._isNotNull(o)&&(t["data-"+a]=this._opts.search.caseSensitive?o:o.toLowerCase())})}_injectStyle(e){this.styletag||(this.styletag=t("<style id="+this._getID("style")+">").appendTo(t("head"))),this.styletag.text(e)}_hideItemsUsingCSS(){this._injectStyle(`#${this._opts.id} .${this.CLASSES.menubody} .${this.CLASSES.menuitem} {display:none; !important}`)}_flattenData(e,t){let a=[],o=this._dataMapping.options;return e.forEach(e=>{let n=e[o];n?(this._groupHeads.push(e),a=a.concat(this._flattenData(n,e))):(t&&(e.groupLabel=this._mapJSONToData(t,this._dataMapping.groupLabel),e.hidden=e.hidden||t.hidden,e.disabled=e.disabled||t.disabled),a.push(e))}),a}_getMenuJSONForGroupedData(e){let t=[];return e.forEach(e=>{let a=this._mapJSONToData(e,this._dataMapping.groupLabel),o=a=this._isNotNull(a)?a:"",n;this._isGrouped&&this._groupHeads.length&&(o=this._groupHeads.find(e=>a===this._mapJSONToData(e,this._dataMapping.label))||""),o=this.getMenuData(o,null,!0),n=o.id,o&&-1===this._groupsIncluded.indexOf(n)&&(t.push(o),this._groupsIncluded.push(n)),t.push(this.getMenuData(e,n))}),t}_setHeaderFooterItems(e,t){e&&(this._headerJSON=e.map(e=>this.getMenuData(e))),t&&(this._footerJSON=t.map(e=>this.getMenuData(e)))}_getHighlightData(e){let t=this._opts.search;if(!this._highlightData){let e=this._getSearchBy(t.by),a,o,n;if(this.DSInstance._isJSONSource){let t=this._dataMapping,i=t.label,r=t.groupLabel,s=t.informativeText;a=-1<e.indexOf(i),o=-1<e.indexOf(r),n=-1<e.indexOf(s)}this._highlightData={includeText:a,includeTitle:o,includeDesc:n}}return this._highlightData.pattern=this._getMatchingRegex(e,t),this._highlightData}_highlightInList(e){if(this._styleBasedFilter){let a=this.params.query;if(!this._noResults&&(a||this._highlighted)){this._highlighted=!0;let o=this._getHighlightData(a),n=o.includeText,i=o.includeTitle,r=o.includeDesc,s=e&&e.addedMenuItems||[...this._menuBody[0].children],l=this.CLASSES,d="";(i||n)&&(d="."+l.text),r&&(d+=(d?",":"")+"."+l.hint),d&&s.forEach(e=>{if((!this._styleBasedFilter||"none"!==t(e).css("display"))&&(e=t(e),i||!e.is("."+l.title))){let t=e.find(d);for(let e=0,n;e<t.length;e++)n=t[e].textContent,t[e].innerHTML=a?this._highlightContent(n,o.pattern):n}})}}}_highlightValidKey(e,t){let a=this._opts.search,o=this.params.query,n=this._getMatchingRegex(o,a),i=this._getSearchBy(a.by);return-1===i.indexOf(t)?e:this._highlightContent(e,n)}_highlightContent(e,t){return e.replace(t,"<b class='h-bold'>$1</b>")}_getIconHTML(e){if(this._hasIcon){let t=e.SVGIconId,a=e.iconClassName,o;t&&(o=t.split(" "),o[0]=o[0].trim().replace(/^#/,""),a=void 0);let n;return n=a||t||!e.textIcon?`<i class="zmenu__icon ${a||""}">${t?`<svg class="zmenu__svg ${o[1]||""}"><use xlink:href="#${o[0]}"></use></svg>`:""}</i>`:`<i class="zmenu__icon zmenu__texticon">${e.textIcon}</i>`,"<div class=\"zmenu__iconcontainer\">"+n+"</div>"}return"<img src=\""+e.image+"\" class=\"zsuggestfield__avatar\">"}_bindInputFieldEvents(){if(this.inputField&&this.inputField.length){let t=this._opts.inputFieldSettings;if(t.handleEvents){let a={inputKeydown:"keydown",paste:"paste"};(t.filterBasedOnCurPos||t.suggestOnFocus)&&(a.inputMousedown="mousedown",a.inputMouseup="mouseup",a.inputKeyup="keyup"),this._addEvents(a,this.inputField),this.inputField.on((e.Browser.isIE?"keyup":"input")+"."+this.name,this._inputHandler.bind(this))}}}_inputKeydownHandler(t){e.Browser.isIE&&clearTimeout(this._searchTimer);let a=this._opts,o=t.keyCode,n=e.keyCode;if(this._lastKeyCode=this._lastKeyCode?void 0:o,this._showSearchField)(o===n.LEFT||o===n.RIGHT)&&t.stopPropagation();else if(this._noResults&&o===n.ENTER)t.stopPropagation(),this._trigger("newvalue",t);else if(o!==n.TAB){if((this._opened||o===n.ESCAPE)&&o!==n.LEFT&&o!==n.RIGHT)return this._menuKeyDownHandler(t);(o===n.DOWN||o===n.UP)&&this.openDropdownList(t)}else if(this._opened&&a.preventDefaultOnTabPress&&t.preventDefault(),this._noResults)this._trigger("newvalue",t);else if(this._opened){if(a.selectHoveredOnTabPress){let e=this._getHovered();if(e.length)return void this._menuInstance.selectHoveredMenuItem()}this.closeDropdownList(t)}}_inputHandler(e){if("input"===e.type||this._isAlphaNumericKey(e)){let t=e.target.value;this._trigger("input",e),this.searchWithDelay(t,e,this._opts.search.delay)}}_inputKeyupHandler(t){let a=e.keyCode,o=t.keyCode,n=this._opts.inputFieldSettings;n.suggestOnFocus&&o===a.TAB&&o!==this._lastKeyCode?this.searchWithDelay(void 0,t,1):n.filterBasedOnCurPos&&-1<[a.LEFT,a.RIGHT,a.HOME,a.END].indexOf(o)&&this.searchWithDelay(void 0,t,1,!0),this._lastKeyCode=void 0}_inputMousedownHandler(e){let t=this.inputField[0];this._filteredOnMouseDown=!1,t.selectionStart===t.selectionEnd&&(this._filteredOnMouseDown=!0,this._searchBasedOnCurPos(e))}_searchBasedOnCurPos(e,t){if(!e.button){let a=this._opts.inputFieldSettings,o=a.filterBasedOnCurPos;(a.suggestOnFocus||o)&&this.searchWithDelay(void 0,e,t||this._opts.search.delay,o)}}_inputMouseupHandler(e){this._filteredOnMouseDown||this._searchBasedOnCurPos(e)}_pasteHandler(e){clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{let t=e.target.value;this._trigger("input",e),this.search(t,e)})}_setInputValue(e){this.inputField&&!this._showSearchField&&e.selectable&&this._opts.inputFieldSettings.updateOnSelect&&(this.inputField[0].value=this._mapJSONToData(e.normalisedData,this._dataMapping.label))}_bindScroll(){this._addEvents({wheel:"wheel DOMMouseScroll mousewheel"},this._menuBody),this._considerScrollForLazyLoad=!0}_unbindScroll(){this._considerScrollForLazyLoad=!1}_wheelHandler(){this._scrolledOnKeyDown=!1}_scrollHandlerToLoadPage(e){if(!this._loading){this._freshRequest=!1;let t=this._menuBody[0].scrollTop,a=this._lastScrollTop>t,o=this._menuBody[0].offsetHeight,n=!a&&t+o+20>this._menuBody[0].scrollHeight;this._scroll={isBackwards:a,exceeded:n,menuHt:o},this._lastScrollTop=t,this._virtualization?this._showVirtualData(e):n&&this._getNextPage(t=>this._addDataToMenu(t,e),this._unbindScroll.bind(this))}}_getNextPage(e,t,a){let o=this.params;if(o.pageIndex<o.totalPages)o.pageIndex++;else if(o.moreServerPages)o.pageIndex=1,o.serverPageIndex++,this._groupsIncluded=[];else return void(t&&t());this._loadDataSource(e,a)}_afterLazyLoad(){this._setScrollTop()}_setMoreResults(){this._moreResultsData&&this._footerJSON.pop(),this._moreResultsData={id:this._getID("moreresults"),className:"zmenu__moreresults",itemType:"custom",isFooter:!0,moreresults:!0,hidden:this._noResults,innerHTML:this._getText("moreAction")},(!this._noResults||this._styleBasedFilter)&&this._footerJSON.push(this._moreResultsData)}_showMoreResults(e=!0){let t=this._getMoreResults();if(t.length){let a=t.parent();this[e?"_showEle":"_hideEle"](1<a[0].children.length?t:a)}}_getMoreResults(){return t("#"+this._getID("moreresults"))}_hideMoreResults(){this._showMoreResults(!1)}_addNoResults(){this._opts.search.moreResultsAction&&this._styleBasedFilter&&this._hideMoreResults();let e="_replaceMenuItems";this._styleBasedFilter&&(this._removeNoResults(),e="_addMenuItems");let t=this.CLASSES;this[e]([{innerHTML:this._getText("noResults"),itemType:"custom",id:this._getID("noresults"),className:t.unselectable+" zmenu__noresults",unhoverable:!0,noresults:!0}])}_removeNoResults(){this._menu&&this._menuInstance.removeMenuItem("#"+this._getID("noresults"))}search(e,t,a){this._search(e,t,null,a)}searchWithDelay(e,t,a,o){clearTimeout(this._searchTimer),a?this._searchTimer=setTimeout(()=>{this._search(e,t,o)},a):this._search(e,t,o)}_search(e,t,a,o){let n=this._opts,i=t&&t.target,r=i&&"INPUT"===i.tagName?i:this.inputField&&this.inputField[0];if(void 0===e&&(e=r?r.value:""),e&&a&&r){let t=r.selectionStart,a=r.selectionEnd;t!==a&&(t=e.length-1),e=e.substring(0,t)}if(this.params.previousQuery=this._inSufficentQuery?void 0:this.params.query,this.params.query=e,this._trigger("beforesearch",t,{params:this.params})){let a=n.search.minKeywordLength,i=a&&!o&&e.length<a;this._dsInit&&void 0!==e&&!i?this._filterFn(t):!1!==this._setNoResults(i)&&(this._styleBasedFilter&&!this._menuLoaded&&this._replaceMenuItems([]),this._callMenuShow(t))}else this.params.query=this.params.previousQuery,this._hideSuggestions()}_addSearchBox(e){let t=e.templateData;t.searchBox={iconClassName:"zmenu__icon",SVGIconId:"#zc__svg--search",SVGIconClassName:"zmenu__svg"},t.searchBoxId=this._getID("searchbox"),e.handleAccessKeyNavigation=!1}_storeSearchBox(){this.inputField=t("#"+this._getID("searchbox")),this._bindInputFieldEvents()}_hideAllItems(){this._styleBasedFilter?this._hideItemsUsingCSS():this._replaceMenuItems([])}_updateSearchBoxOnMenuShow(){this.inputField.val(this.params.query);let e={top:{class:"zmenu__footer",method:"append",opp:"bottom"},bottom:{class:"zmenu__header",method:"prepend",opp:"top"}},a=this._menu.data("direction").split("-")[0],o=e[a];if(o){let a=this._menu.children("."+o.class);if(!a.find("#"+this._getID("searchbox")).length){a.length||(a=t("<ul class='"+o.class+"'></ul>")[o.method+"To"](this._menu)),a[o.method](this.inputField.parent()),o=e[o.opp];let n=this._menu.children("."+o.class);n.length&&!n[0].childElementCount&&n.remove()}}}_calcItemHts(){let e=this._menuBody[0].children;this._ht[0]||(this._ht[0]=this._getItemHt(e[1])),this._isGrouped&&!this._ht[1]&&(this._ht[1]=this._getItemHt(e[0]))}_getItemHt(e){return e?t(e).outerHeight(!0):0}_addDummyJSON(e,t){t&&e.push({unhoverable:!0,itemType:"custom",customAttributes:{style:"height:"+t+"px","data-zplaceholder":!0}})}_cacheData(e){let t=this._cachedData;if(e.length){let a=this.DSInstance._maxResults,o=t.length;if(o){let n=t[o-1],i=a-n.length;i&&n.push(...e.splice(0,i))}e.length&&(t.push(e.splice(0,a)),this._cacheData(e))}}_getPagedMenuJSON(e){return this._cachedData[e-1]}_calcHt(e){let t=0,a=this._getPagedMenuJSON(e);return a&&a.forEach(e=>{t+=this._ht["itemgroup"===e.itemType?1:0]}),t}_showVirtualData(e){let t={},a=this._updateVirtualData.bind(this,e,t),o=o=>{t.results=o,this._trigger("beforelistupdate",e,t),o=t.results,o.length?(this._cacheData(this._getMenuJSON(o)),a()):this._freshRequest&&this._afterFilter(e,t)};this._freshRequest?(this._cachedData=[],this._startPage=this._endPage=null,this._ht=[0,0],this._loadDataSource(o)):this._scroll.exceeded?this._getNextPage(o,a):a()}_updateVirtualData(e,t){let a=0,o=0,n=this._opts.maxPage,r=1,s=this._cachedData.length,l=s;if(s>n){let e=0,t=this._lastScrollTop+40*(this._scroll.isBackwards?-1:1);for(;r<s;){if(e+=this._calcHt(r),t<e){l=r;for(let a=e,o;l<s&&(o=t+this._scroll.menuHt,!(o<a));)a+=this._calcHt(l),l++;break}a=e,r++}}let i=this._getPagedMenuJSON(l).length;if(r<this._startPage||l>this._endPage||i!==this._endPageCount){this._endPageCount=i;for(let e=l+1;e<=s;e++)o+=this._calcHt(e);this._startPage=r,this._endPage=l;let n=[];this._addDummyJSON(n,a);for(let e=r;e<=l;e++)n.push(...this._getPagedMenuJSON(e));this._addDummyJSON(n,o),t=t||{};let d;this._scrolledOnKeyDown&&(d=this._getHovered().attr("id")),t.addedMenuItems=this._replaceMenuItems(n),d&&this.hoverMenuItem("#"+d),this._afterFilter(e,t,!this._freshRequest)}}}e.registerComponent("ZList",ZList)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zmenu.Templates,a=e.Templates.Utilities;t.WCListChildren=e=>ZT.html` ${(e.searchBox||e.headerItems.length)&&ZT.html`${e.headerElement||ZT.html`<z-menuheader class='zmenu__header' data-header=true > ${e.searchBox&&ZT.html`<div class="zmenu__search"> ${a.WCIcon(e.searchBox)} <input id="${e.searchBoxId}" autocomplete="off" type="text" class="zmenu__textbox" autocomplete="off"> </div>`} ${e.headerItems.map(e=>t.WCItem(e))} </z-menuheader>`}`} ${e.items&&ZT.html`${e.bodyElement||ZT.html`<z-menubody class='zmenu__body' data-body=true > ${e.items.map(e=>t.WCItem(e))} </z-menubody>`}`} ${e.footerItems.length&&ZT.html`${e.footerElement||ZT.html`<z-menufooter class='zmenu__footer' data-footer=true > ${e.footerItems.map(e=>t.WCItem(e))} </z-menufooter>`}`} ${e.loader&&ZT.html`${t.WCLoader(e)}`} `,t.WCLoader=e=>ZT.html`<ul data-footer="true" class="zmenu--loading" id="${e.id}-loader"> <li class="zsuggestfield__nonselectable"> ${e.defaultLoader?ZT.customHTML`<i class="zmenu__icon zh-loading"> <svg class="zmenu__svg zmenu__loader zeffects--rotate"> <circle class="circle__track"></circle> <circle class="circle__load"></circle> </svg> </i>`:ZT.html`${icon(e.loader)}`} </li> </ul>`}(ZComponents),function(e){let t=e.zmenu.Templates,a=e.Templates.Utilities;t.listChildren=e=>ZT.html` ${(e.searchBox||e.headerItems.length)&&ZT.html`${e.headerElement||ZT.html`<ul class='zmenu__header' data-header=true > ${e.searchBox&&ZT.html`<div class="zmenu__search"> ${a.icon(e.searchBox)} <input id="${e.searchBoxId}" autocomplete="off" type="text" class="zmenu__textbox" autocomplete="off"> </div>`} ${e.headerItems.map(e=>t.item(e))} </ul>`}`} ${e.items&&ZT.html`${e.bodyElement||ZT.html`<ul class='zmenu__body' data-body=true > ${e.items.map(e=>t.item(e))} </ul>`}`} ${e.footerItems.length&&ZT.html`${e.footerElement||ZT.html`<ul class='zmenu__footer' data-footer=true > ${e.footerItems.map(e=>t.item(e))} </ul>`}`} ${e.loader&&ZT.html`${t.loader(e)}`} `,t.loader=e=>ZT.html`<ul data-footer="true" class="zmenu--loading" id="${e.id}-loader"> <li class="zsuggestfield__nonselectable"> ${e.defaultLoader?ZT.customHTML`<i class="zmenu__icon zh-loading"> <svg class="zmenu__svg zmenu__loader zeffects--rotate"> <circle class="circle__track"></circle> <circle class="circle__load"></circle> </svg> </i>`:ZT.html`${icon(e.loader)}`} </li> </ul>`}(ZComponents),function(e,t){class ZDatasourceHandler extends e.CoreComponent{get name(){return"zdatasourcehandler"}get attrs(){return{id:null,data:[],dataSource:null,allowDuplicateValues:!0,cacheData:!0,searchIncrementsInCache:!1,isResponseFiltered:!0,maxResults:null,inPlaceSorting:!0,matcher:null,dataMapping:{},sort:!0,sortBy:null,sortOrder:"asc",customSorter:null,callbacks:{},filters:null,search:{criteria:"contains"},messages:{pageIndexExceed:"PageIndex exceeds the total pages."}}}_create(){let e=this._opts;this._dataMapping=e.dataMapping,this._maxResults=e.maxResults;let t=e.dataSource;this._promiseObj=void 0,this.params={},this._cachedData={},this._filterFn=this._filterStaticSource,this._staticData=!0,this._isAjaxSource(t)&&this._initAjaxSource(t)}_setDataSource(e){this._sorted=!1,this._dataSource=e,this._orgData=[...e],e.length&&(this._isJSONSource="object"==typeof e[0],this._opts.inPlaceSorting&&(this._dataSource=this._organizeResults(e)))}_organizeResults(e){if(e&&e.length&&!this._sorted){if(this._sorted=!0,this._opts.sort)return this._sortResults(e);if(this._isGrouped())return this._organizeGroupedData(e)}return e}_getTotalPages(){return this._maxResults?Math.ceil(this._totalFilteredData.length/this._maxResults):this._totalFilteredData.length?1:0}_clone(e){return JSON.parse(JSON.stringify(e))}_getFilteredData(){let e=this.params.query,t=this._dataSource||[];return t.length?this._isFunc(this._opts.matcher)?t.filter(t=>this._opts.matcher(e,t)):e||this._opts.filters||this._filters?this._filterData(e,t):t.filter(e=>!e.hidden):t}_isGrouped(){return this._dataMapping.groupLabel&&this._isJSONSource}_trigger(e,t){let a=this._opts.callbacks[e];return!a||a(t)}_fetch(e={},t,a){"function"==typeof e&&(t=e,a=t,e={});let o=this.params;return e.query=e.query?e.query:"",o.previousQuery=o.query,o.query=e.query,this._serverPageIndex=e.serverPageIndex||1,this._pageIndex=e.pageIndex,this._filters=e.filters,new Promise((e,n)=>{this._resolvePromise=a=>{this._ajaxSource&&(a.serverPageIndex=o.pages,a.moreServerPages=this._moreServerPages),t&&t(a),e(a)},this._rejectPromise=e=>{a&&a(e),n(e)},this._filterFn()}).catch(t=>{if("abort"!==t)throw t})}_filterStaticSource(){this._dataSource||this._setDataSource(this._opts.data),this._totalFilteredData=this._filteredData=this._organizeResults(this._getFilteredData()),this._totalPages=this._getTotalPages(),this._sendDataToUser()}_sendDataToUser(){return this._maxResults?this._resolvePageData():void this._resolvePromise({query:this.params.query,results:this._clone(this._filteredData)})}_abortAjaxReq(){this._ajaxRequest&&(this._ajaxRequest.abort(),this._ajaxRequest=void 0)}fetch(){return this._fetch(...arguments)}destroy(){this._abortAjaxReq()}clearCache(){this.clearCachedQuery(),this._dataSource=this._orgData=this._sorted=this._filters=void 0,this._abortAjaxReq()}_getData(e){let t=this._dataSource;if(t.length){let a=this._getUniqueValue(e);for(let e=0,o;e<t.length;e++)if(o=t[e],a===this._getUniqueValue(o))return o}}clearCachedQuery(){this._cachedData={}}setCachedData(e){this._dataSource=e,this._isJSONSource="object"==typeof e[0]}getData(e,t,a){this._staticData&&(this._dataSource||!this._ajaxSource||a)&&this._fetch(()=>{let a=this._getData(e);t(a?{...a}:null)})}_initAjaxSource(){this._ajaxSource=!0,this._filterFn=this._filterAjaxSource,this._opts.serverSearch?this._serverSearch=!0:this._opts.isResponseFiltered=!1,this._serverPaging=this._opts.dataSource.paginated,this._staticData=!(this._serverSearch||this._serverPaging)}_filterAjaxSource(){let e=()=>{this._filterCurrentAjaxData(),this._sendDataToUser()},t=this.params,a=this._dataSource&&t.query===t.previousQuery&&t.pages===this._serverPageIndex&&this._opts.cacheData;if(a)return void this._sendDataToUser();let o=this._getDataFromCache(t.query);if(o)this._setDataSource(o);else if(this._serverSearch||this._serverPaging||!this._dataSource||!this._opts.cacheData)return this._initAjaxCall(e,e=>{this._rejectPromise(e)});e()}_filterCurrentAjaxData(){let e=this._opts,t=this._getDataFromCache(this.params.query);this._filteredData=this._dataSource,t||(!e.isResponseFiltered&&(this._filteredData=this._getFilteredData(this.params.query)),this._cacheResponse(this._filteredData),this._filteredData=this._organizeResults(this._filteredData)),this._totalFilteredData=this._filteredData,this._totalPages=this._getTotalPages()}_initAjaxCall(t,a){let o=this._opts.dataSource;this._serverPaging&&(this.params.pages=this._serverPageIndex);let n=this._getParams();this._trigger("requeststart",{params:n});let i=e=>{this._ajaxRequest=void 0,this._onAjaxSucess(e),t&&t(e)},r=(e,t)=>{this._ajaxRequest=void 0,this._onAjaxFail(e,t),a&&a(t)},s={params:n};if(!o.search){let e={...o};e.success=e.error=void 0;let t=e.queryParam;e.sourceURL=this._isFunc(e.URL)?e.URL(n):e.URL,e.data=this._isFunc(t)?t(n):t,s.ajaxSettings=e}this._trigger("requeststart",s),this._abortAjaxReq(),this._promiseObj=o.search?o.search(s.params):this._ajaxRequest=e.AJAX.transport(s.ajaxSettings);let l=this;(function(e){e.then(t=>{e===l._promiseObj&&i(t)},(t,a)=>{e===l._promiseObj&&r(t,a)})})(this._promiseObj)}_getParams(){return t.extend({},this.params)}_onAjaxSucess(e){let t=this._opts,a=t.dataSource,o;a.success?(o=a.success(e,this._getParams()),e=o.results||[]):e.results&&(o=e,e=o.results||[]),this._moreServerPages=this._serverPaging&&o.more;let n={results:e};this._trigger("requestend",n),this._setDataSource(n.results)}_onAjaxFail(e,t){if("abort"!==e.statusText){let a=this._opts.dataSource.error;a&&a(...arguments),this._trigger("requesterror",{params:this._getParams(),jqXHR:e,exception:t})}}_cacheResponse(e){this._serverSearch&&this._opts.cacheData&&!this._serverPaging&&(this._cachedData[this.params.query]=e)}_getDataFromCache(e){if(e in this._cachedData)return this._cachedData[e];return 1<e.length&&this._opts.searchIncrementsInCache?this._getDataFromCache(e.slice(0,-1)):void 0}_filterData(e,t){let a=this._opts.customSearch;if(this._isFunc(a))return a(...arguments);let o=[],n=this._opts.search,i=this._getMatchingRegex(e,n);if(this._isJSONSource){let a=this._getSearchBy(n.by),i=[];o=t.filter(t=>{if(!t.hidden){let o=this._mapJSONToData(t,this._dataMapping.value);if(this._opts.allowDuplicateValues||-1===i.indexOf(o)){let r=a.map(t=>({field:t,value:e,criteria:n.criteria,caseSensitive:n.caseSensitive})),s=[this._filters||this._opts.filters||[]];s.push({logic:"or",filters:r});let l=this._doesMatchFilters(t,s);if(l)return i.push(o),!0}}})}else o=t.filter(e=>(i.lastIndex=0,i.test(e)));return o}_doesMatchFilters(e,t=this._opts.filters,a="and"){if(t.logic)return this._doesMatchFilters(e,t.filters,t.logic);for(let o=0;o<t.length;o++){let n=t[o],i;if(n.logic)i=this._doesMatchFilters(e,n.filters,n.logic);else if(Array.isArray(n))i=this._doesMatchFilters(e,n);else{let t=this._getMatchingRegex(n.value,{criteria:n.criteria,caseSensitive:n.caseSensitive}),a=this._mapJSONToData(e,n.field);t.lastIndex=0,i=t.test(a)}if(i){if("or"===a)return!0;}else if("and"===a)return!1}return"and"===a}_organizeGroupedData(e){let t=this._getGroupedData(e),a=[];for(let o in t)a.push(...t[o]);return a}_getGroupedData(e){let t={};return e.forEach(e=>{let a=this._mapJSONToData(e,this._dataMapping.groupLabel);a=a||"",t[a]||(t[a]=[]),t[a].push(e)}),t}_sortGroupedData(e){let t=this._getGroupedData(e);for(let a in e=[],t)e.push(...t[a].sort(this._sortJSONData.bind(this)));return e}_removeItems(e,t,a,o){this._staticData&&this._fetch(()=>{let n=this._dataSource;if(n.length)if(e){if(e.length){e=this._toArr(e);for(let t=0,a;t<n.length;t++)a=this._getUniqueValue(n[t]),e.find(e=>this._getUniqueValue(e)===a)&&(n[t]=null);this._reassignData(n)}}else if(!t)a?a.length&&(a=this._toArr(a),a.forEach(e=>{for(let t=0,a;t<n.length;t++)a=n[t],e===this._getProp(a,"groupLabel")&&(n[t]=void 0)}),this._reassignData(n)):o&&(n=[],this._reassignData(n));else if(t.length){t=this._toArr(t);for(let e=0;e<n.length;e++)-1!==t.indexOf(e)&&(n[e]=null);this._reassignData(n)}})}_addItems(e,t,a){this._staticData&&this._fetch(()=>{let o=this._dataSource;o&&(e=this._toArr(e),a&&e.forEach(e=>{e[this._dataMapping.groupLabel]=a}),null===t||isNaN(t)||0>t||t>=o.length?o.push(...e):o.splice(t,0,...e),this._reassignData(o))})}_setItemAttribute(e,t,a,o){this._staticData&&this._fetch(()=>{let n=this._dataSource;if(n&&n.length){if(o)n.forEach(o=>{let n=this._getProp(o,"groupLabel");e===n&&(o[t]=a)});else{let o=this._getData(e);o&&(o[t]=a)}this._reassignData(n)}})}_reassignData(e){e=e.filter(e=>e),this.clearCachedQuery(),this._setDataSource(e),this._trigger("update",{results:this._clone(e)})}removeItems(e){this._removeItems(e)}removeItemsAt(e){this._removeItems(null,e)}removeGroups(e){this._removeItems(null,null,e)}removeAllItems(){this._removeItems(null,null,!0)}addItems(e,t){this._addItems(e,null,t)}addItemsAt(e,t,a){this._addItems(e,t,a)}setGroupAttribute(e,t,a){this._setItemAttribute(e,t,a,!0)}setItemAttribute(e,t,a){this._setItemAttribute(e,t,a)}setAttributes(e){let a,o;Object.keys(e).forEach(e=>{"data"===e||"dataSource"===e?a=!0:"sort"===e||"sortBy"===e||"sortOrder"===e?o=!0:void 0}),t.extend(!0,this._opts,e),a?(this.clearCache(),this._create()):(this._maxResults=this._opts.maxResults,this.clearCachedQuery(),o&&(this._sorted=!1,this._orgData&&this._setDataSource(this._orgData)))}_resolvePageData(){let e=this._pageIndex;return e&&this._totalPages&&!(e<=this._totalPages)?void this._rejectPromise(this._opts.messages.pageIndexExceed):this._resolvePromise({query:this.params.query,pageIndex:e,results:this._clone(this._getPageData(e,this._totalFilteredData)),totalPages:this._totalPages})}_getPageData(e,t){let a=this._maxResults;if(e){let o=a*(e-1);return t.slice(o,o+a)}return t}_sortResults(e){let t=this._opts;if(e=e.slice(),this._isFunc(t.customSorter))return t.customSorter(e);if(this._offset="desc"===t.sortOrder?-1:1,this._isJSONSource){let a=this._dataMapping;this._sortField=t.sortBy?(t.sortBy+"").split(","):[a.text||a.label];let o=this._isGrouped();o&&-1===this._sortField.indexOf(a.groupLabel)?e=this._sortGroupedData(e):(e.sort(this._sortJSONData.bind(this)),o&&(e=this._organizeGroupedData(e)))}else e.sort(this._sortFn.bind(this));return this._offset=this._sortField=void 0,e}_toLC(e){return"string"==typeof e?e.toLowerCase():e}_sortFn(e,t){let a=!this._isNotNull(e),o=!this._isNotNull(t),n;return a&&o?n=0:a?n=-1:o?n=1:e.localeCompare?n=e.localeCompare(t):(e=this._toLC(e),t=this._toLC(t),n=e>t?1:e<t?-1:0),n*this._offset}_sortJSONData(e,t){for(let a=0;a<this._sortField.length;a++){let o=this._sortField[a],n=this._sortFn(this._mapJSONToData(e,o),this._mapJSONToData(t,o));if(n)return n}}}e.registerComponent("ZDatasourceHandler",ZDatasourceHandler)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZListBox extends e.CoreComponent{get name(){return"zlistbox"}get attrs(){return{contentType:"text",multiple:!1,selectionLimit:0,multiSelectInterfacePattern:"checkbox",hideCheckbox:!1,checkboxPosition:"left",checkedIcon:!1,checkedIconClassName:null,checkedSVGIconId:null,checkedIconPosition:"left",template:null,groupHeadingTemplate:null,selectorToIgnoreSelection:null,showSearchField:!1,searchField:null,loaderIconClassName:void 0,loaderSVGIconId:void 0,lazyLoading:!1,virtualization:!1,viewPerPage:null,serverSearch:!1,customSearch:null,cacheData:!0,sort:!1,sortBy:null,sortOrder:"asc",customSorter:null,reorderable:!1,grippyIcon:!0,grippyIconClassName:null,grippySVGIconId:null,focusItemOnItemMouseover:!1,selectOnKeyNavigation:void 0,selectOnEnterKey:!0,characterKeyFocus:!0,keyNavigation:!0,value:null,wrapAround:!0,height:null,width:null,allowDragToSelect:!0,moreResultsAction:!1,disabled:!1,allowDuplicateItems:!0,filterByCSSSelector:!1,maxPage:3,isGrouped:!1,focusFirstItem:!1,selectOnSpaceKey:!0,focusSelectedItem:!0,allowShiftSelection:!0,query:"",isTextHTMLEncoded:!1}}get props(){return{appendTo:null,headerItems:[],footerItems:[],items:[],dataSource:{},dataMapping:{text:"text",value:"value",informativeText:"informativeText",iconClassName:"iconClassName",textIcon:"textIcon",SVGIconId:"SVGIconId",options:"options",zitemid:"zitemid"},actionButtons:{actions:[],displayType:"contextual-mouseover",position:"bottom"},callbacks:{},searchFieldOptions:{placeholder:"",iconClassName:void 0,SVGIconId:void 0,clearButton:!1,clearButtonIconClassName:void 0,clearButtonSVGIconId:void 0,handleEvents:!0,filterBasedOnCurPos:!1,preventUPDOWNKeysDefault:!0},search:{by:"text",searchIncrementsInCache:!1,trimWhitespace:!0,highlightKeyword:!1,fieldsToHighlight:null,minKeywordLength:0,focusFirstResult:!0,criteria:"contains"},messages:{noResults:"No results found",moreAction:"See more results",serverError:"Server request failed. Please try again later",minKeywordLength:"Please enter #minKeywordLength# or more characters",clear:"Clear"},filters:null}}get propType(){return{selectOnFocus:"boolean",filters:"array",viewPerPage:"number"}}get tagNames(){return{ITEM:"z-listboxitem",GROUP:"z-listboxgroup",BODY:"z-listboxbody",HEADER:"z-listboxheader",FOOTER:"z-listboxfooter",SEPARATOR:"z-listboxseparator"}}get SELECTORS(){let e=this.tagNames;return{OPTION:this.isCE?e.ITEM:"option",OPTGROUP:this.isCE?e.GROUP:"optgroup",OPTIONSBODY:e.BODY,OPTIONSHEADER:e.HEADER,OPTIONSFOOTER:e.FOOTER,OPTIONSEPARATOR:e.SEPARATOR}}get EVENTS(){return["focus","beforefocus","blur","beforeselect","select","beforedeselect","deselect","change","itemclick","beforeitemfocus","itemfocus","itemhover","moreactionclick","selectionlimitexceeded","beforesearch","searchsuccess","searcherror","noresults","beforelistupdate","listupdate","imageerror","dragstart","drag","dragend","beforekeydown","keydown","beforesearchfieldupdate","searchfieldupdate"]}get CLASSES(){return{container:"zlistbox",icon:"zlistbox--withicon",listwithloader:"zlistbox--loading",withicon:"zlistbox--withicon",withhint:"zlistbox--withdesc",withcheckbox:"zlistbox--withcheckbox",withcheckedicon:"zlistbox--withcheckedindication",withsearchfield:"zlistbox--withsearchfield",icononly:"zlistbox--icononly",icontext:"zlistbox--iconwithtext",listwithcustom:"zlistbox--withcustomitem",listwithcheckboxRight:"zlistbox--checkboxright",listwithcheckediconRight:"zlistbox--checkedindicationright",listwithactionbtnsvisible:"zlistbox--actionbuttonvisible",withoutcheckeditem:"zlistbox--withoutcheckeditem",listwithicononly:"zlistbox--icononly",listwithimage:"zlistbox--withimage",reorderable:"zlistbox--reorderable",text:"zlistbox__text",hint:"zlistbox__description",body:"zlistbox__body",header:"zlistbox__header",footer:"zlistbox__footer",item:"zlistbox__item",itemgroup:"zlistbox__itemgroup",itemgrouplabel:"zlistbox__grouplabel",loader:"zlistbox__loader",loadericon:"zlistbox__loadericon",fullloader:"zlistbox__fullloader",actionbuttonsWrapper:"zlistbox__actions",actionbutton:"zlistbox__action",separator:"zlistbox__separator",checkediconWrapper:"zlistbox__checkedindication",checkedicon:"zlistbox__checkedicon",checkboxWrapper:"zlistbox__checkbox",checkbox:"zlistbox__inputcheckbox",checkboxlabel:"zlistbox__checkboxlabel",avatar:"zlistbox__avatar",icondiv:"zlistbox__image",itemicon:"zlistbox__icon",content:"zlistbox__content",textIconWrapper:"zlistbox__imagetext",moreresults:"zlistbox__moreresults",noresults:"zlistbox__noresults",noresultstext:"zlistbox__noresultstext",search:"zlistbox__search",searchcontainer:"zlistbox__searchiconcontainer",searchicon:"zlistbox__searchicon",searchfield:"zlistbox__searchfield",clearbuttonicon:"zlistbox__clearicon",clearbutton:"zlistbox__clearbutton",grippyicon:"zlistbox__grippy",hoverable:"is-hoverable",disabled:"is-disabled",hover:"on-hover",focussed:"has-focus",selected:"is-selected",rtl:"zh-rtl"}}get isIE9(){return 9===e.Browser.getIEVersion()}_init(e,t){this._data.classes=this._CLASSES,this._id=e[0].id=this._getID(e),this._namespace="."+this.name,"DIV"===e[0].tagName?(this._skipParent=!0,this._useParent=!0):(e[0].style.display="none",this._useParent=!1),this._fromInit=!0,this._DOMChanges={},this.params={},this._wheelEvents="onwheel"in document||9<=document.documentMode?"wheel":"mousewheel",this._imgErrHandlerRef=this._imgErrHandler.bind(this),this._selectedItems=[],this.isCE||"SELECT"!==this.element[0].tagName||(["disabled","multiple"].forEach(a=>{t[a]=t[a]||e[0][a]}),e[0].multiple=t.multiple),this._docMouseUpHandler=this._onDocMouseUp&&this._onDocMouseUp.bind(this),this._setNoResultsData(),this._initVars(),this._parseHTML(),this._initDS(),this._setInitValues(),this._savePrev(),this._afterPropInit()}_afterPropInit(){this._reorderble=this._grippyIconData=!1;let t=this._opts;!t.reorderable||t.multiple&&!this._checkboxPattern&&t.allowDragToSelect||!this.staticData||this.params.query||this._lazyLoadData||this.inputField||(this._reorderble=!0,t.grippyIcon&&e._getIconInfo(t.grippyIconClassName,t.grippySVGIconId,"#zc__svg--grippy-listbox",this._CLASSES.itemicon,this._grippyIconData={}))}_parseHTML(){this._htmlTagData=!1,this._htmlHeaderItems=[],this._htmlFooterItems=[],!this._useParent&&this._parseHTMLInput&&this._parseHTMLInput()}_setInitValues(){let e=this._opts,t=e.value;this._isNotNull(t)||(t=[],e.items&&!this.ajaxSource&&e.items.forEach(e=>{e.selected&&t.push(e)})),e.value=[],this._setValues(t)}_initVars(){let a=this._opts;if(this._freshRequest=!0,this._actionBtns=!1,this.inputField=void 0,this._highlightData=void 0,this._searchable=void 0,this._showSearchField=a.showSearchField,this._showSearchField)this._setSearchFieldData(),this._searchable=!0;else if(this._data.searchBox=void 0,a.searchField){let e=t(a.searchField);e.length&&(this.inputField=e,this._searchable=!0)}this._showCheckedIcon=a.checkedIcon,this._checkboxPattern=a.multiple&&"checkbox"===a.multiSelectInterfacePattern,this._showCheckBox=this._checkboxPattern&&!a.hideCheckbox,this._selectOnFocus=!(this._checkboxPattern&&a.hideCheckbox)&&(a.multiple&&!this._checkboxPattern||(void 0===a.selectOnKeyNavigation?!a.multiple&&!this._searchable:a.selectOnKeyNavigation)),this._toggleOnItemClick=!this._checkboxPattern||a.hideCheckbox||!this._selectOnFocus,this._focusOnHover=a.focusItemOnItemMouseover,this._htmlTagData||this._assignDM(),this._isGrouped=!!this._dataMapping.groupLabel,this._checkedIconData={},this._setContentProps(a.contentType);let o=a.actionButtons.actions;o&&o.length&&this._setActionBtns(o),e._getIconInfo(a.checkedIconClassName||a.checkedIconClass,a.checkedSVGIconId,"#zc__svg--tick",this._CLASSES.checkedicon,this._checkedIconData)}_bindEvents(){this._addEvents({focusIn:"focusin",blur:"focusout",mousedown:"mousedown",keydown:"keydown",click:"click"}),this.container.on("click."+this.name,"."+this._CLASSES.checkboxWrapper,this._checkboxClickHandler.bind(this))}_keydownHandler(e){if(this._trigger("beforekeydown",e))return this._keydownActions(e)}_keydownActions(e){let t=this._navInstance.moveFocus(e);return this._trigger("keydown",e),t}_imgErrHandler(e){let t=e.target;"IMG"===t.tagName&&this._trigger("imageerror",e,{imageElement:t})}_mousedownHandler(e){this._actionBtnClicked||this._focussed||(this._focussed=!0),this._actionBtnClicked=!1}_clickHandler(e){this._actionBtnClicked=!1}_getClosestItem(e){let t=e.closest("."+this._CLASSES.item);return t.length?t:void 0}_itemSelectHandler(a,o=!0){let n=a.detail.item;if(a=a.originalEvent,!this._dragging){let i=!0;if(a){let r;if("mouseup"===a.type){if(a.isDefaultPrevented())return!1;r=this._getClosestItem(t(a.target))}else if("keydown"===a.type){let t=a.keyCode,o=e.keyCode;this._selectOnFocus||t===o.ENTER||t===o.SPACE?r=this.getFocussed():i=!1}r?r.data("selectable")&&this._isValidClick(a,o,n)&&(i=!1):i=!1}else n.data("selectable")&&(i=!1);if(!i)return this._selectItem(n,o,a)}return!1}_isValidClick(){return!this._opts.multiple||this._isValidMultiSelectClick(...arguments)}_isCheckboxClick(e){let a=e&&t(e.target),o=this._CLASSES;if(a&&(a.hasClass(o.checkboxlabel)||a.hasClass(o.checkbox)||a.hasClass(o.checkboxWrapper)))return!0}_checkboxClickHandler(e){e.preventDefault()}_itemClickHandler(e,t,a){let o=a.itemMappedData;if(!o.disabled){let a=this._getItemEventData(t);if(!o.selectable){if(o.moreresults){let t=this._opts.moreResultsAction;"function"==typeof t&&t(),this._trigger("moreactionclick",e,a)}this._focusEle(t,e)}this._trigger("itemclick",e,a)}}_getItemEventData(e,t){return t=t||this._getStoredData(e),{item:e.length&&e[0],itemMappedData:t,itemData:t.originalData}}_focusInHandler(e){let t=this._focussed;this._focussed=this._focusCallbackCalled=!0,t||this._blurTimer||this._focusLastFocussed(this._opts.focusFirstItem,e),this._trigger("focus",e)}_focusLastFocussed(e,a){let o=this._opts.focusSelectedItem,n=(this._domChanged||this._considerLastFocussed)&&this.getFocussed();if(n||(e?!this._domChanged&&(n=this.getFirstValidItem()):o&&(n=this._listBody.find("."+this._CLASSES.selected).first()[0])),n)return n=t(n),this._focusEle(n,a),n}_blurHandler(e){clearTimeout(this._blurTimer),document.activeElement!==this.container[0]&&(this._focussed=!1,this._blurTimer=setTimeout(()=>{this._focussed||this._focusOutHandler(e),this._blurTimer=!1}))}_focusOutHandler(e){this._focussed=this._lastFocussedItem=!1,this._setFocusClass(this.getFocussed(),!1),this._updateFieldClass(),this._removeDocEvent(),this._trigger("blur",e)}_updateFieldClass(){this._showSearchField&&this.inputField[this.inputField[0]===document.activeElement?"addClass":"removeClass"](this._CLASSES.focussed)}_focusItemHandler(e,t){if(this._focussed&&this._isFocussableItem(e)){let a=this._getItemEventData(e);if(this._trigger("beforeitemfocus",t,a)){let o=this._getStoredData(e);if(o.clickable)return this.inputField&&this._autofill(e,o,t),this._lastFocussed!==o.id&&this._unFocusItem(),this._lastFocussed=o.id,this._lastFocussedItem=e,this._considerLastFocussed=!t||"mouseenter"!==t.type,this._setFocusClass(e),this._trigger("itemfocus",t,a),!0}}return this._focussed||(this._unFocusItem(),this.setFocus(t)),!1}_unFocusItem(){let e=this.getFocussed();e&&this._setFocusClass(e,!1),this._lastFocussed=void 0}_getStoredData(e){return e.length&&e[0].itemData}_updateData(e){this._getById(e.id)[0].itemData=e}_postRender(){this._updateRenderedView()}_fixHtWd(){let e=this._opts.height||this.element[0].style.height,t=this._opts.width||this.element[0].style.width;e&&(this.container[0].style.height=this._getCorrectedPx(e)),t&&(this.container[0].style.width=this._getCorrectedPx(t))}_getCorrectedPx(e){return"none"===e?"":`${e}${isNaN(e)?"":"px"}`}_updateRenderedView(){let t=this._data,a=this._opts;this._fromInit&&this.container[0].addEventListener("error",this._imgErrHandlerRef,!0),t.className=this._getClass(),this._fixHtWd(),this._storeRef(),this.inputField&&this._bindInputFieldEvents(),this._showSearchField&&this._updateClearBtn();let o=this._opts.tabindex;a.disabled?this.container.removeAttr("tabindex"):this.container.attr({tabindex:this._isNotNull(o)?o:this._opts.showSearchField?-1:0}),this._addEvents({scroll:"scroll"},this._listBody);let n=this._getOptsForSelectableUtil();this._navInstance?this._navInstance.setAttributes(n):(this._navInstance=e.selectable(this.container,n),this.container.off("keydown.zselectable")),this._fromInit=!1}_getOptsForSelectableUtil(){let e=this._opts,t=this._CLASSES,a={items:`.${t.item}[data-zplaceholder="true"], .${t.item}[data-clickable=true]:not(.${t.disabled})`,multiple:e.multiple,toggle:this._checkboxPattern,focusItemOnItemMouseover:this._focusOnHover,selectOnFocus:this._selectOnFocus,selectOnEnterKey:e.selectOnEnterKey,selectOnSpaceKey:e.selectOnSpaceKey,allowDragToSelect:e.allowDragToSelect&&!this._checkboxPattern,keyNavigation:e.keyNavigation,allowShiftSelection:e.allowShiftSelection,keyNavigationOptions:{direction:"vertical",wrapAround:!this._lazyLoadData&&e.wrapAround,characterKeyFocus:e.characterKeyFocus,keyMatchAttribute:"zkeymatchlabel"},select:()=>{},beforeselect:e=>this._itemSelectHandler(e,!0),beforedeselect:e=>this._itemSelectHandler(e,!1),deselect:()=>{},beforeblur:()=>!1,beforereset:t=>{let a=t.detail.item;return t=t.originalEvent,!(this._dragging||!a.data("selectable")||e.multiple&&"mouseup"===t.type&&this._checkboxPattern&&(!this._selectOnFocus||this._isCheckboxClick(t)))},change:e=>{this._triggerChange(e,e.detail.item)},reset:e=>{let t=e.detail.item;return e=e.originalEvent,this._clearSelection(e,t[0].itemData)},beforefocusmove:e=>{let t=e.detail.item,a=e.detail.ahead;if(e=e.originalEvent,e&&"mouseup"===e.type){if(e.isDefaultPrevented())return!1;this._focussed||(this._focussed=!0,this.setFocus(e))}return("select"!==a||this._canFocusMove(t,e))&&this._focusItemHandler(t,e)},focusmove:()=>{},mouseenter:e=>{let t=e.detail.item;this._isFocussableItem(t)&&(this._itemInHover=t,this._trigger("itemhover",e,this._getItemEventData(t)))},mouseleave:()=>{this._itemInHover=!1},beforemouseup:()=>!this._actionBtnClicked,beforemousedown:()=>!this._actionBtnClicked};return this._styleBasedFilter&&(a.items+=":visible"),a}_isFocussableItem(e){return e&&e.length&&e.attr("data-clickable")}_canFocusMove(t,a){if(t&&t.length&&a&&this._opts.multiple&&this._selectOnFocus&&!this._checkLimit()&&"keydown"===a.type&&a.shiftKey){let t=e.keyCode,o=a.keyCode;if(o===t.DOWN||o===t.UP)return!1}return!0}_postEachRender(){this._domChanged&&this._updateRenderedView(),this._newAddedItems=this._getDomsForData(this._newAddedJSON),this._setVisibility(this._data.orgEvent),(this._domChanged||!this._data.rendered||this._updateMidHt)&&this._fixMidHt(),this._manageReorderable(),this._bindScrollToLazyLoad(),this._updateCustomAttrs(),this._updateStates(this._data.orgEvent),this._data.orgEvent=void 0}_show(e,t=!0){e&&e[0]&&(e[0].style.display=t?"":"none")}_hide(e){return this._show(e,!1)}_setVisibility(){let e=this._data,t=this._CLASSES;e.className=this._getClass();let a=this._noResultsEle,o=this._loaderEle,n=this._listBody,i=this.container;i.removeAttr("data-loading").removeAttr("data-noresults"),this._loading?(o[e.loader.fullloader?"addClass":"removeClass"](t.fullloader),this._show(o),this._show(n),this._hide(a),this.container.attr("data-loading",!0)):(o&&o.removeClass(t.fullloader),this._noResults?(this._hide(n),this._show(a),this.container.attr("data-noresults",!0)):(this._hide(o),this._hide(a),this._show(n))),e.className=this._getClass()}_fixMidHt(){let e=0,a=this._CLASSES,o=[...this.container[0].children],n=[],i=[];o.forEach(e=>{e=t(e),e.hasClass(a.body)||e.hasClass(a.noresults)||e.hasClass(a.loader)?n.push(e[0]):!e.attr("data-floating")&&i.push(e[0])}),i.forEach(t=>{e+=t.offsetHeight||0}),this._childHt="calc(100% - "+e+"px)",n.forEach(e=>{e.style.height=this._childHt})}_updateCustomAttrs(){let e=this._data.items,t=this._prevItems;if(e.length)for(let a=0;a<e.length;a++){let o=t&&t[a]&&t[a].customAttributes,n=e[a].customAttributes,i={},r=!1;if(o){if(o===n)continue;for(let e in o)i[e]=null;r=!0}n&&(Object.assign(i,n),r=!0),r&&this._getById(e[a].id).attr(i)}this._prevItems=[...e]}_getDomsForData(e){return e&&e.map(e=>this._getById(e.id)[0])}_updateStates(e){let a=this._newAddedItems||this._getDomsForData(this._data.items),o=this._CLASSES;return this._itemInHover&&!this.container.find(this._itemInHover).length&&(this._itemInHover=void 0),a.forEach(e=>{let a=t(e),n=this._getStoredData(a),r=this._selectedItems;if(n.selectable){let e;for(let t=0;t<r.length;t++)r[t].id===n.id&&(r[t]=n,n.selected=e=!0);this._addSelectDataToItem(a,!!e),n.checkbox&&(a.find("."+o.checkbox)[0].checked=e),n.actionButtons&&this._bindActionBtns(a,n)}}),this._setFocusAfterStateUpdate(a,e),a}_addSelectDataToItem(e,t=!0){if(e.attr("data-selectable")){let a=this._CLASSES;t?e.addClass(a.selected):e.removeClass(a.selected),e.attr("aria-selected",t)}else e.removeAttr("aria-selected")}_setFocusAfterStateUpdate(e,t){let a=!this._lazyLoaded||this._virtualization;if(a&&e.length&&this._focussed){let e=this.getFocussed(),a=this._lastFocussed&&this._lastFocussedItem;if(this._fromSearch?(this._considerLastFocussed=!1,e=this._focusLastFocussed(this.inputField?this._opts.search.focusFirstResult:void 0,t)):this._focusEle(e,t),a&&(!e||a[0]!==e[0])&&a.removeClass(this._CLASSES.focussed+" "+this._CLASSES.hover),this._itemInHover){let e=this._itemInHover;this._itemInHover=void 0,e.trigger("mouseenter")}}}_setFocusClass(e,t=!0){if(e){let a=this._CLASSES.focussed;this._focusOnHover&&(a+=" "+this._CLASSES.hover),t||e.removeClass(a)}}_storeRef(){let e=this._CLASSES,t=this._data,a=this.container;this._noResultsEle=this._loaderEle=void 0,this._showSearchField&&(this.inputField=this._getById(t.searchBox.id)),this._listBody=a.find("."+e.body),this._listHeader=a.find("."+e.header),this._listFooter=a.find("."+e.footer),t.noResults&&(this._noResultsEle=this._getById(t.noResults.id)),t.loader&&(this._loaderEle=this._getById(t.loader.id));let o=this._opts.searchFieldOptions.placeholder;this.inputField&&o&&this.inputField.attr("placeholder",o)}_bindScrollToLazyLoad(){this._freshRequest&&this._lazyLoadData&&(this.params.totalPages>this.params.pageIndex||this.params.moreServerPages)&&this._bindScroll()}_selectItem(e,t=!0,a){let o=this._CLASSES,n;t=!!t,e.id&&(n=e,e=this._getById(n.id)),e.length&&(n=this._getStoredData(e));let i=this._isSelectedItem(n);if(n.selectable&&i!==t){!e.length&&this._dsInit&&this.DSInstance.getData(n.originalData,e=>{e&&(n=this.getItemData(e))});let i=t?"select":"deselect";if(this._trigger("before"+i,a)){if(!t)this._removeFromSelection(n,a);else if(!this._addToSelection(n,a))return!1;this._addSelectDataToItem(e,!!t),n.selected=t,this._showCheckBox&&e.length&&(e[0].querySelector("."+o.checkbox).checked=t),t&&this.inputField&&this._setFieldValue(e,n,a),this._trigger(i,a,this._getItemEventData(e,n)),this._changed=!0}else return!1}return n.selectable}_triggerChange(t,a){t=t&&t.originalEvent;let o={};if(a&&a.length&&(o=this._getItemEventData(a)),this._changed){let e=this._selectedItems.map(e=>e.id);this.container&&this.container.attr("aria-activedescendant",e.join(",")),o.previousValue=this._prevValues,this._trigger("change",t,o),this._savePrev()}if(t){let n=e.keyCode,i=t.keyCode,r=t.type;t&&o.item&&("mouseup"===r||"keydown"===r&&(i===n.ENTER||i===n.SPACE))&&this._itemClickHandler(t,a,o)}this._changed=!1}_savePrev(){this._prevValues=[...this._opts.value]}values(){return this._selectedItems}_initialRender(){this._search(),this._data.rendered||this._replaceBodyItems([])}_setContentProps(e){/^(image-text|image-text-desc|text-desc|text|custom|image)$/.test(e)||(e="text"),this._isCustom=-1<e.indexOf("custom"),this._hasImage=this._hasIcon=!1,this._isCustom||(this._hasText=-1<e.indexOf("text"),this._hasDesc=-1<e.indexOf("desc"),-1<e.indexOf("image")&&(this._hasIcon=!(this._hasImage=this._dataMapping.image)))}_assignDM(){this._dataMapping={...this._opts.dataMapping}}_initDS(){let e=this._opts,t=this._data;this.DSInstance||(t.loader=this._loading=!1),t.items=[],this._datasource=[],this._groupsIncluded=[],this._dataLoaded=!1,this._groupHeads=[],t.headerItems=t.footerItems=t.moreAction=t.virtualHeightBelow=t.virtualHeightAbove=void 0;let a=e.dataSource,o=e.items;if(this._dsInit=this.staticData=!1,this.ajaxSource=this._isAjaxSource(a),this.ajaxSource||o&&o.length){this._dsInit=this.staticData=!0;let t={callbacks:{}};this.ajaxSource?this._bindAjaxEvents(t.callbacks):"nested"===e.dataStructure&&(o=this._flattenData(o)),this._virtualization=!1,!e.filterByCSSSelector||this.ajaxSource||e.search.highlightKeyword||this._isGrouped?(this._lazyLoadData="auto"!==e.height&&e.lazyLoading,e.virtualization&&(this._virtualization=this._lazyLoadData=!0),this._styleBasedFilter=!1,this._filterFn=this._filterByAddRemoval):(this._lazyLoadData=!1,this._styleBasedFilter=!0,this._filterFn=this._filterListViaStyles),t.search=e.search,t.filters=e.filters,["sort","sortBy","sortOrder","customSorter","serverSearch","isResponseFiltered","cacheData","customSearch"].forEach(a=>{t[a]=e[a]}),this._viewPerPage=this._lazyLoadData?this._isNotNull(e.viewPerPage)?e.viewPerPage:10:0,t.maxResults=this._viewPerPage,t.searchIncrementsInCache=e.search.searchIncrementsInCache,t.dataMapping=this._dataMapping,t.callbacks.update=this._onDSUpdate.bind(this),t.allowDuplicateValues=e.allowDuplicateItems,this.DSInstance?this.DSInstance.setAttributes(t):(this._lastScrollTop=0,t.dataSource=a,t.data=o,this.DSInstance=this._initDSInstance(t)),(this.DSInstance._serverSearch||this.DSInstance._serverPaging)&&(this.staticData=!1),this.ajaxSource&&this._setLoaderData()}}_preRender(){let e=this._data,t=this._opts,a=this._DOMChanges,o=e.moreAction;return a&&Object.keys(a).length&&this._replaceMovedItems(),this._DOMChanges={},(!e.rendered||this._domChanged)&&(e.attrs={role:"listbox","aria-multiselectable":!!t.multiple}),t.moreResultsAction?this._noResults?e.moreAction=void 0:this._setMoreResults():(!e.rendered||this._domChanged)&&this._setHeaderFooterItems&&this._setHeaderFooterItems(),this._updateMidHt=!!o!=!!this._data.moreAction,e}getItemData(t,a,o,n){let i={...this._getBasicItemData(t),...{name:a,separator:t.separator,heading:o,custom:"custom"===t.contentType,view:{},selectable:!1}};if("object"!=typeof t){let e=t;t={},t.separator||this._setProp(t,o?"groupLabel":"text",e)}i.normalisedData=t;let r=i.customAttributes={...(t.customAttributes||{})};return o?this._setHeadingData(i):!t.separator&&this._setViewData(i,n),this._updateItemClass(i),t.style&&(r.style=t.style),this._isNotNull(t.title)&&(r.title=t.title),e.isEmpty(r)&&delete i.customAttributes,i}_getBasicItemData(e){return{id:this._getItemId(e),originalData:e,normalisedData:e,zlistitem:!0,selectable:!0}}_setKeyValue(e,t,a){a=!this._isEncoded()&&a;let o=this._getProp(e.normalisedData,t,a);e[t]=o}_isEncoded(){return this._opts.isTextHTMLEncoded}_setHeadingData(t){this._setKeyValue(t,"groupLabel"),t.disabled=this._opts.disabled;let a=this._opts.groupHeadingTemplate;a?t.view.innerHTML=this._getCustomContent(t,this._opts.groupHeadingTemplate,!0,"text"):t.view.text=this._highlight(e.encodeHTML(t.groupLabel),this._dataMapping.groupLabel)}_updateItemClass(e){let t=e.originalData.className||"",a=e.customAttrs;a&&a.className&&((e=>{t+=" "+e})(a.className),delete a.className),e.className=t}_afterFilter(e,t){if(this._freshRequest){let a;if(this._styleBasedFilter)a=this.getFirstItem();else{let e=t&&t.addedItems;a=e&&e.length}if(a)this._hideNoResults(void 0,e);else return void this._showNoResults(e)}this._opts.search.highlightKeyword&&!this._noResults&&this._styleBasedFilter&&this._highlightInList(),this._itemsRendered&&this._setScrollTop(),this._itemsRendered=!0,this._triggerUpdate(e,t)}_hideNoResults(e=!0,t){this._noResults=!1,this._status="ok",e&&this._setVisibility(t)}_showNoResults(e){let t={query:this.params.query};this._trigger("noresults",e,t)&&this._showWarning("noResults",e)}_showWarning(e,t){let a=e.toLowerCase(),o={params:this.params,status:a};this._noResults=!0,this._status=a;let n=this._getText(e);return this._data.noResults.innerHTML=n,this._styleBasedFilter&&this._data.rendered&&(!this._domChanged||!this._reInit)&&this._renderView(),this._hideAllItems(t),this._noResultsEle.attr("data-warning",a),this._triggerUpdate(t,o)}_hideAllItems(e){return this._styleBasedFilter&&this._data.rendered?this._hideItemsUsingCSS():void this._replaceBodyItems([],void 0,e)}_getMsg(e){return this._getI18NText(e)}_getClass(){let e=this._CLASSES,t=e.container,a=e=>{t+=" "+e};return this._loading&&a(e.listwithloader),this._opts.className&&a(this._opts.className),this._opts.rtl&&a(e.rtl),this._opts.disabled&&a(e.disabled),this._showCheckBox||this._showCheckedIcon?(this._showCheckBox&&(a(e.withcheckbox),"right"===this._opts.checkboxPosition&&a(e.listwithcheckboxRight)),this._showCheckedIcon&&(a(e.withcheckedicon),"right"===this._opts.checkedIconPosition&&a(e.listwithcheckediconRight))):a(e.withoutcheckeditem),this._actionBtns&&"contextual"===this._opts.actionButtons.displayType&&a(e.listwithactionbtnsvisible),this._opts.showSearchField&&a(e.withsearchfield),this._isCustom?a(e.listwithcustom):(this._hasIcon?a(e.withicon):this._hasImage&&a(e.listwithimage),this._hasDesc&&a(e.withhint),"image"===this._opts.contentType&&a(e.listwithicononly)),this._reorderble&&a(e.reorderable),t}_getBool(e){if(!0===e||"true"===e)return!0}_setCheckboxData(e){this._showCheckedIcon&&(e.checkedIconPosition=this._opts.checkedIconPosition,e.checkedIcon=this._checkedIconData),this._showCheckBox&&(e.checkbox=!0,e.checkboxId="zcheckbox-"+e.id,e.checkboxPosition=this._opts.checkboxPosition)}_setViewData(e,t){let a=e.view,o=e.normalisedData,n=e.customAttributes;e.hidden=o.hidden,e.disabled=o.disabled||this._opts.disabled;let i=this._isNotNull(o.selectable)?this._getBool(o.selectable):!t;e.selectable=i,e.disabled||(e.clickable=i||!this._isNotNull(o.clickable)||this._getBool(o.clickable)),i&&(this._setCheckboxData(e),e.actionButtons=this._actionBtns,e.grippyIcon=this._grippyIconData);let r=t&&!i;this._styleBasedFilter&&this._searchable&&!r&&this._getAttrForCSSFilter(o,n);let s=n["data-label"]||this._mapJSONToData(o,this._dataMapping.text,!1);if(a.ariaLabel=s||"",a.ariaValue=this._getProp(o,"value")||a.ariaLabel,o.custom||this._isCustom)a.innerHTML=this._getCustomContent(o,o.zinnerHTML||o.innerHTML||this._opts.template,!0,"text"),e.custom=!0;else{let t=this._setKeyValue.bind(this,e);(this._hasIcon||this._hasImage)&&this._setImageData(e),this._hasText&&(t("text",!0),a.text=r?e.text:this._highlight(e.text,this._dataMapping.text),n["data-label"]=s,this._opts.characterKeyFocus&&(n["data-zkeymatchlabel"]=s&&s.toLowerCase())),this._hasDesc&&(t("informativeText",!0),a.description=r?e.informativeText:this._highlight(e.informativeText,this._dataMapping.informativeText))}}_triggerUpdate(e,t){return this._trigger("listupdate",e,t)}_triggerBeforeUpdate(e,t){return this._trigger("beforelistupdate",e,t)}_highlight(e,t){return e&&this.params.query&&this._opts.search.highlightKeyword&&(e=this._highlightValidKey(e,t)),e}getFirstItem(e){return this.container.find(`.${this._CLASSES.item}[data-selectable]`).toArray().find(a=>{let o=t(a);return(!e||o.is(e))&&(!this._styleBasedFilter||"none"!==o.css("display"))})}getFirstValidItem(){return this.getFirstItem(":not(."+this._CLASSES.disabled+")")}_scrollHandler(e){this._considerScrollForLazyLoad?this._scrollHandlerToLoadPage(e):this._lastScrollTop=this._listBody[0].scrollTop}_focusInputField(){this.inputField.focus()}getFocussed(){if(this._lastFocussed){let e=this._getById(this._lastFocussed);return e.length?e:void 0}}_trigger(e,t,a){return!!this._fromInit||(a=a||{},a.value=this.getValue(),a.initialized=!this._fromInit,this._dispatchEvent(e,t,a,void 0,!!t))}_getItemJSON(e,t){return this._isGrouped&&!t?this._getItemJSONForGroupedData(e):e.map(e=>this.getItemData(e))}_addBodyItems(e,t=!0,a){let o=e;t&&e.length&&(this._datasource.push(...e),o=this._getItemJSON(e)),this._data.items.push(...o),this._lazyLoaded=!0;let n=this._renderView(o,a);return this._lazyLoaded=!1,n}_renderView(e,t){return this._data.orgEvent=t,this._newAddedJSON=e,this._render(),this._data.rendered=!0,this._domChanged=!1,this._newAddedItems}_replaceBodyItems(e,t=!0,a){let o=e;t&&e.length&&(this._datasource=[...e],o=this._getItemJSON(e)),this._data.items=o;let n=this._renderView(o,a);return n}_getKeyID(e){return"z"+this._id+"-"+e}_loadDataSource(e,t){this._dsInit?this.fetchData(this.params,a=>{let o=a.results;delete a.results,this.params={...this.params,...a};let n={results:o,params:{...this.params}};this._triggerBeforeUpdate(t,n),e(n.results,t)}):e([])}_getItemId(e){return super._getItemId(e,this._id)}_removeStyle(){this.styletag&&(this._opts.search.highlightKeyword&&this._highlightInList(void 0,!0),this.styletag.remove(),this.styletag=void 0)}_manageReorderable(){this._reorderble&&!this._opts.disabled?this._initSortable():this._destroySortable()}_initDSInstance(t){return new e.ZDatasourceHandler(null,t)}_setScrollTop(){this._listBody[0].scrollTop=this._lastScrollTop}_destroySortable(){this._grippyIconData=!1,this._listBody.data("zsortable")&&e.sortable(this._listBody).destroy()}_getText(t){let a=e.encodeHTML(this._getMsg(t)),o="query",n=this.params.query;return"minKeywordLength"===t&&(o="minKeywordLength",n=this._opts.search.minKeywordLength),a=a.replace(new RegExp(`#${o}#`,"g"),"<b class=\"zh-bold\">"+(n||"")+"</b>"),a}_destroyDSIns(){this._removeStyle(),this._lazyLoadData&&this._unbindScroll(),this._dsInit=!1,this.DSInstance&&(this.DSInstance.destroy(),this.DSInstance=void 0)}_detachInputEv(){this.inputField&&this._removeEvents("",this.inputField)}_reSearch(){this._skipScrollTopReset=!this._dataReset,this.params.previousQuery=void 0,this._search(this.params.query,{setItemFocus:!1}),this._skipScrollTopReset=!1}_isSelectedItem(e){return!!this._selectedItems.find(t=>t.id===e.id)}_clearSelection(e,t){let a=[...this._selectedItems];t&&(t=this._toArr(t),a=a.filter(e=>!t.find(t=>{let a=t.originalData&&t.zlistitem?t.id:this._getItemId(t);return a===e.id}))),a.forEach(t=>{this._selectItem(t,!1,e)})}_addToSelection(e,t){return this._checkLimit()?(this._isSelectedItem(e)||(this._opts.multiple?this._selectedItems.push(e):(this._clearSelection(t,e),this._selectedItems=[e]),this._updateValues()),!0):void this._trigger("selectionlimitexceeded",t,{valueToBeSelected:e.originalData})}_updateValues(){this._opts.value=this._selectedItems.map(e=>e.originalData)}_removeFromSelection(e){let t=this._selectedItems;for(let a=0;a<t.length;a++)if(t[a].id===e.id){t.splice(a,1),this._updateValues();break}}_checkLimit(){let e=+this._opts.selectionLimit;if(!e||isNaN(e)||e>this._selectedItems.length)return!0}_setValues(e,t){t=t||{};let a=t.clearOtherValues,o=t.event;this._changed=!1,e=this._toArr(e),a&&this._clearSelection(o,e),e.forEach(e=>{e=this._getBasicItemData(e),this._selectItem(e,!0,o)}),this._triggerChange(o)}_removeDocEvent(){this._docMouseUpHandler&&document.removeEventListener("mouseup",this._docMouseUpHandler,!0)}_destroy(){this.container[0].removeEventListener("error",this._imgErrHandlerRef,!0),clearTimeout(this._searchTimer),clearTimeout(this._focusTimer),clearTimeout(this._blurTimer),this._detachInputEv(),this._removeDocEvent(),this._navInstance&&(this._navInstance.destroy(),this._navInstance=void 0),"SELECT"!==this.element[0].tagName||this.element.attr("multiple")||(this.element[0].multiple=!1),this._destroyDSIns(),this.container.empty()}_focusCallback(e,t,a){if(this._focussed){let o="string"==typeof e?e:e[0].id;e=this._getById(o),e&&e.length&&(e.removeClass(this._CLASSES.focussed),this._focusItemUsingNavInstance(e,t,a))}}_focusEle(e,t,a,o){clearTimeout(this._focusTimer),e&&e.length&&(o?this._focusCallback(e,t,a):this._focusTimer=setTimeout(this._focusCallback.bind(this,e,t,a)))}_focusItemUsingNavInstance(e,t,a=!1){this._navInstance.focusItem(e,t,a)}_focusItem(e,a,o,n){e&&(1===e.nodeType?this._focusEle(t(e),a,o,n):this._focusEle(this._getItemId(e),a,o,n))}_onDSUpdate(e){this.params.previousQuery=void 0,this.ajaxSource||(this._opts.items=e.results),this._reSearch()}_refresh(e){this._detachInputEv(),this._destroyDSIns(),this._initVars(),e&&(this._htmlTagData&&(this._opts.items=[]),this._parseHTML()),this._initDS(),this._afterPropInit(),this._reSearch()}_getItem(e,t=!0,a=!0){if(this._isNotNull(e)&&this.staticData){if(e.nodeType)return e.hasClass(this._CLASSES.item)?e.itemData.originalData:e.optData;let o=a&&this._getHeaderFooterItem&&this._getHeaderFooterItem(e);return!o&&t&&(o=this.DSInstance.getData(o)),o}}focusItem(e,t,a){this.setFocus(a),this._focusItem(e,a,t)}unfocusItem(){this._unFocusItem()}setValue(e,t){this._setValues(e,t)}getValue(){let e=this._opts.value;return Array.isArray(e)?[...e]:e}deselect(e,t){this._changed=!1,e=this._toArr(e),e.forEach(e=>{this._selectItem(this._getBasicItemData(e),!1,t)}),this._triggerChange(t)}deselectAll(e){this._changed=!1,this._clearSelection(e),this._triggerChange(e)}refresh(){this._domChanged=!0,this._refresh(!0),this._domChanged=!1}setFocus(e){this._trigger("beforefocus",e)&&(this._focusCallbackCalled=!1,this.container.focus(),!this._focusCallbackCalled&&this._focusInHandler(e))}getItem(e){this._getItem(e)}handleKeyCode(e){return this._keydownHandler(e)}isFocussed(){return this._focussed}fetchData(){return this.DSInstance.fetch(...arguments)}clearCache(){this.params.previousQuery=void 0,this._dataLoaded=!1,this._dsInit&&this.DSInstance.clearCache(),this._reSearch()}getSearchField(){return this.inputField}_bindActionBtns(e,a){let o=this._namespace;e.find("."+this._CLASSES.actionbuttonsWrapper).off(o).on(`click${o} mousedown${o} mouseup${o}`,e=>{this._focussed=!0,"mousedown"===e.type&&this._unFocusItem(),this._actionBtnClicked=!0}).find("."+this._CLASSES.actionbutton).toArray().forEach((n,i)=>{n=t(n);let r=this._actionBtns[i],s=r.customAttributes;s&&n.attr(s),n.off(o).on("click"+o,t=>{let o=r.action;o&&o.call(this.element,a.originalData,e[0],t)})})}_setActionBtns(t){this._opts.disabled&&"contextual"!==this._opts.actionButtons.displayType||(this._actionBtns=t.map(t=>{let a={};return e._getIconInfo(t.iconClassName,t.SVGIconId,"",this._CLASSES.itemicon,a),a.title=t.title,a.action=t.action,a.className=t.className||"",a.disabled=t.disabled||this._opts.disabled,a}))}_removeItems(e,t,a,o){e=this._toArr(e);let n=()=>{let o=this.DSInstance;e?o.removeItems(e):t?o.removeItemsAt(t):a&&o.removeGroups(a)};n()}addItems(e,t){this.DSInstance.addItems(e,t)}addItemsAt(e,t,a){this.DSInstance.addItemsAt(e,t,a)}removeItems(e,t){this._removeItems(e,null,null,t)}removeItemsAt(e,t){this._removeItems(null,e,null,t)}removeGroups(e){this._removeItems(null,null,e)}removeAllItems(){this._unFocusItem(),this.DSInstance.removeAllItems()}_showLoader(){let e={params:this.params,loading:!0};this._loading=!0;let t=this._loaderData.fullloader=this._freshRequest;return t?this._replaceBodyItems([]):this._loaderEle?this._setVisibility():this._renderView([]),this._triggerUpdate({},e)}_setLoaderData(){let t=this._data,a=this._opts,o=a.loaderIconClassName,n=this._loaderData={},i=a.loaderSVGIconId;n.icon=void 0,(o||i)&&(n.icon=e._getIconInfo(o,i,"#zc__svg--loader zeffects--rotate",this._CLASSES.loader+" zh-loading",t.loader={})),n.id=this._getKeyID("loader"),this._data.loader=this._loaderData}_removeLoader(){this._loading=!1}_bindAjaxEvents(e){e.requeststart=this._onReqStart.bind(this),e.requestend=this._onReqEnd.bind(this),e.requesterror=this._onReqErr.bind(this)}_onReqStart(e){this._showLoader(),this._trigger("requeststart",null,e)}_onReqEnd(e){this._removeLoader(),this._trigger("searchsuccess",null,e)}_onReqErr(e){this._removeLoader(),this._showWarning("serverError"),this._trigger("searcherror",null,{response:e})}_bindInputFieldEvents(){let t=this._opts.searchFieldOptions;if(t.handleEvents){this.inputField.off("."+this.name);let t={fieldFocus:"focus",fieldBlur:"blur",fieldKeydown:"keydown",inputMouseup:"mouseup",inputKeyup:"keyup"};e.Browser.isIE&&(t.paste="paste"),this._addEvents(t,this.inputField),this.inputField.on((e.Browser.isIE?"keyup":"input")+"."+this.name,this._inputHandler.bind(this))}}_fieldKeydownHandler(t){let a=t.keyCode,o=e.keyCode;this._opts.searchFieldOptions.preventUPDOWNKeysDefault&&(a===o.UP||a===o.DOWN)&&t.preventDefault(),a===o.ESCAPE&&t.preventDefault(),this._showSearchField||this._keydownHandler(t)}_fieldFocusHandler(e){this._updateFieldClass(),this._showSearchField||this._focusInHandler(e)}_fieldBlurHandler(e){this._updateFieldClass(),this._showSearchField||this._blurHandler(e)}_inputHandler(t){e.Browser.isIE&&t.target!==document.activeElement||t.target.disabled||"input"!==t.type&&!this._isAlphaNumericKey(t)||this._inputChangeHandler(t)}_inputChangeHandler(e){let t=e.target.value;this._trigger("input",e,{pasteAction:"input"===e.type&&e.originalEvent&&"insertFromPaste"===e.originalEvent.inputType})&&this._searchWithDelay(t,{event:e,delay:this._opts.search.delay})}_inputKeyupHandler(t){if(this._opts.searchFieldOptions.filterBasedOnCurPos){let a=e.keyCode,o=t.keyCode;-1<[a.LEFT,a.RIGHT,a.HOME,a.END].indexOf(o)&&this._searchBasedOnCurPos(t)}}_searchBasedOnCurPos(e,t){e.button||this._searchWithDelay(void 0,{event:e,delay:t||this._opts.search.delay,searchOnCurPos:!0})}_inputMouseupHandler(e){this._opts.searchFieldOptions.filterBasedOnCurPos&&this._searchBasedOnCurPos(e)}_pasteHandler(e){clearTimeout(this._searchTimer),e.target.disabled||(this._searchTimer=setTimeout(()=>{this._trigger("input",e,{pasteAction:!0})&&this._searchWithDelay(void 0,{event:e,delay:this._opts.search.delay})}))}_setFieldValue(e,t,a,o){if(t.selectable&&(o||this._opts.searchFieldOptions.updateOnSelect)){let n=this._getItemEventData(e,t);o&&(n.autoCompleted=!0),this._trigger("beforesearchfieldupdate",a,n)&&(this.inputField[0].value=this._getProp(t.normalisedData,"text"),this._trigger("searchfieldupdate",a,n))}}_autofill(t,a,o){o&&"keydown"===o.type&&(o.keyCode===e.keyCode.UP||o.keyCode===e.keyCode.DOWN)&&!this._selectOnFocus&&this._opts.searchFieldOptions.autoComplete&&this._setFieldValue(t,a,o,!0)}_filterByAddRemoval(e){this.params.pageIndex=1,this._scroll={},this._groupsIncluded=[],this.DSInstance._serverPaging&&(this.params.serverPageIndex=0,this.params.moreServerPages=!0),this._unbindScroll&&this._unbindScroll(),this._virtualization?this._showVirtualData(e):this[this._lazyLoadData?"_loadFirstPage":"_loadDataSource"](this._addDataToMenu.bind(this),e)}_addDataToMenu(e,t){let a={results:e,params:this.params};e=a.results,a.addedItems=this[this._freshRequest?"_replaceBodyItems":"_addBodyItems"](e,!0,t),this._afterFilter(t,a,!this._freshRequest)}_filterListViaStyles(e){this._dataLoaded?(this._triggerBeforeUpdate(e),this._applyFilterStyles(),this._updateStates(e),this._afterFilter(e)):this._openList(e,!0)}_openList(e,t){let a=this.params.query;this.params.query="",this._loadDataSource(o=>{let n={results:o,params:this.params};this.params.query=a,t&&this._applyFilterStyles(),n.addedItems=this._replaceBodyItems(o,!0,e),this._afterFilter(e,n),this._dataLoaded=!0},e)}_applyFilterStyles(){let e=this.params.query;if(e&&e.length){let t=this._opts.search||{};t.caseSensitive||(e=e.toLowerCase());let a="startswith"===t.criteria?"^":"*",o=`#${this._id} .${this._CLASSES.body} > *:not(.${this._CLASSES.itemgroup})${this._getSearchBy(this._opts.search.by).map(t=>`:not([data-${t}${a}="${this._escapeQuery(e)}"])`).join("")}:not(#${this._getKeyID("noresults")}) {display:none !important;}`;this._injectStyle(o)}else this._removeStyle()}_getAttrForCSSFilter(e,t){let a=this._getSearchBy(this._opts.search.by);a.forEach(a=>{let o=e[a];this._isNotNull(o)&&(t["data-"+a]=this._opts.search.caseSensitive?o:o.toLowerCase())})}_injectStyle(e){this.styletag||(this.styletag=t("<style id="+this._getKeyID("style")+">").appendTo(t("head"))),this.styletag.text(e)}_hideItemsUsingCSS(){this._injectStyle(`#${this._id} .${this._CLASSES.body} > * {display:none; !important}`)}_getItemJSONForGroupedData(e){let t=[];return e.forEach(e=>{let a=this._getProp(e,"groupLabel"),o=a=this._isNotNull(a)?a:"",n=this._groupsIncluded,i=n[n.length-1],r;i&&i.groupLabel===a?o=i:(this._groupHeads.length&&(o=this._groupHeads.find(e=>a===e.label)||""),o=this.getItemData(o,null,!0),a&&t.push(o),this._groupsIncluded.push(o)),r=o.id;let s=this.getItemData(e,r);t.push(s)}),t}_setHeaderFooterItems(){let e=(this._opts.headerItems||[]).concat(this._htmlHeaderItems),t=(this._opts.footerItems||[]).concat(this._htmlFooterItems);if(e&&e.length||t&&t.length){let a=[],o=[];e&&(a=e.map(e=>this.getItemData(e,null,null,"header"))),t&&(o=t.map(e=>this.getItemData(e,null,null,"footer"))),this._data.headerItems=a.length&&a,this._data.footerItems=o.length&&o}else this._data.headerItems=this._data.footerItems=void 0}_getHeaderFooterItem(e){let t=(this._opts.headerItems||[]).concat(this._htmlHeaderItems),a=(this._opts.footerItems||[]).concat(this._htmlFooterItems),o=t.concat(a),n=this._getUniqueValue(e);for(let t=0,a;t<o.length;t++)if(a=o[t],n===this._getUniqueValue(a))return a}_getHighlightData(e){let t=this._opts.search;if(!this._highlightData){let e=this._getSearchBy(t.by),a,o,n;if(this.DSInstance._isJSONSource){let t=this._dataMapping,i=t.text,r=t.groupLabel,s=t.informativeText;a=-1<e.indexOf(i),o=-1<e.indexOf(r),n=-1<e.indexOf(s)}this._highlightData={includeText:a,includeTitle:o,includeDesc:n}}return this._highlightData.pattern=this._getMatchingRegex(e,t),this._highlightData}_highlightValidKey(t,a){let o=this._opts.search,n=this.params.query,i=this._getMatchingRegex(e.encodeHTML(n),o),r=o.fieldsToHighlight;return r=r&&r.length?Array.isArray(r)?r:r.split(","):this._getSearchBy(o.by),-1===r.indexOf(a)?t:this._highlightContent(t,i)}_highlightContent(e,t){return e.replace(t,"<b class='zh-bold'>$1</b>")}_parseHTMLInput(){let e=this._opts,t=e.dataSource,a=e.items;if(!this._isAjaxSource(t)&&(!a||!a.length)){let t=this._getDataSource();a=[],t.forEach(e=>{e.isHeader?this._htmlHeaderItems.push(e):e.isFooter?this._htmlFooterItems.push(e):a.push(e)}),this._isGrouped&&(a=this._flattenData(a)),e.items=a,a.length&&(this._htmlTagData=!0)}}_getDataSource(){let a=this._getValidSubOptions(this.element,!0);if(this.isCE){let o=this._SELECTORS,n=[],i=new RegExp(`(${o.OPTIONSHEADER}|${o.OPTIONSFOOTER}|${o.OPTIONSBODY})`,"i");if(a.forEach(a=>{let r=a.tagName.toLowerCase();if(i.test(r)){let i,s;r===o.OPTIONSHEADER?i=!0:r===o.OPTIONSFOOTER&&(s=!0);let l=this._getValidSubOptions(t(a),!0);l.forEach(t=>{let a=e._getOpts(t);a.isHeader=i,a.isFooter=s}),n.push(...this._getValidSubOptions(t(a),!0))}else n.push(a)}),!n.length||!n[0]._initialized)return[];a=n}return this._genDataForTag(a)}_getValidSubOptions(e,t){let a=this._SELECTORS,o=[a.OPTION];return t&&o.push(a.OPTGROUP),this.isCE&&(o.push(...[a.OPTIONSEPARATOR]),e.is(this.element)&&o.push(...[a.OPTIONSHEADER,a.OPTIONSFOOTER,a.OPTIONSBODY])),e.children(o.join(",")).toArray()}_genDataForTag(a,o){return a.map(a=>{let n=e._getOpts(a);n.id=a.id;let i=a.tagName.toLowerCase();if(this.isCE&&i===this._SELECTORS.OPTIONSEPARATOR&&(n.separator=!0),!n.separator){let e=this._isNotNull(a.label)?a.label:"";if(n.value=this._isNotNull(a.value)?a.value:e,i===this._SELECTORS.OPTGROUP){let o=this._getValidSubOptions(t(a));(!this.isCE||o[0]._initialized)&&(n.options=this._genDataForTag(o,n)),n.isOptGroup=this._isGrouped=!0,n.groupLabel=e}else n.innerHTML=a.innerHTML||a.zinnerHTML,e=e||a.textContent.trim(),n.selected=a.selected||n.selected;n.text=e,n.title=n.title||("image"===this._opts.contentType?n.label:void 0)}return n.disabled=n.disabled||a.disabled,o&&(n.groupName=o.value,n.isHeader=o.isHeader,n.isFooter=o.isFooter,n.disabled=n.disabled||o.disabled),n.hidden=n.hidden||("boolean"==typeof a.hidden?a.hidden:a.hasAttribute("hidden"))||void 0,n.className=a.className||n.className,n.style=n.style||a.getAttribute("style"),a.optData=n,n})}_setImageData(t){t.hasImage=!0;let a=t.view;["SVGIconId","iconClassName","image","textIcon"].forEach(e=>{this._setKeyValue(t,e,!1)});let o=t.textIcon;if(this._hasIcon){let n=t.SVGIconId,i=t.iconClassName;if(i||n||!o)return a.icon={},void e._getIconInfo(i,n,"",this._CLASSES.itemicon,a.icon)}else if(this._hasImage&&t.image)return a.hasImageURL=!0,void(a.image=t.image);a.textIcon=o}_bindScroll(){this._addEvents({wheel:this._wheelEvents},this._listBody),this._considerScrollForLazyLoad=!0}_unbindScroll(){this._removeEvents(this._wheelEvents,this._listBody),this._considerScrollForLazyLoad=!1}_wheelHandler(){this._scrolledOnKeyDown=!1}_scrollHandlerToLoadPage(e){let t=this._listBody[0].scrollTop;if(this._lastScrollTop=t,!this._loading){this._freshRequest=!1;let a=this._lastScrollTop>t,o=this._listBody[0].offsetHeight,n=!a&&t+o+5>this._listBody[0].scrollHeight;this._scroll={isBackwards:a,exceeded:n,menuHt:o},this._virtualization?this._showVirtualData(e):n&&this._getNextPage(t=>this._addDataToMenu(t,e))}}_noMorePageHandler(e){this._virtualization?this._updateVirtualData(e):this._unbindScroll()}_getNextPage(e,t){let a=this.params;if(!this._firstRequest)if(a.pageIndex<a.totalPages)a.pageIndex++;else if(a.moreServerPages)a.pageIndex=1,a.serverPageIndex++;else{if(this._results){let t=this._results;this._results=void 0,e(t)}return void this._noMorePageHandler(t)}this._firstRequest=!1,this._loadDataSource(o=>{a=this.params,this._results=(this._results||[]).concat(o);let n=this._results.length;if(this._dsInit&&n<this._viewPerPage&&(a.moreServerPages||a.pageIndex<a.totalPages))this._getNextPage(e,this._results);else{let a=this._results;this._results=void 0,e(a,t)}},t)}_loadFirstPage(e,t){this._firstRequest=!0,this._getNextPage(e,t)}_setMoreResults(){let e=this._CLASSES;this._data.moreAction={id:this._getKeyID("moreresults"),custom:!0,className:e.moreresults,disabled:this._opts.disabled,moreresults:!0,clickable:!0,view:{innerHTML:"<span class="+e.text+">"+this._getText("moreAction")+"</span>"}}}_isValidMultiSelectClick(e,a=!0,o){let n=e.target,i=this._isCheckboxClick(e),r=this._opts.selectorToIgnoreSelection;if(!i&&r&&t(n).is(r))return!1;if(!this._selectOnFocus)return!!(this._toggleOnItemClick||i);if(!a){if(this._toggleOnItemClick||i)return!0;if(o[0]===n||o.find(n).length)return!1}return!0}selectAll(e){this._opts.multiple&&this.staticData&&this.fetchData(t=>{this._setValues(t.results,{event:e})})}setValues(){this._opts.multiple&&this.setValue(...arguments)}getValues(){return this.getValue()}_flattenData(e){let t=this._dataMapping;return this._isGrouped=!0,this._groupHeads=this._groupHeads||[],t.groupLabel=t.groupLabel||"groupLabel",e=this._restructData(e,null,this._opts.dataMapping.groupLabel||t.text),e}_restructData(e,t,a){let o=[],n=this._dataMapping,i=n.options;return e.forEach(e=>{let n=e[i];n?(this._groupHeads.push(e),this._setProp(e,"groupLabel",this._mapJSONToData(e,a)),o=o.concat(this._restructData(n,e))):(t&&(this._setProp(e,"groupLabel",this._getProp(t,"groupLabel")),e.hidden=e.hidden||t.hidden,e.disabled=e.disabled||t.disabled),o.push(e))}),o}_setNoResultsData(){this._data.noResults={id:this._getKeyID("noresults"),noresults:!0}}_initSortable(){let t=this._listBody,a=t.data("zsortable");a?e.sortable(t).refresh():e.sortable(t,{region:"parent",items:`.${this._CLASSES.item}[data-selectable=true]:not(.${this._CLASSES.disabled})`,end:this._onDragEnd.bind(this),drag:this._onDragStart.bind(this)})}_onDocMouseUp(e){this._removeDocEvent(),e.preventDefault()}_onDragStart(e){if(this._dragging)this._trigger("drag",e,{item:this._draggedEle});else{document.addEventListener("mouseup",this._docMouseUpHandler,!0),e=e.originalEvent;let a=this._getClosestItem(t(e.target));if(this._draggedEle=this._prevEleBeforeDrag=void 0,a){this._dragging=!0,this._draggedEle=a;let t=a[0].id;this.focusItem(a[0],e,!1),this._DOMChanges[t]||(this._DOMChanges[t]=a[0].previousSibling),this._trigger("dragstart",e,{item:a})}}}_replaceMovedItems(){let e=this._DOMChanges,t=this._lastScrollTop;for(let t in e)this._getById(t).insertAfter(e[t]);this._listBody[0].scrollTop=t}_onDragEnd(e){e=e.originalEvent;let t=this._draggedEle;if(t){let a=this._datasource,o=t.prev(),n=0,r=this._data.items;for(let e=0;e<r.length;e++)r[e].index=n,r[e].heading||n++;let i=this._getStoredData(t).index,s=-1,l;if(o.length){let e=this._getStoredData(o);l=e.heading,s=e.index}let d=s+(l?0:1);if(i!==d){let o=a[i];if(this._isGrouped){let e=a[s],t="groupLabel",n=this._getProp(e,t);this._setProp(o,t,n)}if(i<d&&--d,a.splice(i,1),a.splice(d,0,o),this._opts.cacheData){let e=this.DSInstance._opts;e.data=this._datasource,e.dataSource=null,this.DSInstance=this._initDSInstance(e)}else this.DSInstance.setCachedData(a);this._rebuildItems(!0),this._data.items.forEach(e=>this._updateData(e)),this._trigger("dragend",e,{item:t,itemData:o,initialIndex:i,currentIndex:d})}}this._dragging=!1}search(e,t={}){t.fromSearchMethod=!0,t.delay?this._searchWithDelay(e,t):this._search(e,t)}searchWithDelay(e,t={}){t.fromSearchMethod=!0,this._searchWithDelay(...arguments)}_searchWithDelay(e,t={}){clearTimeout(this._searchTimer);let a=[e,t];t.delay?this._searchTimer=setTimeout(()=>{this._search(...a)},t.delay):this._search(...a)}_search(e,a={}){let o;if(this.inputField){if(a.fromSearchMethod&&!1!==a.updateField){let t=this.inputField.val();t!==e&&this.inputField.val(e)}o=this.inputField[0],this._showSearchField&&this._updateClearBtn()}if(!this._isNotNull(e)&&o&&(e=o.value),e&&a.searchOnCurPos&&o){let t=o.selectionStart,a=o.selectionEnd;t!==a&&(t=e.length-1),e=e.substring(0,t)}a=t.extend({},this._opts.search,a),e=e||"",a.trimWhitespace&&(e=e.trim()),this.params.query=this._opts.query=e,this._trigger("beforesearch",a.event,{params:this.params,searchOptions:a})&&this._filterData(a.event,a)}_filterData(e,t){let a=this._opts,o=this.params;this._opts.query=o.query;let n=this._checkQueryLength(o.query,t);return this._fromSearch=!this._isNotNull(t.setItemFocus)||t.setItemFocus,!t.force&&a.cacheData&&o.query===o.previousQuery?void this._updateStates(e):void(this.params.previousQuery=this.params.query,this._hideNoResults(!1),this._freshRequest=!0,!this._skipScrollTopReset&&(this._lastScrollTop=0),this._skipScrollTopReset=!1,this._dsInit&&n?this._filterFn(e):n?this._showNoResults(e):(o.previousQuery=void 0,this._showWarning("minKeywordLength",e)),this._fromSearch=!1)}_checkQueryLength(e,t){let a=t.minKeywordLength;return!a||!this._searchable||e.length>=a}_setSearchFieldData(){let t=this._opts.searchFieldOptions,a=this._CLASSES,o=this._data.searchBox={disabled:this._opts.disabled,id:this._getKeyID("searchbox")};e._getIconInfo(t.iconClassName,t.SVGIconId,"#zc__svg--search",a.searchicon,o.icon={}),t.clearButton&&(o.clearButtonId=this._getKeyID("clearbutton"),e._getIconInfo(t.clearButtonIconClassName||t.clearButtonIconClass,t.clearButtonSVGIconId,"#zc__svg--clear",a.clearbuttonicon,o.clearButton={}),o.clearButtonTitle=this._getMsg("clear"),o.clearFn={handler:()=>{let e=this.inputField.val();e&&this.inputField.val("").trigger("input"),this._focusInputField()},namespace:this.name})}_updateClearBtn(){let e=this._data.searchBox.clearButtonId;if(e){let t=this._getById(e);t[0].style.display=this.inputField.val()?"":"none"}}_setInnerAttr(e,t){let a=this._propResetter;"contentType"===e||"multiSelectInterfacePattern"===e||"hideCheckbox"===e||"checkboxPosition"===e||"checkedIcon"===e||"checkedIconClassName"===e||"checkedSVGIconId"===e||"checkedIconPosition"===e||"toggleOnItemClick"===e||"searchFieldOptions"===e||"actionButtons"===e||"template"===e||"focusItemOnItemMouseover"===e||"selectOnKeyNavigation"===e||"disabled"===e||"reorderable"===e?a.vars=!0:"searchField"===e||"showSearchField"===e?a.vars=a.search=!0:"dataMapping"===e?(a.vars=!0,this._dataMapping.groupLabel!==t.groupLabel&&(a.ds=!0)):"multiple"===e?a.vars=a.values=!0:"isGrouped"===e||"lazyLoading"===e||"virtualization"===e||"maxPage"===e||"viewPerPage"===e||"filterByCSSSelector"===e||"serverSearch"===e||"customSearch"===e||"sort"===e||"sortBy"===e||"sortOrder"===e||"customSorter"===e||"cacheData"===e||"filters"===e?a.ds=!0:"items"===e||"dataSource"===e||"dataStructure"===e?(this._internal||(this._htmlTagData=this._flatted=void 0),this._destroyDSIns(),a.ds=!0):"search"===e?a.vars=a.ds=!0:"allowDragToSelect"===e||"keyNavigation"===e||"moreResultsAction"===e||"allowShiftSelection"===e||"height"===e||"width"===e||"headerItems"===e||"footerItems"===e?this._domChanged=!0:"characterKeyFocus"===e?a.rebuildItems=!0:"loaderIconClassName"===e||"loaderSVGIconId"===e?(this._domChanged=!0,this._data.loader&&this._setLoaderData()):"value"===e||"selectionLimit"===e?this._domChanged=a.values=!0:"messages"===e?a.search=!0:"query"===e?(this.params.query=t,a.search=!0):void 0}_setAttribute(e,t){let a=this._propResetter;a||(a=this._propResetter={}),this._opts[e]=t,this._setInnerAttr(e,t),(a.vars||a.ds||a.values||a.rebuildItems||a.search||a.rebuildHeaderFooterItems)&&(this._reInit=!0)}_buildData(){this._dataReset=!this.DSInstance;let e=this._propResetter||{};if(clearTimeout(this._searchTimer),(e.ds||e.search)&&(this.params.previousQuery=void 0),e.vars&&e.ds?this._refresh():e.vars?(this._detachInputEv(),this._initVars(),this._afterPropInit(),e.search?this._reSearch():this._rebuildItems()):e.ds?(this._initDS(),this._afterPropInit(),this._reSearch()):e.search?this._reSearch():e.rebuildItems&&this._rebuildItems(),this._propResetter={},this._dataReset=!1,e.values){let e=this._opts.value;e&&(e=this._toArr(e),1<e.length&&(this._opts.multiple?this._opts.selectionLimit&&e.splice(this._opts.selectionLimit):e.splice(1))),this._setValues(e,{clearOtherValues:!0})}}_rebuildItems(e){this._rebuilt=!0,this._groupsIncluded=[],this._setHeaderFooterItems(),this._data.items=this._getItemJSON(this._datasource),e||this._renderView(),this._rebuilt=!1}_setItemAttribute(e,t,a,o){let n=e;if(e.nodeType&&(n=e.optData,e.tagName===this._SELECTORS.OPTGROUP&&(o=!0)),n){if("selected"===t)return void this[a?"setValue":"deselect"](n);let e=this._getItem(n,!1);if(e)return e[t]=a,void this._rebuildItems();this.DSInstance.setItemAttribute(n,t,a,o)}}setItemAttributes(e,a,o,n){let i;this.staticData&&this._toArr(e).forEach(e=>{if(this._skipRender=!0,e)if("object"==typeof a&&!t.isEmptyObject(a))for(let t in a)this._setItemAttribute(e,t,a[t],n);else this._setItemAttribute(e,a,o,n);i||this._skipRender||(i=!0)}),i&&this._renderView(),this._skipRender=!1}_calcItemHts(){this._ht[0]||(this._ht[0]=this._getItemHt(this._listBody[0].querySelector("[data-selectable=true]"))),this._isGrouped&&!this._ht[1]&&(this._ht[1]=this._getItemHt(this._listBody[0].querySelector("[role=group]")))}_getItemHt(e){return e?t(e).outerHeight(!0):0}_cacheData(e){this._cachedData.push({raw:e,processed:this._getItemJSON(e)})}_getPagedItems(e){return this._cachedData[e-1]}_calcHt(e){this._calcItemHts();let t=0,a=this._getPagedItems(e);return a&&a.processed.forEach(e=>{t+=this._ht["itemgroup"===e.itemType?1:0]}),t}_showVirtualData(e){let t={},a=this._updateVirtualData.bind(this,e,t),o=o=>{t.results=o,o=t.results,o.length?(this._cacheData(o),a()):this._freshRequest&&this._afterFilter(e,t)};this._freshRequest?(this._cachedData=[],this._startPage=this._endPage=null,this._ht=[0,0],this._loadFirstPage(o,e)):this._scroll.exceeded?this._getNextPage(o):a()}_updateVirtualData(e,t){let a=0,o=0,n=this._opts.maxPage,r=1,s=this._cachedData.length,l=s;if(s>n){let e=0,t=this._lastScrollTop+40*(this._scroll.isBackwards?-1:1);for(;r<s;){if(e+=this._calcHt(r),t<e){l=r;for(let a=e,o;l<s&&(o=t+this._scroll.menuHt,!(o<a));)a+=this._calcHt(l),l++;break}a=e,r++}}if(r<this._startPage||l>this._endPage){for(let e=l+1;e<=s;e++)o+=this._calcHt(e);this._startPage=r,this._endPage=l;let n=[];this._datasource=[],this._data.virtualHeightAbove=a;for(let e=r,t;e<=l;e++)t=this._getPagedItems(e),n.push(...t.processed),this._datasource.push(...t.raw);this._data.virtualHeightBelow=o,t=t||{},t.addedItems=this._replaceBodyItems(n,!1,e),this._afterFilter(e,t)}}}e.registerComponent("ZListBox",ZListBox)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zlistbox.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>{let a=e.classes,o=ZT.html` ${e.searchBox&&t.WCSearchField(e.searchBox,a)} ${e.headerItems&&t.WCHeaderLayout(e,a)} ${e.items&&t.WCConstructBody(e,a)} ${e.noResults&&t.WCNoresultsLayout(e.noResults,a)} ${(e.footerItems||e.moreAction)&&t.WCFooterLayout(e,a)} `;return o},t.WCConstructBody=(e,a)=>{let o=ZT.html`<ul style='display:none;' tabindex=-1 class='${a.body} zh-scroll_y'> ${e.virtualHeightAbove&&t.WCVirtualHolder(e.virtualHeightAbove,a)} ${e.items.map(e=>t.WCItem(e,a))} ${e.virtualHeightBelow&&t.WCVirtualHolder(e.virtualHeightBelow,a)} ${e.loader&&t.WCLoader(e.loader,a)} </ul>`;return o},t.WCItem=(e,a)=>{let o=e.separator?t.WCSeparator(e,a):e.heading?t.WCHeading(e,a):t.WCDefaultItem(e,a);return o},t.WCDefaultItem=(e,a)=>{let o=ZT.html`<li ?id=${e.id} class="${a.item} ${e.className} ${e.disabled?"is-disabled":""} ${e.clickable?"":"zlistbox__item--nonselectable"}" role="option" ?aria-disabled="${e.disabled?"true":""}" ?disabled="${e.disabled?"true":""}" aria-label="${e.view.ariaLabel}" aria-value="${e.view.ariaValue}" ?name=${e.name} ?data-selectable=${e.selectable?"true":""} ?data-clickable=${e.clickable?"true":""} ?data-ignore-focus=${e.clickable?"":"true"} .itemData="${e}"> ${e.grippyIcon&&t.WCGrippyIcon(e,a)} ${e.checkbox&&t.WCCheckbox(e,a)} ${e.checkedIcon&&t.WCCheckedIcon(e,a)} ${t.WCContent(e,a)} ${e.actionButtons&&t.WCActionButtons(e.actionButtons,a)} </li>`;return o},t.WCGrippyIcon=(e,t)=>{let o=ZT.html`<div class="${t.icondiv} ${t.grippyicon}"> ${a.WCIcon(e.grippyIcon)} </div>`;return o},t.WCSeparator=(e,t)=>{let a=ZT.html`<li ?id=${e.id} class="${t.separator} ${e.className}" role="separator" data-ignore-focus=true .itemData="${e}"></li>`;return a},t.WCContent=(e,a)=>{let o=e.custom?ZT.html`${ZT.customHTML(e.view.innerHTML||"")}`:ZT.html`${e.hasImage&&t.WCImageLayout(e.view,a)} <div class="${a.content}"> ${e.view.text&&ZT.html`<span class='${a.text}'>${ZT.customHTML(e.view.text)}</span>`} ${e.view.description&&ZT.html`<span class='${a.hint}'>${ZT.customHTML(e.view.description)}</span>`} </div>`;return o},t.WCActionButtons=(e,t)=>{let o=ZT.html`<div class="${t.actionbuttonsWrapper}"> ${e.map(e=>ZT.html`<button tabindex=-1 ?title=${e.title} ?disabled=${e.disabled?"true":""} class="${t.actionbutton} ${e.className} ${e.disabled?"is-disabled":""}">${a.WCIcon(e)}</button>`)} </div>`;return o},t.WCCheckbox=(e,t)=>{let a=ZT.html`<div class='${t.checkboxWrapper} zcheckbox'><input id=${e.checkboxId} ?disabled="${e.disabled}" type="checkbox" class='zcheckbox__helper ${t.checkbox}' tabindex=-1 /><label for=${e.checkboxId} class="zcheckbox__label ${t.checkboxlabel} ${e.disabled?"is-disabled ":""}"></label></div>`;return a},t.WCCheckedIcon=(e,t)=>{let o=ZT.html`<div class='${t.checkediconWrapper}'>${a.WCIcon(e.checkedIcon)}</div>`;return o},t.WCHeading=(e,t)=>{let a=ZT.html`<li ?id=${e.id} class="${t.itemgroup} ${e.className} ${e.disabled?"is-disabled":""}" data-ignore-focus=true role="group" .itemData="${e}"> ${e.view.text?ZT.html`<span class="${t.itemgrouplabel}" >${ZT.customHTML(e.view.text)}</span>`:ZT.customHTML(e.view.innerHTML||"")} </li>`;return a},t.WCHeaderLayout=(e,a)=>{let o=ZT.html`<ul class='${a.header}'> ${e.headerItems.map(e=>t.WCItem(e,a))} </ul>`;return o},t.WCFooterLayout=(e,a)=>{let o=ZT.html`<ul class='${a.footer}'> ${e.footerItems&&e.footerItems.map(e=>t.WCItem(e,a))} ${e.moreAction&&t.WCItem(e.moreAction,a)} </ul>`;return o},t.WCImageLayout=(e,t)=>{let o=ZT.html`<div class='${t.icondiv} ${e.textIcon?t.textIconWrapper:""}'> ${e.hasImageURL?ZT.html`<img src="${e.image||"invalid.jpg"}" />`:e.icon?a.WCIcon(e.icon):ZT.html`<span class="${t.icon}">${e.textIcon}</span>`} </div>`;return o},t.WCLoader=(e,a)=>{let o=ZT.html`<li id=${e.id} class="${a.loader}"> ${t.WCLoaderIcon(e,a)} </li>`;return o},t.WCLoaderIcon=(e,t)=>{let o=ZT.html`${e.icon?a.WCIcon(e.icon):ZT.html`<i class="${t.loadericon} zh-loading"> <svg class="zeffects--rotate" viewBox="0 0 20 20"> <circle class="circle__track" cx="10" cy="10" r="9" /> <circle class="circle__load" cx="10" cy="10" r="9" /> </svg> </i>`}`;return o},t.WCNoresultsLayout=(e,t)=>{let a=ZT.html`<div style='display:none;' id=${e.id} class="${t.noresults}"> <span class="${t.noresultstext}">${ZT.customHTML(e.innerHTML)}</span> </div>`;return a},t.WCSearchField=(e,t)=>{let o=ZT.html`<div class='${t.search} ${e.disabled?t.disabled:""}'> <div class="${t.searchcontainer}"> ${a.WCIcon(e.icon)} </div> <input id="${e.id}" ?disabled=${e.disabled?"true":""} autocomplete="off" type="text" class="${t.searchfield}" autocomplete="off"> ${e.clearButton&&ZT.html`<button class="${t.clearbutton}" ?title="${e.clearButtonTitle}" tabindex=-1 id="${e.clearButtonId}" on-click=${e.clearFn}> ${a.WCIcon(e.clearButton)} </button>`} </div> `;return o},t.WCVirtualHolder=(e,t)=>{let a=ZT.html`<li class="${t.item}" data-ignore-focus=true data-zplaceholder="true" style='height:${e}px;'></li>`;return a}}(ZComponents),function(e){let t=e.zlistbox.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=e=>{let a=e.classes,o=ZT.html` ${e.searchBox&&t.searchField(e.searchBox,a)} ${e.headerItems&&t.headerLayout(e,a)} ${e.items&&t.constructBody(e,a)} ${e.noResults&&t.noresultsLayout(e.noResults,a)} ${(e.footerItems||e.moreAction)&&t.footerLayout(e,a)} `;return o},t.constructBody=(e,a)=>{let o=ZT.html`<ul style='display:none;' tabindex=-1 class='${a.body} zh-scroll_y'> ${e.virtualHeightAbove&&t.virtualHolder(e.virtualHeightAbove,a)} ${e.items.map(e=>t.item(e,a))} ${e.virtualHeightBelow&&t.virtualHolder(e.virtualHeightBelow,a)} ${e.loader&&t.loader(e.loader,a)} </ul>`;return o},t.item=(e,a)=>{let o=e.separator?t.separator(e,a):e.heading?t.heading(e,a):t.defaultItem(e,a);return o},t.defaultItem=(e,a)=>{let o=ZT.html`<li ?id=${e.id} class="${a.item} ${e.className} ${e.disabled?"is-disabled":""} ${e.clickable?"":"zlistbox__item--nonselectable"}" role="option" ?aria-disabled="${e.disabled?"true":""}" ?disabled="${e.disabled?"true":""}" aria-label="${e.view.ariaLabel}" aria-value="${e.view.ariaValue}" ?name=${e.name} ?data-selectable=${e.selectable?"true":""} ?data-clickable=${e.clickable?"true":""} ?data-ignore-focus=${e.clickable?"":"true"} .itemData="${e}"> ${e.grippyIcon&&t.grippyIcon(e,a)} ${e.checkbox&&t.checkbox(e,a)} ${e.checkedIcon&&t.checkedIcon(e,a)} ${t.content(e,a)} ${e.actionButtons&&t.actionButtons(e.actionButtons,a)} </li>`;return o},t.grippyIcon=(e,t)=>{let o=ZT.html`<div class="${t.icondiv} ${t.grippyicon}"> ${a.icon(e.grippyIcon)} </div>`;return o},t.separator=(e,t)=>{let a=ZT.html`<li ?id=${e.id} class="${t.separator} ${e.className}" role="separator" data-ignore-focus=true .itemData="${e}"></li>`;return a},t.content=(e,a)=>{let o=e.custom?ZT.html`${ZT.customHTML(e.view.innerHTML||"")}`:ZT.html`${e.hasImage&&t.imageLayout(e.view,a)} <div class="${a.content}"> ${e.view.text&&ZT.html`<span class='${a.text}'>${ZT.customHTML(e.view.text)}</span>`} ${e.view.description&&ZT.html`<span class='${a.hint}'>${ZT.customHTML(e.view.description)}</span>`} </div>`;return o},t.actionButtons=(e,t)=>{let o=ZT.html`<div class="${t.actionbuttonsWrapper}"> ${e.map(e=>ZT.html`<button tabindex=-1 ?title=${e.title} ?disabled=${e.disabled?"true":""} class="${t.actionbutton} ${e.className} ${e.disabled?"is-disabled":""}">${a.icon(e)}</button>`)} </div>`;return o},t.checkbox=(e,t)=>{let a=ZT.html`<div class='${t.checkboxWrapper} zcheckbox'><input id=${e.checkboxId} ?disabled="${e.disabled}" type="checkbox" class='zcheckbox__helper ${t.checkbox}' tabindex=-1 /><label for=${e.checkboxId} class="zcheckbox__label ${t.checkboxlabel} ${e.disabled?"is-disabled ":""}"></label></div>`;return a},t.checkedIcon=(e,t)=>{let o=ZT.html`<div class='${t.checkediconWrapper}'>${a.icon(e.checkedIcon)}</div>`;return o},t.heading=(e,t)=>{let a=ZT.html`<li ?id=${e.id} class="${t.itemgroup} ${e.className} ${e.disabled?"is-disabled":""}" data-ignore-focus=true role="group" .itemData="${e}"> ${e.view.text?ZT.html`<span class="${t.itemgrouplabel}" >${ZT.customHTML(e.view.text)}</span>`:ZT.customHTML(e.view.innerHTML||"")} </li>`;return a},t.headerLayout=(e,a)=>{let o=ZT.html`<ul class='${a.header}'> ${e.headerItems.map(e=>t.item(e,a))} </ul>`;return o},t.footerLayout=(e,a)=>{let o=ZT.html`<ul class='${a.footer}'> ${e.footerItems&&e.footerItems.map(e=>t.item(e,a))} ${e.moreAction&&t.item(e.moreAction,a)} </ul>`;return o},t.imageLayout=(e,t)=>{let o=ZT.html`<div class='${t.icondiv} ${e.textIcon?t.textIconWrapper:""}'> ${e.hasImageURL?ZT.html`<img src="${e.image||"invalid.jpg"}" />`:e.icon?a.icon(e.icon):ZT.html`<span class="${t.icon}">${e.textIcon}</span>`} </div>`;return o},t.loader=(e,a)=>{let o=ZT.html`<li id=${e.id} class="${a.loader}"> ${t.loaderIcon(e,a)} </li>`;return o},t.loaderIcon=(e,t)=>{let o=ZT.html`${e.icon?a.icon(e.icon):ZT.html`<i class="${t.loadericon} zh-loading"> <svg class="zeffects--rotate" viewBox="0 0 20 20"> <circle class="circle__track" cx="10" cy="10" r="9" /> <circle class="circle__load" cx="10" cy="10" r="9" /> </svg> </i>`}`;return o},t.noresultsLayout=(e,t)=>{let a=ZT.html`<div style='display:none;' id=${e.id} class="${t.noresults}"> <span class="${t.noresultstext}">${ZT.customHTML(e.innerHTML)}</span> </div>`;return a},t.searchField=(e,t)=>{let o=ZT.html`<div class='${t.search} ${e.disabled?t.disabled:""}'> <div class="${t.searchcontainer}"> ${a.icon(e.icon)} </div> <input id="${e.id}" ?disabled=${e.disabled?"true":""} autocomplete="off" type="text" class="${t.searchfield}" autocomplete="off"> ${e.clearButton&&ZT.html`<button class="${t.clearbutton}" ?title="${e.clearButtonTitle}" tabindex=-1 id="${e.clearButtonId}" on-click=${e.clearFn}> ${a.icon(e.clearButton)} </button>`} </div> `;return o},t.virtualHolder=(e,t)=>{let a=ZT.html`<li class="${t.item}" data-ignore-focus=true data-zplaceholder="true" style='height:${e}px;'></li>`;return a}}(ZComponents),function(e,t){class ZDropdownList extends e.ZListBox{get name(){return"zdropdownlist"}get attrs(){return{position:"auto",selectOnTabPress:!1,forElement:null,viewport:null,displayType:"box",focusFirstItemOnOpen:!1,focusSelectedItemOnOpen:!0,title:"",closeButton:!1,closeIconClassName:"",closeSVGIconId:"",positionAlterable:!1,doneButton:!1,clearButton:!1,resetButton:!1,doneButtonLabel:null,clearButtonLabel:null,resetButtonLabel:null,handleFocusNavigation:null,selectOnKeyNavigation:null,focusItemOnItemMouseover:null,minWidth:null,focusSelectedItem:!1}}get propType(){return{selectOnKeyNavigation:"boolean",focusItemOnItemMouseover:"boolean"}}get props(){return{appendTo:null,offset:null,animation:{},margin:{},commandBar:null,messages:{doneButtonLabel:"Done",resetButtonLabel:"Reset",clearButtonLabel:"Clear",closeButtonLabel:"Close"},search:{showNoResultsMessage:!0,criteria:"startswith"},searchFieldOptions:{updateOnSelect:!1,autoComplete:!1,listAllItemsOnDOWNPress:!1,suggestOnFieldFocus:!1,filterBasedOnCurPos:!1}}}get EVENTS(){return["beforeopen","open","beforefocus","beforeclose","close","update","beforeupdate","done","reset","clear"]}get CLASSES(){return{container:"zdropdownlist",icon:"zdropdownlist--withicon",listwithloader:"zdropdownlist--loading",withicon:"zdropdownlist--withicon",withhint:"zdropdownlist--withdesc",withcheckbox:"zdropdownlist--withcheckbox",withcheckedicon:"zdropdownlist--withcheckedindication",withoutcheckeditem:"zdropdownlist--withoutcheckeditem",listwithcustom:"zdropdownlist--withcustomitem",withsearchfield:"zdropdownlist--withsearchfield",icononly:"zdropdownlist--icononly",icontext:"zdropdownlist--iconwithtext",listwithcheckboxRight:"zdropdownlist--checkboxright",listwithcheckediconRight:"zdropdownlist--checkedindicationright",listwithactionbtnsvisible:" zdropdownlist--actionbuttonvisible",listwithimage:"zdropdownlist--withimage",reorderable:"zdropdownlist--reorderable",text:"zdropdownlist__text",title:"zdropdownlist__title",hint:"zdropdownlist__description",body:"zdropdownlist__body",header:"zdropdownlist__header",footer:"zdropdownlist__footer",item:"zdropdownlist__item",itemgroup:"zdropdownlist__itemgroup",itemgrouplabel:"zdropdownlist__grouplabel",loader:"zdropdownlist__loader",fullloader:"zdropdownlist__fullloader",loadericon:"zdropdownlist__loadericon",actionbuttonsWrapper:"zdropdownlist__actions",actionbutton:"zdropdownlist__action",separator:"zdropdownlist__separator",checkediconWrapper:"zdropdownlist__checkedindication",checkedicon:"zdropdownlist__checkedicon",checkboxWrapper:"zdropdownlist__checkbox",checkbox:"zdropdownlist__inputcheckbox",checkboxlabel:"zdropdownlist__checkboxlabel",avatar:"zdropdownlist__avatar",icondiv:"zdropdownlist__image",itemicon:"zdropdownlist__icon",content:"zdropdownlist__content",textIconWrapper:"zdropdownlist__imagetext",moreresults:"zdropdownlist__moreresults",noresults:"zdropdownlist__noresults",noresultstext:"zdropdownlist__noresultstext",search:"zdropdownlist__search",searchcontainer:"zdropdownlist__searchiconcontainer",searchicon:"zdropdownlist__searchicon",searchfield:"zdropdownlist__searchfield",clearbuttonicon:"zdropdownlist__clearicon",clearbutton:"zdropdownlist__clearbutton",listwithicononly:"zdropdownlist--icononly",hoverable:"is-hoverable",disabled:"is-disabled",hover:"on-hover",focussed:"has-focus",selected:"is-selected",rtl:"zh-rtl",leftColumn:"zdropdownlist__commandbaractionsleft",rightColumn:"zdropdownlist__commandbaractionsright",centerColumn:"zdropdownlist__commandbaractionscenter"}}get SELECTORS(){return{OPTION:this.isCE?"z-dropdownlistitem":"option",OPTGROUP:this.isCE?"z-dropdownlistgroup":"optgroup",OPTIONSBODY:"z-dropdownlistbody",OPTIONSHEADER:"z-dropdownlistheader",OPTIONSFOOTER:"z-dropdownlistfooter",OPTIONSEPARATOR:"z-dropdownlistseparator"}}_init(e,a){let o=this._opts,n=this._data;n.attrs=n.attrs||{},n.attrs.role="dropdown",this._userOptions=t.extend({},a),this._validateOpts(),this._constructTitleBar(),(o.commandBar||this._defaultCBar)&&this._constructBtns(),super._init(...arguments)}_constructTitleBar(){let e=this._opts,t=this._data;t.title=e.title,t.close=e.closeButton?this._getCloseProps():null}_validateOpts(){let e=this._opts,a=this._userOptions,o=a.selectOnKeyNavigation,n=a.focusItemOnItemMouseover,i=this._isSingle=!this._opts.multiple;this._forElement=e.forElement&&t(e.forElement),this._data.isCallout="callout"===e.displayType,e.selectOnKeyNavigation=null===o&&null===n?i:o,e.focusItemOnItemMouseover=null===n&&null===o?!i:n,e.focusFirstItemOnOpen&&(e.search.focusFirstResult=!0),this._defaultCBar=null,!e.commandBar&&(e.doneButton||e.resetButton||e.clearButton)&&this._setDefaultCBar(),e.handleFocusNavigation=null===e.handleFocusNavigation?!!(e.commandBar||this._defaultCBar):e.handleFocusNavigation}_initialRender(){this._initialized?this._search():this._renderView([])}_postRender(){super._postRender(...arguments),this._useParent||this.container.attr("id",this._getID(this.element)+"-"+this.name),this._opts.handleFocusNavigation&&e.FocusHandler&&e.FocusHandler.init(this.container),this._setShowHideOpts(),this._appendEle(this._opts.appendTo),this._listBody.removeClass("zh-scroll_y"),this.container[0].style.display="none"}_fixMidHt(){}_postEachRender(e,t){super._postEachRender(...arguments);let a=t.attrModified,o=!t.rendered,n=this._opts.value;(o||a)&&((o||-1<["title","closeButton"].indexOf(a))&&t.close&&!t.close.mainElement&&this._updateCloseEle(),t.isCallout&&!this._pointer&&(this._pointer=this.container.find(".zdropdownlist__pointer"),this._setShowHideOpts()),t.attrModified=void 0),(o||this._btnAttrChanged)&&this._isBtns&&(this._btnAttrChanged=void 0,this._updateBtns()),this._isSingle&&n&&this._toArr(n).length&&this._savePrevSelection(this._selectedItems[0].id)}_getClass(){let e=super._getClass(...arguments),t=this._data;return e+=t.title?" zdropdownlist--withtitle":"",e+=t.close&&!t.title?" zdropdownlist--withclose":"",e}_setVisibility(t){let a=this.inputField&&!this._showSearchField,o=this._status,n="noresults"===o&&!this._opts.search.showNoResultsMessage;if(a&&("minkeywordlength"===o||n))this.close(t);else if(!a&&n)this._hide(this._listBody);else{let t;(this.container.attr("data-loading")!==this._loading+""||this.container.attr("data-noresults")!==this._noResults+"")&&(t=!0),super._setVisibility(...arguments),t&&this._isShown&&this._freshRequest&&e.Helpers.fixHeight(this.container,this._showHideProps)}}_trigger(e,t){if("change"===e){let e=t&&t.type,a=this._opts,o=this._btnClicked,n=e&&-1<["keydown","mouseup"].indexOf(e),i=this._doneBtn?!!n&&"done"!==o:!o&&this._isSingle&&a.selectOnKeyNavigation&&n;if(this._internalChange||i)return!1}return super._trigger(...arguments)}_triggerUpdate(e,t){return(this._freshRequest||this._updateHtAndPos)&&this._isShown&&this._direction&&this._updatePos(null,e),this._trigger("update",e,t)}_triggerBeforeUpdate(e,t){return this._trigger("beforeupdate",e,t)}_itemClickHandler(e,t,a){super._itemClickHandler(...arguments);let o;a.itemMappedData.moreresults?o=!0:this._isSingle&&!this._doneBtn&&"mouseup"===e.type&&(this._getStoredData(t).selectable&&this._saveCommitedItemData(t),o=!0),o&&this.close(e)}_saveCommitedItemData(e){let a=this._curSelectedItem,o=e?e.is("."+this.CLASSES.item):a&&a!==this._prevSelectedItem;!o&&this._opts.focusItemOnItemMouseover&&(e=this.getFocussed(),e&&(o=!0)),o&&(e&&(a="#"+e.attr("id")),this._curSelectedItemData=this._getItemEventData(t(a)),this._curSelectedItem=a,this._isCommitted=!0)}_selectItem(e){let t=super._selectItem(...arguments);if(!1!==t){let t=this._selectedItems;if(this._isSingle)if(t.length){this._valCleared=!1;let a=t[0];this._curSelectedItem="#"+a.id,this._curSelectedItemData=this._getItemEventData(e.length?e:this._getById(e.id))}else this._valCleared&&(this._curSelectedItem=this._curSelectedItemData=this._prevSelectedItem=this._prevSelectedItemData=null);this._isBtns&&this._isShown&&this._updateBtnsOnItemSelect()}return t}_keydownActions(a){let o=this._btnClicked,n=!!o||super._keydownActions(...arguments);if(o)this._resetFocus(o,a);else{let o=e.keyCode,n=a.keyCode,i=this._opts,r=o.TAB===n&&!this._isBtns,s=this._isSingle,l=this._getStoredData(t(this.getFocussed())).selectable,d=o.ENTER===n&&i.selectOnEnterKey||o.SPACE===n&&!this.inputField,c=o.ESCAPE===n||r,m;o.ESCAPE===n&&(a.stopPropagation(),a.preventDefault()),(c||s&&i.keyNavigation&&d)&&(s&&!this._doneBtn&&(d||r&&i.selectOnTabPress)&&l?this._saveCommitedItemData():!c&&(m=!0),!m&&this.close(a))}return n}_setAriaAttrs(e){this.container.attr({"aria-hidden":!!e,"aria-expanded":!e}),this._forElement.attr({"aria-expanded":!e})}_setShowHideOpts(){let e=this._opts,t=this.CLASSES,a=this._animateOpenOrClose&&this._animateOpenOrClose.bind(this);this._showHideProps={cname:this.name,forElement:this._forElement,isCE:this.isCE,rtl:e.rtl,originalElement:this.element,bodyCls:t.body,headerCls:t.header,footerCls:t.footer,widthCls:"zdropdownlist__width",arrowElement:this._pointer,arrowCallback:this._arrowCallback.bind(this),direction:e.position,offset:e.margin,position:e.offset,appendTo:e.appendTo,hideMethodName:"close",hideEventName:"close",onShowWithAnimation:a,onHideWithAnimation:a,beforeFocus:()=>!1},["height","viewport","displayType","positionAlterable","animation"].forEach(t=>this._showHideProps[t]=e[t]);let o=parseFloat(e.minWidth||0),n=parseFloat(e.width||0);o>n?this._showHideProps.minWidth=o:this._showHideProps.width=n}_arrowCallback(e,a){let o={top:"zh-top",bottom:"zh-bottom",left:"zh-left",right:"zh-right"}[a],n=this._pointer;t(n).length&&!n.hasClass(o)&&(n.removeClass(this._prevArrowCls||""),n.addClass(o),this._prevArrowCls=o),(this.inputField||this._data.title||this._data.close)&&this._updateClass("zdropdownlist--pointerwithbg",0>["top","bottom"].indexOf(a))}_focusInHandler(e){super._focusInHandler(...arguments);let a=this.inputField,o=e&&e.originalEvent,n;if(this._isBtns&&o&&!this._isItemsNavigation){let a=t(e.target);n=!this._btnClicked&&!a.hasClass("has-mfocus")&&a.is(".clear-zdropdownlist,.done-zdropdownlist,.reset-zdropdownlist")}!n&&a&&this._opts.searchFieldOptions.handleEvents&&document.activeElement!==a[0]&&a[0].focus()}_storeForElement(e){this._opts.forElement=e,this._forElement=t(e),this._setShowHideOpts()}_savePrevSelection(e){e&&(e="#"+e),this._prevSelectedItem=this._curSelectedItem||e,this._prevSelectedItemData=this._curSelectedItemData&&this._curSelectedItemData.itemData||e&&this._selectedItems[0].originalData}_updateSelectedItem(a){let o=this._curSelectedItem,n=this._prevSelectedItemData,i=a&&a.originalEvent,r=this._opts,s=this._getPrevValId();this._isCommitted||this._opts.autoCommit?(this._savePrevSelection(),(r.selectOnKeyNavigation||r.focusItemOnItemMouseover&&i&&"keydown"===i.type&&i.keyCode===e.keyCode.TAB)&&this._dispatchEvent("change",a,{...this._curSelectedItemData,previousValue:n?[n]:void 0,value:[this._prevSelectedItemData]})):o&&o!==s&&(this._select(!1,t(o),null,a),this._unFocusItem(),n&&this._select(!0,null,n,a)),this._isCommitted=this._curSelectedItem=this._curSelectedItemData=void 0}_getPrevValId(){let e=this._prevSelectedItemData;return e?"#"+this._getItemId(e):void 0}_setScrollPos(e){let a=this._opts,o=this._isSingle,n=a.focusFirstItemOnOpen,i=this._prevSelectedItemData,r=a.focusSelectedItemOnOpen,s=t(this._getPrevValId()),l,d;r&&(o?d=s.length&&s.is(":visible")?s:void 0:(d=t(this._listBody.find("."+this.CLASSES.item+".is-selected")[0]),(!d.length||!d.is(":visible"))&&(d=void 0))),r&&d?o?this._select(!0,null,i,e,!0):l=d:n&&(l=this.getFirstValidItem()),l&&(l=t(l),this._select(!0,l,null,e,!0)),l&&!n||i||(this._lastScrollTop=0,this._setScrollTop())}_focusLastFocussed(){if(!this._fromOpenMethod||this.params.query)return super._focusLastFocussed(...arguments)}_select(e,a,o,n,i){this._internalChange=!0,o&&(e=!0,a=t(this._getPrevValId())),i||this._navInstance[e?"selectItem":"deSelectItem"](a,n),e&&this._focusEle(a,n,!0),this._internalChange=!1}_destroy(){let t=this._opts,a=this.container;Object.keys(t.animation).length&&e.clearAnimationData(a),t.handleFocusNavigation&&e.FocusHandler&&e.FocusHandler.destroy(a),this.element.removeData("zshowhide actualDirection arrowDirection arrowPosition availableHeight availableWidth componentName direction elementPosition pos prevDirection"),this.isCE&&this.element.removeClass(this._data.className).empty(),super._destroy(...arguments)}_search(e,t){this._focussed=!0,this._updateHtAndPos=!0;let a=t.event,o=this.inputField&&!this._showSearchField;if(super._search(...arguments),!this._isShown&&(t.shouldOpen||o&&a&&a.target===this.inputField[0])){o&&(t.shouldOpen=!1);let e=this._status,n=t.shouldOpen||("noresults"===e?this._opts.search.showNoResultsMessage:"minkeywordlength"!==e);n&&this.open({fromSearch:!0},a)}this._updateHtAndPos=!1}_callOpen(t){return e.Helpers.open(this.container,t||this._showHideProps)}_setValues(e,t){let a=t&&!1===t.commit;a&&(this._internalChange=!0),super._setValues(...arguments),this._isSingle&&this._selectedItems.length&&this._savePrevSelection(this._selectedItems[0].id),a&&(this._internalChange=!1)}_reSearch(){this.params.previousQuery=this.params.query=void 0,this._isShown?super._reSearch():this._shouldReSearch=!0}_focusItemUsingNavInstance(e,t,a=!0){this._navInstance.focusItem(e,t,a)}_openHandler(e){let t=this._dispatchEvent.bind(this);this._isShown=!0,this._setAriaAttrs(),t("beforefocus",e)&&this.setFocus(),t("open",e)}_closeHandler(t){Object.keys(this._opts.animation).length&&this._display(!0,this.container),e.Helpers.removeScrollClass(this.element),this._setAriaAttrs(!0),this._dispatchEvent("close",t),this._isSingle&&this._curSelectedItem?this._updateSelectedItem(t):this._unFocusItem()}_focusCallback(){this._focussed=!0,super._focusCallback(...arguments)}open(t={},a){if(!this._isShown){let o=this._opts,n=!0,i=o.searchField,r=void 0===t.minKeywordLength?o.search.minKeywordLength:t.minKeywordLength,s;if(void 0===t.searchQuery?i?s=this.inputField.val():this._shouldReSearch&&(s=this.params.query||""):s=t.searchQuery,r&&void 0!==s&&!this._shouldReSearch&&(n=this._opts.search.showNoResultsMessage||s.length>=r),n&&this._dispatchEvent("beforeopen",a)){this._fromOpenMethod=!0,t.forElement&&this._storeForElement(t.forElement),this._initialized||(this._initialized=!0,s=s||""),t.event=a,t.fromSearch||void 0===s||this.search(s,t),o.offset?this._callOpen():this._updatePos(!0,a),this._opts.handleFocusNavigation&&e.FocusHandler&&e.FocusHandler.refresh(this.container),t.fromSearch&&o.search.focusFirstResult||this._setScrollPos(a),this._isBtns&&this._handleBtnsOnOpen();let n=o.animation;n=Object.keys(n).length?n.open:null,n||this._openHandler(a),this._fromOpenMethod=this._shouldReSearch=!1}}}close(t){let a=this._dispatchEvent.bind(this),o=this.container,n=this.inputField;if(this._isShown&&a("beforeclose",t)){e.Helpers.close(o,{...this._showHideProps,event:t}),this._maxHt=this._direction=void 0,this._isShown=!1,!this._opts.searchField&&n&&n.val().length&&this.search("",{event:t}),this._doneBtn&&this._valueChanged&&!this._doneClicked&&(this._internalChange=!0,this._resetClickHandler(t,!0)),this._valueChanged=void 0;let a=this._opts.animation;a=Object.keys(a).length?a.close:null,a||this._closeHandler(t)}}setFocus(e){this._trigger("beforefocus",e)&&(this.container.focus(),this._focusInHandler(e))}getValue(){let e=this._prevSelectedItemData;return this._isSingle&&this._opts.selectOnKeyNavigation?e?[e]:void 0:this._opts.value}deselect(){this._valCleared=this._isSingle,super.deselect(...arguments)}deselectAll(){this._valCleared=this._isSingle,super.deselectAll(...arguments)}search(e,t={},a){a&&(t.shouldOpen=a?!this._forElement||this._forElement.is(":visible"):void 0),super.search(e,t)}_animateOpenOrClose(t,a){let o=this._opts.animation;if(!a.mustBeShown){let t=this._isShown,a=t?o.close:o.open;a.name||t||this._display(!1,this.container),e.animationHandler({action:t?"close":"open",animation:o,element:this.container,ctype:this.name,callback:t?this._closeHandler.bind(this):this._openHandler.bind(this)})}}_bindInputFieldEvents(){super._bindInputFieldEvents(...arguments),this._opts.searchFieldOptions.handleEvents&&this._addEvents({inputMousedown:"mousedown"},this.inputField)}_checkCurPos(){let e=this.inputField[0],t=this._opts.searchFieldOptions;return(t.filterBasedOnCurPos||t.suggestOnFieldFocus)&&e.selectionStart===e.selectionEnd}_inputMousedownHandler(e){let t=this._opts.searchFieldOptions;this._filteredOnMouseDown=!1,this._checkCurPos()&&(this._filteredOnMouseDown=!0,t.filterBasedOnCurPos?this._searchBasedOnCurPos(e):this._search(void 0,{event:e}))}_inputMouseupHandler(e){let t=this.inputField[0];this._filteredOnMouseDown||t.selectionStart!==t.selectionEnd||super._inputMouseupHandler(e)}_getCloseProps(){let t=this._opts;return this._data.close||e._getIconInfo(t.closeIconClassName,t.closeSVGIconId,"#zc__svg--close","zdropdownlist__closeicon")}_updateCloseEle(){let e=this._data.close.mainElement=this.container.find(".zdropdownlist__closeiconcontainer")[0];e=t(e),e.attr({tabindex:0,role:"button",title:this._getI18NText("closeButtonLabel")}),this._addEvents({closeClick:"click"},e)}_closeClickHandler(e){this.close(e)}_constructBtns(){let e=this._data.cBar={},t=this._opts.commandBar||this._defaultCBar;for(let a in this._isBtns=!!t,this._btnsArr=[],this._emptyBtnData(),t){let o=t[a],n=a.replace("Column","");e[n]=[],e[n+"Class"]=this.CLASSES[a],o.forEach((t,a)=>{this._btnsArr.push(t);let o="_"+t+"Btn";this[o]=!0,this[o+"Data"]=e[n][a]=this._getBtnAttr(t)})}this._data.cBar=this._btnsArr.length?e:null}_emptyBtnData(){["done","reset","clear"].forEach(e=>{let t="_"+e+"Btn";this[t]=this[t+"Data"]=void 0})}_setDefaultCBar(){let e=null,t=this._opts,a={done:"rightColumn",reset:"rightColumn",clear:"leftColumn"};["clear","reset","done"].forEach(o=>{if(t[o+"Button"]){e||(e={});let t=a[o];e[t]=e[t]||[],e[t].push(o)}}),this._defaultCBar=e}_getBtnAttr(t){let a=t+"ButtonLabel";return a=this._opts[t+"ButtonLabel"]||this._getI18NText(a),e.ZButton.getBtnProps({customAttributes:{name:t,"aria-label":a},name:t,tabindex:0,className:t+"-"+this.name+("reset"===t?" zdropdownlist__textbutton":""),text:a,appearance:"done"===t?"primary":"normal",size:"small",isCE:this.isCE,templateRender:!0})}_updateBtns(){let e=this._btnsArr||[];e.forEach(e=>{let t=this["_"+e+"BtnData"];if(t){let a=t.mainElement=this.container.find("."+e+"-"+this.name);this._addEvents({[e+"Click"]:"mousedown keydown",btnFocusIn:"focusin"},a),this._handleFocus(a)}})}_btnFocusInHandler(e){t(e.target).hasClass("has-mfocus")&&this._focusInHandler(e)}_doneClickHandler(e){("mousedown"===e.type||this._isKeyDown(e))&&(this._doneClicked=!0,this._btnClicked="done",this._isSingle&&this._savePrevSelection(),this._valueChanged&&this._trigger("change",e),this.close(e),this._doneClicked=!1,this._trigger("done",e),this._btnClicked=void 0)}_resetClickHandler(e,a){let o=this._resetBtnData&&this._resetBtnData.mainElement;o=t(o),(a||e&&o.length&&!t(e.target).closest(o).hasClass("is-disabled")&&("mousedown"===e.type||this._isKeyDown(e)))&&(this._valueChanged&&(this._setInternalChange(),this._setValues(this._prevSelectedItems,{event:e,clearOtherValues:!0}),!this._doneBtn&&super._trigger("change",e)),e&&this._trigger("reset",e),o.length&&(this._updateBtnState(!0,"reset"),this._btnClicked="reset"),this._internalChange=!1,e&&"mousedown"===e.type&&(this._btnClicked=void 0))}_clearClickHandler(e){("mousedown"===e.type||this._isKeyDown(e))&&(this._btnClicked="clear",this._setInternalChange(),this._valueChanged=!0,this.deselectAll(e),this._updateBtnState(!0,"clear"),this._trigger("clear",e),this._internalChange=!1,"mousedown"===e.type&&(this._btnClicked=void 0))}_setInternalChange(){this._doneBtn&&(this._internalChange=!0)}_isKeyDown(t){let a=e.keyCode;if("keydown"===t.type)return-1<[a.UP,a.DOWN].indexOf(t.keyCode)&&(this._isItemsNavigation=!0,this.setFocus(t),this._isItemsNavigation=void 0),-1<[a.ENTER,a.SPACE].indexOf(t.keyCode)}_disableOrEnableBtns(e){this._doneBtn&&this._updateBtnState(e,"done"),this._resetBtn&&this._updateBtnState(e,"reset")}_updateBtnState(e,t){t="_"+t+"Btn";let a=this[t+"Data"],o=a.className;o=e?0<o.indexOf(" is-disabled")?o:o+" is-disabled":o.replace(" is-disabled",""),this._disable(e,a.mainElement),a.className=o}_handleBtnsOnOpen(){let e=this._selectedItems;this._clearBtn&&this._updateBtnState(!e.length,"clear");let t=this._selectedItems.slice();this._prevSelectedItems=t.map(e=>e.originalData),this._disableOrEnableBtns(!0)}_updateBtnsOnItemSelect(){this._disableOrEnableBtns(),this._valueChanged=!0,this._clearBtn&&this._updateBtnState(!this._selectedItems.length,"clear")}_handleBtnAttrs(e,t){-1<e.indexOf("Label")?this._setBtnValue({text:t},this["_"+e.replace("ButtonLabel","")+"BtnData"]):(this._btnAttrChanged=!0,this._validateOpts(),this._constructBtns())}_resetFocus(e,t){this["_"+e+"BtnData"].mainElement.removeClass("has-focus has-mfocus has-kfocus"),this.setFocus(t),this._btnClicked=void 0}_updateSearchFldPos(e){let t;!this.inputField||this._opts.searchField||this._data.title||this._isBtns||(t=-1<e.indexOf("top")),this.container[t?"addClass":"removeClass"]("zdropdownlist--searchbottom")}_updatePos(e,t){let a=this._opts,o=a.position,n=a.positionAlterable,i={...this._showHideProps,event:t,mustBeShown:!e,positionAlterable:n,direction:o};n&&("auto"===o&&(i.direction=o="bottom-left",i.positionAlterable=i.positionAlterable||!0),i.callbacks={beforeComputingDir:{dimensionModifier:(e,t,a,o)=>{this._maxHt?t.height>=this._maxHt?this._maxHt=t.height:(o.positionAlterable=!1,o.direction=this._direction):this._maxHt=t.height}}});let r=this._callOpen(i).actualDirection;e&&(this._direction=r,this._updateSearchFldPos(r))}updatePosition(){this._updatePos()}_fieldKeydownHandler(t){let a=t.keyCode;if(this._lastKeyCode=a,this._shiftPressed=t.shiftKey,this._isShown||this._showSearchField)return super._fieldKeydownHandler(...arguments);let o=e.keyCode;if(a===o.UP||a===o.DOWN){t.preventDefault();let e="search",a,o;this._opts.searchFieldOptions.listAllItemsOnDOWNPress?(e="open",a="",o=0):a=this.inputField.val();let n={event:t,minKeywordLength:o,updateField:!1};"open"===e?(n.searchQuery=a,this.open(n)):this.search(a,n,!0)}}_inputKeyupHandler(t){let a=e.keyCode,o=t.keyCode,n=this._opts.searchFieldOptions;n.suggestOnFieldFocus&&o===a.TAB&&(o!==this._lastKeyCode||this._shiftPressed!==t.shiftKey)?this.searchWithDelay(void 0,{event:t,delay:1}):super._inputKeyupHandler(...arguments),this._lastKeyCode=void 0,this._shiftPressed=!1}_setAttribute(e,t){let a=this._opts,o=this._data,n;this._userOptions[e]=t,a[e]=t,"forElement"===e?this._storeForElement(t):-1<["title","closeButton","closeIconClassName","closeSVGIconId"].indexOf(e)?-1<["title","closeButton"].indexOf(e)?(this._constructTitleBar(),o.attrModified=e,n=!0):a.closeButton&&(e="closeSVGIconId"===e?"SVGIconId":"iconClassName",this._setBtnValue({[e]:t},o.close)):-1<["clearButton","doneButton","resetButton","commandBar","resetButtonLabel","clearButtonLabel","doneButtonLabel"].indexOf(e)?(this._handleBtnAttrs(e,t),n=0>e.indexOf("Label")):"displayType"===e?(o.attrModified="displayType",this._validateOpts(),"box"===t&&(this._pointer=void 0),n=!0):(-1<["selectOnKeyNavigation","focusItemOnItemMouseover","multiple"].indexOf(e)&&("multiple"==e&&t&&(this._prevSelectedItem=this._prevSelectedItemData=this._curSelectedItem=this._curSelectedItemData=null),this._validateOpts()),super._setAttribute(...arguments),n=this._domChanged,"value"==e&&this._isSingle&&(t?o.attrModified="value":this._valCleared=!0)),-1<["position","positionAlterable","offset","animation","margin","height","width","minWidth","viewport","appendTo","rtl"].indexOf(e)&&this._setShowHideOpts(),this._reInit&&(this._shouldReSearch=!0),this._domChanged=n}}e.registerComponent("ZDropdownList",e.ZListBox,ZDropdownList)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zlistbox.Templates,a=e.zdropdownlist.Templates,o=e.Templates.Utilities;a.WCChildren=e=>ZT.html`${e.isCallout&&ZT.html`<div class='zdropdownlist__pointer'></div>`} ${(e.title||e.close)&&a.WCTitle(e)} ${t.WCChildren(e)} ${e.cBar&&ZT.html`<div class='zdropdownlist__commandbar'> ${o.WCCommandBarCol(e.cBar)} </div>`}`,a.WCClose=t=>ZT.html`<button class='zdropdownlist__closeiconcontainer'> ${e.Templates.Utilities.WCIcon(t)} </button>`,a.WCTitle=e=>ZT.html`<div class='zdropdownlist__titlebar' role='heading'> ${e.title?ZT.html`<span class='zdropdownlist__title'>${ZT.customHTML(e.title)}</span>`:""} ${e.close&&a.WCClose(e.close)} </div>`}(ZComponents),function(e){let t=e.zlistbox.Templates,a=e.zdropdownlist.Templates,o=e.Templates.Utilities;a.children=e=>ZT.html`${e.isCallout&&ZT.html`<div class='zdropdownlist__pointer'></div>`} ${(e.title||e.close)&&a.title(e)} ${t.children(e)} ${e.cBar&&ZT.html`<div class='zdropdownlist__commandbar'> ${o.commandBarCol(e.cBar)} </div>`}`,a.close=t=>ZT.html`<button class='zdropdownlist__closeiconcontainer'> ${e.Templates.Utilities.icon(t)} </button>`,a.title=e=>ZT.html`<div class='zdropdownlist__titlebar' role='heading'> ${e.title?ZT.html`<span class='zdropdownlist__title'>${ZT.customHTML(e.title)}</span>`:""} ${e.close&&a.close(e.close)} </div>`}(ZComponents),function(e,t){class ZSelect extends e.CoreComponent{get name(){return"zselect"}get attrs(){return{multiple:!1,selectionLimit:0,selectedIndex:null,selectedValue:null,value:null,placeholder:null,disabled:!1,contentType:"text",template:null,arrowIconClass:"",arrowSVGIconId:"",selectOnCharPress:!0,sort:!1,sortBy:null,sortOrder:"asc",width:null,isLabelHTMLEncoded:!1,cacheData:!0,isResponseFiltered:!0,serverSearch:!1,acceptNewValues:!1,newValuePattern:!1,showSearchField:!1,clearButton:!1,clearButtonSVGIconId:"",clearButtonIconClass:"",lazyLoading:!1,filterByCSSSelector:!1,viewPerPage:10,dataStructure:"flat",delimiter:void 0,considerEmptySpacedValue:!1,allowHiddenOptionsForSelection:!1,allowDisabledOptionsForSelection:!1}}get props(){return{customSorter:null,customSearch:null,arrowIconClassName:"",clearButtonIconClassName:"",options:[],dataSource:{},dropdownList:{focusFirstItemOnOpen:!0,focusSelectedItemOnOpen:void 0,focusItemOnItemMouseover:!0,selectOnKeyNavigation:!1,hideCheckbox:!0,characterKeyFocus:!0,selectOnTabPress:!0,contentType:void 0,template:void 0,height:void 0,width:void 0,appendTo:void 0,direction:"auto",viewport:void 0,checkedIcon:void 0,checkedIconClassName:void 0,checkedSVGIconId:void 0,loaderIconClassName:void 0,loaderSVGIconId:void 0,positionAlterable:!1,virtualization:!1},search:{delay:150,criteria:"contains",caseSensitive:!1,minKeywordLength:0,by:"label",focusFirstResult:!0,highlightKeyword:!1,maxKeywordLength:0,showNoResultsMessage:!0,searchIncrementsInCache:!1},messages:{allOptionsSelected:"All Selected",noResults:"No results found",serverError:"Server request failed. Please try again later.",clear:"Clear",moreAction:"See more results",placeholder:"Select"},dataMapping:{id:"id",label:"label",value:"value",informativeText:"informativeText",iconClassName:"iconClassName",SVGIconId:"SVGIconId",options:"options",optgroupLabel:null,zitemid:"zitemid"},depCompClassNames:{dropdownlist:"DropdownList"}}}get propType(){return{selectedIndex:"number"}}get ARIA_ROLES(){return{CONTAINER:"listbox"}}get SELECTORS(){let e=this.isCE;return{OPTION:e?"z-option":"option",OPTGROUP:e?"z-optgroup":"optgroup",OPTIONSBODY:"z-selectbody",OPTIONSHEADER:"z-selectheader",OPTIONSFOOTER:"z-selectfooter",OPTIONSEPARATOR:"z-optionseparator",ADDOPTION:"z-addoption"}}get CLASSES(){return{CONTAINER:"zselectbox",ICON:"zselectbox__icon",ICONTEXT:"zselectbox--icontext",ICONONLY:"zselectbox--icononly",TEXT:"zselectbox__text",DROPUP:"zselectbox--top",DROPDOWN:"zselectbox--bottom",ACTIVE:"is-active",FOCUS:"has-focus",DISABLED:"is-disabled",CLEARBUTTON:"zselectbox__clearbutton",MENU:{CLASSNAME:"zmenu--selectmenu",ITEM:"zmenu__item",BODY:"zmenu__body"}}}get EVENTS(){return["init","beforedropdownlistopen","dropdownlistopen","beforedropdownlistclose","dropdownlistclose","beforechange","change","select","deselect","beforeselect","beforedeselect","itemclick","optionclick","optionhover","addoptionclick","blur","beforefocus","focus","noresults","beforedropdownlistupdate","dropdownlistupdate","newvalueadd","beforesearch","searcherror","searchsuccess"]}_init(e,t){this._fromInit=!0,this._useParent=!1,this._elementId=e[0].id||this._getID(),this._listID=t.menuId||this._elementId+"-listbox",this._selected=[],["disabled","multiple","placeholder"].forEach(a=>{t[a]=t[a]||e[0][a]}),t.multiple&&this._initMultiple(),this._initDS(),this._setInitial(),this._savePrev()}_savePrev(){this._lastValues=this._opts.value}_getPrev(){return this._lastValues}_createListBox(){let t=this._getListSettings(),a=this._opts.depCompClassNames.dropdownlist,o=a.toLowerCase(),n=e["create"+a](t),i=this.listInstance=e[o](n);this.ajaxSource=i.ajaxSource,this.staticData=i.staticData,this._listbox=i.getElement(),this._bindListEvents()}_setListBoxAttrs(e){let t=this.listInstance;e=e||this._getListSettings(),t.setAttributes(e),this.ajaxSource=t.ajaxSource,this.staticData=t.staticData}_preRender(){let e=this._opts,t=this._data;(!this._data.rendered||this._domChanged)&&this._onAttrChange(t,e);let a=t.attrs;return a["aria-expanded"]=this._opened,this._setValueData(e,t),this._data}_onAttrChange(t,a){let o=this.element;t.alwaysSetAttrs=!0,t.clearButton=a.clearButton,t.disabled=a.disabled,t.multiple=a.multiple,t.placeholder=a.placeholder||this._getI18NText("placeholder"),t.isCustom="custom"===a.contentType,t.hasText=t.hasIcon=!1,t.isCustom||(t.hasText=-1<a.contentType.indexOf("text"),t.hasIcon=-1<a.contentType.indexOf("image")),t.width=this._getWidth(a.width),t.tabindex=t.disabled?null:a.tabindex||o.attr("tabindex")||0,t.attrs={style:t.width?"width:"+t.width:void 0,title:o.attr("title"),"aria-disabled":a.disabled,"aria-haspopup":"listbox","aria-owns":this._listID,"aria-required":!1,id:this._elementId+"-container",role:this.ARIA_ROLES.CONTAINER,tabindex:t.tabindex},this._opts.multiple&&(t.attrs["aria-multiselectable"]=this._opts.multiple),e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"#zc__svg--downarrow zselectbox__arrow","zselectbox__icon zselectbox__arrowicon",t.arrow={})}_setValueData(e,t){let a=this._selected;t.label=t.icon=t.noSelection=t.innerHTML=null,t.clearButton&&this._setClrBtnData(e,t),a.length?this._setContentData(a,e,t):t.noSelection=!0}_setContentData(e,t,a){if(t.multiple)a.label=this._getLabelForMultiple(e);else{let o=this._getData(e[0]);a.isCustom?a.innerHTML=this._getCustomContent(o,t.template||o.zinnerHTML||o.innerHTML):this._setIconTextData(o,a),a.attrs["aria-activedescendant"]=o.zitemid}}_setIconTextData(t,a){a.hasText&&(a.label=this._getRenderText(t)),a.hasIcon&&e._getIconInfo(this._getProp(t,"iconClassName"),this._getProp(t,"SVGIconId"),null,this._CLASSES.ICON,a.icon={})}_getRenderText(e){return this._getLabel(e)}_getLabel(e,t=!0){return this._getProp(e,"label",t)}_postRender(){this._storeRef(),this._createListBox(),this._fromInit=!1,this._trigger("init")}_storeRef(){this._data.clearButton&&this._storeClrBtn()}_postEachRender(){this._domChanged&&this._storeRef(),this._setTitle(),this._setClassName()}_setClassName(){let e=this._opts,t=this._CLASSES,a=t.CONTAINER+" "+(this.element.attr("class")||"")+" "+(e.className||e.zclassName||"");if("image"===e.contentType?a+=" "+t.ICONONLY:"image-text"===e.contentType&&(a+=" "+t.ICONTEXT),e.rtl&&(a+=" zh-rtl"),e.disabled)a+=" "+t.DISABLED;else if(this._isFocussed()&&(a+=" "+t.FOCUS,this._opened||this._active)){let e=this._listbox&&this._listbox.data("direction");a+=" "+t.ACTIVE+" "+(e&&(0===e.indexOf("top")?t.DROPUP:t.DROPDOWN))}this._data.clearButton&&(a+=" zselectbox--withclear",this._hideClrBtn()),this._data.className=a}_isFocussed(){let e=document.activeElement;if(e)return e=t(e),e[0]===this.container[0]||this._opened&&this.listInstance.isFocussed()||this.container.find(e).length}_setTitle(){let e=this._data,t=this._opts,a="";if(!e.noSelection&&!e.isCustom){let o=this.container[0].querySelector("."+this._CLASSES.TEXT);("image"===t.contentType||o&&o.clientWidth<o.scrollWidth)&&(a=this._opts.multiple?e.label:this._getLabel(this._getData(this._selected[0]),!1))}this.container[0].title=a}_isNotNull(e){return super._isNotNull(e)&&(!!this._opts.considerEmptySpacedValue||!/^\s*$/.test(e))}_getWidth(e){if(e=e||this.element[0].style.width,e)return isNaN(e)?e:e+"px"}_getListSettings(){let e=this._opts,a=e.dropdownList,o=a.checkedIcon;this._isCheckBoxType=o=o||e.multiple&&!this._isNotNull(e.checkedIcon);let n={...e.dataMapping},i={id:this._listID,multiple:e.multiple,selectionLimit:e.selectionLimit,forElement:this.container,rtl:e.rtl,search:e.search,dataMapping:n,moreResultsAction:this._opts.search.moreResultsAction,showNoResultsMessage:this._opts.search.showNoResultsMessage,searchFieldOptions:{}};return t.extend(i,a),void 0===i.focusSelectedItemOnOpen&&(i.focusSelectedItemOnOpen=!e.multiple),i.className=(i.className||"")+" "+this._CLASSES.MENU.CLASSNAME,i.contentType=i.contentType||e.contentType,i.checkedIcon=o,i.template=i.template||e.template,i.position=i.position||i.direction,i.positionAlterable=i.positionAlterable||"auto"===i.position&&"flipsidefit",(this._fromInit||this._resetValue||!this._dsInited)&&(i.value=this._getReselectValue()),["showSearchField","filterByCSSSelector","lazyLoading","viewPerPage","sort","sortBy","sortOrder","customSorter","cacheData","isResponseFiltered","serverSearch","customSearch","messages"].forEach(t=>i[t]=e[t]),["itemClick","itemHover","itemFocus","beforeUpdate","update","noResults","beforeSearch","searcherror","searchsuccess","change","select","deselect","beforeSelect","beforeDeselect","input"].forEach(e=>i[e.toLowerCase()]=this["_"+e+"Handler"].bind(this)),["BeforeOpen","BeforeClose","Open","Close","BeforeKeyDown"].forEach(e=>i[e.toLowerCase()]=this["_list"+e+"Handler"].bind(this)),i.beforefocus=e=>{this._opts.showSearchField||(e.preventDefault(),this.container.focus())},n.text=n.label,n.groupLabel=n.optgroupLabel,n.label=n.optgroupLabel=null,this.ajaxSource||(n.value="zitemid"),i.focusFirstItemOnOpen=i.search.focusFirstResult,this._dsInited||(t.extend(!0,i,this._listDSAPI),this._dsInited=!0),i}_inputHandler(e,t){e=e.originalEvent,this._trigger("input",e,t)}_searcherrorHandler(e,t){e=e.originalEvent,this._trigger("searcherror",e,t)}_searchsuccessHandler(e,t){e=e.originalEvent,this.staticData&&(this._dataFetched=!0,this._updateData(t.results,!0)),this._trigger("searchsuccess",e,t)}_beforeSearchHandler(e,t){return e=e.originalEvent,this._trigger("beforesearch",e,t)}_noResultsHandler(e,t){return e=e.originalEvent,this._trigger("noresults",e,t)}_beforeUpdateHandler(e,t){e=e.originalEvent,this._trigger("beforedropdownlistupdate",e,t)}_updateHandler(e,t){e=e.originalEvent,this._trigger("dropdownlistupdate",e,t)}_bindListEvents(){this._addEvents({listBlur:"focusout"},this._listbox)}_listBlurHandler(){this._blurHandler()}_listBeforeCloseHandler(e){return e=e.originalEvent,this._isFocussed()&&this._setFocus(!1,!0),this._trigger("beforedropdownlistclose",e)}_listBeforeOpenHandler(e){if(e=e.originalEvent,this.listInstance.setAttribute("minWidth",this.container[0].offsetWidth),!this._opened)return this._trigger("beforedropdownlistopen",e)}_listBeforeKeyDownHandler(t){let a=t.originalEvent;a&&a.keyCode===e.keyCode.TAB&&a.preventDefault()}search(e,t){t.searchQuery=e,this.listInstance.open(t)}_listCloseHandler(e){e=e.originalEvent,this._opened=!1,this._setClassName(),this._setExpandAttr(),this._trigger("dropdownlistclose",e)}_focusList(){clearTimeout(this._focusListTimer),this._focusListTimer=setTimeout(()=>{this.listInstance.setFocus()},100)}_listOpenHandler(e){e=e.originalEvent;let t=this._opened;this._opened=!0,this._setClassName(),this._focusList(),this._setExpandAttr(),t||this._trigger("dropdownlistopen",e)}_setExpandAttr(){this._opened?this.container.attr("aria-expanded",this._opened):this.container.removeAttr("aria-expanded")}_getSelectionFromDS(){let e=this._dataSource.options,t=this._opts,a=e=>e.selected;return t.multiple?e.filter(a):e.find(a)}_isOptionSelectable(e){return(this._opts.allowDisabledOptionsForSelection||!e.disabled)&&(this._opts.allowHiddenOptionsForSelection||!e.hidden)&&!e.separator}_setInitial(){let e=this._opts,t=this._isNotNull(e.value)?e.value:e.selectedValue;if(this._isNull(t)){let a=this._dataSource.options;if(a.length){let o=e.selectedIndex;null===o?(t=this._getSelectionFromDS(),!e.multiple&&!t&&(t=a.find(e=>this._isOptionSelectable(e)))):-1<parseInt(o)&&(t=this._getDataAt(o))}}this.isCE||(this.element[0].selectedIndex=-1),t=this._toArr(t),t.length&&(e.multiple?e.selectionLimit&&(t=t.splice(-1*e.selectionLimit)):t=[t[0]]),this._allowTagCreation=!0,t.map(e=>{e=this._getSelectableOption(e),e&&(this._selected.push(e),this._addedByComponent=!0,e.selected=!0,this._addedByComponent=!1)}),this._allowTagCreation=!1,this._updateValues()}_getDataAt(e){return this._toArr(e).map(e=>this._dataSource.options[e])}_initDS(){if(this.ajaxSource=void 0,!this._dsInited){let e=this._opts,t=this._initialDS=this._getDataSource(),a=e.dataSource,o=e.options;this._dataFetched=!0,this.ajaxSource=this._isAjaxSource(e.dataSource),Array.isArray(o)&&(o=JSON.parse(JSON.stringify(o)),t=t.concat(o)),a&&a.URL&&(this._dataFetched=!1),this._updateData(t)}}_updateData(e,t){this._isGrouped=!1;let a=this._dataSource=this._splitDS(e),o=a.header,n=a.footer;t&&(o=this._listDSAPI.headerItems,n=this._listDSAPI.footerItems),this._listDSAPI={items:a.body,headerItems:o,footerItems:n,dataSource:this._opts.dataSource},this._updateLocalDS()}_getListType(){return this._opts.dropdownList.contentType||this._opts.contentType}_getDatas(e){return e.map(e=>this._getData(e))}_getData(e){if(!e.optData){let t=e.getAttribute("data-zitemid");e.optData=this._dataSource.options.find(e=>e.zitemid===t)}return e.optData}_genTagData(a,o){return a.map(a=>{let n=e._getOpts(a);n.id=a.id;let i,r;if(n.separator||(a.tagName.toLowerCase()===this._SELECTORS.OPTGROUP?(i=!0,r=a.label):(r=a.textContent.trim()||a.label||"",n.selected=n.selected||a.selected),n.disabled=n.disabled||a.disabled,n.label=this._isNotNull(n.label)?n.label:r),this._setProp(n,"label",n.label),this._setProp(n,"value",a.value),i&&this._setProp(n,"optgroupLabel",n.label),n.className=n.className||a.className,n.hidden=a.hasAttribute("hidden"),n.title=a.getAttribute("title"),n.style=a.getAttribute("style"),!n.zitemid){let e;e=n.id?this.name+"-"+this._listID+"-option-"+n.id:this._getID(null,this._listID+"-option"),n.zitemid=e}if(this._mapReqData(n,i,o),i){let e=this._getValidSubOptions(t(a));(!this.isCE||e[0]._initialized)&&(n.options=this._genTagData(e,n))}return n.zpopulated=!0,this._addedByComponent=!0,this._updateOptionAttrs(a,n),this._addedByComponent=!1,this.isCE&&!this._opts.isLyteComponent&&a.saveParentIns(this.element),a.optData=n,n})}_getItemId(e){return super._getItemId(e,this._listID)}_bindEvents(){this._addEvents({focus:"focusin",containerBlur:"focusout",keyDown:"keydown",click:"click"}),this._addEvents({mouseDown:"mousedown"},this._arrowTarget),this._handleFocus(this.container)}_clickHandler(){this._opened&&this._focusList()}_focusHandler(e){this._setClassName(),this._trigger("focus",e)}_keyDownHandler(t){let a=this._opts;if(!a.disabled){if(this._opened)return this.listInstance.handleKeyCode(t);let o=e.keyCode,n=t.keyCode;switch(n){case o.SPACE:return this._open(t),void t.preventDefault();case o.ENTER:return void this._open(t);case o.DOWN:case o.UP:return this._open(),void t.preventDefault();default:this._isAlphaNumericKey(t)&&(a.showSearchField?n!==o.DELETE&&n!==o.BACKSPACE&&this.search(String.fromCharCode(n),{event:t,updateField:!1}):a.selectOnCharPress&&this._selectItemOnKeydown(t));}}}_mouseDownHandler(e){this._opts.disabled||e.button||(this[this._opened?"_close":"_open"](e,!0),e.preventDefault())}_containerBlurHandler(e){this._blurHandler(e)}_blurHandler(e){clearTimeout(this._focusoutTimer),this._focusoutTimer=setTimeout(this._afterBlur.bind(this,e))}_afterBlur(e){this.container&&!this._isFocussed()&&(this._close(e),this._setClassName(),this._trigger("blur",e))}_itemClickHandler(e){let t=e.detail;e=e.originalEvent;let a=t.item,o=t.itemData;t={menuitem:a,optionData:o},(o.isHeader||o.isFooter)&&this.isCE&&this._trigger("addoptionclick",e,t),this._trigger("optionclick",e,t)}_beforeSelectHandler(e,t){let a=e.detail;e=e.originalEvent;let o=a.itemData,n=t?"select":"deselect";return a={optionData:o,menuitem:a.item},this._trigger("before"+n,e,a)}_beforeDeselectHandler(e){return this._beforeSelectHandler(e,!1)}_selectHandler(e,t){let a=e.detail;e=e.originalEvent;let o=a.itemData,n=t?"select":"deselect";return a={optionData:o,menuitem:a.item},this._setValueFromHandler(o,e,t),this._trigger(n,e,a)}_changeHandler(e){let t=e.detail;e=e.originalEvent,this._updateView();let a=t.itemData;return t={optionData:a,menuitem:t.item,previousValue:this._getPrev()},this._savePrev(),this._trigger("change",e,t)}_deselectHandler(e){return this._selectHandler(e,!1)}_setValueFromHandler(e,t,a){return this[a?"_selectOption":"_deselectOption"](e,t)}_itemHoverHandler(e){let t=e.detail;e=e.originalEvent;let a=t.itemData;return this._trigger("optionhover",e,{item:t.item,optionData:a})}_itemFocusHandler(e){}_getOptionForData(e,t){let a=!0;if(this._dataFetched){let t=this._getMatchData(e);t?e=t:a=!1}let o=this._getOptionByZItemId(this._getItemId(e));return!o&&this._allowTagCreation&&(a?o=this._addOptionTag(e):this._opts.acceptNewValues&&(o=this._acceptNewValues(e,t))),o}_getOptionByZItemId(e){return this.element.find("[data-zitemid=\""+e+"\"]")[0]}_getMatchData(e,t=this._dataSource.options){let a=this._opts.dataMapping.value;if("object"==typeof e){let t=["zitemid","id"];for(let o=0;o<t.length;o++){let n=t[o],i=this._getProp(e,n);if(this._isNotNull(i)){a=n,e=i;break}}}else e+="";return t.find(t=>{let o=this._getProp(t,a)+""===e;return o})}_getValidSubOptions(e,t){let a=this._SELECTORS,o=[a.OPTION];return t&&o.push(a.OPTGROUP),this.isCE&&(o.push(...[a.OPTIONSEPARATOR,a.ADDOPTION]),e.is(this.element)&&o.push(...[a.OPTIONSHEADER,a.OPTIONSFOOTER,a.OPTIONSBODY])),e.children(o.join(",")).toArray()}_getDataSource(){let e=this._getValidSubOptions(this.element,!0);if(this.isCE){let a=this._SELECTORS,o=[],n=new RegExp(`(${a.OPTIONSHEADER}|${a.OPTIONSFOOTER}|${a.OPTIONSBODY})`,"i");if(e.forEach(e=>{n.test(e.tagName)?o.push(...this._getValidSubOptions(t(e),!0)):o.push(e)}),!o.length||!o[0]._initialized)return[];e=o}return this._genTagData(e.filter(e=>!e.getAttribute("data-ztemp")))}_splitDS(e){let t={body:[],header:[],footer:[]};return e.forEach(e=>{e=this._getCompleteData(e),e.isFooter?t.footer.push(e):e.isHeader?t.header.push(e):(t.body.push(e),e.options&&(this._isGrouped=!0))}),t}_dataModifyHandler(){this._updateLocalDS(),this._setListBoxAttrs({...this._listDSAPI,...{value:this._getValueToSet(this._selected)}}),this._render()}_getReselectValue(){return this._getValueToSet(this.getValue(!0))}_updateLocalDS(e=this._dataSource){let t=e.options=[];e.body.forEach(e=>{e.options?(t.push(...e.options),this._isGrouped=!0):t.push(e)}),this._dataSource=e,this._listDSAPI.dataStructure=this._isGrouped?"nested":"flat"}_selectOption(e,t){this._allowTagCreation=!0;let a=this._getSelectableOption(e,t);this._allowTagCreation=!1;let o=this._opts;this._addedByComponent=!0,o.multiple||(this._selected=[]),a.selected=!0,this._selected.push(a),this._addedByComponent=!1,this._updateValues()}_deselectOption(e){let t=this._getMatchedOptions(e)[0];if(this._selected.length){if(!t){let a=this._getItemId(e);t=this._selected.find(e=>e.getAttribute("data-zitemid")===a)}if(t){let e=this._selected.indexOf(t);this._addedByComponent=!0,t.selected=!1,this._addedByComponent=!1,-1!==e&&this._selected.splice(e,1)}}this._updateValues()}_updateValues(){let e=this._opts;if(this._selected.length){e.selectedValue=e.value=[],e.selectedIndex=[];let t=this._getDatas(this._selected);this._selected.forEach((a,o)=>{let n=this._getProp(t[o],"value");e.value.push(n),e.selectedIndex.push(this._dataSource.options.indexOf(t[o]))}),e.multiple||(e.value=e.selectedValue=e.value[0],e.selectedIndex=e.selectedIndex[0])}else e.value=e.selectedValue=e.multiple?[]:"",this._addedByComponent=!0,e.selectedIndex=this.element[0].selectedIndex=-1,this._addedByComponent=!1;this._updateView(!0)}_updateView(e){clearTimeout(this._renderTimer),!this._data.rendered||this._skipRender||this._domChanged||(e?this._renderTimer=setTimeout(this._render.bind(this)):this._render())}_trigger(e,t,a){if(!this._fromInit){a=a||{},a.dropdownList=this.getDropdownList(),a.selectedValue=a.value=this._opts.value||"",a.selectedIndex=this._opts.selectedIndex;let o=a.optionData;return o&&(a.optionData=o={...o},o.element=this._getOptionByZItemId(o.zitemid)),this._dispatchEvent(e,t,a,void 0,!!t)}return!0}_getMatchedOptions(e){let t=this._toArr(e,!0).map(e=>this._getMatchedOption(e));return this._removeNulls(t)}_getValidVal(e){return e instanceof t&&(e=e[0]),e}_getMatchedOption(e,t){if(e=this._getValidVal(e),this._isNotNull(e))return e.nodeType?this._contains(e)&&e:this._getOptionForData(e,t)}_getMatchDataForUpdate(e,t,a){if(e=this._getValidVal(e),this._isNotNull(e))return e.nodeType?e.optData:this._getMatchData(e,a||this._dataSource[t?"body":"options"])}_contains(e){return this.element[0].contains(e)}_isSelected(e){return-1!==this._selected.indexOf(e)}_setValue(e,t){this.listInstance.setValue(this._getValueToSet(e),t)}_getValueToSet(e,t){let a=[];return e=this._toArr(e),e.forEach(e=>{this._allowTagCreation=!0;let o=this._getSelectableOption(e,t);this._allowTagCreation=!1,o&&a.push(o.optData)}),a}_desetValue(e,t){e=this._toArr(e);let a=[];for(let o=0,n;o<e.length;o++)n=this._getSelectableOption(e[o],t),n&&this._isSelected(n)&&a.push(n.optData);this.listInstance.deselect(a,t)}_getSelectableOption(e,t){let a=this._getMatchedOption(e,t);if(a){let e=a.optData;return e.selectable&&this._isOptionSelectable(e)&&a}}_addOptionTag(e){e=this._getCompleteData(e);let a=t("<"+this._SELECTORS.OPTION+"/>").attr({selected:e.selected,id:e.id,value:this._getProp(e,"value")})[0];return this._updateOptionAttrs(a,e,!0),a.optData=e,this.isCE?this._appendTag(a):this.element.append(a),a}_updateOptionAttrs(e,a,o){this._addedByComponent=!0;let n={"data-zitemid":a.zitemid};o&&(n["data-ztemp"]=!0),a.isHeader&&(n["data-is-header"]=!0),a.isFooter&&(n["data-is-footer"]=!0),t(e).attr(n),this._addedByComponent=!1}_getCompleteData(e,t,a){if(e.nodeType)return this._genTagData([e],a)[0];if(/(number|string)/.test(typeof e)){let t={};this._setProp(t,"label",e),e=t}return this._mapReqData(e,t,a),e.options&&(e.options=e.options.map(t=>this._getCompleteData(t,!1,e))),e}_mapReqData(e,t,a){let o=e,n=this._getListType();o.zitemid=this._getItemId(e);let i=this._getProp(e,"label");i=this._isNotNull(i)?i+"":"";let r=this._getProp(e,"value");r=this._isNotNull(r)?r+"":i,this._setProp(e,"label",i),this._setProp(e,"value",r);let s=Object.keys(e);return-1===s.indexOf("label")&&(e.label=i),o.selectable=!1,(o.isHeader||o.isFooter)&&(o.custom=!0),a?(o.groupName=this._getProp(a,"value"),o.hidden=a.hidden||e.hidden,o.disabled=a.disabled||e.disabled):(o.options||t)&&(o.options=o.options||[]),o.isOptGroup||o.separator||o.isHeader||o.isFooter||(o.title=e.title,void 0===o.title&&(o.title="image"===n?o.label:void 0),o.selectable=!0,o.selected=e.selected),o}_close(e){this.listInstance.close(e)}_open(e){this.search("",{event:e,updateField:!1})}_setFocusFn(e){!e&&this._opened?this._focusList():this.container.focus()}_setFocus(e,t){this._trigger("beforefocus")&&this._setFocusFn(t)}_selectItemOnKeydown(e){let t=this._opts;if(this.staticData&&!t.multiple){let a=t.selectedIndex;t.sortOptions?this.listInstance.DSInstance.fetch(t=>{if(-1<a){let e=this._dataSource.options[a].zitemid;t.find((t,o)=>{if(t.zitemid===e)return a=o,!0})}this._selectNextMatchingItem(e,t,a)}):this._selectNextMatchingItem(e,this._dataSource.options,a)}}_selectNextMatchingItem(e,t,a){if(t.length){let o=a+1,n=e.key,i=new Date().getTime();if(this._prevKey){let e=i-this._prevTimeStamp;300>e&&this._prevKey!==n&&(n=this._prevKey+n,o--)}if(this._prevTimeStamp=i,this._prevKey=n,0<=o){let e=(o,n)=>{for(let e=o,i;e<n;e++)if(i=t[e],!i.hidden&&!i.disabled&&this._getProp(i,"label").match(a))return i;return o&&e(0,o)},a=this._getMatchingRegex(n,{criteria:"startswith",caseSensitive:!1}),i=e(o,t.length);i&&this._setValue(i)}}}_setAttribute(e,t){this._addedByComponent=!0;"selectedIndex"===e?this._setAttribute("value",this._getDataAt(t)):"value"===e||"selectedValue"===e?(this._domChanged=!0,this.setValue(t,{clearOtherValues:!0})):this._setAdvAttribute(...arguments);this._addedByComponent=!1}setFocus(){this._opts.disabled||this._setFocus(!0)}close(){this._close()}open(){this._opts.disabled||(this.setFocus(),this._open())}setValue(e,t){this._setValue(e,t)}deselectAllOptions(e){this.listInstance.deselectAll(e)}deselectOption(){this._desetValue(...arguments)}getData(e){return this._getDatas(e)}getValue(e){return e?this.getData(this._selected):this._opts.value}getOptions(e="body"){let t=this._dataSource;if("header"===e)return t.header;return"footer"===e?t.footer:"body"===e?t.body:t.header.concat(t.body).concat(t.footer)}refresh(){this._dsInited=!1,this._buildData()}_buildData(){let e=!this._dsInited;if(this._initDS(),this._setListBoxAttrs(),e){let e=[];this._selected.forEach(t=>{let a=this._getOptionByZItemId(t.getAttribute("data-zitemid"));a&&e.push(a)}),this._selected=e}this._render(),this._domChanged=this._resetValue=!1}clearCache(){this.listInstance.clearCache()}getDropdownList(){return this._listbox[0]}_destroy(){clearTimeout(this._renderTimer),clearTimeout(this._focusoutTimer),clearTimeout(this._focusListTimer),this.listInstance.destroy(),this._listbox.remove(),this.element.find("[data-ztemp]").remove(),this._removeEvents("",this._arrowTarget)}_acceptNewValues(e,t){let a={newOptionData:e},o=this._opts.newValuePattern;if((!o||o.test("string"==typeof e?e:this._mapJSONToData(e,this._opts.dataMapping.label)))&&this._trigger("newvalueadd",t,a))return this._addOptionTag(a.newOptionData)}_addOptionToGroup(e,t,a){let o,n;if("number"==typeof t){if(a)o=t,n=this._getMatchDataForUpdate(a,!0).options;else{let e=this._dataSource.options[t];if(e){let t=this._getGroupAndIndex(e);o=t.index,n=t.items}}}else if(a)if("append"===t)n=this._getMatchDataForUpdate(a,!0).options;else{let e=this._getMatchDataForUpdate(a);if(e){let a=this._getGroupAndIndex(e);o=a.index,n=a.items,"after"===t&&o++}}this._addDatasAt(e,n,o)}removeOptGroup(e){this._removeOption(e,!0),this._dataModifyHandler()}addOptGroup(e,t){this._addOption(e,"before",t,!0),this._dataModifyHandler()}_getGroupAndIndex(e){let t=this._getMatchDataForUpdate(e.groupName,!0);return{items:t.options,index:t.options.indexOf(e)}}_addOption(t,a,o,n){t=this._toArr(t);let i=this.isCE?"Z-OPTGROUP":"OPTGROUP";t=t.map(t=>{let a;if(!n&&t.nodeType){let o=t.parentElement;o&&o.tagName===i&&(a=e._getOpts(o))}return this._getCompleteData(t,n,a)});let r=t[0].isHeader?"header":t[0].isFooter?"footer":"body";this.ajaxSource&&"body"==r||this[!n&&this._isGrouped&&"body"==r?"_addOptionToGroup":"_addOptionDirectly"](t,a,o,r)}_addOptionDirectly(e,t,a,o){let n=this._dataSource[o],i;"number"==typeof t?i=t:a&&(i=n.indexOf(this._getMatchDataForUpdate(a,null,n)),"after"===t&&i++),this._addDatasAt(e,n,i)}_addDatasAt(e,t,a){a===void 0||-1===a?t.push(...e):t.splice(a,0,...e)}_getOptionType(e){return /(header|footer)/.test(e)?e:"body"}_removeOptionsAt(e,t,a){if(!this.ajaxSource||"header"===a||"footer"===a){e=e.filter((t,a)=>-1<t&&e.indexOf(t)===a),e.sort(function(e,t){return t-e}),a=this._getOptionType(a);let o=this._dataSource[a];e.forEach(e=>{if(this._isGrouped&&!t&&"body"===a){let t=this._dataSource.options[e];if(e=void 0,t){let a=this._getGroupAndIndex(t);e=a.index,o=a.items}}this._removeDataAt(e,o)})}}_removeDataAt(e,a){if(e!==void 0&&-1<e&&!this._opts.acceptNewValues){let o=this._getOptionByZItemId(a[e].zitemid);o&&t(o).remove(),a.splice(e,1)}}_removeOption(e,t,a){a=this._getOptionType(a);let o=t?this._dataSource.body:"body"===a?this._dataSource.options:this._dataSource[a];e=this._toArr(e);let n=e.map(e=>o.indexOf(this._getMatchDataForUpdate(e,t,o)));this._removeOptionsAt(n,t,a)}removeAllOptions(e){let t=this._dataSource;"header"===e||"footer"===e?this.removeOption(t[e]):!this.ajaxSource&&(this.element.empty(),this._opts.options=[],this._dsInited=!1,this._buildData())}addOption(e,t,a){this._addOption(e,t,a),this._dataModifyHandler()}addOptionAt(e,t,a){this._addOption(e,t,a),this._dataModifyHandler()}removeOption(e,t){this._isNotNull(e)?(this._removeOption(e,void 0,t),this._dataModifyHandler()):this.removeAllOptions(t)}removeOptionAt(e,t){this._removeOptionsAt(this._toArr(e),null,t),this._dataModifyHandler()}_setClrBtnData(e,t){if(!t.rendered||this._domChanged){let a=e.clearButtonIconClassName||e.clearButtonIconClass;t.clearButton={iconClassName:a,SVGIconId:e.clearButtonSVGIconId||!a&&"zc__svg--clear",className:this._CLASSES.CLEARBUTTON,disabled:e.disabled,templateRender:!0,rtl:this.rtl,isCE:this.isCE,title:this._getI18NText("clear"),customAttributes:{tabindex:-1}}}}_storeClrBtn(){let e=this._data.clearButton.mainElement=t(this.container[0].querySelector(`.${this._CLASSES.CLEARBUTTON}`));this._bindClrBtn(e)}_bindClrBtn(e){this._addEvents({clrBtnMouseDown:"mousedown"},e)}_clrBtnMouseDownHandler(e){e.button||(this.deselectAllOptions(e),e.stopPropagation(),e.preventDefault(),this._setFocus())}_hideClrBtn(){let e=this._data;e.clearButton.mainElement[0].style.display=e.noSelection||e.disabled?"none":""}disableOptions(e){this.setOptionAttributes(e,"disabled",!0)}enableOptions(e){this.setOptionAttributes(e,"disabled",!1)}_disable(e){e&&this.close(),this.element[0].disabled=!!e,this._domChanged=!0}_initMultiple(){let e=this._opts;this.element[0].multiple=!0;let t=e.selectedIndex;isNaN(parseInt(t))||(e.selectedIndex=(t+"").split(","));let a=this._isNotNull(e.value)?e.value:e.selectedValue;"string"==typeof a&&(e.value=a.split(e.delimiter)),this._data.hasText=!0}_getLabelForMultiple(e){if(!this.ajaxSource){let e=this._dataSource.options.filter(e=>!e.separator),t=e.every(e=>{this._skipTagCreation=!0;let t=this._getOptionForData(e);return this._skipTagCreation=!1,t&&t.selected});if(t)return this._getI18NText("allOptionsSelected")}return e.map(e=>this._mapJSONToData(this._getData(e),this._opts.dataMapping.label)).join(", ")}getValues(e){return e?this.getValue():[...this._opts.value]}setValues(e,t){return t?void this.setAttribute("value",e):this.setValue(e)}_setAdvAttribute(e,t){let a=this._opts;switch(e){case"acceptNewValues":case"newValuePattern":case"selectOnCharPress":a[e]=t;break;case"arrowIconClassName":case"arrowSVGIconId":case"clearButton":case"placeholder":case"width":a[e]=t,this._domChanged=!0;break;case"multiple":this.element[0].multiple=t,a[e]=t,this._reInit=this._resetValue=!0;break;case"selectionLimit":a[e]=t,this._reInit=this._resetValue=!0;break;case"options":case"dataSource":{this.element.find("[data-zitemid]:not([data-is-header]):not([data-is-footer])").remove(),a[e]=t,this._reInit=!0,this._dsInited=!1}break;case"dataMapping":a[e]=t,this._reInit=!0,this._dsInited=!1;break;case"isResponseFiltered":case"serverSearch":case"cacheData":case"viewPerPage":case"lazyLoading":case"filterByCSSSelector":case"sort":case"sortBy":case"sortOrder":case"customSorter":case"customSearch":case"contentType":case"dropdownList":case"showSearchField":case"search":case"rtl":case"template":a[e]=t,this._reInit=!0;break;default:a[e]=t;}}_updateMenuAttribute(e,t){this._menu&&this._menuInstance.setAttribute(e,t)}_setOptionAttribute(e,t,a){if(e){let o=!1;if("options"===t)e.options=a,this._getCompleteData(e);else if("value"===t||"label"===t)e[t]=a,o=!0;else if("disabled"===t||"hidden"===t)e[t]=a,o=!0,e.options&&e.options.forEach(e=>this._setOptionAttribute(e,t,a));else{if("selected"===t)return void(a?this._setValue(e):this.deselectOption(e));e[t]=a}let n=this._getOptionForData(e);n&&o&&(n[t]=a),this._updateDataVar=!0}}setOptionAttributes(e,a,o){this._addedByComponent=!0,this._updateDataVar=!1,this._ajaxSource||(this._toArr(e).forEach(e=>{let n=this._getMatchDataForUpdate(e,null,this._isGrouped?this._dataSource.body.concat(this._dataSource.options):null);if("object"==typeof a&&!t.isEmptyObject(a))for(let e in a)this._setOptionAttribute(n,e,a[e]);else this._setOptionAttribute(n,a,o)}),this._updateDataVar&&this._dataModifyHandler()),this._addedByComponent=!1}}e.registerComponent("ZSelect",ZSelect)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zselect.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=t=>{let o=ZT.html`<div class="zselectbox__selected"> ${t.noSelection?ZT.html`<span class="zselectbox__text zselectbox__placeholder">${t.placeholder}</span>`:ZT.html`${ZT.customHTML(t.innerHTML||"")} ${t.icon&&a.WCIcon(t.icon)} ${t.label&&ZT.html`<span class="zselectbox__text">${ZT.customHTML(t.label)}</span>`}`} </div> ${t.clearButton&&e.createButton(t.clearButton)} ${a.WCIcon(t.arrow)}`;return o}}(ZComponents),function(e){let t=e.zselect.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=t=>{let o=ZT.html`<div class="zselectbox__selected"> ${t.noSelection?ZT.html`<span class="zselectbox__text zselectbox__placeholder">${t.placeholder}</span>`:ZT.html`${ZT.customHTML(t.innerHTML||"")} ${t.icon&&a.icon(t.icon)} ${t.label&&ZT.html`<span class="zselectbox__text">${ZT.customHTML(t.label)}</span>`}`} </div> ${t.clearButton&&e.createButton(t.clearButton)} ${a.icon(t.arrow)}`;return o}}(ZComponents),function(e){class ZComboBox extends e.ZSelect{get name(){return"zcombobox"}get attrs(){return{autoComplete:!1}}get props(){return{dropdownList:{selectOnKeyNavigation:!0}}}get CLASSES(){return{CONTAINER:"zselectbox zcombobox"}}get SELECTORS(){return{OPTIONSBODY:"z-comboboxbody",OPTIONSHEADER:"z-comboboxheader",OPTIONSFOOTER:"z-comboboxfooter"}}get ARIA_ROLES(){return{CONTAINER:"combobox"}}_init(e,t){t.showSearchField=t.multiple=!1,super._init(e,t)}_storeRef(){super._storeRef(),this._arrowTarget=this.container.find("i.zselectbox__arrowicon"),this._inputField=this.container.find("input")}_postRender(){super._postRender(),this._inputField[0].id=this.listInstance._getID("searchbox"),this._addEvents({inputMouseUp:"mouseup"},this._inputField)}_inputMouseUpHandler(e){this._skipHighlightingOnMouseUp||(this._highlightContent(),this._skipHighlightingOnMouseUp=!0),e.preventDefault()}_preRender(){if(this._skipDataSetting)return this._data;let e=super._preRender(...arguments);return e.rendered&&-1!==this._opts.selectedIndex&&this._iconShow(""),e}_getListSettings(){let e=super._getListSettings(),t=e.searchFieldOptions;return t.showSearchField=t.multiple=!1,t.listAllItemsOnDOWNPress=!0,e.autoCommit=!0,e.searchField=this._inputField,this._autoComplete=this._opts.autoComplete&&this._opts.dropdownList.selectOnKeyNavigation,this._autoComplete&&(e.search.focusFirstResult=!0,e.search.criteria="startswith"),e.beforefocus=()=>{this._setFocus()},e.focusFirstItemOnOpen=e.search.focusFirstResult,e}_itemFocusHandler(e){let t=e.originalEvent;return t&&"input"===t.type&&this._autoComplete&&(this._skipRender=!0,this._setValue(e.detail.itemData,{event:e,commit:!1}),this._skipRender=!1),super._itemFocusHandler(...arguments)}_changeHandler(e){let t=e.originalEvent;return t&&"input"===t.type?void(this._active=!0):super._changeHandler(...arguments)}_beforeSearchHandler(t){let a=t.detail,o=t.originalEvent,n;o&&("keydown"===o.type?n=o.keyCode===e.keyCode.DOWN||o.keyCode===e.keyCode.UP:"mousedown"===o.type&&(n=this._arrowTarget[0]===o.target||this._arrowTarget.find(o.target).length)),(n||!o)&&(a.searchOptions.minKeywordLength=0,a.params.query=""),super._beforeSearchHandler(...arguments)}_noResultsHandler(e){return this._noResults=!0,this._skipRender=!0,this._setValue([],{clearOtherValues:!0,commit:!1}),this._skipRender=!1,super._noResultsHandler(...arguments)}_updateHandler(e,t){this._noResults="noresults"===t.status,super._updateHandler(...arguments)}_onAttrChange(e){super._onAttrChange(...arguments),e.isCustom&&(e.isCustom=!1,e.hasText=!0),e.attrs.tabindex=e.disabled?null:-1,e.attrs["aria-autocomplete"]="list"}_newValueHandler(e){this._altered&&this._opts.acceptNewValues?this._setValue(this._inputField[0].value,{event:e}):this._setPrevValue(e),this._opened&&this._close(e)}_setPrevValue(e){this._skipRender=!0,this._setValue(this._getPrev(),{event:e}),this._skipRender=!1,this._updateView()}_onESCPress(e){this._setPrevValue(e),e.preventDefault()}_keyDownHandler(t){if(!this._keydownEventHandled){t=t.originalEvent,this._lastKeydownEvent=t;let a=this._opts;if(!a.disabled){let a=e.keyCode;switch(t.keyCode){case a.ESCAPE:this._onESCPress(t);break;case a.ENTER:this._noResults&&this._newValueHandler(t);}}}this._keydownEventHandled=!1}_listBeforeKeyDownHandler(e){this._keyDownHandler(e),super._listBeforeKeyDownHandler(e),this._keydownEventHandled=!0}_keyPressHandler(){}_inputHandler(e,t){clearTimeout(this._renderTimer),super._inputHandler(e,t),e=e.originalEvent,this._altered=this._active=!0;let a=this._inputField[0].value,o=this._opts.search.minKeywordLength;this._autoComplete&&a||this._iconShow("none"),this._autoComplete&&(!o||a.length>=o)&&this._autoCompleteFn(e),this._updateClrBtn()}_updateClrBtn(){let e=this._data;e.clearButton&&(e.clearButton.mainElement[0].style.display=this._inputField[0].value&&!e.disabled?"":"none")}_iconShow(e){this._data.hasIcon&&(this.container[0].querySelector(".zselectbox__icon").style.display=e)}_afterBlur(e){this._isFocussed()||(super._afterBlur(...arguments),this._newValueHandler(e),this._altered=this._focussed=this._active=!1,this._skipHighlightingOnMouseUp=!1,this.container.removeClass("has-focus has-mfocus has-kfocus"))}_updateView(e,t){let a=this._data;t&&(this._skipDataSetting=!0,this._setIconTextData(t,a)),super._updateView(...arguments),this._skipDataSetting=!1}_beforeSelectHandler(e){return super._beforeSelectHandler(...arguments)}_postEachRender(){let e=this._data;super._postEachRender(...arguments),this._inputField[0].value=e.label,this._updateClrBtn(),this._highlightContent(),this._active=!1}_getRenderText(e){return this._getLabel(e,!1)}_focusHandler(){document.activeElement===this._inputField[0]||this._manualFocus||(this._manualFocus=!0,this._inputField.focus()),this._manualFocus=!1,this._focussed||(this._highlightContent(!0),this._skipHighlightingOnMouseUp=!1,this._focussed=!0),super._focusHandler()}_clrBtnMouseDownHandler(e){super._clrBtnMouseDownHandler(...arguments),this._inputField.val(""),this._opened&&this.listInstance.searchWithDelay("",{event:e})}_highlightContent(e){clearTimeout(this._highlightTimer),this._skipHighlighting||(this._highlightTimer=setTimeout(()=>{(e||this._isFocussed())&&(this._inputField.select(),this._skipHighlightingOnMouseUp=!0)}))}_setFocusFn(){this._inputField.focus().focusin()}_setAttribute(e,t){if("autoComplete"===e)this._opts[e]=t,this._reInit=!0;else if(/^(multiple|selectionLimit|showSearchField)$/.test(e))return;super._setAttribute(e,t)}_destroy(){super._destroy(...arguments),clearTimeout(this._highlightTimer)}_fetchAData(e,t){this._fetch(e,e=>t(e[0]))}_autoCompleteFn(e){if(!this._ajaxSource){let t;e.originalEvent&&(t=e.originalEvent.inputType);let a=this._inputField[0],o=a.value;o&&this._fetchAData({query:o},e=>{if(e){if("insertText"===t||"insertFromPaste"===t||!t){this._lastHoveredId=e.zitemid,this._skipHighlighting=!0,this._updateView(void 0,e),this._skipHighlighting=!1;let t=this._getProp(e,"label");a.setSelectionRange(o.length,t.length)}this._iconShow("")}else this._iconShow("none")})}}_fetchAData(e,t){this.listInstance.fetchData(e,e=>t(e.results[0]))}_hideClrBtn(){let e=this._data;e.clearButton.mainElement[0].style.display=this._inputField[0].value&&!e.disabled?"":"none"}}e.registerComponent("ZComboBox",e.ZSelect,ZComboBox)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcombobox.Templates,a=e.Templates.Utilities;t.WCContainer=()=>ZT.html`<div>`,t.WCChildren=t=>ZT.html`<div class="zselectbox__selected"> ${ZT.html`${t.icon&&a.WCIcon(t.icon)} ${ZT.html`<input ?disabled=${t.disabled} ?tabindex=${t.tabindex} class="zselectbox__textbox" ?value=${t.label} ?placeholder=${t.placeholder} autocomplete="off" />`}`} </div> ${t.clearButton&&e.createButton(t.clearButton)} ${a.WCIcon(t.arrow)}`}(ZComponents),function(e){let t=e.zcombobox.Templates,a=e.Templates.Utilities;t.container=()=>ZT.html`<div>`,t.children=t=>ZT.html`<div class="zselectbox__selected"> ${ZT.html`${t.icon&&a.icon(t.icon)} ${ZT.html`<input ?disabled=${t.disabled} ?tabindex=${t.tabindex} class="zselectbox__textbox" ?value=${t.label} ?placeholder=${t.placeholder} autocomplete="off" />`}`} </div> ${t.clearButton&&e.createButton(t.clearButton)} ${a.icon(t.arrow)}`}(ZComponents),function(e,t){e.$document.on("keydown.zdateselect",t=>{let a=e.openedDateSelect;a&&t.keyCode===e.keyCode.ESCAPE&&a._dtsMenu.is(":visible")&&a.close()});class ZDateSelect extends e.CoreComponent{get name(){return"zdateselect"}get attrs(){return{calendarIcon:!1,clearButton:!1,clearButtonIconClassName:null,clearButtonSVGIconId:null,calendarSVGIconId:null,calendarIconClass:null,immediateCommit:!0,calendarIconAlignment:"left",placeholder:"",locale:"en-US",arrowIcon:!1,value:null,fromValue:null,toValue:null,format:"dd/MM/yyyy",arrowIconClass:null,slideAnimate:!0,arrowSVGIconId:null,position:"bottom-left",selectedValueDisplayType:"value",hideCancelButton:!1,OKButtonLabel:null,cancelButtonLabel:null}}get props(){return{options:[],dropdownList:{},calendarIconClassName:null,arrowIconClassName:null,otherInputFormats:[],datePickerOptions:{monthsPerView:1},dateRangePickerOptions:{monthsPerView:2},labels:{OKButtonLabel:"OK",cancelButtonLabel:"Cancel",specificDate:"Specific date",customRange:"Custom range",placeholder:"Choose Date",clear:"Clear"}}}get EVENTS(){return["change","optionselect","beforedropdownlistopen","dropdownlistopen","beforedropdownlistclose","dropdownlistclose","pickerbeforeopen","pickeropen","pickerbeforeclose","pickerclose","pickerdateselect","todaybuttonclick","pickerchange","cancel","clear","beforedrilldown","drilldown","datemouseover","monthchange","yearchange","decadechange","beforedatecellrender"]}get SELECTORS(){let e=this.isCE;return{itemId:e?"zitemid":"data-zitemid",option:e?"z-option":"option",valueType:e?"value-type":"data-value-type"}}_getConstValues(){return["YESTERDAY","TODAY","TOMORROW","LAST_MONTH","THIS_MONTH","NEXT_MONTH","LAST_YEAR","THIS_YEAR","NEXT_YEAR","LAST_7_DAYS","LAST_30_DAYS","LAST_15_DAYS","NEXT_7_DAYS","NEXT_30_DAYS","NEXT_15_DAYS","THIS_WEEK","NEXT_WEEK","LAST_WEEK","WEEK_TO_TODAY","MONTH_TO_TODAY","YEAR_TO_TODAY"]}_init(t,a){this._useParent=!1;let o=this._data,n=this._opts,i=o.attrs={},r=n["date"+(this._checkTime?"Time":"")+"PickerOptions"],s=n["date"+(this._checkTime?"Time":"")+"RangePickerOptions"];this._isText="text"===n.selectedValueDisplayType;let l=n.labels,d=e.localeInfo[n.locale];["days","daysAbbreviated","monthsAbbreviated","months"].forEach(function(e){l[e]=d[e]||l[e]}),this._validateFormat();this._invalidFormat||("function"==typeof this._setFormat&&this._setFormat(),this._setOkCancelBtns(),this._checkValues(n),this._checkValues(r),this._checkValues(s),this._isMinMaxGiven=n.minDate||n.maxDate||r.minDate||r.maxDate||s.minDate||s.maxDate,o.alwaysSetAttrs=!0,i.tabindex=t.attr("tabindex")||0,i.id=this._elementId=t.attr("id")?t.attr("id")+"-container":this._getID(t),i["aria-haspopup"]=!0,i.role="select",n.placeholder=a.placeholder||this._getI18NText("placeholder"),n.calendarIcon&&this._getCalendarIconProps(o,n),n.arrowIcon&&this._getArrowIconProps(n),n.clearButton&&this._getClrBtnProps(o,n),this._buildData(),this._setSelectedData())}_checkValues(e){["fromValue","toValue","minDate","maxDate"].forEach(t=>{let a=e[t],o,n;a&&(o=this._parseDate(a),n=["YESTERDAY","TODAY","TOMORROW"].indexOf(a),o=o.isValid?o.date:void 0,!o&&(-1<n||-1<a.indexOf("NOW"))&&(o=new Date,-1<n&&o.setDate(o.getDate()+n-1),!this._checkTime&&o.setHours(0,0,0,0)),e[t]=o||void 0)})}_setOkCancelBtns(){let e=this._opts;e.immediateCommit||(e.OKButton=!0,e.cancelButton=!e.hideCancelButton)}_validateFormat(){this._checkFormat(/h|H|m|t/g)}_checkFormat(e){this._invalidFormat=e.test(this._opts.format)}_buildData(){this._setPlaceholder(),this._getMenuProps()}_disable(e){super._disable(e),this.element.attr("disabled",e)}_postRender(e,a){this.isCE&&this.element.hide(),a.clearButton&&(this._clear=t("#"+this._elementId+"--clear"),this._bindClrBtnEv()),this._data.className+=" zselectbox zdatetimeselectbox--container";let o=this._dtsMenu=e.find(".zdatetimeselectbox");this._placeholderElem=e.find(".zdatetimeselectbox__label"),this._setPlaceholder(!1),o.appendTo(t(a.dropdownList.appendTo||"body")),a.disabled&&this._disable(a.disabled),this._pickerContainer=o.find(".zdatetimeselectbox__datetimecontainer"),a.width&&(e[0].style.width=a.width+"px"),a.height&&(e[0].style.height=a.height+"px"),this._valueId||(a.value?this.setValue(a.value):a.fromValue&&a.toValue&&this._setFromToValue())}_setPickerVal(e){let a=this._getOptionObj(e,"valueType");a?this._setValue(t("#"+a.id)):(this._setSelectedData(),this._setPlaceholder())}_getOptionObj(e,t){let a=["range","date"];return this._data.menu.optData.find(o=>t?o[t]===e:o.isPicker||o.type&&-1<a.indexOf(o.type)||o.valueType&&-1<a.indexOf(o.valueType))}_postEachRender(e,a){let o=!a.rendered,n=a.modifiedAttr,i=this._dtsMenu;if(this._listContainer&&this._listContainer.length||(this._listContainer=i.find(".zdatetimeselectbox__listboxdetails"),!this._pickerOpened&&this._display(!0,this._listContainer)),this._pickerContainer&&this._pickerContainer.length||(this._pickerContainer=i.find(".zdatetimeselectbox__datetimecontainer")),o||n){let e=this._data.className;a.calendarIcon?(e+=" zselectbox--icontext","right"===a.calendarIconAlignment?e+=" zselectbox--dateandtime zdatetimeselectbox--calendariconright":e=e.replace(/zselectbox--dateandtime|zdatetimeselectbox--calendariconright/g,"")):e=e.replace(/zselectbox--icontext/g,""),this._data.className=e,this._updateClass("zdatetimeselect--withcalendaricon|zdatetimeselect--withclrbtn|zdatetimeselect--witharrow",!0),this._data.className+=(a.calendarIcon?" zdatetimeselect--withcalendaricon":"")+(a.clearButton?" zdatetimeselect--withclrbtn":"")+(this._data.arrowIconProps?" zdatetimeselect--witharrow":""),"rtl"===n&&i.is(":visible")&&this._getPosition()}!this._valueId||a.disabled||a.readonly||(this._setValue(t("#"+this._valueId)),this._valueId=void 0)}_setSelectedData(e){let t=this._opts,a=t.value,o=t.fromValue,n=t.toValue,i=this._selectedData={label:e?e.label:this._data.placeholder,value:a,fromValue:o,toValue:n},r=this._getStringVal.bind(this);i.valueString=a?r(a):o&&n?r(o,n):void 0,i.fromValueString=o&&r(o),i.toValueString=n&&r(n);let s=i.valueString;return i.translatedValue=this._translateEToA(r(a||o,a?void 0:n,void 0,!0)),i.text=e?e.label:s,i.selectedValue=s,s}_setPlaceholder(e){let t=this._data,a=this._opts,o=a.value,n=this._placeholderElem;e?o=e:o&&o instanceof Date?o=this._getStringVal(o,void 0,void 0,!0):a.fromValue&&a.toValue?o=this._getStringVal(a.fromValue,a.toValue,void 0,!0):!1===e&&(e=t.placeholder),t.placeholder=o=o?this._translateEToA(o):a.placeholder,n&&n.attr("title",o).text(o)}_dispatchEvent(e,t,a){return super._dispatchEvent(e,t,{menu:this._dtsMenu,...(a||{})})}_getMenuProps(){let e=this._opts,t=this._data.menu={},a=this._SELECTORS.option,o=this.element.find(a),n=e.options,i=e.dropdownList.className;t.className="zdatetimeselectbox zdatetimepicker--group"+(i?" "+i:"")+(e.rtl?" zh-rtl":""),t.optData=[],t.prepend=t.append=!1,(e.selectedValue||e.value||0===this.element.find(a+"[selected]").length)&&(this.element[0].selectedIndex=-1),o.length?this._getOptionData(o):n&&this._getOptData(n),this._setIsPickerVar(),t.containerClass="zdatetimeselectbox__listboxdetails",t[-1<["left","bottom-right","top-right"].indexOf(e.position)?"prepend":"append"]=!0,t.containerClass+=t.prepend?" zh-rightlist":""}_getOptData(e,t,a){let o=[];for(let n=0,i;n<e.length;n++)i=e[n],i.selected=i.selected||this._isSelected(i),i=this._setData(i,a),o.push(this._setOptData(i,t));return o}_setOptData(e,t){let a=e.type||e.valueType;return e.class=(e.class?e.class+" ":"")+"zdatetimeselectbox__option"+(e.selected?" is-selected":"")+(e.disabled?" is-disabled":""),e.valueType&&-1<["date","range"].indexOf(a)&&(e.class+="date"===a?" zdatetimeselectbox--customdate":" zdatetimeselectbox--customrange",e.label+="..."),e.hidden?e.style=(e.style||"")+"display:none":!e.disabled&&e.selected&&(this._valueId=e.id),t||this._data.menu.optData.push(e),e}_getPosition(){let t=this._opts,a=t.rtl,o=this._dtsMenu;o.css("right","");let n=e.Position.get(this.container,this._dtsMenu,{direction:t.position,rtl:a,positionAlterable:t.positionAlterable}).elementPosition,i=-1<["left","bottom-right","top-right"].indexOf(t.position)||a;o.css({left:"",right:"",top:n.top}),o.css(i?"right":"left",i?e.$window[0].innerWidth-(n.left+o.outerWidth(!0)):n.left)}_setIsPickerVar(){this._isPicker||(this._isPicker=!!this._getOptionObj())}_isSelected(e,t){let a=this._opts,o=a.value,n=e.value;return t=t||e,!this._valueId&&!!(o&&(n===o||"date"===t.valueType)||a.fromValue&&"range"===t.valueType||n&&n===a.selectedValue)}_setData(a,o){let n=this._SELECTORS.option,i,r;if(!a.zdatapopulated){o?i=o.getAttribute(this._SELECTORS.itemId):(o=t("<"+n+"/>")[0],r=!0),i=(i||this._getID(o))+"-item";let s=a.label=a.label||o.textContent.trim(),l=a.type||a.valueType;-1<["date","range"].indexOf(l)&&!s?s=this._getI18NText("date"===l?"specificDate":"customRange"):a.value=a.value||o.value||s;let d=["label","hidden","disabled","selected"];for(let e=0;4>e;e++)a[d[e]]=a[d[e]]||o[d[e]];a.style=o.getAttribute("style"),this._addedByComponent=this.isCE,o=t(o),this.isCE&&!this._opts.isLyteComponent&&e.option(o).saveParentIns(this.element),o.attr(a),o.removeAttr("valuetype"),a.valueType&&o.attr(this.isCE?"value-type":"data-value-type",a.valueType),o.text(s),o.attr("id",i.replace("-item","")),a.class=(o[0].getAttribute("class")||"")+(a.class||a.className||""),this._addedByComponent=!1,r&&o.appendTo(this.element),a.zdatapopulated=!0,a.id=i}return a}_bindEvents(){this._addEvents({click:"mousedown",focus:"focusin focusout"}),this._addEvents({menuClick:"mousedown",menuBlur:"focusout"},this._dtsMenu),this._opts.clearButton&&this._addEvents({mouseEnter:"mouseenter"})}_menuBlurHandler(e){this._focusHandler(e)}_focusHandler(e){if(!this._opts.disabled){let t=!0;"focusout"===e.type&&(t=this._dtsMenu.is(":visible")),t&&this._dispatchEvent("focusout"===e.type?"blur":"focus",e,{})}}_display(t,a){e.Browser.isIE&&9===e.Browser.getIEVersion()?a[0].style.display=t?"none":"inline-block":super._display(...arguments)}_setMenuAttr(e){this._display(e,this._dtsMenu),this.container.attr("aria-expanded",!e),this._updateClass("is-active",e||void 0)}_clickHandler(e){this._opts.readonly||this._opts.disabled||(this._dtsMenu.is(":visible")?this.close(void 0,e):this._showMenu(e))}_showMenu(t){this._dispatchEvent("beforedropdownlistopen",t,{})&&!this._opts.disabled&&(e.openedDateSelect=this,e.bindDocumentEvents({element:this.element,container:this._dtsMenu,forElement:this.container,ctype:this.name,closeMethodName:"_closeHandlerClose",closeEvent:"dropdownlistclose"}),this._setMenuAttr(!1),this._opts.slideAnimate&&this._animateMenu(!!this._lastSelected),this._pickerOpened&&this._isPicker&&this._openPicker(null,null,!0),this._scrollHt===void 0&&this._curLi&&(this._scrollHt=this._curLi[0].offsetTop),this._setDimensions(),this._dispatchEvent("dropdownlistopen",t,{}),this._getPosition(),this._opts.slideAnimate&&this._pickerOpened&&this._setWidth(this["_"+this._pickerOpened+"Picker"]))}_closeHandlerClose(e){this.close(void 0,e)}_animateMenu(e,t){this._listContainer[e?"addClass":"removeClass"]("zdts-transition").width("number"==typeof t?t:"")}_setDimensions(){let e=this._opts.dropdownList,t=this._pickerOpened&&this["_"+this._pickerOpened+"Picker"],a=this._dtsMenu.find(".zdatetimeselectbox__listbox"),o=a.find(".zdatetimeselectbox__option:visible").length,n;a.css("height",""),this._pickerContainer.children().length&&t&&t.is(":visible")&&(n=t.outerHeight(!0)),e.height&&n&&(n=e.height<n?n:e.height),n=n||e.height||(10>o?33*o:310),a.css("height",n+(6<o?-10:0)),n=null,this._scrollHt!==void 0&&(a[0].scrollTop=this._scrollHt),e.width&&a.css("width",e.width)}_menuClickHandler(e){if(!this._opts.readonly&&!this._opts.disabled){let a=t(e.target).closest(".zdatetimeselectbox__option");if(a.length&&!a.hasClass("is-disabled")){this._scrollHt=a[0].offsetTop;let t=this._setValue(a);this._checkForClose(e,t),this._dispatchEvent("optionselect",e,{item:a,option:this._currentSelected}),this._setDimensions()}}}_checkForClose(e,t){let a=t.type||t.valueType,o=a&&-1<["range","date"].indexOf(a)||t.isPicker;o||(this.close(void 0,e),this._triggerChange(e))}_isComit(e){return this["_"+e+"PickerInstance"]._opts.immediateCommit}_triggerChange(e){let t=this._getOptForItem(this._curLi[0].id),a=this._lastSelected;t[0].selected=!0,a&&t.attr("id")===a.attr("id")||this._dispatchEvent("change",e,{oldValue:a,newValue:t,...this._selectedData})}_getOptForItem(e){return this.element.find("[id="+e.replace("-item","")+"]")}_setValue(e,t){let a=this._prevLi=this._curLi;this._lastSelected=a&&a.length&&this._getOptForItem(a.attr("id")),this._selectOpt("last",!1),this._updateSelectClass(a,!1),this._curLi=e,this._currentSelected=e&&e.length&&this._getOptForItem(e.attr("id")),this._selectOpt("current",!0);let o=this._updateSelectClass(e,!0);return t||(this._setPlaceholder(this._getPlaceHolder(o)),this._setSelectedData(o&&o.valueType?void 0:o)),o}_selectOpt(e,t){this._addedByComponent=this.isCE,e=this["_"+e+"Selected"],e&&e.attr("selected",t),this._addedByComponent=!1}_updateSelectClass(e,t){let a="is-selected";if(e){e[(t?"add":"remove")+"Class"](a);let o=this._data.menu.optData[e.index()],n=o.class;return o.class=t?n+(0>o.class.indexOf(a)?" is-selected":""):n.replace(a,""),o}}_parseDate(t,a){return e.Date._parseDateValue(t,a||this._opts.format,this._opts.otherInputFormats)||{date:void 0}}_getPlaceHolder(e){let t=this._pickerOpened;if(e){let a=e.value,o=new Date,n=new Date,i=!1,r=this._parseDate(a),s=!0,l=e.type||e.valueType,d=o.getDate(),c=["YESTERDAY","TODAY","TOMORROW"].indexOf(a),m=["LAST_MONTH","THIS_MONTH","NEXT_MONTH"].indexOf(a),_=["LAST_YEAR","THIS_YEAR","NEXT_YEAR"].indexOf(a),u=-1<["range","date"].indexOf(l),p,h;if(t&&(!u||e.valueType!==t)&&(this._pickerOpenOrClose(!0),this._lastOpened=this._pickerOpened,this._pickerOpened=void 0),e.type&&"custom"===e.type)return this._updateValues(e.value,null,"custom"),this._isText?e.label:e.value;if(-1<c)o.setDate(d+c-1),n=new Date(+o),e.isPicker?e.type=l=l||"date":s=!1;else if(-1<["LAST_7_DAYS","LAST_30_DAYS","LAST_15_DAYS","NEXT_7_DAYS","NEXT_30_DAYS","NEXT_15_DAYS"].indexOf(a)){let e=-1<a.indexOf("NEXT");if(p=parseInt(a.split("_")[1])-1,n.setDate(d+p*+(e||-1)),!e){let e=o;o=n,n=e}}else"THIS_WEEK"===a?(o.setDate(o.getDate()-o.getDay()),n=this._getDate(o,6)):"NEXT_WEEK"===a?(o.setDate(o.getDate()+(7-o.getDay())),n=this._getDate(o,6)):"LAST_WEEK"===a?(n.setDate(n.getDate()-n.getDay()-1),o=this._getDate(n,-6)):-1<m?(o.setDate(1),n=new Date(o.setMonth(o.getMonth()+m-1)),n.setMonth(o.getMonth()+1),n.setDate(0)):-1<_?(o=new Date(o.getFullYear()+_-1,0,1),n=new Date(o.getFullYear(),12,0)):-1<["WEEK_TO_TODAY","MONTH_TO_TODAY","YEAR_TO_TODAY"].indexOf(a)?(o.setDate(-1<a.indexOf("WEEK")?o.getDate()-o.getDay():1),-1<a.indexOf("YEAR")&&o.setMonth(0)):"range"===e.valueType||"date"===e.valueType?h=!0:"string"==typeof e.value&&r.isValid||r.isValid?(h=!0,l=l||"date",e.isPicker&&(e.type=l||"date")):e.fromValue&&e.toValue&&(h=!0);if(!e.valueType&&e.isPicker&&(e.type=l=l||"range"),s=l?"range"===l:s,h){let t=this._handlePickerOptionClick(e,s);o=t.date1,n=t.date2,e.valueGiven=o||n}if(this._checkTime&&h||(n&&n.setHours(0,0,0,0),o&&o.setHours(0,0,0,0)),s&&this._isMinMaxGiven){let a=this._isValidDate(o,"Range",!(u||e.isPicker)),i=this._isValidDate(n,"Range",!(u||e.isPicker));a&&i||this._getValidRangeVal(o,n)}let g=o||n,f=[o,s?n||o:null];if(u||e.isPicker){let t=this._valueSet||this._valueId;if(g&&(!this["_"+l+"Picker"]&&!e.valueType||t||h)&&this._updateValues(...f,s?"range":"date",e),this._openPicker(e,l),e.valueType)return!!(t||h&&this._isComit(l)&&(o||n))&&void 0;l&&!this._isComit(l)&&this._valueId!==e.id&&(i=!0)}else this._prevWidth=0;let b=g?this._updateValues(...f,s?"range":"date",e,i):void 0;return void 0===b?!i&&(this._isText?e.label:this._getStringVal(...f,void 0,!0)):b}this._pickerOpenOrClose(!0),this._lastOpened=this._pickerOpened,this._pickerOpened=void 0}_getDate(e,t){let a=new Date(+e);return a.setDate(a.getDate()+t),a}_getStringVal(t,a,o,n){o=o||this._opts.format;let i=e.Date.formatDate.bind(e.Date),r=n&&this._opts.labels;return t&&i(t,o,r)+(a?" - "+i(a,o,r):"")}_updateValues(e,t,a,o,n){let i=this._opts,r=t&&e,s="custom"===a;n||(i.value=r?void 0:s?e:e&&new Date(+e),i.fromValue=e&&!s?new Date(+e):void 0,i.toValue=r?t&&new Date(+t):e&&!s?new Date(+e):void 0),this._curFrom=e&&new Date(+e),this._curTo=r?new Date(+t):void 0,this._isPicker&&this._setPickerValues(...arguments)}_resetValues(){this._opts.value=void 0,this._opts.fromValue=void 0,this._opts.toValue=void 0,this._setPlaceholder(this._opts.placeholder)}open(){this._opts.disabled||this._opts.readonly||this._showMenu()}close(t,a){this._dispatchEvent("beforedropdownlistclose",a,{})&&(this._setMenuAttr(!0),this._pickerOpened&&this._pickerOpenOrClose(!0),this._dispatchEvent("dropdownlistclose",a,{}),e.openedDateSelect=void 0)}getValue(e){e=this._parseDate(e||this._opts.value).date;let t=this._getStringVal(e);if(e)return{value:e,valueString:t,translatedValue:this._translateEToA(t)}}setValue(e){let a=this._opts,o=this._getOptionObj(e,"value");e&&(e=this._parseDate(e).date,this._valueSet=!0,a.value=e,a.fromValue=null,a.toValue=null,o?this._setValue(t("#"+o.id)):this._setPickerVal("date")),this._valueSet=!1}getFromValue(){let e=this.getValue(this._opts.fromValue);return e&&{fromValue:e.value,fromValueString:e.valueString,translatedFromValue:e.translatedValue}}getToValue(){let e=this.getValue(this._opts.toValue);return e&&{toValue:e.value,toValueString:e.valueString,translatedToValue:e.translatedValue}}getSelectedOption(){return{item:this._curLi,option:this._currentSelected,...this.getValue(),...this.getFromValue(),...this.getToValue(),selectedValue:this._selectedData.selectedValue}}_destroy(){this._isPicker&&this._destroyPicker(),this._dtsMenu.remove(),this._setUndefined(["dtsMenu","placeholderElem","pickerContainer","lastSelected","currentSelected","selectedData"],"")}_getArrowIconProps(t){(!t.calendarIcon||t.calendarIcon&&"right"!==t.calendarIconAlignment)&&(this._data.arrowIconProps=e._getIconInfo(t.arrowIconClassName,t.arrowSVGIconId,"zc__svg--downarrow zselectbox__arrow","zselectbox__icon arrowicon",{templateRender:!0,isCE:this.isCE}))}_getCalendarIconProps(t,a){t.calendarIconProps=e._getIconInfo(a.calendarIconClassName,a.calendarSVGIconId,"zc__svg--calendaricon zbutton__svg","zselectbox__icon calendaricon",{templateRender:!0,isCE:this.isCE}),t.isRight=t.isLeft=!1,"right"===a.calendarIconAlignment?(t.arrowIconProps=null,t.isRight=!0):t.isLeft=!0}_getClrBtnProps(e,t){let a=this._getI18NText("clear");e.clearButton={id:this._elementId+"--clear",iconClassName:t.clearButtonIconClassName,SVGIconId:t.clearButtonSVGIconId||"zc__svg--clear",className:"zselectbox__clearbutton",templateRender:!0,rtl:this.rtl,isCE:this.isCE,customAttributes:{tabindex:-1,"aria-label":a,title:a}}}_bindClrBtnEv(){this._clear&&this._addEvents({clearClick:"mousedown"},this._clear)}_clearClickHandler(e){this.deselectOption(),e.stopPropagation(),this._mouseEnterHandler(),this._scrollHt=0,this.close()}_mouseEnterHandler(){let e=this._opts;this._clear[((e.value||e.fromValue||e.toValue)&&!e.disabled&&!e.readonly?"remove":"add")+"Class"]("zh-dnone")}_getOptionData(t){for(let a=0;a<t.length;a++){let o=t[a],n=e._getOpts(o);o._created=!0,n.selected=n.selected||o.selected||this._isSelected(o,n),n=this._setData(n,o),this._setOptData(n)}}_isValidDate(t,a,o){let n=this._opts,i=!o&&n["date"+(this._checkTime?"Time":"")+(a||"")+"PickerOptions"],r=this._parseDate(i.minDate||n.minDate).date,s=this._parseDate(i.maxDate||n.maxDate).date;return r=!r||e.Date.isGreater(t,r),s=!s||e.Date.isGreater(s,t),r&&s?t:null}_getValidRangeVal(e,t){for(let a=this._isValidDate(e,"Range"),o=this._isValidDate(t,"Range");(!a||!o)&&+e<=+t;)a||(e.setDate(e.getDate()+1),a=this._isValidDate(e,"Range")),o||(t.setDate(t.getDate()-1),o=this._isValidDate(t,"Range"));this._curFrom=+e<=+t?new Date(+e):void 0,this._curTo=+e<=+t?new Date(+t):void 0}_openPicker(e,t,a){this._prevWidth||this._saveWidth(),e&&!this["_"+t+"Picker"]&&this._initPicker(t),t&&this._pickerOpened!==t&&(this._pickerOpened=t,t!==this._lastOpened&&this._opts.slideAnimate&&this._animateMenu()),this._setDimensions();let o=this._pickerOpened;o&&(this._pickerOpenOrClose(null,!0),this._getPosition(),this._setWidth(this["_"+o+"Picker"],a))}_pickerOpenOrClose(e,t){t||this._saveWidth(),this._listContainer&&this._display(e,this._listContainer),this._pickerOpened&&this["_"+this._pickerOpened+"PickerInstance"][e?"close":"open"](),this._setDimensions()}_saveWidth(){this._prevWidth=this._listContainer.innerWidth()}_setWidth(e,t){if(!t&&this._opts.slideAnimate){let e=this._listContainer.innerWidth();t||this._animateMenu(!0,this._prevWidth),setTimeout(()=>{this._listContainer.css({width:e})},30),this._prevWidth=null}}_getPickerOpts(e,t){return{rtl:e.rtl,format:e.format,isCE:this.isCE,hideCancelButton:e.hideCancelButton,immediateCommit:e.immediateCommit,OKButtonLabel:e.OKButtonLabel||this._getI18NText("OKButtonLabel"),cancelButtonLabel:e.cancelButtonLabel||this._getI18NText("cancelButtonLabel"),position:"right",type:"inline",locale:e.locale,fromValue:e.fromValue,minDate:e.minDate,maxDate:e.maxDate,toValue:e.toValue,value:t?e.value:void 0,fromLabel:e.fromLabel,toLabel:e.toLabel,cancel:this._cancelHandler.bind(this),className:t?"zdts-customdate":"zdts-customrange",appendTo:this._pickerContainer,change:this._changeHandler.bind(this),...this._bindPickerEvents(),clear:this._clearHandler.bind(this),afterdrilldown:this._setDimensions.bind(this)}}_initPicker(a){let o=this._opts,n="date"===a,i=this._getPickerOpts(o,n),r;i=t.extend(!0,{},i,o[(n?"date":"dateRange")+"PickerOptions"]),this["_"+(n?"date":"range")+"Picker"]=r=t(e["createDate"+(n?"":"Range")+"Picker"](i)),r.removeClass("zdatetimepicker zdatetimepicker--group"),this["_"+(n?"date":"range")+"PickerInstance"]=e["date"+(n?"":"range")+"picker"](r)}_bindPickerEvents(){let e=["beforeopen","open","beforeclose","close"],t=this,a=["beforedatecellrender","beforefocus","open","beforeopen","beforeclose","close","dateselect","todaybuttonclick","drilldown","beforedrilldown","afterdrilldown","datemouseover","monthchange","yearchange","decadechange","fromvalueselect","tovalueselect","clear"],o={};for(let n=0;n<a.length;n++)o[a[n]]=(o,i)=>{this.isCE&&o.stopPropagation(),-1<e.indexOf(a[n])?this._dispatchEvent("picker"+a[n],o,i):(-1<["yearchange","monthchange"].indexOf(a[n])&&t._setDimensions(),this._dispatchEvent(a[n],o,i))};return o}_clearHandler(e){this._isComit(-1<e.type.indexOf("rangepicker")?"range":"date")&&(this._shouldClose=!1),this._dispatchEvent("clear",e,{})}_setPickerValues(e,t,a){if(this._datePicker){let t=this._datePickerInstance,o="date"!==a||!this._isSameDate({value:t.getAttribute("value")});o&&t.setAttribute("value","date"===a?e:void 0)}if(this._rangePicker){let o=this._rangePickerInstance,n="range"!==a||!this._isSameDate({fromValue:o.getAttribute("fromValue"),toValue:o.getAttribute("toValue")});n&&(o.setAttribute("toValue",null),o.setAttributes({fromValue:e,toValue:"range"===a?t:e}))}}_changeHandler(e,a,o,n){if(e.originalEvent){if(void 0===this._shouldClose&&(this._shouldClose=!0),!n){let o;this.isCE?(e.stopPropagation(),a=e.detail,o=-1<a.container[0].tagName.indexOf("RANGE")?"range":"date"):o=-1<e.type.indexOf("range")?"range":"date";let n=a.fromValue,i=a.value,r=this._curLi&&this._getOptionObj(this._curLi.attr("id"),"id"),s=a.toValue,l=this._getOptionObj(o,"valueType"),d=this._isSameDate(a);this._updateValues(n||i,s,o,r),i||n&&s||this._resetValues(),d&&!this._isComit(o)&&r&&-1<this._getConstValues().indexOf(r.value)?(this._setSelectedData(r),this._setPlaceholder(this._isText?r.label:this._selectedData.valueString)):(this._setSelectedData(),this._setPlaceholder(this._selectedData.valueString),l&&this._curLi&&this._curLi.attr("id")!==l.id&&this._setValue(t("#"+l.id))),this._triggerChange(e)}o||!this._shouldClose&&t(a.container).is(":visible")||this.close(),this._shouldClose=!0}}_isSameDate(t){let a=e.Date.areDatesEqual.bind(this);return this._checkTime?t.value?+t.value==+this._curFrom:+t.fromValue==+this._curFrom&&+t.toValue==+this._curTo:t.value?a(t.value,this._curFrom):a(t.fromValue,this._curFrom)&&a(t.toValue,this._curTo)}setFromValue(e){this._setFromToValue(e)}setToValue(e){this._setFromToValue(null,e)}_setFromToValue(t,a){let o=this._opts,n=!!t;t=this._parseDate(t||o.fromValue).date,a=this._parseDate(a||o.toValue).date,t&&a&&e.Date.isGreater(a,t)&&(this._valueSet=!0,o[(n?"from":"to")+"Value"]=n?t:a,o.value=null,this._setPickerVal("range"),this._valueSet=!1)}_cancelHandler(e){this.close(),this._dispatchEvent("cancel",e,{})}_getPickerLabel(e,t){let a=this._opts;return a.value||a.fromValue||a.toValue?!!t&&null:e.label.replace("...","")}_handlePickerOptionClick(t,a){let o=this._parseDate.bind(this),n=this._opts,i=n.value,r=n.fromValue,s=n.toValue,l=o(t.value),d=r&&s&&(this._checkTime?+r==+s:e.Date.areDatesEqual(r,s)),c,m;if(!a)l.isValid?c=l.date:d?(c=r,m=void 0):c=i&&(-1<["TODAY","NOW"].indexOf(i)?new Date:o(n.value).date);else if(t.fromValue&&t.toValue){let e=t.fromValue,a=t.toValue;c="string"==typeof e?o(e).date:e,m="string"==typeof a?o(a).date:a}else l.isValid?c=l.date:(c=o(r).date,m=o(s).date);return{date1:c,date2:m}}_destroyPicker(){this._datePicker&&this._datePickerInstance.destroy(),this._rangePicker&&this._rangePickerInstance.destroy(),this._datePicker=this._datePicker=this._datePickerInstance=this._rangePickerInstance=void 0}deselectOption(){this._currentSelected&&(this._resetValues(),this._setValue(null),this._setPickerValues())}addOption(e,a,o,n){let i=this._data.menu.optData.length;o="append"===a?0:o?t(o).index():i,a=("before"===a?0:"after"===a?+!o||1:i)+o,this.addOptionAt(e,a,n)}_getItems(e){return e instanceof Array?e:[e]}addOptionAt(e,t,a){let o={},n=0,r=this._data.menu.optData;for(o=a?this._getOptData(this._getItems(a),!0,e):this._getOptionData(this._getItems(e),!0),n=0;n<r.length;n++){let e=r[n],t=o.filter(t=>t.id===e.id);t.length&&(o=o.filter(e=>e.id!==t[0].id),r.splice(n,1,t[0]))}let s=r.splice(0,t,...o);s.length&&(this._data.menu.optData=[...s,...r]),this._render(),this._setIsPickerVar()}removeOption(e){e=this._getItems(e);for(let a=0,o=e.length,n;a<o;a++)n=e[a],0>n.indexOf("#")&&(n="#"+this._getOptionObj(n,"value").id),this.removeOptionAt(t(n).index())}removeOptionAt(e){this._data.menu.optData.splice(e,1),this.element.find(this._SELECTORS.option)[e].remove(),this._render(),this._setDimensions(),this._setIsPickerVar()}setOptionAttributes(e,t,a){if(e=this._getItems(e),"object"==typeof t&&Object.keys(t).length)for(let a in t)this.setOptionAttributes(e,a,t[a]);else t&&this._setOptionAttribute(e,t,a);this._setIsPickerVar()}_setOptionAttribute(e,a,o){for(let n=0;n<e.length;n++){let i=e[n],r=this._data.menu.optData,s=t(i)[0].nodeType?r[t(i).index()]:r.find(e=>-1<e.label.indexOf(i.label)),l=this._getOptForItem(s.id),d=s[a],c;i=t("#"+s.id),s[a]=o;"selected"===a?!o||s.disabled||s.hidden?c=!0:this._setValue(i):"hidden"===a?(this._display(o,i),c=i.hasClass("is-selected")):"disabled"===a?(o?0>s.class.indexOf(" is-disabled")&&(s.class+=" is-disabled"):s.class=s.class.replace(" is-disabled",""),i[o?"addClass":"removeClass"](" is-disabled"),o&&i.hasClass("is-selected")&&(c=!0)):"label"===a?(l[0].innerText=o,i[0].innerText=o):"className"===a?(s.class=o,i.removeClass(d).addClass(o)):"valueType"===a?(s.selected=this._isSelected(l,s),s.selected&&this._setValue(i)):void 0;c&&(this.deselectOption(),this._clear&&this._clear.addClass("zh-dnone"))}}_setAttribute(a,o){let n=this._opts,i=this._data,r=n[a],s=this._selectedData,l=this._datePickerInstance,d=this._rangePickerInstance,c=this._dtsMenu,m=s.value||s.fromValue||s.toValue,_,u;if(n[a]=o,-1<["arrowSVGIconId","arrowIcon","arrowIconClassName"].indexOf(a))o?this._getArrowIconProps(n):i.arrowIconProps=null,i.modifiedAttr="arrowIcon",this._domChanged=!0;else if(-1<["calendarIcon","calendarIconAlignment","calendarIconClassName","calendarSVGIconId"].indexOf(a)){let e=!0;o&&n.calendarIcon?(this._getCalendarIconProps(i,n),"right"===n.calendarIconAlignment&&(i.arrowIconProps=null,e=!1)):i.calendarIconProps=i.isRight=i.isLeft=null,i.modifiedAttr="calendarIcon",e&&n.arrowIcon&&!i.arrowIconProps&&this._getArrowIconProps(n),this._domChanged=!0}else if("placeholder"===a&&!this._curLi)i.placeholder=o,this._setPlaceholder(!1);else if("format"===a){if(this._validateFormat(),!this._invalidFormat){let t=["value","fromValue","toValue"],a;for(let l=0;l<t.length;l++)a=n[t[l]],a&&("string"==typeof a&&(a=this._parseDate(a,r),a=e.Date.formatDate(a,o),n[t[l]]=a),s[t[l]+"String"]=e.Date.formatDate(a,o));s.valueString=s.value?s.valueString:s.fromValueString+" - "+s.toValueString,s.translatedValue=this._translateEToA(s.valueString),_=!0}}else if("selectedValueDisplayType"===a)this._isText="text"===o,_=!0;else if("width"===a)this.container.width(o);else if("height"===a)this.container.height(o);else if("disabled"===a)this._disable(o);else if("datePickerOptions"===a&&l)l.setAttributes(o),this._isMinMaxGiven=n.minDate||n.maxDate||o.minDate||o.maxDate||d&&(d.getAttribute("minDate")||d.getAttribute("maxDate")),this._datePicker.removeClass("zdatetimepicker zdatetimepicker--group");else if("dateRangePickerOptions"===a&&d)d.setAttributes(o),this._isMinMaxGiven=n.minDate||n.maxDate||l&&(l.getAttribute("minDate")||l.getAttribute("maxDate"))||o.minDate||o.maxDate,this._rangePicker.removeClass("zdatetimepicker zdatetimepicker--group");else if("value"===a)this.setValue(o);else if(-1<["fromValue","toValue"].indexOf(a))this["set"+("fromValue"===a?"FromValue":"ToValue")](o);else if("dropdownList"===a)for(let e in o){let a=o[e];"className"==e?(r.className&&c.removeClass(r.className),c.addClass(a)):"appendTo"==e?c.appendTo(t(a)):["height","width"].indexOf(e)&&this._setDimensions()}else if(-1<["immediateCommit","hideCancelButton","OKButtonLabel","cancelButtonLabel"].indexOf(a))"immediateCommit"===a&&this._setOkCancelBtns(),this._domChanged=!0,u=!0;else if("options"===a)this._reInit=!0;else if("rtl"===a){let e=i.menu.className;i.menu.className=o?e+" zh-rtl":e.replace("zh-rtl",""),i.modifiedAttr="rtl",this._domChanged=u=!0}return u&&(l&&l.setAttribute(a,o),d&&d.setAttribute(a,o)),m&&_&&this._curLi&&(s.label=s.valueString||i.placeholder,this._setPlaceholder(this._isText&&!this._checkTime?s.text:s.label)),this._domChanged}}e.registerComponent("ZDateSelect",ZDateSelect)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdateselect.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=o=>ZT.html`${o.isLeft&&a.WCIcon(o.calendarIconProps)} <div class="zselectbox__selected"> <span class="zdatetimeselectbox__label zselectbox__text" aria-placeholder="${o.placeholder}"></span> </div> ${o.clearButton&&e.createButton(o.clearButton)} ${o.isRight&&a.WCIcon(o.calendarIconProps)} ${o.arrowIconProps&&a.WCIcon(o.arrowIconProps)} ${o.menu&&t.WCMenu(o.menu)}`,t.WCMenu=e=>ZT.html`<div ?class="${e.className}"> ${e.prepend&&t.WCPickerContainer(e)} <ul class="zdatetimeselectbox__listbox"> ${e.optData.map(e=>ZT.html`<li ?class="${e.class}" ?valueType="${e.valueType}" id="${e.id}" ?style="${e.style}">${e.label}</li>`)} </ul> ${e.append&&t.WCPickerContainer(e)} </div>`,t.WCPickerContainer=e=>ZT.html`<div class="${e.containerClass}"> <div class="zdatetimeselectbox__datetimecontainer"> </div> </div>`}(ZComponents),function(e){let t=e.zdateselect.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=o=>ZT.html`${o.isLeft&&a.icon(o.calendarIconProps)} <div class="zselectbox__selected"> <span class="zdatetimeselectbox__label zselectbox__text" aria-placeholder="${o.placeholder}"></span> </div> ${o.clearButton&&e.createButton(o.clearButton)} ${o.isRight&&a.icon(o.calendarIconProps)} ${o.arrowIconProps&&a.icon(o.arrowIconProps)} ${o.menu&&t.menu(o.menu)}`,t.menu=e=>ZT.html`<div ?class="${e.className}"> ${e.prepend&&t.pickerContainer(e)} <ul class="zdatetimeselectbox__listbox"> ${e.optData.map(e=>ZT.html`<li ?class="${e.class}" ?valueType="${e.valueType}" id="${e.id}" ?style="${e.style}">${e.label}</li>`)} </ul> ${e.append&&t.pickerContainer(e)} </div>`,t.pickerContainer=e=>ZT.html`<div class="${e.containerClass}"> <div class="zdatetimeselectbox__datetimecontainer"> </div> </div>`}(ZComponents),function(e,t){class ZTimeInput extends e.CoreComponent{get name(){return"ztimeinput"}get attrs(){return{timeFieldType:"input",minTime:null,maxTime:null,id:null,selectedTime:"12:00 AM",valueUpdate:!1,timeLabelType:"icon",timeLabel:"Time",timeMultipleSelectBoxType:"h-m-t",timeLabelIconClass:null,timeLabelSVGIconId:null,format:"hh:mm tt",hourStep:1,minuteStep:5}}get props(){return{fixedTimeOptions:[],disabledTimeList:[]}}get EVENTS(){return["hourchange","minutechange","periodchange","timechange"]}_init(e,t){this._is12HourFormat=-1<t.format.indexOf("h"),t.viewDate=new Date,t.viewDate.setHours(0,0,0,0),t.selectedTime=this._getDateVal(t.selectedTime),this._validateTimeOpts(),this._buildData()}update(){this._checkForTime&&this._checkForTime()}_validateLimits(t){let a=this._opts,o=["minTime","maxTime"];for(let e=0,n;2>e;e++)n=o[e],a[n]&&(this["_"+n]=a[n]=this._parseTimeVal(n));let n=a.minTime,i=a.maxTime;n&&i&&e.Date.isGreater(n,i)&&(i=a.maxTime=void 0),i&&t&&e.Date.isGreater(t,i)&&a.selectedTime.setHours(i.getHours(),i.getMinutes(),0,0),n&&t&&e.Date.isGreater(n,t)&&a.selectedTime.setHours(n.getHours(),n.getMinutes(),0,0)}_checkHourMinLimit(e,t,a){let o=this._opts.minTime,n=this._opts.maxTime;return o&&(a&&e<o.getHours()||e===o.getHours()&&t<o.getMinutes())||n&&(a&&e>n.getHours()||e===n.getHours()&&t>n.getMinutes())}_checkPeriod(t,a,o){let n=t.getHours(),i=!!((o?12<=n:12>n)&&this._checkHourMinLimit(a,t.getMinutes(),!0));this._opts.disabledTimeList.length&&(i=this._checkIfDisabled(t,t.getMinutes(),i,a)),e.select(this._periodEle).setOptionAttributes(o?"AM":"PM","disabled",i)}_disableTime(e,t,a){let o=!!this._checkHourMinLimit(e.getHours(),a||t);return this._opts.disabledTimeList.length&&(o=this._checkIfDisabled(e,t,o)),o}_parseTimeVal(t){let a=e.Date.parseDate(this._opts[t],this._opts.format).date;return a.setSeconds(0,0),a}_validateTimeOpts(){let e=this._opts,t=e.selectedTime,a=this._minTime,o;t&&(o=new Date,o.setHours(t.getHours(),t.getMinutes(),0,0)),this._opts.selectedTime=o||(a?new Date(a.getTime()):this._opts.selectedTime),(e.minTime||e.maxTime)&&this._validateLimits(o)}_postEachRender(e,t){let a=this._opts,o=t.modifiedAttr;"timeFieldType"!==o&&this._hourEle&&this._input&&this._singleSelect&&this._combinedEle||this._updateTimeInputs(),(this._timeElemRendered||this._valueReset)&&("multiple-select-box"===a.timeFieldType&&"singleSelect"!==o&&this._checkForTime(),this._updateSelectedTime(a.timeFieldType,this._timeElemRendered))}_postRender(){this._data.className+=" ",this._updateTimeInputs()}_updateTimeInputs(){let e=this._opts,t=this._opts.id,a=this.element,o=e.timeFieldType;"input"===o?this._input=a.find("#"+t+"-type-input"):"multiple-select-box"===o?"h-m-t"===e.timeMultipleSelectBoxType?(this._hourEle=a.find("#"+t+"-hour"),this._minuteEle=a.find("#"+t+"-minute"),this._is12HourFormat&&(this._periodEle=a.find("#"+t+"-period"))):(this._combinedEle=a.find("#"+t+"-time-combined"),this._is12HourFormat&&(this._periodEle=a.find("#"+t+"-combined-period"))):this._singleSelect=a.find("#"+t+"-single-time-select")}_buildData(){this.buildTimePicker()}_validateOpts(){let e=this._opts,t=t=["hourStep","minuteStep"];for(let a=0,o;a<t.length;a++)o=+e[t[a]],e[t[a]]=0>=o?1:o}buildTimePicker(){let e=this._opts,t=e.timeFieldType;"none"!==e.timeLabelType&&this._buildLabel(),"input"===t?this._buildInputElement():"none"!==t&&this._buildSelectElement(e),this._timeElemRendered=!0}_buildLabel(){let e=this._opts,t=e.timeLabelType;"none"!==t&&(this._data.timeLabel={},-1<["icon","icon-text"].indexOf(t)&&this._getTimeIconProps(),-1<["text","icon-text"].indexOf(t)&&(this._data.timeLabel.text=e.timeLabel))}getAttribute(t){if("value"===t){let t=this._opts.timeFieldType,a,o;if("input"===t)a=e.timefield(this._input).getValue().dateObject;else if(!("multiple-select-box"===t))"single-select-box"===t&&(o=e.select(this._singleSelect).getAttribute("selectedValue"),a=new Date(+o));else if("h-m-t"===this._opts.timeMultipleSelectBoxType)a=this._setSelectTimeForMultiple();else{o=e.select(this._combinedEle).getAttribute("selectedValue");let t="";this._is12HourFormat&&(t=e.select(this._periodEle).getAttribute("selectedValue")),o=o+" "+t,a=e.Date.parseDate(o,this._opts.format).date}return a}return super.getAttribute(...arguments)}_getTimeIconProps(){let t=this._opts,a={defaultIconClassName:"zdatetimepicker__timeicon",iconClassName:t.timeLabelIconClassName,SVGIconClassName:"zdatetimepicker__time",SVGIconId:t.timeLabelSVGIconId,defaultSVGIconId:"zc__svg--time",isCE:this.isCE};this._data.timeLabel.icon=e._getIconInfo(t.timeLabelIconClassName,t.timeLabelSVGIconId,"#zc__svg--time","zdatetimepicker__timeicon",a)}_triggerChange(e){let t=this.getAttribute("value");this._opts.selectedTime=t,this._dispatchEvent("timechange",e,{selectedTime:t},void 0,!!e)}_updateSelectedTime(t,a){"input"===t?(this._opts.selectedTime=e.timefield(this._input).getValue().dateObject,a&&(this._initialVal=new Date(+this._opts.selectedTime))):this._checkSelectedTime(...arguments)}setTime(t){let a=this._opts.timeFieldType,o=this._opts.minTime,n=new Date;if(t?(t=this._getDateVal(t),t&&(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(0,0))):o?n=new Date(+o):n.setHours(0,0,0,0),this._opts.viewDate=new Date(+n),"input"===a)e.timefield(this._input).setAttribute("value",n||this._initialVal);else if("multiple-select-box"===a)this._setTimeOnMultipleSelect(!this._opts.valueUpdate,n);else{let a;t&&(a=new Date,a.setHours(t.getHours(),t.getMinutes(),0,0),a=this._sortSingleSelectValues(a)),a&&e.select(this._singleSelect).setAttribute("selectedValue",(+a).toString()||this._getSingleSelectFirstVal())}this._triggerChange()}clearTime(){let t=this._opts.timeFieldType;"input"===t?e.timefield(this._input).setAttribute("value",this._is12HourFormat?"12:00 AM":"00:00"):"multiple-select-box"===t?this._setTimeOnMultipleSelect(!0):e.select(this._singleSelect).setAttribute("selectedValue",this._getSingleSelectFirstVal()),this._triggerChange()}refresh(){this._refresh=!0,this._opts.valueUpdate=!0,this._checkForTime&&this._checkForTime(),this._refresh=!1}_getDateVal(t,a){return e.Date.parseDate(t,a||this._opts.format).date}_destroy(){let t=this._opts.timeFieldType,a=this._input;"input"===t&&a&&a.length?(this.isCE?a.remove():e.timefield(a).destroy(),this._input=void 0):"none"!==t&&this._destorySelectElement(t)}_buildhmT(){let e="",t=[],a=this._is12HourFormat,o=this._opts,n=o.selectedTime,i=this._data,r=this._minTime,s=a?this._opts.format.replace("tt",""):this._opts.format,l=this._maxTime,d,c;n&&(d=this._getHourVal(n.getHours()),c=n.getMinutes());for(let n=a?1:0,i=a?12:23;n<=i;n+=o.hourStep)for(let a=0;59>a;a+=o.minuteStep){e=(10>n?"0"+n:n)+":"+(10>a?"0"+a:a);let o=this._getDateVal(e,s);12<=n&&o.setHours(n-12);t.push({selected:n===d&&a===c,value:e,disabled:o&&(r&&+o<+r||l&&+o>+l),label:this._translateEToA(e)})}i.combinedProps=this._getElemProps("time-combined",t,"_combinedTime",65,200),a&&(i.combinedPeriodProps=this._getElemProps("combined-period",this._getPeriodProps(),"_combinedPeriod",50))}_setCombinedTimeValues(){let t=e.select(this._combinedEle).getAttribute("selectedValue");if(this._isFromUI(...arguments)){if(this._is12HourFormat){let a=e.select(this._periodEle).getAttribute("selectedValue");t=t+" "+a}let a=this._getDateVal(t);this._opts.viewDate.setHours(a.getHours(),a.getMinutes(),0,0),this._opts.selectedTime=new Date(this._opts.viewDate.getTime()),"multiple"===this._opts.selectionType&&this._setTimeForMultiple(a),this._triggerChange(...arguments)}}_combinedTimeClickHandler(e,t){this._checkCombinedTimeOptions&&this._checkCombinedTimeOptions(e,t),this._setCombinedTimeValues(e,t)}_combinedPeriodClickHandler(){this._isFromUI(...arguments)&&this._combinedTimeClickHandler(...arguments)}_isFromUI(e,t){return t=!t&&e?e.detail:t,t.fromUI}_checkIfDisabled(e,t,a,o){let n=this._opts.disabledTimeList;t=t===void 0?e.getMinutes():t;for(let i=0,r;i<n.length;i++)if(r=n[i].date,(o||e.getHours())===r.getHours()&&t===r.getMinutes())return!0;return a}_buildInputElement(){let e=this._opts,t=e.selectedTime,a=this._is12HourFormat;this._data.inputProps={rtl:e.rtl,templateRender:!0,locale:e.locale,format:a?"hh:mm tt":"HH:mm",value:t||(a?"12:00 AM":"00:00"),min:e.minTime,max:e.maxTime,hourStep:e.hourStep,minuteStep:e.minuteStep,id:this._opts.id+"-type-input",clearButton:"none",spinend:this._spinEndHandler.bind(this),isCE:this.isCE,width:100,change:this._timeFieldChangeHandler.bind(this),mainElement:this._input?this._input[0]:null}}_spinEndHandler(e,t){t=!t&&e?e.detail:t;let a=t.dateValue;this._timeModified=!0,this._opts.selectedTime=a,a!==void 0&&this._opts.viewDate&&(this._opts.viewDate.setHours(a.getHours(),a.getMinutes(),0,0),this._triggerChange(e))}_timeFieldChangeHandler(t,a){a=a||t&&t.detail,this.isCE&&t.stopPropagation(),this._dispatchEvent("timechange",t,{selectedTime:this.getAttribute("value"),value:e.timefield(this._input).getAttribute("value"),valueString:e.Date.formatDate(a.dateValue,this._opts.format)})}_checkTimeOptions(t,a){this._opts.valueUpdate=!0;let o=this._opts,n=this._data,r=new Date,i=e.select(this._hourEle),s=e.select(this._minuteEle),l=n.hourProps.options,d=this._minTime,c=this._maxTime;a=a||this._opts.viewDate,r.setHours(a.getHours(),a.getMinutes(),0,0);let m=r.getHours();if(this._is12HourFormat){this._setMinuteVal(r);let e=[],t=i.getAttribute("selectedValue");for(let a=1;12>=a;a+=o.hourStep){let n=a,i=parseInt(s.getAttribute("selectedValue")),d;12<=m?(d=!0,n=12===a?a:a+12):n=a%12;let c=!!this._checkHourMinLimit(n,i,!0);o.disabledTimeList.length&&(c=this._checkIfDisabled(r,r.getMinutes(),c,n)),c=d?23>=n&&c:c,l.find(e=>e.value===a).disabled=c,c||e.push(a),c&&+t===a&&(t=!1)}i.setAttribute("options",[...l]),t=!1===t||""===t?e[0]:t,i.setAttribute("selectedValue",t);let a=m-12;this._checkPeriod(r,a,!0),a=m+12,this._checkPeriod(r,a),this.setTime(r)}else this._setMinuteVal(r),d&&i.setOptionAttributes(d.getHours(),"disabled",r.getMinutes()<d.getMinutes()),c&&i.setOptionAttributes(c.getHours(),"disabled",r.getMinutes()>c.getMinutes())}_setMinuteVal(t){let a=this._opts.minuteStep,o=e.select(this._minuteEle),n=this._data.minuteProps.options,r=o.getAttribute("selectedValue"),s=[];for(let e=0,o;59>=e;e+=a)o=this._disableTime(t,e),o||s.push((10>e?"0":"")+e),n.find(t=>t.value===e).disabled=o,+r===e&&o&&(r=!1);let i={};i.options=[...n],!1===r&&(i.selectedValue=n.find(e=>e.label===s[0])),o.setAttributes(i),t.setMinutes(+r)}_checkCombinedTimeOptions(t,a){let o=this._opts,n=e.Date,i=this._is12HourFormat,r=o.disabledTimeList.length,s=e.select(this._combinedEle),l,d,c,m,_,u,p;i&&(p=e.select(this._periodEle),m=p.getAttribute("selectedValue"),l="PM"===m);let h=this._minTime,g=this._maxTime,f,b;if(h&&(f=h.getHours()),g&&(b=g.getHours()),!a||this._isFromUI(...arguments)){d=this._data.combinedProps.options,c=s.getAttribute("selectedValue");let e=[];for(let t=0,a=d.length,o;t<a;t++)o=d[t].value,u=this._getDateVal(o+" "+(m||"")),m&&(_=!!(h&&(l?12<f:12>f)&&n.isTimeGreater(h,u)||g&&(l?12<b:12>b)&&n.isTimeGreater(u,g)),r&&(_=this._checkIfDisabled(u,u.getMinutes(),_))),d[t].disabled=_,_||e.push(o),c===o&&_&&(c=!1);s.setAttribute("options",[...d]),c=c||e[0],t||s.setAttribute("selectedValue",c),i&&(u=this._getDateVal(c+" "+m),u.setHours(u.getHours()+(l?-12:12)),u&&(_=!!(h&&n.isTimeGreater(h,u)||g&&n.isTimeGreater(u,g)),r&&(_=this._checkIfDisabled(u,u.getMinutes(),_,u.getHours())),p.setOptionAttributes(l?"AM":"PM","disabled",_)))}}_getPeriodProps(){let e=this._opts,t=e.minTime,a=e.selectedTime,o=a?a.getHours():void 0,n=t?t.getHours():void 0,i=e.maxTime?e.maxTime.getHours():void 0;return[{value:"AM",selected:11>(n||o),label:"AM",disabled:11<n},{value:"PM",selected:11<(n||o),label:"PM",disabled:!!(i&&11>i)}]}_getElemProps(e,t,a,o,n){let i=this._opts;return{id:this._opts.id+"-"+e,templateRender:!0,rtl:i.rtl,options:t,isCE:this.isCE,dropdownList:{width:o||40,height:n||330,className:"zdatetimepicker--menu"},width:"auto",optionclick:a?this[a+"ClickHandler"].bind(this):this._timeSelectClickHandler.bind(this)}}_checkForTime(e,t){let a=this._opts;(a.minTime||a.maxTime||a.disabledTimeList.length||this._refresh||t)&&"multiple-select-box"===a.timeFieldType&&("h-m-t"===a.timeMultipleSelectBoxType?this._checkTimeOptions(e):"hm-t"===a.timeMultipleSelectBoxType&&this._checkCombinedTimeOptions())}_preventSelectEv(){["_singleSelect","_hourEle","_minuteEle","_combinedEle","_periodEle"].forEach(e=>{let t=this[e];t&&t.length&&this._stopSelectEvents(t)})}_stopSelectEvents(t){let a=e.ZSelect.prototype._EVENTS;for(let e=0;e<a.length;e++)t.on("z"+a[e],e=>e.stopPropagation())}_getHourVal(e){return this._is12HourFormat&&(e=0===e||11<e&&!(e%12)?12:11<e?e%12:e),e}_buildSelectElement(e){switch(e.timeFieldType){case"multiple-select-box":this._data.multiSelect=!0,"h-m-t"===e.timeMultipleSelectBoxType?this._buildhMT():"hm-t"===e.timeMultipleSelectBoxType&&(this._data.isCombined=!0,this._buildhmT());break;case"single-select-box":this._buildSingleSelect();}}_destorySelectElement(t){let a=this._combinedEle,o=this._singleSelect;"multiple-select-box"===t?("h-m-t"===this._opts.timeMultipleSelectBoxType?this._destroyhMT():a&&a.length&&(this.isCE?(a.remove(),this._periodEle&&this._periodEle.remove()):(e.select(a).destroy(),this._periodEle&&e.select(this._periodEle).destroy()),this._combinedEle=void 0),this._periodEle=void 0):"single-select-box"==t&&o&&o.length&&(this.isCE?o.remove():e.select(o).destroy(),this._singleSelect=void 0)}_checkSelectedTime(t){let a;if("multiple-select-box"===t)a=this._setSelectTimeForMultiple(...arguments);else{let t=new Date(+e.select(this._singleSelect).getAttribute("value"));a=this._opts.selectedTime=new Date(t)}this._valueSet||this._opts.viewDate.setHours(a.getHours(),a.getMinutes())}_buildhMT(){let e=this._opts,t=e.selectedTime,a=this._is12HourFormat,o=this._opts.minTime,n=this._opts.maxTime,i=this._data,r=[],s=[],l,d,c,m,_,u,p;o&&(l=o.getHours(),c=o.getMinutes()),n&&(d=n.getHours()),u=t?this._getHourVal(t.getHours()):l?this._getHourVal(l):a?12:0;for(let t=a?1:0,o=a?12:23;t<=o;t+=e.hourStep)m=t===u,!a&&m&&(_=t),r.push({selected:m,disabled:!!l&&t<l||!!d&&t>d,value:t,label:this._translateEToA((10>t?"0":"")+t)});i.hourProps=this._getElemProps("hour",r),e.viewDate.setHours(t?t.getHours():o?l:0);let h=t?t.getMinutes():o?c:0;e.viewDate.setMinutes(h);for(let t=0;59>=t;t+=e.minuteStep)a||(p=t<c&&_===l),m=t-e.minuteStep<h&&t>=h,s.push({value:t,label:this._translateEToA((10>t?"0":"")+t),disabled:p,selected:m});i.minuteProps=this._getElemProps("minute",s),a&&(i.periodProps=this._getElemProps("period",this._getPeriodProps(),"_period",50))}_destroyhMT(){["_hourEle","_minuteEle","_periodEle"].forEach(t=>{let a=this[t];if(a&&a.length){let t=e.select(a);this.isCE?a.remove():t.destroy()}this[t]=void 0})}_timeSelectClickHandler(a,o){let n=this._opts.viewDate,i;if(o=!o&&a?a.detail:o,o.fromUI){let r=+o.selectedValue;-1<t(o.dropdownList).attr("id").indexOf("hour")?(this._is12HourFormat&&(r=this._getHourValue(e.select(this._periodEle).getAttribute("selectedValue"),r)),n.setHours(r),i="hour"):(n.setMinutes(r),i="minute"),this._triggerEvent(a,o,i),this._checkForTime(!1),this._opts.selectedTime=new Date(+n),"multiple"===this._opts.selectionType&&this._setTimeForMultiple(n),this._triggerChange(a)}}_periodClickHandler(t,a){a=!a&&t?t.detail:a;let o=a.selectedValue,n=this._opts.viewDate;if(a.fromUI){let i=+e.select(this._hourEle).getAttribute("selectedValue");i=this._getHourValue(o,i),this._selectedPeriod=o,n.setHours(i),this._triggerEvent(t,a,"period"),this._checkForTime(!1),this._opts.selectedTime=new Date(+n),this._triggerChange(t)}}_getHourValue(e,t){let a="AM"===e;return 0==t%12?a?0:12:a?t:t+12}_triggerEvent(t,a,o){let n=this._opts;this._dispatchEvent(o+"change",t,{value:n.selectedTime,valueString:e.Date.formatDate(n.selectedTime,n.format),selectedValue:parseInt(a.selectedValue)})}_setSelectTimeForMultiple(t,a){let o=e.select.bind(e),n=this._is12HourFormat?o(this._periodEle).getValue():"",i,r;if("h-m-t"===this._opts.timeMultipleSelectBoxType){let e=o(this._hourEle).getValue(),t=o(this._minuteEle).getValue();a&&(this._initialHr=e,this._initialMinute=t),i=e+":"+t+" "+n,r=!0}else i=o(this._combinedEle).getValue()+" "+n,a&&(this._initialVal=i);let s=this._getDateVal(i);return this._opts.selectedTime=s,r&&a&&(this._initialVal=new Date(+s)),new Date(s)}_setTimeOnMultipleSelect(t,a){let o=this._is12HourFormat,n=this._opts,i=n.minTime,r=a||t,s=this._getHourVal.bind(this),l;if("h-m-t"===n.timeMultipleSelectBoxType){let o=e.select(this._hourEle),n=e.select(this._minuteEle),d;l=this._isEmpty(o.getAttribute("selectedValue")),(l||r)&&(d=a&&!t?s(a.getHours()):i?s(i.getHours()):this._is12HourFormat?12:0,this._removeDisabled(o,d),this._setSelectedVal("hour",d,o)),l=this._isEmpty(n.getAttribute("selectedValue")),(l||r)&&(d=a&&!t?a.getMinutes():i?i.getMinutes():0,this._removeDisabled(n,d),this._opts.viewDate.setMinutes(d),this._setSelectedVal("minute",d,n),this._setMinuteVal(this._opts.viewDate))}else{let o;if(l=this._isEmpty(e.select(this._combinedEle).getAttribute("selectedValue")),l||r){let n=i?s(i.getHours())+":"+i.getMinutes():"12:00";o=(a&&!t?e.Date.formatDate(a,this._opts.format):n).split(" ")[0],e.select(this._combinedEle).setAttribute("selectedValue",o)}}let d=a&&!t?a.getHours():i?i.getHours():0;if("number"==typeof d&&(this._opts.viewDate.setHours(d),o)){let t=this._periodEle,a=e.select(t),o=a.getAttribute("selectedValue");l=this._isEmpty(o),(l||r)&&(this._removeDisabled(a,12<=d?"PM":"AM"),t&&a.setAttribute("selectedValue",12<=d?"PM":"AM"))}}_setSelectedVal(e,t,a){let o=this._opts[e+"Step"];t=Math.ceil(t/o)*o,this._removeDisabled(a,t),a.setAttribute("selectedValue",t)}_removeDisabled(e,t){e.setOptionAttributes(t,"disabled",!1)}_isEmpty(e){return null!==e&&e!==void 0&&0===e.length}_setAttribute(t,a){let o=!0,n=this._opts;if(("timeFieldType"===t||"timeMultipleSelectBoxType"===t||"fixedTimeOptions"===t)&&(this._data.modifiedAttr="timeFieldType",o="fixedTimeOptions"!==t),"timeLabelType"===t)n[t]=a,"none"===a?this._data.timeLabel=null:this._buildLabel();else if(-1<["timeLabel","timeLabelIconClassName","timeLabelSVGIconId"].indexOf(t))n[t]=a,this._buildLabel();else if("rtl"===t){if(n[t]=a,"input"===n.timeFieldType)e.timefield(this._input).setAttribute("rtl",a);else{let t=["_hourEle","_minuteEle","_periodEle","_singleSelect","_combinedEle"];for(let o=0,n;o<t.length;o++)n=this[t[o]],n&&n.length&&e.select(n).setAttribute("rtl",a)}}else if(-1<["minTime","maxTime","hourStep","minuteStep"].indexOf(t)){if("minTime"===t||"maxTime"===t){if("string"==typeof a){a=this._getDateVal(a);let e=new Date;e.setHours(a.getHours(),a.getMinutes(),0,0),a=new Date(+e)}if(this["_"+t]=this._opts[t]=a,"input"===n.timeFieldType)e.timefield(this._input).setAttribute(t.replace("Time",""),a);else if("single-select-box"===n.timeFieldType){let o=e.select(this._singleSelect),i=this._buildSingleSelect(!0);o.setAttribute("options",i),n.selectedTime&&"minTime"===t&&+n.selectedTime<+a&&o.setAttribute("value",i[0].value),this._reInit=!0}else{let e=n.selectedTime?+n.selectedTime<+a?a:n.selectedTime:a;"minTime"===t&&this._opts.viewDate.setHours(e.getHours(),e.getMinutes(),0,0),n[t]=a,this._checkForTime(void 0,!0)}}else"input"===n.timeFieldType?e.timefield(this._input).setAttribute(t.replace("Time",""),a):(this._destroy(),this._reInit=!0);n[t]=a}else"viewDate"!==t&&"valueUpdate"!==t||"format"===t?("format"===t&&(n[t]=a,this._is12HourFormat=-1<n.format.indexOf("h")),this._destroy(),this._reInit=!0,n[t]=a):n[t]=a;if(this._reInit){let e=this._data;e.isCombined=e.multiSelect=e.singleSelect=e.inputProps=e.hourProps=e.minuteProps=e.periodProps=e.combinedProps=e.combinedPeriodProps=null}this._domChanged=o}_buildSingleSelect(t){let a=this._opts,o=a.fixedTimeOptions,n=o.length,r=[],i=a.disabledTimeList,s=this._minTime,l=this._maxTime,d=a.selectedTime,c;d&&(c=new Date,c.setHours(d.getHours(),d.getMinutes(),0,0));let m=this._sortSingleSelectValues(c);if(n)for(let t=0;t<n;t++){let a=this._getDateVal(o[t]),n=!1,d;a.setSeconds(0,0),d=(!s||e.Date.isGreater(a,s))&&(!l||e.Date.isGreater(l,a));for(let e=0,t;e<i.length;e++)if(t=i[e].date,+a==+t){n=!0;break}d&&r.push({selected:+m==+a,disabled:n,value:+a,label:this._translateEToA(o[t])})}return t?r:void(this._data.singleSelect=this._getElemProps("single-time-select",r,"_singleSelect",100,200))}_sortSingleSelectValues(t){let a=this._opts.fixedTimeOptions;a.sort((e,t)=>(e=this._getDateVal(e),t=this._getDateVal(t),e-t));for(let o=0,n=a.length,i;o<n;o++)if(i=this._getDateVal(a[o]),t&&(e.Date.areTimesEqual(i,t)||+i>+t))return i}_singleSelectClickHandler(e,t){t=!t&&e?e.detail:t;let a=this._opts.viewDate;if(t.fromUI){let o=new Date(+t.selectedValue);a.setHours(o.getHours(),o.getMinutes(),0,0),this._opts.selectedTime=new Date(+a),"multiple"===this._opts.selectionType&&this._setTimeForMultiple(a),this._triggerChange(e)}}_getSingleSelectFirstVal(e){let t=this._data.singleSelect.options,a;for(let o=0,n=t.length;o<n;o++)if(e&&(a=new Date(t[o].value),a.setFullYear(e.getFullYear()),a.setMonth(e.getMonth()),a.setDate(e.getDate())),!t[o].disabled&&(!e||+a==+e||+a>+e))return e?a:t[o].value}}e.registerComponent("ZTimeInput",ZTimeInput)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.Templates.Utilities,a=e.ztimeinput.Templates,o=e.createSelect;a.WCChildren=a=>ZT.html`${a.timeLabel&&ZT.html`${a.timeLabel.icon&&t.WCIcon(a.timeLabel.icon)} ${a.timeLabel.text&&ZT.html`<span class='zdatetimepicker__timelabel'>${a.timeLabel.text}</span>`}`} ${a.inputProps?e.createTimeField(a.inputProps):a.singleSelect?o(a.singleSelect):a.multiSelect&&ZT.html`<div class='zdatetimepicker--multipleselectbox'> ${a.isCombined?ZT.html`${o(a.combinedProps)} ${a.combinedPeriodProps&&o(a.combinedPeriodProps)}`:ZT.html`${a.hourProps&&o(a.hourProps)} ${a.minuteProps&&o(a.minuteProps)} ${a.periodProps&&o(a.periodProps)}`} </div >`} `}(ZComponents),function(e){let t=e.Templates.Utilities,a=e.ztimeinput.Templates,o=e.createSelect;a.children=a=>ZT.html`${a.timeLabel&&ZT.html`${a.timeLabel.icon&&t.icon(a.timeLabel.icon)} ${a.timeLabel.text&&ZT.html`<span class='zdatetimepicker__timelabel'>${a.timeLabel.text}</span>`}`} ${a.inputProps?e.createTimeField(a.inputProps):a.singleSelect?o(a.singleSelect):a.multiSelect&&ZT.html`<div class='zdatetimepicker--multipleselectbox'> ${a.isCombined?ZT.html`${o(a.combinedProps)} ${a.combinedPeriodProps&&o(a.combinedPeriodProps)}`:ZT.html`${a.hourProps&&o(a.hourProps)} ${a.minuteProps&&o(a.minuteProps)} ${a.periodProps&&o(a.periodProps)}`} </div >`} `}(ZComponents),function(e,t){var a=Math.min,o=Math.max;class ZDateTimeSelect extends e.ZDateSelect{get name(){return"zdatetimeselect"}get attrs(){return{immediateCommit:!0,format:"dd/MM/yyyy, hh:mm tt",timeFieldType:"multiple-select-box",timeMultipleSelectBoxType:"h-m-t",timeLabelType:"icon",timeLabel:null,fromTimeLabel:null,toTimeLabel:null,disabledTimeList:[],fixedTimeOptions:[],hourStep:1,minuteStep:5}}get props(){return{dateTimePickerOptions:{},dateTimeRangePickerOptions:{},labels:{timeLabel:"Time",fromTimeLabel:"Time",toTimeLabel:"Time"}}}get EVENTS(){return["hourchange","minutechange"]}_init(){this._checkTime=!0,super._init(...arguments);let e=this._valueId;e&&!this._getOptionObj(e,"id").valueType&&this._buildTimePicker()}_postEachRender(){let a=this._data.menu,o=a.fromTimeProps&&!this._timepicker,n=this._elementId;if(o&&(this._timepicker=this._dtsMenu.find(".zdatetimeselectbox__timecontainer"),this._fromInstance=e.timeinput(t("#"+n+"-timeinput1")),this._toInstance=e.timeinput(t("#"+n+"-timeinput2")),!this._opts.immediateCommit)){let e=a.cBar.cols[0].right;["OK","cancel"].forEach(a=>{let o=a+"-btn-"+n,i=t("#"+o);i.length&&(e.find(e=>e.id===o).mainElement=i[0],this._addEvents({[a+"Click"]:"click"},i))})}super._postEachRender(...arguments),o&&!this._data.rendered&&this._openTimePicker()}_validateFormat(){let e=this._opts.format;this._validFormat=-1<e.indexOf("d")&&-1<e.indexOf("M")&&-1<e.indexOf("y")&&(-1<e.indexOf("h")||-1<e.indexOf("H"))}_setFormat(){let e=this._opts.format,t=o(e.indexOf("h"),e.indexOf("H")),n=a(a(e.indexOf("d"),e.indexOf("M")),e.indexOf("y")),i,r;this._is12HourFormat=-1<e.indexOf("h"),t>n?(this._timeFormat=e.substring(t),e=e.replace(this._timeFormat,""),i=o(o(e.lastIndexOf("d"),e.lastIndexOf("M")),e.lastIndexOf("y")),r="_date"):(this._dateFormat=e.substring(n),e=e.replace(this._dateFormat,""),i=o(e.lastIndexOf("m"),e.lastIndexOf("t")),r="_time"),this[r+"Format"]=e.substring(0,i+1)}_menuClickHandler(e){if(!this._opts.readonly&&!this._opts.disabled){let a=t(e.target).closest(".zdatetimeselectbox__option");a.length&&!a.hasClass("is-disabled")&&(this._resetTimePickers(),super._menuClickHandler(e))}}_getPlaceHolder(e){if(e){let t=e.valueType;"date"!==t||this._opts.fromValue||this._opts.toValue||!this._placeholderElem||this._placeholderElem.removeClass("h-resetlabel"),-1<["date","range"].indexOf(t)&&(this._listContainer.removeClass("zdatetimepicker--timeonly"),this._display(!0,this._dtsMenu.find(".zdatetimeselectbox__timecontainer")))}else this._openTimePicker(!0);return super._getPlaceHolder(e)}_updateValues(e,t,a,o){let n=this._opts,i=t&&e,r=n.immediateCommit,s=this._valueId,l=o.valueType,d=o.valueGiven&&(l||r);return(l||r||s||d)&&(n.value=i?void 0:e&&new Date(+e),e=n.fromValue=e&&new Date(+e),t=n.toValue=i?t&&new Date(+t):e?new Date(+e):void 0),this._curFrom=new Date(+e),this._curTo=new Date(+(t||e)),l||(n.value=void 0,!this._data.menu.fromTimeProps&&this._buildTimePicker(),this._curFrom&&this._curTo&&this._unSetLimits(void 0,this._curFrom,this._curTo),this._listContainer.addClass("zdatetimepicker--timeonly"),this._openTimePicker()),this._isPicker&&(l||r)&&this._setPickerValues(e,t,l||"range"),!!(r||s||this._valueSet)&&this._getStringVal(e,t,void 0,!0)}_unSetLimits(e,t,a){let o=this._fromInstance,n=this._toInstance;t=new Date(+(t||this._opts.fromValue)),a=new Date(+(a||this._opts.toValue)),e=e===void 0?!this._isEqual(t,a):e,o&&n&&(o.setAttribute("maxTime",e?null:a),n.setAttribute("minTime",e?null:t),!e&&(o.setTime(t),n.setTime(a)))}_checkForClose(e,t){!t.valueType&&this._opts.immediateCommit&&this._triggerChange(e)}_getStringVal(e,t,a,o){let n=this._opts.rtl;return n&&(this._placeholderElem.addClass("zh-resetlabel"),a=this._timeFormat+" ,"+this._dateFormat),super._getStringVal(n&&t?t:e,n?e:t,a,o)}_resetTimePickers(e){let t=this._fromInstance,a=this._toInstance,o=this._opts.fromValue,n=this._opts.toValue;t&&a&&(e&&o&&n?(t.setTime(o),a.setTime(n),this._unSetLimits()):(t.setAttribute("maxTime",null),a.setAttribute("minTime",null),t.clearTime(),a.clearTime()))}_OKClickHandler(e,t){let a=this._opts,o=this._curFrom,n=this._curTo,i=this._fromInstance.getAttribute("selectedTime"),r=this._toInstance.getAttribute("selectedTime");o=a.fromValue=new Date(+o),n=a.toValue=new Date(+n),this._setPickerValues(o,n,"range"),o.setHours(i.getHours(),i.getMinutes()),n.setHours(r.getHours(),r.getMinutes()),this._setPlaceholder(this._getStringVal(o,n)),this._setSelectedData(this._selectedData),this._isPicker&&this._setPickerValues(o,n),this._triggerChange(e),this._valueChanged=!1,t||this.close()}_cancelClickHandler(e){this._valueChanged=!1,this._resetTimePickers(!0),super._cancelHandler(e)}_buildCBar(){let e=this._opts,t=e.OKButton,a=e.cancelButton,o=[],n=this._data.menu;(t||a)&&!e.immediateCommit?(n.cBar={},n.cBar.cols=[],a&&o.push(this._getbtnAttr("cancelButton")),t&&o.push(this._getbtnAttr("OKButton")),n.cBar.cols.push({right:o})):n.cBar=null}_getbtnAttr(t){let a=t.replace("Button",""),o=t+"Label";return e.ZButton.getBtnProps({customAttributes:{name:t,"aria-label":o},initBtnComp:!0,id:a+"-btn-"+this._elementId,name:t,isCE:this.isCE,className:("today"===a?"zdatetimepicker__todaylink ":"")+t+"-"+this.name,text:this._opts[o]||this._getI18NText(o),appearance:"OKButton"===t?"primary":"normal",size:"small",templateRender:!0})}_timeChangeHandler(e,t){let a=e.detail,o=this._opts,n=this._curFrom,i=this._curTo;(t||a).fromUI&&(this._valueChanged=!o.immediateCommit,this._fromInstance&&this._toInstance&&o.immediateCommit&&this._OKClickHandler(void 0,!0),this._isEqual(n,i)&&(a.element.hasClass("zdatetimepicker__starttime")?this._toInstance&&this._toInstance.setAttribute("minTime",a.selectedTime):this._fromInstance&&this._fromInstance.setAttribute("maxTime",a.selectedTime)))}_isEqual(t,a){return t&&a&&e.Date.areDatesEqual(t,a)}_buildTimePicker(){let e=this._data.menu,t=["timeFieldType","timeMultipleSelectBoxType","hourStep","minuteStep","timeLabelType","fixedTimeOptions","disabledTimeList","rtl"],a={},o=this._opts;e.containerClass+=" zdatetimepicker--timeonly",e.timeClass="zdatetimeselectbox__timecontainer";for(let e=0;7>e;e++)a[t[e]]=o[t[e]];a.isCE=this.isCE,a.templateRender=!0,a.format=this._timeFormat,e.fromTimeProps={...a,...this._getTimeObj("from")},e.toTimeProps={...a,...this._getTimeObj("to")},e.timeBarClass="zdatetimepicker__timebar zdatetimepicker--twocolumn",this._buildCBar(e),this._data.rendered&&this._render()}_getTimeObj(e){let t=this._opts,a="from"===e,o=this["_cur"+(a?"From":"To")],n=e+"TimeLabel",i={id:this._elementId+"-timeinput"+(a?"1":"2"),timeLabel:t[n]||this._getI18NText(n),viewDate:new Date(t[e+"Value"]||new Date),selectedTime:o,timechange:this._timeChangeHandler.bind(this),className:"zdatetimepicker__"+(a?"start":"end")+"time",...this._bindChangeEvents()};return o=this["_cur"+(a?"To":"From")],o&&(i[a?"maxTime":"minTime"]=new Date(+o)),i}_bindChangeEvents(){let e={};return["minutechange","hourchange","periodchange"].forEach(t=>{e[t]=(e,a)=>{this._dispatchEvent(t,e,a)}}),e}_openTimePicker(e){let t=this._timepicker;t&&(this._setDimensions(),this._saveWidth(),this._lastOpened=null,this._listContainer.width(""),this._display(!!e,this._listContainer),this._display(!!e,t),this._setWidth(t))}_destroy(){this._fromInstance&&this._fromInstance.destroy(),this._toInstance&&this._toInstance.destroy(),super._destroy()}close(){this._valueChanged&&this._resetTimePickers(!0),super.close(...arguments)}getFromValue(){if(this._opts.fromValue){let t=new Date(this._opts.fromValue.getTime());return{fromValue:t,fromValueString:e.Date.formatDate(t,this._opts.format),options:this.options,element:this.element}}}getToValue(){if(this._opts.toValue){let t=new Date(this._opts.toValue.getTime());return{toValue:t,toValueString:e.Date.formatDate(t,this._opts.format),options:this.options,element:this.element}}}setFromValue(t){t&&this._rangePicker&&e.datetimerangepicker(this._rangePicker).setAttribute("fromValue",t)}setToValue(t){t&&this._rangePicker&&e.datetimerangepicker(this._rangePicker).setAttribute("toValue",t)}_initPicker(a){let o=this._opts,n="date"===a,i={timeLabelType:o.timeLabelType,timeLabel:o.timeLabel,fixedTimeOptions:o.fixedTimeOptions,fromTimeLabel:o.fromTimeLabel,toTimeLabel:o.toTimeLabel,timeFieldType:o.timeFieldType,timeMultipleSelectBoxType:o.timeMultipleSelectBoxType,...this._getPickerOpts(o,n)},r;i=t.extend(!0,{},i,o["dateTime"+(n?"":"Range")+"PickerOptions"]),r=this[(n?"_date":"_range")+"Picker"]=t(e["createDateTime"+(n?"":"Range")+"Picker"](i)),r.removeClass("zdatetimepicker zdatetimepicker--group"),this[(n?"_date":"_range")+"PickerInstance"]=e["datetime"+(n?"":"range")+"picker"](r)}_changeHandler(e,t){super._changeHandler(e,t,this._opts.immediateCommit,this._isSameDate(e.detail||t))}_setAttribute(e,t){let a=!0,o;if(this._opts[e]=t,-1<["dateTimePickerOptions","dateTimeRangePickerOptions"].indexOf(e)){let a=this["_"+(e.indexOf("Range")?"range":"date")+"PickerInstance"];a&&a.setAttributes(t),o=!1}else if(/^(timeFieldType|timeLabelType|timeMultipleSelectBoxType|fixedTimeOptions|timeLabel|disabledTimeList|hourStep|minuteStep)$/.test(e))o=!0;else if("rtl"===e){let e=this._selectedData;this._placeholderElem.removeClass("zh-resetlabel"),e.fromValue&&e.toValue&&(this._setPlaceholder(this._getStringVal(e.fromValue,e.toValue)),this._placeholderElem[(t?"add":"remove")+"Class"]("h-resetlabel")),o=!0,super._setAttribute(...arguments)}else-1<["fromTimeLabel","toTimeLabel"].indexOf(e)?this["_"+e.replace("TimeLabel","")+"Instance"].setAttribute("timeLabel",t):(a=super._setAttribute(...arguments),-1<["immediateCommit","hideCancelButton"].indexOf(e)&&this._buildCBar());o&&(this._fromInstance&&this._fromInstance.setAttribute(e,t),this._toInstance&&this._toInstance.setAttribute(e,t),this._opts.dateTimePickerOptions[e]=t,this._datePickerInstance&&this._datePickerInstance.setAttribute(e,t),this._opts.dateTimeRangePickerOptions[e]=t,this._rangePickerInstance&&this._rangePickerInstance.setAttribute(e,t)),this._domChanged=a}}e.registerComponent("ZDateTimeSelect",e.ZDateSelect,ZDateTimeSelect)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdatetimeselect.Templates,a=e.Templates.Utilities,o=e.createTimeInput;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=o=>ZT.html`${o.isLeft&&a.WCIcon(o.calendarIconProps)} <div class="zselectbox__selected"> <span class="zdatetimeselectbox__label zselectbox__text" aria-placeholder="${o.placeholder}"></span> </div> ${o.clearButton&&e.createButton(o.clearButton)} ${o.isRight&&a.WCIcon(o.calendarIconProps)} ${o.arrowIconProps&&a.WCIcon(o.arrowIconProps)} ${o.menu&&t.WCMenu(o.menu)}`,t.WCMenu=e=>ZT.html`<div ?class="${e.className}"> ${e.prepend&&t.WCPickerContainer(e)} <ul class="zdatetimeselectbox__listbox"> ${e.optData.map(e=>ZT.html`<li ?class="${e.class}" ?valueType="${e.valueType}" id="${e.id}" ?style="${e.style}">${e.label}</li>`)} </ul> ${e.append&&t.WCPickerContainer(e)} </div>`,t.WCPickerContainer=e=>ZT.html`<div class="${e.containerClass}"> <div class="zdatetimeselectbox__datetimecontainer"> ${e.timeClass&&ZT.html`<div class="${e.timeClass}"> ${e.timeBarClass&&ZT.html`<div class="${e.timeBarClass}"> ${o(e.fromTimeProps)} ${o(e.toTimeProps)} </div>`} ${e.cBar&&a.WCCommandBar(e.cBar)} </div>`} </div> </div>`}(ZComponents),function(e){let t=e.zdatetimeselect.Templates,a=e.Templates.Utilities,o=e.createTimeInput;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=o=>ZT.html`${o.isLeft&&a.icon(o.calendarIconProps)} <div class="zselectbox__selected"> <span class="zdatetimeselectbox__label zselectbox__text" aria-placeholder="${o.placeholder}"></span> </div> ${o.clearButton&&e.createButton(o.clearButton)} ${o.isRight&&a.icon(o.calendarIconProps)} ${o.arrowIconProps&&a.icon(o.arrowIconProps)} ${o.menu&&t.menu(o.menu)}`,t.menu=e=>ZT.html`<div ?class="${e.className}"> ${e.prepend&&t.pickerContainer(e)} <ul class="zdatetimeselectbox__listbox"> ${e.optData.map(e=>ZT.html`<li ?class="${e.class}" ?valueType="${e.valueType}" id="${e.id}" ?style="${e.style}">${e.label}</li>`)} </ul> ${e.append&&t.pickerContainer(e)} </div>`,t.pickerContainer=e=>ZT.html`<div class="${e.containerClass}"> <div class="zdatetimeselectbox__datetimecontainer"> ${e.timeClass&&ZT.html`<div class="${e.timeClass}"> ${e.timeBarClass&&ZT.html`<div class="${e.timeBarClass}"> ${o(e.fromTimeProps)} ${o(e.toTimeProps)} </div>`} ${e.cBar&&a.commandBar(e.cBar)} </div>`} </div> </div>`}(ZComponents),function(e,t){class ZSuggestField extends e.CoreComponent{get name(){return"zsuggestfield"}get attrs(){return{value:"",autoComplete:!1,suggestOnFieldFocus:!1,lazyLoading:!0,viewPerPage:null,sort:!0,sortBy:null,sortOrder:null,serverSearch:null,filterByCSSSelector:!1,filterBasedOnCurPos:!1,disabled:!1,placeholder:null,zclassName:null,dataStructure:"flat",cacheData:!0}}get props(){return{customSorter:null,customSearch:null,data:[],dataSource:null,dataMapping:{},search:{minKeywordLength:0,maxKeywordLength:50,caseSensitive:!1,criteria:"contains",delay:100,by:null,highlightKeyword:!1,searchIncrementsInCache:!1,showNoResultsMessage:!1,moreResultsAction:!1,focusFirstResult:!0},dropdownList:{contentType:"text",loaderIconClassName:null,loaderSVGIconId:null,virtualization:!1,className:null,position:"auto",positionAlterable:!0,height:250,width:null,appendTo:null},messages:{noResults:"No results found",moreAction:"See more results",serverError:"Server request failed. Please try again later.",minKeywordLength:"Please enter #minKeywordLength# or more characters"},headerItems:[],footerItems:[]}}get EVENTS(){return["listitemselect","listitemfocus","dropdownlistbeforefocus","dropdownlistbeforeopen","dropdownlistopen","dropdownlistbeforeclose","dropdownlistclose","change","beforesearch","searchsuccess","searcherror","moreactionclick","beforedropdownlistupdate","dropdownlistupdate","noresults"]}_init(e,t){this._id=this._getID(e),this._menuId=this._id+"-menu",(this.element[0].contenteditable||this.element.is("input, textarea"))&&(this._isRootElementEditable=!0),this.isCE||["disabled","placeholder"].forEach(a=>{t[a]=t[a]||e[0][a]})}_render(){let e=this.element,t=this._opts,a=this._data;a.disabled=t.disabled,this._beforeRender(t,a)?super._render(...arguments):(!a._rendered&&this._postRender(e),this._postEachRender(e),a._rendered=!0)}_beforeRender(e,t){return t.inputClass="zsuggestfield-element "+(e.className||e.zclassName||""),!this._isRootElementEditable}_initSource(){let t=this._getListSettings(),a=e.createDropdownList(t);this._menu=a,this._listInstance=a.data("zdropdownlist"),this._listInstance.componentInstance=this}_postRender(e){this._input=this._isRootElementEditable?e:e.find("input"),this._initSource()}_postEachRender(){let e=this._data,t=this._opts;if(this._domChanged||!e.rendered){let a={disabled:t.disabled||null,role:"search","aria-owns":this._menuId,"aria-haspopup":!0,placeholder:t.placeholder,autocomplete:"off"},o=a.disabled?" is-disabled":"",n,i;this._isRootElementEditable?(n=this.element,i=e.inputClass+o):(n=this.element.find("input"),e.className=o),n.attr(a),e.className=i}}_bindEvents(){this._addEvents({blur:"blur"},this._input)}_blurHandler(e){clearTimeout(this._blurTimer);let t=this._opts.value;t!==this._oldVal&&(this._blurTimer=setTimeout(()=>{this._input[0]!==document.activeElement&&(this._oldVal=t,this._triggerChange(e))}))}_getListSettings(){let e=this._opts,a=e.dropdownList,o=e.search,n=e.autoComplete,i=!n&&o.focusFirstResult,r={id:this._menuId,rtl:e.rtl,search:{...o,...{focusFirstResult:i}},focusFirstItemOnOpen:i,focusItemOnItemMouseover:!0,selectOnEnterKey:!0,moreResultsAction:o.moreResultsAction,messages:e.messages,searchFieldOptions:{autoComplete:n,updateOnSelect:!0,handleEvents:!0,filterBasedOnCurPos:e.filterBasedOnCurPos,suggestOnFieldFocus:e.suggestOnFieldFocus,preventUPDOWNKeysDefault:!0}};return r.searchField=r.forElement=this._input,r=this._getListCallbacks(r),["dataStructure","dataSource","dataMapping","cacheData","isResponseFiltered","lazyLoading","viewPerPage","filterByCSSSelector","sort","sortBy","sortOrder","customSorter","serverSearch","customSearch","headerItems","footerItems"].forEach(t=>r[t]=e[t]),r.items=e.data,t.extend(r,a),r.position=this._getMenuPos(a.position),r}_getListCallbacks(e){return["Select","ItemFocus","BeforeOpen","Open","BeforeClose","Close","BeforeSearch","SearchSuccess","SearchError","MoreActionClick","Input","BeforeUpdate","Update","NoResults","BeforeFocus"].forEach(t=>{e[t.toLowerCase()]=this["_on"+t].bind(this)}),e}_onBeforeFocus(){return this._trigger("dropdownlistbeforefocus",...arguments)}_onItemFocus(e,t){let a=e.originalEvent;if(!a||"mouseenter"!==a.type){let e=this._getEventData(t.itemData);e.listItem=t.listItem,this._trigger("listitemfocus",a,e)}}_onSelect(e){this._oldVal=this._opts.value=this._input.val(),this._input.focus(),this._setValue(e);let t=this._getEventData(e.detail.itemData);t.listItem=e.detail.listItem,this._trigger("listitemselect",e,t),this._triggerChange(e,t)}_triggerChange(e,t){this._trigger("change",e,t||this._getEventData())}_onInput(){this._actualData=void 0,this._opts.value=this._input.val()}_getMappedData(e){if("object"==typeof e){let t={};return this._getDataKeys().forEach(a=>t[a]=this._mapJSONToData(e,this._opts.dataMapping[a])),t}return e}_getDataKeys(){return["image","text","value","groupLabel","iconClassName","informativeText","customValues"]}_onBeforeOpen(e){return this._listInstance.deselectAll(),this._trigger("dropdownlistbeforeopen",e)}_onOpen(e){return this._DDLOpened=!0,this._trigger("dropdownlistopen",e)}_onBeforeUpdate(){return this._trigger("beforedropdownlistupdate",...arguments)}_onUpdate(){return this._trigger("dropdownlistupdate",...arguments)}_onNoResults(){return this._trigger("noresults",...arguments)}_onClose(e){return this._DDLOpened=!1,this._trigger("dropdownlistclose",e)}_onBeforeClose(e){return this._trigger("dropdownlistbeforeclose",e)}_onBeforeSearch(e,t){return this._trigger("beforesearch",e,{params:e.detail.params})}_onSearchSuccess(){return this._trigger("searchsuccess",...arguments)}_onSearchError(){return this._trigger("searcherror",...arguments)}_onMoreActionClick(e,t){let a=this._getEventData(t.itemData);return a.listItem=t.listItem,this._trigger("moreactionclick",e,a)}_getEventData(e){return e=e||this._actualData,{data:e,mappedData:this._getMappedData(e)}}_trigger(e,t,a){return a=this._getTriggerData(a),super._dispatchEvent(e,t,a)}_getTriggerData(e){return e=e||{},e.value=this._opts.value,e.dropdownList=this._menu&&this._menu[0],e}_getMenuPos(e){return{top:"top-left",bottom:"bottom-left"}[e]||e}openDropdownList(){this._listInstance.open()}closeDropdownList(){this._listInstance.close()}getValue(){return this._actualData}_setValue(e,t){let a=e.detail;return a&&(a=((a||{}).value||[])[0],a&&(this._actualData=a)),this._actualData}search(e){this.element.val(e),this._listInstance.search(e,{},!0)}searchList(e,t){this._opts.disabled||(this._input.val(e),this._listInstance.search(e,t,!0))}clearCache(){this._listInstance.clearCache()}_destroy(){this._input.val("").off("."+this.name).removeClass("zsuggestfield-element"),clearTimeout(this._blurTimer),this._listInstance.destroy(),this._menu.remove()}getDropdownList(){return this._listInstance.getElement()[0]}fetchData(){return this._listInstance.fetchData(...arguments)}_disable(e=!0){this._stopAttrUpdate=this._domChanged=!0,e&&this.closeDropdownList()}_setAttribute(e,t){let a=this._opts;-1<["placeholder","className","zclassName"].indexOf(e)?(a[e]=t,this._stopAttrUpdate=this._domChanged=!0):-1<["autoComplete","cacheData","dataMapping","data","dataSource","dropdownList","isImageSourceSprited","isResponseFiltered","lazyLoading","viewPerPage","messages","rtl","search","customSearch","suggestOnFieldFocus","filterBasedOnCurPos","filterByCSSSelector","headerItems","footerItems","sort","sortBy","sortOrder","customSorter","serverSearch"].indexOf(e)?(a[e]=t,this._reInit=!0):"value"===e&&this._input.val(t)}_buildData(){this._listInstance.setAttributes(t.extend(!0,{},this._listInstance._DEFAULTS,this._getListSettings()))}}e.registerComponent("ZSuggestField",ZSuggestField)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zsuggestfield.Templates;t.WCChildren=e=>ZT.html`<input type=text class="${e.inputClass} ${e.disabled?"is-disabled":""}">`}(ZComponents),function(e){let t=e.zsuggestfield.Templates;t.children=e=>ZT.html`<input type=text class="${e.inputClass} ${e.disabled?"is-disabled":""}">`}(ZComponents),function(e,t){class ZTokenfield extends e.ZSuggestField{get name(){return"ztokenfield"}get attrs(){return{allowDuplicateValues:!1,dataValidation:!1,delimiter:",",acceptNewValues:!1,maxAllowedValues:null,trimInputedValue:!0}}get props(){return{newValuePattern:null,dropdownList:{itemType:"none",closeOnSelect:!0},search:{retainKeyword:null},tokens:{contentType:"text",template:null,isDataEncoded:null,sortable:!1,editable:!1,animateOnRemove:!1,showRemoveButtonOnHover:!1,editModePattern:"\"#value#\" <#id#>"},values:[],messages:{remove:"Remove",close:"Close"}}}get _messages(){return{limitReach:"Limit Exceeded",denyValue:"Deny new value"}}get EVENTS(){return["beforetokenadd","beforetokenremove","tokenadd","tokenremove","tokenedit","tokendrag","tokenaddfail","focus","beforeinputfocus","inputfocus"]}get _CONSTANTS(){return{minKeywordLength:20,maxResults:10}}_init(){super._init(...arguments),this._dataMapping=this._opts.dataMapping,this._data.tokens=[],this._data.id=this._id,this._data.pasteStyle=e.Browser.isIE?"width:0;height:0;opacity:0":"position:absolute; top: -10000000px",this._prevValues=[],this._didOps=[],this._undidOps=[],this._uniqueIndex=0,this._updatePreDatas(),this._setValues(),this._tokensInfo={}}_updatePreDatas(){let e="checkbox"===this._opts.dropdownList.itemType;this._isCheckboxType=e,this._ignoreChange=!1,this._closeOnSelect=!e&&this._opts.dropdownList.closeOnSelect,this._storePatternSettings()}_storePatternSettings(){let e=this._displayPattern=this._opts.tokens.editModePattern.trim(),t="#value#",a="#id#",o=1,n=e.replace(/(\?|\*|\+|\$|\^|\.|\||\\|\(|\)|\[|\])/g,function(e){return"\\"+e}),i,r;n=n.replace(new RegExp(`(${t}|${a})`,"g"),function(e){return i||e!==t?!r&&e===a&&(r=o++):i=o++,"(#prefix#.*#suffix#)"}),n=n.replace(/#prefix#/g,"").replace(/#suffix#/g,""),this._patternOpts={parsePattern:n,idIndex:r,valueIndex:i}}_setValues(){let e=this._opts.maxAllowedValues,t=this._opts.values;e&&(this._opts.values=t=t.slice(0,e)),t.forEach(e=>this._data.tokens.push(this._getTokenData(e)))}_getEditInput(){let e=t("#"+this._id+"-edit-input");return e.length?e:void 0}_postEachRender(e,a){let o=this._opts,n=this._tokensInfo.DOM=e.children(".ztokenfield__token");this._tokensInfo.DOMArr=n.toArray(),this._mainFocussedToken=this._lastSelectedToken=!1,this._resetSelectedTokens(),this._bindEditHandler();let i=this._editField=this._getEditInput(),r=this._domChanged,s=this._getSelected();if(i){i.focus();let e=this._tokenInEditMode;i.val(e.editText),this._CRUDEvent||i.select(),this._resetInputField(),this._listInstance.setAttribute("searchField",i)}else s.length?this._mainFocussedToken=s[s.length-1]:a.rendered&&(!this._focussedOut||this._CRUDEvent)&&this._focusInput({force:!0,event:this._data.orgEvent});this._showDrop&&(r=!0,a._queryForList===void 0?"after-cursor"===o.dropdownList.position&&this._positionMenu(!0):a._queryForList!==this._getQuery()&&this._search(a._queryForList,this._CRUDEvent)),r||!a.rendered?(this._data.className="ztokenfield "+(o.className||o.zclassName||"")+(o.rtl?" zh-rtl":"")+(o.disabled?" is-disabled":"")+(o.tokens.showRemoveButtonOnHover?"":" ztokenfield--closeshown"),a.attrs={"aria-disabled":o.disabled,id:this._id+"-container"},this._adjustHeight(),o.tokens.sortable?this._initSortable():this._destroySortable(),this._fixInput(),a.tokens.forEach(e=>{if(e.tokenId&&e.removable&&!e.removeButton.mainElement){let a=t("#"+e.tokenId);e.removeButton.mainElement=a.find(".ztokenfield__close")[0]}})):(this._CRUDEvent||this._CRUDOper)&&this._fixInput(),this._showDrop=this._CRUDEvent=!1}_destroySortable(){this._isSortableSet()&&e.sortable(this.container).destroy()}_isSortableSet(){return this.container.data("zsortable")}_postRender(){let e=this.container;this._cpyHelperField=t("#"+this._id+"-copy-helper"),this._input=e.find(".ztokenfield__textbox"),this._initSource()}_getTriggerData(e){return e=e||{},e.params=this._listInstance.params,e.dropdownList=this._menu&&this._menu[0],e}_getListSettings(){let e=super._getListSettings(),t=this._opts.dropdownList,a=e.searchFieldOptions;return"checkbox"===t.itemType&&(e.multiSelectInterfacePattern="checkbox",e.checkedIcon=!0),this._opts.autoComplete&&(e.focusSelectedItem=!1,e.selectOnKeyNavigation=!1),e.multiple=e.hideCheckbox=!0,a.updateOnSelect=!1,e.forElement=this["after-cursor"===t.position?"_input":"container"],e.beforesearchfieldupdate=this._onBeforeFieldUpdate.bind(this),e.searchfieldupdate=this._onInputFieldUpdate.bind(this),e}_onInputFieldUpdate(){this._fixInput(),this._listInstance.updatePosition()}_onInput(e,t){if(this._opts.delimiter){let t=this._input.val();if(this._isDelimiter(t[t.length-1]))return void e.preventDefault()}t.pasteAction&&e.preventDefault(),super._onInput(...arguments)}_onBeforeFieldUpdate(e){let t=e.detail;if(t.autoCompleted)return this._checkMaxLimit()}_closeBtnClick(e,a){this._opts.disabled||(this._removeToken(t("#"+e),a),a.stopPropagation(),a.preventDefault(),this.closeDropdownList())}_setRemoveProps(e){let t=this._opts.tokens;e.removeButton={className:"ztokenfield__close",customAttributes:{tabindex:-1},title:this._getI18NText("remove"),defaultSVGIconId:"zc__svg--close ztokenfield__svg",defaultIconClassName:"ztokenfield__icon",defaultClassName:"ztokenfield__close",templateRender:!0,iconClassName:t.removeSVGIconClassName,SVGIconId:t.removeSVGIconId,click:this._closeBtnClick.bind(this,e.tokenId)}}_changeHandler(e){let t=this._opts.values,a=t.length,o=this._prevValues,n=o.length,r=this._dataMapping.id,i=a!==n;if(!i)for(let e=0,n;e<a;e++)if(n=this._mapJSONToData(t[e],r),!o.find(e=>n===this._mapJSONToData(e,r))){i=!0;break}i&&(this._trigger("change",e,{prevTokenList:o,currentTokenList:t}),this._prevValues=[...t])}_getObj(e,t,a){if(e=this._dataMapping[e],e){let o=e.split(".");o.forEach((e,n)=>{n===o.length-1?void 0!==t&&(a[e]=t):a=a[e]=a[e]||{}})}}_getListCallbacks(e){return e=super._getListCallbacks(e),e.selectionLimit=this._opts.maxAllowedValues,e.value=this._opts.values,e.deselect=this._onDeselect.bind(this),e.beforeupdate=this._onBeforeUpdate.bind(this),e.update=this._onListUpdate.bind(this),e}_getSelected(){return this._getTokenDOMs().filter(".is-selected")||t([])}_enterKeyHandler(e){let a=this._opts;if(e.preventDefault(),!this._isCpyHelperField(t(e.target)))this._editField&&this._focusInput({event:e}),this._validateCurrentState(e);else if(a.tokens.editable){let e=this._getSelected();1===e.length&&this._editHandler(void 0,e[0])}}_validateCurrentState(a,o=!0){if(this._focussedOut=this._focussedOut||a.keyCode===e.keyCode.TAB&&"keydown"===a.type,this._focussedOut||!this._isCpyHelperField(t(a.target))){if(this._editField)this._reformToken(a);else if(o){let e=this._input.val().trim();e&&this._processInputText(a,e,this._data.tokens.length)}else return;this._closeOnSelect&&this.closeDropdownList()}}_isDelimiter(e){let t=this._opts.delimiter;if(t)return t=Array.isArray(t)?t:[t],t.find(t=>e===t)}_getFirstDelimiter(){let e=this._opts.delimiter;return e=Array.isArray(e)?e[0]:e,e}_getDelimiterRegExp(){let e=this._opts.delimiter;return Array.isArray(e)&&(e=new RegExp(e.join("|"))),e}_processInputText(e,t,a,o){let n=t.split(this._getDelimiterRegExp()),i=[];1<n.length&&(o=!1),n.forEach(t=>{if(t){this._opts.trimInputedValue&&(t=t.trim());let a=this._processNewValueToken(e,t,o);a&&i.push(a)}});let r=this._validateAndAddToken(i,e,a);(this._focussedOut||r.length)&&this._resetInputField()}_processNewValueToken(e,t,a){let o=this._opts,n=o.newValuePattern,i=this._parsePattern(t),r={},s=t,l=this._listInstance._ajaxSource,d;return i&&(r={...a},s=i.id,["id","value","text","titleText"].forEach(e=>this._getObj(e,"text"===e?i.label:i.id,r)),this._fromEdit&&(d=this._tokenInEditMode.id===s),d||(d=this._data.tokens.find(e=>{if(e.id===s)return r={...e.actualData,...r},r.removable=!0,!0})),d||l||(d=this._opts.data.find(e=>{if(this._mapJSONToData(e,this._dataMapping.id)===s)return r={...e,...r},r.removable=!0,!0})),d)?r:o.acceptNewValues&&("paste"!==e.type||i)&&(!n||n instanceof RegExp&&n.test(s))?(i||this._assignValue(t,r,e),r.newToken=!0,this._addToDS(r),r):o.dataValidation||this._fromEdit?this._getErrTokenData(t,e):void 0}_focusOutHandler(e){this._clearAllSelection(),this._changeHandler(e),this._validateCurrentState(e),this._containerFocussed=this._focussedOut=!1,this._updateFocusClass()}_clearAllSelection(){this._mainFocussedToken=this._lastSelectedToken=!1,this._deselectToken(this._getSelected())}_getActiveInput(){return this._editField||this._input}_isCpyHelperField(e){return e[0]===this._cpyHelperField[0]}_getQuery(){return this._listInstance.params.query}_arrowNavigation(e,t){let a=this._getTokens(),o=a.length;if(o){let n=this._lastSelectedToken||this._mainFocussedToken,i;if(n){let o=this._getAjToken(n.id,t);if(i=a[o],!i)return void(t||this._focusInput({event:e}))}else t&&(i=a[o-1]);this._onTokenClick(e,i,!0),e.preventDefault()}}_getAjToken(e,t){let a=this._getTokenIndex(e),o;return o=t?a-1:a+1,o}_isMenuShown(){return this._DDLOpened}getValues(e){return e.map(e=>this._getValue(e))}getValue(e){return this._getValue(e)}_getValue(e,t=this._data.tokens){let a=t.find(t=>t.id===e);return a&&a.actualData}getAllValues(){return this._opts.values}search(e){this._input[0].value=e,this._fixInput(),this._search(e)}_keydownHandler(a){this._delToken=!1,this._preventInputOnMaxReach(a);let o=e.keyCode,n=this._listInstance,i=t(a.target),r=this._isCpyHelperField(i),s="INPUT"!==i[0].tagName||r?void 0:t(i),l=s&&s.val().trim(),d=a.keyCode,c=this._isMenuShown(),m=this._input,_=m.val().trim(),u=i[0]===m[0],p=u&&0===_.length,h=this._editField,g=d===o.LEFT;if(g||d===o.RIGHT)l?this._search(l,a,null,this._opts.searchOnCurPos):this._arrowNavigation(a,g);else if(d===o.BACKSPACE||d===o.DELETE){if(this._delToken=!l,r)return void a.preventDefault();}else if(d===o.TAB)this._validateCurrentState(a);else if(d===o.ESCAPE)this.closeDropdownList(),h&&this._validateCurrentState(a);else if(!l&&this._isCtrl(a)){let e=90===d,t=89===d,o=65===d,n=88===d;if(e||t||o||n){if(this.closeDropdownList(),o)return void((r||p)&&(a.preventDefault(),this._selectToken(this._getTokens())));if(e||t){a.preventDefault();let o=e=>"create"===e?e=>{this._removeToken(e,a)}:e=>{this._validateAndAddToken(e.map(e=>e.data),a)};if(e){this._undoTask=!0;let e=this._didOps.pop();e&&o(e[0].action).call(this,e)}else if(t){this._redoTask=!0;let e=this._undidOps.pop();e&&o(e[0].action).call(this,e)}return void(this._undoTask=this._redoTask=!1)}if(n)return void(this._removeTimer=setTimeout(()=>{this._removeToken(this._getSelected(),a)},2))}}if(s)if(!c)d===o.DOWN&&(n._ajaxSource||this._search(this._input.val(),a));else if(-1<[o.ENTER].indexOf(d)&&!this._menu.attr("data-noresults"))return void(this._closeOnSelect&&this.closeDropdownList());d===o.ENTER&&this._enterKeyHandler(a)}_preventInputOnMaxReach(e){if(this._opts.maxAllowedValues&&this._opts.values.length>=this._opts.maxAllowedValues){let t="INPUT"===e.target.tagName&&this._isAlphaNumericKey(e);t&&e.preventDefault()}}_isCtrl(e){return e&&(e.metaKey||e.ctrlKey)}_updateLBSelections(){let e=[];this._data.tokens.forEach(t=>{e.push(t.actualData)}),this._listInstance.setValue(e)}_onDelimiterKey(e){if(this._isMenuShown()&&!this._menu.attr("data-noresults")){let t=this._menu.find(".zdropdownlist__body > .zdropdownlist__item.has-focus");if(t.length)return void this._listInstance.setValue(t[0].itemData.originalData,{event:e})}this._validateCurrentState(e)}_resetInputField(e){(e||this._input).val(""),this._fixInput()}_inputHandler(e){this._isCpyHelperField(t(e.target))||this._fixInput()}_keyUpHandler(a){let o=this._opts;if(!o.disabled){let o=t(a.target),n=this._delToken,i;if(n||!this._isCtrl(a)&&this._isAlphaNumericKey(a)){let r,s;if(this._isCpyHelperField(o))s=n,i=!0;else{let e=o.val();if(n&&(!e||!e.length))this._selectToken(o.prev(),!0,!0),s=!0,this._removeEditInput(),this.closeDropdownList();else{let t=this._isDelimiter(e[e.length-1]);r=!0,t&&this._onDelimiterKey(a,e)}}if(s){let e=this._getSelected();if(e.length){if(i){let a=e.filter(".is-readonly");if(!a.length){let a=t(e[0]).prev();a.length&&this._selectToken(a,!0,!0)}}this._removeToken(e,a)}this._isCheckboxType||this.closeDropdownList()}else r&&9===e.Browser.getIEVersion()&&this._fixInput()}}}_mousedownHandler(e){let t=e.target,a;this._editField&&!a&&(a=t===this._editField[0],!a&&this._validateCurrentState(e)),this._input[0]!==t&&(a||this._getTokenFromEv(e))||this._search(this._input.val(),e),this._focussedOut=!1,e.target===this.container[0]&&e.preventDefault()}_onBeforeOpen(e){this._isCheckboxType||(this._ignoreChange=!0,this._listInstance.deselectAll(),this._ignoreChange=!1);let t=this._input.val();return!!(t.length<this._opts.search.maxKeywordLength&&this._checkMaxLimit())&&this._trigger("dropdownlistbeforeopen",e)}_rectifyInput(e){return e=e.replace(/[,]?\n+/gim,",").replace(/\t+/gim,","),e}_pasteHandler(e){this._checkMaxLimit()?(clearTimeout(this._pasteTimer),this._pasteTimer=setTimeout(()=>{let t=e.target,a=this._rectifyInput(t.value),o={inputText:a};this._trigger("paste",e,o),t.value!==o.inputText&&(t.value=a=o.inputText),this._validateCurrentState(e),a=t.value,a&&this._search(a,e)},100)):e.preventDefault()}_contextMenuHandler(e){}_inputFocusHandler(e){this._clearAllSelection(),this._opts.suggestOnFieldFocus&&0===this._opts.search.minKeywordLength&&this._search("",e)}_inputBlurHandler(e){}_isSpecialKeys(e){return e.metaKey||e.ctrlKey||e.shiftKey}_isRemovableToken(e){return!e.hasClass("is-readonly")}_getTokenFromEv(e){let a=t(e.target).closest(".ztokenfield__token")[0];return a}_isCtrlKey(t){return e.OS.isMac()?t.metaKey:t.ctrlKey}_onTokenClick(e,a,o){if(a){this._updateScrollTop(a);let n=[a];this._skipCpyFieldUpdate=!0;let i=this._mainFocussedToken,r=this._lastSelectedToken;if(e.shiftKey){let e=this._getTokens();i||(i=a);let s=this._getTokenIndex(a.id),l=this._getTokenIndex(i.id);if(o){let e=this._getSelected();this._deselectToken(e.filter(".ztemp"))}else this._clearAllSelection();if(s!==l){s<l&&([l,s]=[s,l]);for(let t=l;t<=s;t++)n.push(e[t])}o?this._selectToken(t(n).filter(":not(.is-selected)").addClass("ztemp")):this._selectToken(n),r=a}else!o&&this._isCtrlKey(e)?this._isTokenSelected(a)?this._deselectToken(a):this._selectToken(t(n)):(this._clearAllSelection(),this._selectToken(t(n))),i=a,r=!1,this._getSelected().removeClass("ztemp");this._mainFocussedToken=i,this._lastSelectedToken=r,this._skipCpyFieldUpdate=!1,this._updateValToBeCopied(e),this.closeDropdownList()}}_clickHandler(e){let t=this._getTokenFromEv(e);t?this._onTokenClick(e,t):"INPUT"!==e.target.tagName&&this._focusInput({event:e})}_updateFocusClass(){this.container[this._containerFocussed?"addClass":"removeClass"]("has-focus")}_bindEvents(){this._opts.disabled||(this._addEvents({keydown:"keydown",keyUp:"keyup",input:"input",mousedown:"mousedown",click:"click",paste:"paste",contextMenu:"contextmenu"}),this._addEvents({inputFocus:"focus",inputBlur:"blur"},this._input),this._addEvents({containerBlur:"focusout",containerFocus:"focusin"},this.container))}_containerFocusHandler(e){let t=!this._containerFocussed;this._focussedOut=!1,this._containerFocussed=!0,this._updateFocusClass(),t&&this._trigger("focus",e)}_containerBlurHandler(e){this._focussedOut=!0,clearTimeout(this._blurTimer),document.activeElement!==this.container[0]&&(this._blurTimer=setTimeout(()=>{this._focussedOut&&this._focusOutHandler(e)}))}_getTokenDOMs(){return this._tokensInfo.DOM}_getTokens(){return this._tokensInfo.DOMArr}_bindEditHandler(){let e=this._getTokenDOMs();this._removeEvents("dblclick",e),this._opts.tokens.editable&&this._addEvents({edit:"dblclick"},e)}_focusInput(e={}){let t=e.force;if((t||document.activeElement!==this._input[0])&&this._trigger("beforeinputfocus",e.event)){this._focussed=this._containerFocussed=!0;let e=this.container[0].scrollTop;this._input.focus(),this._CRUDEvent&&(this.container[0].scrollTop=e),this._trigger("inputfocus")}}_getToken(e){let a;if(e){let o=[];return e instanceof t&&e.length?o=e.filter(".ztokenfield__token").toArray():(e=Array.isArray(e)?e:[e],e.forEach(e=>{a="string"==typeof e?t("#"+e):e.tokenId?t("#"+e.tokenId):t(e),a.hasClass("ztokenfield__token")&&o.push(a[0])})),o.length&&o}}_isTokenSelected(e){return t(e).hasClass("is-selected")}_selectToken(e,a=!0,o){if(e=this._getToken(e),e){let n=t(e);a?(n.addClass("is-selected"),o&&(this._mainFocussedToken=e.pop())):n.removeClass("is-selected ztemp"),this._updateValToBeCopied()}}_deselectToken(e){this._selectToken(e,!1)}_getTokenIndex(e){let t=this._data.tokens;for(let a=0;a<t.length;a++)if(t[a].tokenId===e)return a;return-1}_search(e,t,a,o){if(e.length<this._opts.search.maxKeywordLength&&this._checkMaxLimit()){let n=this._opts.search;n.delay="number"==typeof a?a:n.delay,n.event=t,n.searchOnCurPos=o,this._listInstance.search(e,n,!0)}}_removeTokens(e,t){this._removeToken(this._getDuplicates(e),t)}_onSelect(e,t){if(t.fromUI){t=e.detail;let a=t.itemMappedData,o=t.item;if(a.selectable&&!a.moreresults){let n=t.itemData,i=this._isCheckboxType;if(this._lastSelected=o,this._trigger("listitemselect",e,{listItem:o,listItemData:a.originalData})){let t=this._editField,a;if(t){let e=this._tokenInEditMode;a=e.index,i||this._removeEditInput()}this._buildToken(n,e,void 0,a)}this._closeOnSelect||e.preventDefault()}this._closeOnSelect&&this.closeDropdownList(),this._editField||this._focusInput()}}_getDuplicates(e){let a=this._data.tokens;e=Array.isArray(e)?e:[e];let o=[];return e.forEach(e=>{e="object"==typeof e?this._mapJSONToData(e,this._dataMapping.id):e,a.forEach(a=>{a.invalidToken||a.id!==e||o.push(t("#"+a.tokenId)[0])})}),o.length&&o}_beforeRender(){return!0}_onListUpdate(){this._menu&&(this._menu.attr("tabIndex",-1),this._isCheckboxType&&this._updateCheckedState())}_getMatchedData(e){let t=this._dataMapping.id,a=this._opts.data;if(a&&a.length){let o=this._mapJSONToData(e,t);return a.find(e=>this._mapJSONToData(e,t)===o)}}_addToDS(e){this._opts.dropdownList.acceptNewValues&&this._opts.data instanceof Array&&this._opts.data.push(e)}_buildToken(e,t,a,o){let n=this._opts,i="error"===e.type,r,s,l;i?l=this._getErrTokenData(e.errorValue,t,o):(a&&!i&&(r=this._getMatchedData(e),r?e=r:n.acceptNewValues||this._listInstance._ajaxSource?this._addToDS(e):s=this._messages.denyValue),!s&&(this._checkMaxLimit()?(l=e,e.index=o):s=this._messages.limitReach),s?this._trigger("tokenaddfail",t,{failureType:s}):this._validateAndAddToken(l,t))}_getDataKeys(){let e=super._getDataKeys();return e.concat(["id","titleText"])}_checkMaxLimit(){let e=this._opts.maxAllowedValues;return!e||this._opts.values.length<e}_getTokenData(e){let t=this._opts,a=this._getMappedData(e),o=this._id+"-token-"+this._uniqueIndex++,n=e.invalidToken||"error"===e.type;return a={...a,tokenId:o,invalidToken:n,errorValue:e.errorValue,removable:void 0===e.removable||e.removable,hidden:e.hidden,isSprite:!!t.dataMapping.iconClassName},"custom"===t.tokens.contentType?a.customHTML=this._getCustomContent(e,t.tokens.template,!1,"text",!t.tokens.isDataEncoded):a.hasImage=!n&&"image-text"===t.tokens.contentType&&(!e.newToken||a.image||a.iconClassName),a.actualData=e,a.removable&&this._setRemoveProps(a),a}_isValidToken(e){let t=this._opts,a=t.allowDuplicateValues;return"error"===e.type||a||!this._getDuplicates(e)}_validateAndAddToken(e,t,a){e=Array.isArray(e)?e:[e],this._taskCollector=[];let o=[];e.forEach(e=>{this._isValidToken(e)?o.push(e):(e=this._getErrTokenData(this._mapJSONToData(e,this._dataMapping.text),t,e.index),e&&o.push(e))});let n=0;return o.forEach(e=>{let o=void 0!==a?a+n:e.index;this._createToken(e,t,o)&&n++}),this._updateUndoRedoOp(t),o}_createToken(e,a,o){let n=this._opts;if(this._checkMaxLimit()){let i=this._getTokenData(e),r={tokenData:i,fromEdit:this._fromEdit};if(this._trigger("beforetokenadd",a,r)){let s=this._data.tokens,l="number"==typeof o&&-1<o&&o<s.length;return l?(s.splice(o,0,i),n.values.splice(o,0,e)):(s.push(i),n.values.push(e)),this._CRUDEvent=a,this._CRUDOper=!0,this._data.orgEvent=a,this._render(),r.token=t("#"+i.tokenId),this._fromEdit||this._updateScrollTop(r.token),this._trigger("tokenadd",a,r),this._addTask(i,l?o:s.length-1),!0}}}_onDeselect(e,t){this._ignoreChange||this._removeTokens(e.detail.itemData,e)}_onBeforeUpdate(e,t){let a=this._opts,o=a.allowDuplicateValues||this._isCheckboxType;this._data.tokens.forEach(a=>{if(!a.editInput){let n=a.value;n&&(n=n.toString(),t.results=e.detail.results.filter(e=>{let t=this._mapJSONToData(e,this._dataMapping.value);if(t){if(n===t.toString()){let t=!a.removable;return(this._isCheckboxType||!t)&&(e.disabled=t,o)}return!0}}))}})}_removeToken(a,o){if(a&&(a=this._getToken(a),a&&a.length)){this._taskCollector=[];let n=0,i=0;a.forEach(a=>{a=t(a);let r=this._getTokenIndex(a[0].id),s=this._data.tokens,l=s[r],d={token:a[0],tokenData:{actualData:l.actualData,id:l.id,tokenId:l.tokenId,invalidToken:l.invalidToken,text:l.text,removable:l.removable}},c=this._isRemovableToken(a)&&this._trigger("beforetokenremove",o,d);if(c){if(i++,s.splice(r,1),this._opts.values.splice(r,1),this._skipCpyFieldUpdate=!0,this._isCheckboxType&&this._updateCheckedState(l.actualData),this._deselectToken(a),this._skipCpyFieldUpdate=!1,this._opts.tokens.animateOnRemove){a.width(a.width()).addClass("ztokenfield--transition"),setTimeout(()=>{a.off(e._transitionEnd).on(e._transitionEnd,()=>{a.css({opacity:"",width:""}).removeClass("ztokenfield--transition").off(e._transitionEnd),n++,n===i&&this._afterTokensRemoval(o),this._trigger("tokenremove",o,d)}).css({opacity:.01,width:0})},15)}else n++,this._trigger("tokenremove",o,d);this._addTask(l,r,"remove")}}),i===n&&this._afterTokensRemoval(o),this._updateUndoRedoOp(o)}}_afterTokensRemoval(e){this._CRUDEvent=e,this._CRUDOper=!0,this._data.orgEvent=e,this._render(),this._updateValToBeCopied(e),this._updateLBSelections()}_preRender(e){let t=this._editField;if(e._queryForList=void 0,this._CRUDEvent){this._showDrop=!0;let a=this._getActiveInput(),o=this._opts.search.retainKeyword;o=(this._opts.search.minKeywordLength&&this._isCheckboxType?!this._isNotNull(o)||o:o)&&!this._opts.autoComplete&&this._checkMaxLimit(),o||this._resetInputField(a);let n=a.val().trim();t&&this._updateEditTokenData(n),!this._closeOnSelect&&this._isMenuShown()?!o&&(e._queryForList=n):this._showDrop=!1}return this._data.rendered&&this._saveSelectedTokens(),e}_saveSelectedTokens(){this._selectedTokenIds=this._getSelected().toArray().map(e=>e.id)}_resetSelectedTokens(){this._data.rendered&&this._getTokenDOMs().toArray().forEach(e=>{let t=-1!==this._selectedTokenIds.indexOf(e.id);this._selectToken(e,t)})}_updateUndoRedoOp(){this._taskCollector.length&&(this._undoTask?this._undidOps.push(this._taskCollector):!this._redoTask&&this._didOps.push(this._taskCollector)),this._taskCollector=!1}_addTask(e,t,a){let o={data:e.actualData,tokenId:e.tokenId};o.data.index=o.index=t,o.action=a||"create",this._taskCollector.splice(0,0,o)}_getPatternedContent(e,t){if(e.invalidToken)return!t&&e.errorValue;let a=this._displayPattern;return a.replace(/#value#/g,this._mapJSONToData(e,this._dataMapping.text)).replace(/#id#/g,this._mapJSONToData(e,this._dataMapping.id))}_parsePattern(e){let t=this._patternOpts,a=e.match(t.parsePattern);if(a){let e,o;return t.idIndex&&(e=a[t.idIndex]),t.valueIndex&&(o=a[t.valueIndex]),{id:e,label:o}}}_updateValToBeCopied(e){if(!this._skipCpyFieldUpdate){let t=this._getSelected().toArray(),a=[],o;t.length?(this._selected=[],t.forEach(e=>{this._selected.push(e.id);let t=e.actualData;a.push(this._getPatternedContent(t))}),this._lastSelectedToken&&-1<t.indexOf(this._lastSelectedToken)&&(o=this._lastSelectedToken),this._cpyHelperField.val(a.join(this._getFirstDelimiter())).select()):!this._editField&&!this._focussedOut&&this._focusInput({event:e}),this._lastSelectedToken=o}}_adjustHeight(){let e=this.container.css("height");this._prevHeight&&e!==this._prevHeight&&this._isMenuShown()&&this._listInstance.updatePosition(),this._prevHeight=e}_onBeforeSearch(e,{params:t}){return t.previousQuery=void 0,this._repositioned=!0,super._onBeforeSearch(...arguments)}_fixInput(){let e=this._data.tokens.length?"":this._opts.placeholder;this._input[0].placeholder=e||"";let a=this._getActiveInput(),o=a===this._input?this._input.val()||e:a.val(),n=this.container.is(":hidden"),i=this._input,r=t("<span>").attr({class:"ztokenfield__textbox",style:"position:absolute; visibility:hidden; width:auto;"}).text(o),s=r;n&&(s=this.container.clone().width("auto").appendTo("body"),i=s.find("input")),r.insertAfter(i);let l=r.width()+30;a[0].style.width=l+"px",s.remove()}_updateScrollTop(e){if(e=t(e),e&&e.length){let t=e.position().top,a=this.container[0].scrollTop;if(0>t)this.container.scrollTop(a+t);else{let o=e.outerHeight(),n=o+t+a,i=this.container.innerHeight()+a;n>i&&this.container.scrollTop(a+(n-i))}}}_destroy(){this._opts.tokens.sortable&&this._destroySortable(),this._input.off("."+this.name),this._listInstance.destroy(),clearTimeout(this._blurTimer),clearTimeout(this._pasteTimer),clearTimeout(this._removeTimer),this._listInstance=this._input=this._cpyHelperField=void 0}_duplicateElement(e){let a=t("<div>").css({position:"absolute",left:-9999,top:0,zIndex:-2e4});return["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap","height"].forEach(t=>a[0].style[t]=window.getComputedStyle(e[0])[t]),a}_positionMenu(e){if(this._menu&&this._menu.is(":visible")){if(e&&(this._listInstance.positionList(),this._repositioned=!0),this._repositioned){let e=this._input,t=this._positionInput(e);if(t){let{top:a,left:o}=this._menu[0].style,n=this._menu.data("direction");/^(top)/.test(n)?a=parseInt(a)+t.top:/^(bottom)/.test(n)&&(a=parseInt(a)-e.outerHeight()+t.top+t.height),o=parseInt(o)+t.left,this._menu.css({top:a,left:o})}}this._repositioned=!1}}_positionInput(e){let t=e[0].value.slice(0,e[0].selectionStart),a,o,n,i,r;return a="<span style=\"position: relative; display: inline-block;vertical-align:middle;\">"+this._removeSpecialChar(t)+"</span>",a+="<span id='caret' style='position: relative; display: inline-block;vertical-align:middle;'>|</span>",a+="<span style='position: relative; display: inline-block;vertical-align:middle;height:100%'></span>",r=this._duplicateElement(e),n=r.html(a).insertAfter(e).find("#caret"),o=n.position(),i={left:o.left,top:o.top,height:n.height()},r.remove(),i}_removeSpecialChar(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),e.Browser.isFirefox&&(t=t.replace(/\s/g,"&nbsp;")),t}_updateCheckedState(e){this._isCheckboxType&&(this._ignoreChange=!0,this._listInstance.deselect(e),this._ignoreChange=!1)}_beforeItemChecked(e,t){!t&&e&&(t=e.detail);let a=this._opts,o=a.maxAllowedValues;!t.data.checked&&o&&o===a.values.length&&(e.preventDefault(),this._dispatchEvent("tokenaddfail",e,{failureType:this._messages.limitReach}))}_getErrTokenData(e,t,a){if(e=e.trim(),e){let o={invalidToken:!0,newToken:!0,errorValue:e,type:"error",index:a};return this._assignValue(e,o,t,a),this._input.val(""),o}}_assignValue(e,t){["id","text","titleText"].forEach(a=>this._getObj(a,e,t))}hasInvalidTokens(){let e=this._opts.values;if(this._opts.dataValidation)for(let t=0;t<e.length;t++)if("error"===e[t].type)return!0}_editHandler(e,a){let o=this._opts.tokens;if(a=a||e.currentTarget,!this._opts.disabled&&o.editable&&this._isRemovableToken(t(a))){let e=this._data,t=this._getTokenIndex(a.id),o=a.actualData,n=this._tokenInEditMode=this._data.tokens[t],i;i=this._getPatternedContent(o),n.index=t,n.editText=i,this._opts.values.splice(t,1),e.tokens.splice(t,1,{editInput:!0}),this._render()}}_updateEditTokenData(e){let t=this._data.tokens,a=this._tokenInEditMode;for(let o=0;o<t.length;o++)if(t[o].editInput){a.index=o,a.editText=e;break}}_reformToken(t){let a=this._editField;if(a){let o=t&&t.keyCode===e.keyCode.ESCAPE,n=a.val().trim(),i=this._tokenInEditMode,r=i.actualData,s=i.index;if(this._removeEditInput(),o||i.editText===n)return this._validateAndAddToken(r,t,s);if(!n)return;delete r.invalidToken,delete r.type;let l={textboxValue:n,itemData:r};this._dispatchEvent("tokenedit",t,l),this._fromEdit=!0,this._tokenInEditMode=i,this._processInputText(t,l.textboxValue,s,r),this._fromEdit=this._tokenInEditMode=!1}}_removeEditInput(){this._listInstance.setAttribute("searchField",this._input),this._tokenInEditMode=this._editField=!1;let e=this._data.tokens;for(let t=0;t<e.length;t++)if(e[t].editInput){e.splice(t,1),this._render();break}}_getEditInputIndex(){let e=this._data.tokens;for(let t=0;t<e;t++)if(e[t].editInput)return t;return-1}removeTokens(e,t){this._removeTokens(e,t)}removeToken(e,t){this._removeTokens(e,t)}removeAllTokens(){this._removeToken(this._getTokens())}addTokens(e){e&&e instanceof Array&&(e.forEach(e=>this.addToken(e)),this._updateLBSelections())}addToken(e){e&&!(e instanceof Array)&&(this._buildToken(e,void 0,!0),this._updateLBSelections())}setFocus(){this._focusInput({from:"method"})}selectAll(){this._listInstance.staticData&&this.fetchData(e=>{this.setAttribute("values",e.results)})}_setAttribute(e,t){let a=!1,o=this._opts;"values"===e?(this._data.tokens=[],o[e]=t,this._setValues(),this._updateLBSelections(),this._domChanged=!0):(o[e]=t,"dataMapping"===e||"rtl"===e?(this._dataMapping=o.dataMapping,a=!0):"placeholder"===e?this._fixInput():"tokens"===e?(this._updatePreDatas(),this._reInit=!0):"dropdownList"===e?(this._updatePreDatas(),a=!0):a=!0),a&&super._setAttribute(...arguments)}_disable(e){let t=this._opts,a=this.container,o="is-disabled";e?(a.off("."+this.name).addClass(o),this._input.off("."+this.name)):(a.removeClass(o),this._bindEvents()),this._input.attr("disabled",e),t.tokens.sortable&&this._initSortable()}_initSortable(){this._opts.tokens.sortable&&!this._opts.disabled?this._isSortableSet()?e.sortable(this.container).refresh():e.sortable(this.container,{ignoreAsHandle:".ztokenfield__close",region:"parent",items:"> .ztokenfield__token",drag:()=>this.closeDropdownList()}):this._destroySortable()}}e.registerComponent("ZTokenfield",e.ZSuggestField,ZTokenfield)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.ztokenfield.Templates;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=a=>{let o=ZT.html`${a.tokens.map(o=>ZT.html` ${o.editInput?ZT.html`<input type='text' id='${a.id}-edit-input' autocomplete=off class='ztokenfield__textbox ztokenfield__editinput' tabindex='0'/>`:ZT.html`<div class='ztokenfield__token ${o.removable?"":"is-readonly"} ${o.invalidToken?" has-error":""}' tabindex='-1' id='${o.tokenId}' .actualData='${o.actualData}' ?style='${o.style}'> ${t.WCTokenContent(o)} ${o.removeButton&&e.createButton(o.removeButton)} </div>`}`)} <input type='text' aria-haspopup='true' autocomplete=off role='textbox' aria-expanded='false' aria-owns='${a.id}-menu' id='${a.id}-input' autocomplete='off' tabindex='${a.tabindex}' class='ztokenfield__textbox' ?disabled='${a.disabled}'/> <input type='text' style='${a.pasteStyle}' autocomplete=off tabindex='-1' id='${a.id}-copy-helper' />`;return o},t.WCTokenContent=function(e){let t=e.customHTML?ZT.html`${ZT.customHTML(e.customHTML||"")}`:ZT.html`${e.hasImage&&(e.isSprite?ZT.html`<i class='ztokenfield__image ${e.iconClassName}'></i>`:ZT.html`<img src='${e.image}' class='ztokenfield__image' />`)} ${ZT.html`<span class='ztokenfield__text' ?title='${e.titleText}'> ${e.text} </span>`}`;return t}}(ZComponents),function(e){let t=e.ztokenfield.Templates;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=a=>{let o=ZT.html`${a.tokens.map(o=>ZT.html` ${o.editInput?ZT.html`<input type='text' id='${a.id}-edit-input' autocomplete=off class='ztokenfield__textbox ztokenfield__editinput' tabindex='0'/>`:ZT.html`<div class='ztokenfield__token ${o.removable?"":"is-readonly"} ${o.invalidToken?" has-error":""}' tabindex='-1' id='${o.tokenId}' .actualData='${o.actualData}' ?style='${o.style}'> ${t.tokenContent(o)} ${o.removeButton&&e.createButton(o.removeButton)} </div>`}`)} <input type='text' aria-haspopup='true' autocomplete=off role='textbox' aria-expanded='false' aria-owns='${a.id}-menu' id='${a.id}-input' autocomplete='off' tabindex='${a.tabindex}' class='ztokenfield__textbox' ?disabled='${a.disabled}'/> <input type='text' style='${a.pasteStyle}' autocomplete=off tabindex='-1' id='${a.id}-copy-helper' />`;return o},t.tokenContent=function(e){let t=e.customHTML?ZT.html`${ZT.customHTML(e.customHTML||"")}`:ZT.html`${e.hasImage&&(e.isSprite?ZT.html`<i class='ztokenfield__image ${e.iconClassName}'></i>`:ZT.html`<img src='${e.image}' class='ztokenfield__image' />`)} ${ZT.html`<span class='ztokenfield__text' ?title='${e.titleText}'> ${e.text} </span>`}`;return t}}(ZComponents),function(e,t){class ZInputField extends e.CoreComponent{get name(){return"zinputfield"}get attrs(){return{min:null,max:null,spinButtons:"always",locale:null,clearButton:"focus",clearButtonSVGIconId:null,clearButtonIconClass:null,width:null,value:null,spinButtonsType:"together",incrementButtonSVGIconId:null,incrementButtonIconClass:null,decrementButtonIconClass:null,decrementButtonSVGIconId:null,spinEventTriggerDelay:0,disabled:!1,readonly:!1}}get props(){return{incrementButtonIconClassName:null,decrementButtonIconClassName:null,clearButtonIconClassName:null,labels:{increment:"Increment Value",decrement:"Decrement Value",clear:"Clear"}}}get EVENTS(){return["focus","blur","change","spin","spinstart","spinend"]}_init(e,t){let a=this.isCE,o=this._data,n=t.width,i=e.attr("title");if(i&&!a&&(t.title=i),"none"===n)t.width=null;else{let t=parseInt(n)||e.outerWidth();o.width=t,parseInt(t)&&(o.style="width:"+o.width+"px")}o.tabindex=e[0].getAttribute("tabindex")||0,o.attrs={tabindex:-1};o.spinButtons="none"!==t.spinButtons,o.spinButtons&&this._getSpinBtnProps(),o.clearButton="none"!==t.clearButton,o.clearButton&&this._getClearBtnProps(),a||(o.id=this._getID(e)+"-container"),this._addedByComponent=this.isCE}_postRender(){let e=this._data,t=this._opts,a=t.readonly,o=(a||t.disabled?" is-disabled":"")+(a?" is-readonly":"");e.className+=" zinputfield "+o,this._input=this.container.find(".zinputfield__textbox"),t.placeholder&&this._input.attr("placeholder",t.placeholder),this._addedByComponent=!this.isCE}_postEachRender(e,t=this._data){let a=t.modifiedAttr,o=this._opts,n=t.spinButtons;t.clearButton&&(!a||"clearButton"===a)&&this._updateClearBtn(),(!a||-1<["spinButtons","spinButtonsOrientation"].indexOf(a))&&(n?this._updateSpinButtons():this._data.className+=" zinputfield--spinbtnnone"),a&&"spinButtonsType"===a&&(this._input=this.container.find(".zinputfield__textbox"),this._bindEvents(),this._updateSpinButtons(),this._setValue(this._opts.value)),!n||t.isVertical||a&&0!==a.indexOf("spinButtons")||(this._data.className+=" zinputfield--split"),t.clearButton&&"always"===o.clearButton&&(!a||"clearButton"===a)&&(this._data.className+=" zinputfield--withclrbtn",(!o.value||o.readonly||o.disabled)&&this._toggleBtnDisplay(!0,!0)),(t.spinButtons||t.clearButton)&&this._bindContainerEvents(),t.modifiedAttr=void 0}_toggleBtnDisplay(e,t,a){let o=a?this._clearButton.add(this._buttonPane):t?this._clearButton:this._buttonPane;o[e?"addClass":"removeClass"]("zh-dnone")}_bindContainerEvents(){this._addEvents({containerHover:"mouseenter mouseleave",containerFocusIn:"focusin"})}_containerHoverHandler(e){let t=this._opts,a=this._data;if(!t.readonly&&!t.disabled){let t="mouseenter"===e.type,o=!t&&this.container.hasClass("has-focus"),n=this._opts,i=a.clearButton&&"focus"===n.clearButton,r=a.spinButtons&&"focus"===n.spinButtons;(i||r)&&this._input.val().length&&!o&&(t?this._data.className+=(i?" zinputfield--withclrbtn":"")+(r?" zinputfield--spinbtnonfocus":""):this._updateClass("",(i?"zinputfield--withclrbtn":"")+(r?(i?"|":"")+"zinputfield--spinbtnonfocus":"")),this._toggleBtnDisplay(!t,i,i&&r,e.type))}}_containerFocusInHandler(e){e.stopPropagation()}resetWidth(){this.isCE||this.container.outerWidth(this.element.outerWidth())}_getBtnProps(t,a,o,n){let i=this._opts,r=this._getI18NText(t);return e.ZButton.getBtnProps({className:o,templateRender:!0,defaultIconClassName:"zinputfield__icon",iconClassName:i[t+"ButtonIconClass"]||i[t+"ButtonIconClassName"],SVGIconId:i[t+"ButtonSVGIconId"],defaultSVGIconId:a+" zbutton__svg zinputfield__svg",customAttributes:{tabindex:-1,"aria-label":r,title:r}})}_destroy(){let t=this.name;this._input.off(`.${t}`),this._input=this._clearButton=this._buttons=this._buttonPane=void 0,this.isCE&&this.element.removeClass(this._data.className).empty(),e.$document.off(`.${t}`)}_getClearBtnProps(){this._data.clearButtonProps=this._getBtnProps("clear","zc__svg--clear","zinputfield__clearbutton",this._clearButton&&this._clearButton[0])}_updateClearBtn(){let e=this._clearButton=this.container.find(".zinputfield__clearbutton"),t=this._data.clearButtonProps;"focus"===this._opts.clearButton&&this._toggleBtnDisplay(!0,!0),t.mainElement=e[0],e.attr(t.attrs),this._bindClearBtnEvents()}_bindClearBtnEvents(){let e=this._clearButton;this._addEvents({cBtnMouse:"mousedown mouseup",cBtnClick:"click"},e)}_cBtnMouseHandler(e){this._mouseDown="mousedown"===e.type}_cBtnClickHandler(){let e=this._opts;e.disabled||e.readonly||(e._lastValue=e.value,this._input.val("").focus(),this._toggleBtnDisplay(!0,!0))}_handleClearBtn(e,t,a){let o=this._data;a[e]=t,o.clearButton="none"!==a.clearButton,o.clearButton?(this._getClearBtnProps(),"clearButton"===e&&(o.modifiedAttr=e)):(this._updateClass("","zinputfield--withclrbtn"),this._clearButton=void 0)}_setAttribute(e,t){let a=this.container,o=this._opts,n=this._input;if("title"===e)a[0].setAttribute("title",t);else if("placeholder"===e)n.attr("placeholder",t);else if("width"===e)a.outerWidth(t);else if("maxLength"===e)n[t?"attr":"removeAttr"]("maxlength",t);else if(-1<e.indexOf("clearButton"))this._domChanged=!0,this._handleClearBtn(e,t,o);else if(/incrementButton|decrement|spinButtons/g.test(e))this._domChanged=!0,this._handleSpinBtns(e,t,o);else if("readonly"===e){this._updateClass(t?"is-readonly is-disabled":"",t?"":"(is-readonly"+(o.disabled?"":"|is-disabled")+")"),t?n.attr({readonly:!0,"aria-readonly":!0}):n.removeAttr("readonly aria-readonly")}else if("required"===e){let e=this._opts.value;e||this._setInitialValue()}}_disable(e){super._disable(e,void 0,!e&&this._opts.readonly);let t=this._input;e?t.attr({disabled:!0,"aria-disabled":!0}):t.removeAttr("disabled aria-disabled")}_getSpinBtnProps(){let e=this._data,t=this._opts,a=t.spinButtonsOrientation||t.spinButtonsType,o=this._getBtnProps.bind(this),n=this._getSpinIconInfo.bind(this),i,r;e.isVertical="vertical"===a||"together"===a,e.attrs.role="spinbutton",i=n("increment",e.isVertical),r=n("decrement",e.isVertical),e.incrementProps=o("increment",i[0],i[1],this._buttons&&this._buttons[0]),e.decrementProps=o("decrement",r[0],r[1],this._buttons&&this._buttons[1])}_getSpinIconInfo(e,t){let a="zc__svg--"+(t?"":"horizontal")+e+(t?"":" zh-arrowicon"),o="zinputfield__spinbutton"+("increment"===e?" zh-up":" zh-down");return[a,o]}_updateSpinButtons(){let e=this._opts,a=e.spinButtons,o=this.container,n=this._data;this._buttonPane=o.find(".zinputfield__spinbuttonpane"),this._buttons=o.find(".zinputfield__spinbutton");let i=+n.isVertical,r;r=n.incrementProps.mainElement=this._buttons[+!i],t(r).attr(n.incrementProps.attrs),r=n.decrementProps.mainElement=this._buttons[i],t(r).attr(n.decrementProps.attrs),this._toggleBtnDisplay("focus"===a&&!0),this._bindSpinButtonEvents()}_handleSpinBtns(e,t,a){let o=this._data;a[e]=t,"spinButtonsType"===e&&"focus"===a.spinButtons&&(a.spinButtons="always"),o.spinButtons=t="none"!==a.spinButtons,this._updateClass("","zinputfield--split|zdatetimefield|zdatetimefield--buttonsonhover|zinputfield--spinbtnonfocus|zinputfield--spinbtnnone"),-1<["spinButtons","spinButtonsType","spinButtonsOrientation"].indexOf(e)&&(o.modifiedAttr=e),t?this._getSpinBtnProps():this._buttons=this._buttonPane=void 0}}e.registerComponent("ZInputField",ZInputField)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zinputfield.Templates,a=e.zbutton.Templates.WCContainer;t.WCContainer=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" ?style="${e.style}" ?id=${e.id} >${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html`<input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}> ${e.clearButton&&a(e.clearButtonProps)} ${e.spinButtons&&ZT.html`<div class="zinputfield__spinbuttonpane"> ${e.isVertical?a(e.incrementProps):a(e.decrementProps)} ${e.isVertical?a(e.decrementProps):a(e.incrementProps)} </div>`}`}(ZComponents),function(e){let t=e.zinputfield.Templates,a=e.zbutton.Templates.container;t.container=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" ?style="${e.style}" ?id=${e.id} >${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`<input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}> ${e.clearButton&&a(e.clearButtonProps)} ${e.spinButtons&&ZT.html`<div class="zinputfield__spinbuttonpane"> ${e.isVertical?a(e.incrementProps):a(e.decrementProps)} ${e.isVertical?a(e.decrementProps):a(e.incrementProps)} </div>`}`}(ZComponents),function(e,t){var a=Math.round;class ZNumberField extends e.ZInputField{get name(){return"znumberfield"}get attrs(){return{step:1,placeholder:"",required:!1,spinValues:!0,wrapAround:!1,thousandSeparator:",",allowNegativeValue:!1,showThousandSeparator:!1,decimalPlaces:null,prefix:null,suffix:null,longStep:null,nullValue:0,decimalSeparator:".",stepBehavior:"default",suppressThousandSeparatorKey:!1,decimalsForWholeNumber:!0,innerHTML:null,isWriter:!1,triggerBlurOnSpinButtonClick:!1,spinEventTriggerDelay:0,bindedSpinAndChange:!1,blurEventDelay:500}}get EVENTS(){return["focus","blur","change","input","spin","spinstart","spinend","optionschanged"]}get escapeSequence(){return /[[\]{}()*+?\\^$|#]/g}get _mac(){return e.OS.isMac()}_init(e,t){super._init(e,t);let a=["min","max","step","value","disabled","readonly"],o,n;for(let r=0;6>r;r++)o=a[r],n=e.attr(o)||t[o],t[o]=3>r?parseFloat(n):n;this._validateOpts(this._opts),(t.decimalPlaces||t.showThousandSeparator)&&(this._setSeparatorValues(),t.value&&(t.value=this._removeSeparators(t.value+""))),t.value=parseFloat(t.value),this._factor="w3"===t.stepBehavior?this._getFactorValue():1,this._hasAffix=(t.prefix||t.suffix||"").trim().length,t.templateName="zinputfield",this._data.spinButtons&&this._validateSBtnOpts(t)}_validateOpts(e=this._opts){let{min:t,max:a,step:o,decimalPlaces:n,longStep:i}=e,r=this._isNotNull.bind(this);r(t)||(t=e.allowNegativeValue?void 0:0),(!r(a)||a<t)&&(a=void 0),!o||0>=o?o=1:o>a-t&&(o=a-t);let s=+t===t&&0!=t%1,l=+a===a&&0!=a%1,d=+o===o&&0!=o%1;if((s||l||d)&&(this._hasFloatingNumber=!0),(0>n||20<n)&&(n=0),!i&&r(a)&&r(t)){let e=2*o;i=e>a?e/(a-t):e}e.min=t,e.max=a,e.step=o,e.decimalPlaces=n,e.longStep=i;let c=["min","max","readonly","disabled","spinButtonsType","maxLength"],m;for(let t=0;6>t;t++)m=c[t],this._data[m]=e[m];this._dispatchEvent("optionschanged",{})}_postEachRender(e,t){let a=t.modifiedAttr;super._postEachRender(...arguments),t.spinButtons&&("spinButtonsType"===a||"spinButtons"===a)&&this._toggleSpinBtnStates(),this._data.rendered||this._setInitialValue()}_toggleBtnDisplay(e,t,a){let o=this._clearButton,n="split"===this._opts.spinButtonsType?this._buttons:this._buttonPane,i=a?o.add(n):t?o:n;i[e?"addClass":"removeClass"]("zh-dnone")}_setInitialValue(){let e=this._opts,t=e.value,a=this._data.spinButtons,o="always"===e.clearButton;return isNaN(t)&&!e.required?(this._input.val(""),a&&this._toggleSpinBtnStates(),void(o&&this._toggleBtnDisplay(!0,!0))):void(t&&!t+"".match("[0-9]")&&(t=isNaN(t)?e.min:this._checkMinAndMax(t)),this._setValue(t),a&&this._toggleSpinBtnStates(),o&&this._toggleBtnDisplay(!1,!0),e.previousValue=this._changeDisVal=e.value)}_checkMinAndMax(e){let t=this._opts;return!this._isNotNull(e)||isNaN(e)?t.min||0:(e=parseFloat(e),e=e<t.min?t.min:e>t.max?t.max:e,e)}_bindEvents(){this._bindSpinEvents(),this._addEvents({inputEleFocus:"focus",inputEleBlur:"blur",inputEleClick:"click",inputEleChange:"change",inputEleKey:e.Browser.isIE&&9===e.Browser.getIEVersion()?"keyup":"input"},this._input),this.isCE&&this._bindCEInputEvents(),e.Browser.isSafari&&this._addEvents({containerBlur:"blur"})}_containerBlurHandler(e){let a=e.originalEvent,o=this.container;a&&t(a.relatedTarget).closest(".zinputfield")[0]!==o[0]&&o.find(".zh-up").trigger("blur")}_inputEleFocusHandler(e){let t=this._opts;if(t.disabled||t.readonly)return!1;this._hasAffix&&this._handleInputFocus(),this.container.addClass("has-focus");t.clearButton==="focus"&&this._toggleBtnDisplay(!this._input.val().length,!0),this._mouseDown||this._triggerEvent("focus",e),t.spinButtons==="focus"&&this._toggleBtnDisplay()}_inputEleBlurHandler(e){let a=e.relatedTarget&&t(e.relatedTarget),o=a&&a.closest(".zinputfield");if(!(this._mouseDown||a&&o.length&&o[0]===this.container[0])){this.container.removeClass("has-focus");let t=this._validateFieldValue();if(!1===t)return""!==this._opts.value&&this._triggerEvent("change",e),void this._triggerEvent("blur",e);let a=this._opts;(void 0===this._changeDisVal||parseFloat(this._changeDisVal)!==parseFloat(a.value))&&(this._triggerEvent("change",e),this._changeDisVal=a.value),a.isWriter&&this._handleInputBlur()||this._mouseDown||this._triggerEvent("blur",e);let o=this._data;o.spinButtons&&this._toggleSpinBtnStates();let n=a.clearButton,i="focus"===n,r="focus"===a.spinButtons;i||r?this._toggleBtnDisplay(!0,i,i&&r):"always"===n&&this._toggleBtnDisplay(!1,!0),this._clearTimers()}}_validateFieldValue(){let e=this._opts,t=this._input.val();if(""===t&&!e.required)return!1;let a=/^[- . 0-9 e]+$/,o=!1;t=this._extractNumericValue(t);let n=parseFloat(t);if(isNaN(n)||!a.test(t))o=!0,n=parseFloat(e._lastValue);else{let a=this._checkMinAndMax(t);a!==n&&(o=!0,e._lastValue=n=a)}e.value!==n&&(o=!0),this._setValue(o?n:e.value)}_inputEleClickHandler(){let e=this._opts;e.readonly||e.disabled||!this._hasAffix||this._input.select()}_inputEleChangeHandler(e){e.stopPropagation()}_inputEleKeyHandler(){this._input.val(this._translateEToA(this._input.val()))}_bindSpinEvents(){("none"!==this._opts.spinButtons||this._opts.spinValues)&&this._addEvents({inputEleMouseWheel:"mousewheel DOMMouseScroll MozMousePixelScroll"},this._input),this._addEvents({inputEleKeyDown:"keydown",inputEleKeyUp:"keyup"},this._input)}_unbindSpinEvents(){this._removeEvents("mousewheel DOMMouseScroll MozMousePixelScroll",this._input)}_inputEleKeyDownHandler(t){let a=this._opts;if(a.disabled||a.readonly)return!1;let o=e.keyCode,n=t.keyCode;if(n!==o.ESCAPE){window.clearTimeout(this._mwTimer),this._prevKDTime=this._currKDTime,this._currKDTime=new Date().getTime();let e=!1;this._prevKDTime&&this._currKDTime&&600>this._currKDTime-this._prevKDTime&&(e=!0);let i=this._data.spinButtons||a.spinValues,r=!0;n===o.UP||n===o.DOWN?(r=!1,i&&(!e&&(!this._currKUTime||!this._prevKUTime||600<this._currKUTime-this._prevKUTime)&&this._triggerEvent("spinstart",t),this._spinValue(n===o.UP,t.shiftKey,void 0))):n===o.PAGE_UP||n===o.PAGE_DOWN?i&&this._setValue(a[n===o.PAGE_UP?"max":"min"]):n===o.ENTER?(clearTimeout(this._sTimer),this._changeDisVal=a.value,this._setValue(this._input.val()),this._triggerEvent("change",{}),a.isWriter&&this._handleEnterKey()):void 0,this._shortcutKey=t.ctrlKey||t.metaKey;let s=this._handleKeyDown(t);return r&&(r=s),r}}_inputEleKeyUpHandler(t){let a=this._opts;if(a.disabled||a.readonly)return!1;let o=e.keyCode,n=t.keyCode,i=n===o.UP||n===o.DOWN;if(!i)this._prevKUTime=this._currKUTime=void 0;else if(this._prevKUTime=this._currKUTime,this._currKUTime=+new Date,void 0!==this._prevKUTime&&600>this._currKUTime-this._prevKUTime)return window.clearInterval(this._kuTimer),void(this._kuTimer=window.setInterval(()=>{this._currKUTime=+new Date,600<this._currKUTime-this._prevKUTime&&((!a.isWriter||this._canTriggerSEnd(a))&&this._triggerSpinEndEvent(t),window.clearInterval(this._kuTimer),this._prevKDTime=this._prevKUTime=this._currKUTime=this._currKDTime=this._kuTimer=void 0)},200));return i&&(!a.isWriter||this._canTriggerSEnd(a))&&this._triggerSpinEndEvent(t),this._prevKDTime=this._currKDTime=void 0,this._handleKeyUp(t)}_inputEleMouseWheelHandler(e){let t=this._opts;if(t.disabled||t.readonly||!this.container.hasClass("has-focus"))return!1;this._mwTimer||this._triggerEvent("spinstart",e);let a=e.originalEvent,o=a.detail;return this._spinValue(0===o?0>a.wheelDelta:0<o,e.shiftKey),clearTimeout(this._mwTimer),this._mwTimer=setTimeout(()=>{this._triggerSpinEndEvent(e),clearTimeout(this._mwTimer),this._mwTimer=void 0},600),!1}_extractNumericValue(e,t){e=this._translateAToE(e+"");let a=this._opts;return this._hasAffix&&(e=this._removeAffixes(e)),(a.showThousandSeparator||a.decimalPlaces)&&(e=this._removeSeparators(e,t)),e.trim()}_handleKeyDown(e){let t=this._opts;if(this._checkPatternKeys(e)){let a=this._input,o=a.val(),n=this._extractNumericValue(o),i=a[0].selectionStart,r=a[0].selectionEnd,s=e.keyCode;n=8===s?n.substr(0,i-1):n.substr(0,i)+String.fromCharCode(e.keyCode)+n.substr(r,o.length),n=parseFloat(n),!isNaN(n)&&n>t.max&&a[0].selectionStart===r?e.preventDefault():n>=t.min&&(t.value=n),this._data.spinButtons&&this._toggleSpinBtnStates()}else return this._handleShortcutKeys(e)}_handleKeyUp(t){let a=!0,o=e.keyCode;this._checkPatternKeys(t)?this._triggerEvent("input",t):(a=this._handleShortcutKeys(t),!t.ctrlKey&&!t.metaKey&&(this._shortcutKey=!1));let n=this._input,i=n.val();return this._data.clearButton&&this._toggleBtnDisplay(!i.length,!0),t.keyCode===o.SPACE&&""===i.trim()&&n.val(""),a}_triggerSpinEndEvent(e){this._opts.isWriter&&this._handleSpinEnd(),this._triggerEvent("spinend",e)}_triggerEvent(e,t={}){let a=this._input.val(),o={value:""===a?this._opts.required?this._opts.min||null:"":parseFloat(this._extractNumericValue(a)),translatedValue:this._translateEToA(a),event:t};return o[this.name.replace("z","")]=this.container,this._dispatchEvent(e,t,o)}_clearTimers(){clearTimeout(this._sTimer),this._data.spinButtons&&this._clearMTimer(void 0,!0),clearInterval(this._kuTimer),this._prevMUTime=this._currMUTime=this._prevKUTime=this._prevKDTime=this._currKUTime=this._currKDTime=this._kuTimer=void 0}_checkPatternKeys(t){let a=this._opts,o=e.keyCode,n=t.keyCode,i;if(i=!t.shiftKey&&(48<=n&&57>=n||8===n||96<=n&&105>=n||69===n),n===o.SPACE&&" "!==a.thousandSeparator){let e=this._input;0===e[0].selectionStart&&e[0].selectionEnd===e.val().length?i=!0:(t.preventDefault(),t.stopPropagation())}let r=a.min;return(a.allowNegativeValue&&!r||this._isNotNull(r)&&-1!==r.toString().indexOf("-"))&&(i=i||189===n||173===n),!i&&(a.decimalPlaces||a.showThousandSeparator&&!a.suppressThousandSeparatorKey)&&(i=this._isSeparator(n)),i}_handleShortcutKeys(t){let a=e.keyCode,o=t.keyCode,n=!0;return this._shortcutKey?(89===o?this._mac&&(n=!1):0>[65,67,86,88,90,89,82,a.LEFT,a.RIGHT].indexOf(o)&&(n=!1),(86===o||91===o)&&this._handlePasteOption()):0>[a.DOWN,a.UP,a.DELETE,a.BACKSPACE,a.LEFT,a.RIGHT,a.TAB,a.ENTER].indexOf(o)&&(n=!1),n}_handlePasteOption(){let e=this._extractNumericValue(this._input.val());this._opts.value=this._checkMinAndMax(e)}_spinValue(e,t,a=this._opts[t?"longStep":"step"]){let o=this._opts,n=this._input.val(),i=n,r=o.min,s=o.max,l=this._isNotNull.bind(this);o.previousValue=o.value,n=this._extractNumericValue(n),(isNaN(n)||""===n.trim())&&(n=e?l(r)?r-o.step:0:l(s)?s+o.step:0),n=parseFloat(n);let d=parseFloat(a);if("w3"===o.stepBehavior&&this._checkModuloValue(n,d,r))n=this._getCorrectedVal(n,d,r,e?1:0);else{let t=n+(e?d:-d);n=this._hasFloatingNumber?parseFloat(t).toFixed(12):t}let c=e?s:r;l(c)&&!isNaN(c)&&(n>s||n<r)&&(o.wrapAround?n=(e?r:s)||o.nullValue:n=parseFloat(parseFloat(n>s?s:r).toFixed(o.decimalPlaces))),this._setValue(n),this._data.spinButtons&&this._toggleSpinBtnStates(),this._triggerSpinEvent(),!i&&this._data.clearButton&&this._clearButton.is(":hidden")&&this._toggleBtnDisplay(!1,!0)}_triggerSpinEvent(){let e=this._opts,t=e._lastValue;(t===void 0||t!==e.value)&&(!e.isWriter||this._canTriggerSpin())&&(this._triggerEvent("spin"),e._lastValue=e.value)}_setValue(e){let t=this._opts;t._lastValue=isNaN(t.value)?e:t.value;let o=t.value=this._checkMinAndMax(e);if(!isNaN(o)){if(t.decimalPlaces){let e=o.toString();(t.decimalsForWholeNumber||-1!==e.indexOf("."))&&(e=o.toFixed(t.decimalPlaces)),o=e.replace(".",t.decimalSeparator)}else this._hasFloatingNumber||(o=a(o));return t.showThousandSeparator&&(o=this._insertSeparators(o)),(t.prefix||t.suffix)&&!this.container.hasClass("has-focus")&&(o=this._attachAffixes(o)),o=this._translateEToA(o),this._input.val(o).attr("aria-valuenow",parseFloat(this._extractNumericValue(o))),this.isCE||this.element.val(o),o}t.required||this._input.val("").attr("aria-valuenow","")}getValue(){let e=this._opts,t=e.value;return isNaN(parseFloat(t))?e.min||0:t}setValue(e=this._opts.value){if(!this._muTimer&&!this._kuTimer){let t=this._opts;this._setValue(this._extractNumericValue(e)),t.previousValue=this._changeDisVal=t.value,this._data.spinButtons&&this._toggleSpinBtnStates()}}increment(e){this._spinValue(!0,void 0,e)}decrement(e){this._spinValue(!1,void 0,e)}_destroy(){super._destroy(),e.$window.off("."+this.name)}_attachAffixes(e){let t=this._opts;return((t.prefix||"")+" "+e+" "+(t.suffix||"")).trim()}_removeAffixes(e){let t=this._opts;return e=this._remove(e,t.prefix),e=this._remove(e,t.suffix),e}_remove(e,t){let a=this.escapeSequence;if(t&&""!==t.trim()){let o=t.replace(a,"");e=e.replace(a,"").replace(new RegExp(o,"g"),"")}return e}_handleInputFocus(){let a=this.name,o=e.keyCode;t(window).on(`keyup.${a}`,e=>{e.keyCode===o.TAB&&(t(e.target).closest(".zinputfield__textbox").select(),t(window).off(`keyup.${a}`))}),this._input.val(this._translateEToA(this._extractNumericValue(this._input.val(),!0)))}get _SEPARATORS(){return{".":[110,190],",":[188]," ":[32],"'":[222]}}_setSeparatorValues(){let t=this._opts;t.locale||(t.locale=e.locale||window.navigator.language);let a=this._getSeparatorFromLocale.bind(this);t.showThousandSeparator&&a("thousandSeparator",t.locale),t.decimalPlaces&&a("decimalSeparator",t.locale)}_getSeparatorFromLocale(t,a){let o=e.localeInfo;if(o){let e=this._opts,n=o[a]&&o[a].numberFormat||{},i=n[t]||e[t];e[t]=i}}_insertSeparators(e){e+="";let t=this._opts,a=t.decimalSeparator,o=e.split(a),n=o[0],i=o[1]?a+o[1]:"",r=/(\d+)(\d{3})/,s=[];for(;r.test(n);)s=n.split(r),n=n.replace(r,s[1]+t.thousandSeparator+s[2]);return n+i}_removeSeparators(e,t){let a=this._opts,o=a.decimalSeparator,n=a.thousandSeparator;return!t&&n&&a.showThousandSeparator?e=e.replace(new RegExp(`\\${n}`,"g"),""):!a.showThousandSeparator&&","!==o&&(e=e.replace(/,/g,"")),!t&&a.decimalPlaces&&"."!==o&&(e=e.replace(new RegExp(`\\${o}`,"g"),".")),e}_isSeparator(e){let t=this._opts,a=this._SEPARATORS;return t.decimalPlaces&&0<=a[t.decimalSeparator].indexOf(e)||!t.suppressThousandSeparatorKey&&0<=a[t.thousandSeparator].indexOf(e)}_setAttribute(e,t){let a=this._opts,o=this._data,n=this._toggleSpinBtnStates&&this._toggleSpinBtnStates.bind(this);if(a[e]=t,"spinValues"===e&&!o.spinButtons)this["_"+(t?"":"un")+"bindSpinEvents"](),t?this._input.attr("role","spinbutton"):this._input.removeAttr("role");else if("spinButtonsType"===e)a.templateName="together"===t?"zinputfield":"znumberfield",this._domChanged=!0,this._handleSpinBtns(e,t,a);else if("locale"===e||"thousandSeparator"===e||"showThousandSeparator"===e||"decimalPlaces"===e)this._getSeparatorFromLocale("decimalSeparator",a.locale),this._getSeparatorFromLocale("thousandSeparator",a.locale);else if("allowNegativeValue"===e){let e=a.min;e=t?0<=e?void 0:e:!this._isNotNull(e)||0>e?0:e,a.min=e}else"wrapAround"===e?t&&o.spinButtons?this._buttons.removeClass("is-disabled"):o.spinButtons&&n():super._setAttribute(e,t);-1!==["min","max","step","decimalPlaces"].indexOf(e)&&(a[e]=parseFloat(t),this._validateOpts(a)),-1!==["min","max","value","showThousandSeparator","allowNegativeValue","thousandSeparator","decimalSeparator","decimalPlaces","prefix","suffix","locale"].indexOf(e)&&(this._setValue(a.value),o.spinButtons&&n()),("prefix"===e||"suffix"===e)&&(this._hasAffix=a.prefix&&""!==a.prefix.trim()||a.suffix&&""!==a.suffix.trim()),("min"===e||"max"===e)&&this._input.attr({"aria-valuemax":a.max,"aria-valuemin":a.min})}_getSpinIconInfo(e,t){let a="increment"===e,o="zc__svg--"+(t?e:a?"plus":"minus"),n="zinputfield__spinbutton zh-"+(a?"up":"down");return[o,n]}_validateSBtnOpts(e){if("split"===e.spinButtonsType){let t=e.spinButtons;e.spinButtons="focus"===t?"always":t,e.templateName="znumberfield"}}_toggleSpinBtnStates(){let e=this._opts;if(!e.wrapAround){let t=e.value,a=t>=e.max,o=isNaN(t)||t<=e.min,n="is-disabled",i=this.container,r=this._buttons;r.removeClass(n),a&&i.find(".zh-up").addClass(n),o&&i.find(".zh-down").addClass(n)}}_bindSpinButtonEvents(){this._addEvents({spinBtnMouseDown:"mousedown",spinBtnMouseUp:"mouseup",spinBtnKeyDown:"keydown",spinBtnBlur:"blur"},this._buttons)}_spinBtnKeyDownHandler(t){let a=e.keyCode,o=t.keyCode,n=o===a.UP;(n||o===a.DOWN)&&(this._input.focus(),this._spinValue(n,t.shiftKey,void 0,!0))}_spinBtnMouseDownHandler(a){let o=t(a.target).closest(".zinputfield__spinbutton");if(this._handleMousedownOnControls(a,o)){e.currentNumberField=this.container;let t=o.hasClass("zh-up"),n=a.shiftKey;this._prevMUTime&&this._currMUTime&&!(600<this._currMUTime-this._prevMUTime)||this._triggerEvent("spinstart",a),this._spinValue(t,n,void 0,!1),this._blurEventTimer&&clearTimeout(this._blurEventTimer),this._mdTimer=setInterval(()=>{o.hasClass("is-disabled")&&(this._triggerSpinEndEvent(a),this._clearMTimer()),this._mouseDown?this._spinValue(t,n,void 0,!0):this._clearMTimer()},200)}}_handleMousedownOnControls(t,a){let o=this._opts;if(o.disabled||1<t.which||o.readonly||a.hasClass("is-disabled"))return!1;this._mouseDown=!0,this._hasFocus=!!this._input.is(":focus");let n=e.currentNumberField,i=this.container;return n&&n[0]!==i[0]&&n.removeClass("has-focus"),i.addClass("has-focus"),!0}_spinBtnMouseUpHandler(a){this._spinbuttonsMouseUpHandler(a),e.Browser.isFirefox&&t(a.target).closest(".zinputfield__spinbutton").focus()}_spinBtnBlurHandler(e){let a=e.relatedTarget,o=a&&t(a).closest(".zinputfield"),n=!1;if(o&&o.length&&(n=o[0]===this.container[0]),!a||!n){this._spinbuttonsMouseUpHandler(e,!0);let t=this._opts;t.triggerBlurOnSpinButtonClick?this._setValue(t.value):this._input.trigger("blur")}}_spinbuttonsMouseUpHandler(e,a){this._clearMTimer();let o=this._opts;clearTimeout(this._mwTimer);let n=t(e.target).closest(".zinputfield__spinbutton").hasClass("is-disabled");if(o.disabled||o.readonly||a&&!this._mouseDown&&n)return!1;this._prevMUTime=this._currMUTime||void 0,this._currMUTime=new Date().getTime(),this._prevMUTime&&600>this._currMUTime-this._prevMUTime&&(this._clearMTimer(!0),this._muTimer=setInterval(()=>{this._currMUTime=new Date().getTime(),600<this._currMUTime-this._prevMUTime&&(this._canTriggerSpinEnd(o)&&this._triggerSpinEndEvent(e),this._clearMTimer(!0),this._prevMUTime=this._currMUTime=this._mouseDown=void 0)},200)),this._canTriggerSpinEnd(o)&&this._mouseDown&&this._triggerSpinEndEvent(e);let i=this._input;o.isWriter&&this._handleSBtnUp(),a&&!i.is(":focus")?(this.container.removeClass("has-focus"),this._data.clearButton&&"focus"===o.clearButton&&this._toggleBtnDisplay(!0,!0)):this._hasFocus&&i.attr("tabindex",0).focus(),this._mouseDown=!1}_canTriggerSpinEnd(e){let t=this._changeDisVal;return!e.bindedSpinAndChange||t===void 0||parseFloat(t)!==parseFloat(e.value)}_clearMTimer(e,t){t&&(clearInterval(this._mdTimer),this._mdTimer=void 0,e=!0);let a="_m"+(e?"u":"d")+"Timer";clearInterval(this[a]),this[a]=void 0}_getFactorValue(){let e=this._opts,t=e.min,o=e.max,n=Math.pow(10,e.decimalPlaces)||1;if(this._isNotNull(t)){let i=(o-t)*n%(e.step*n)/n;e.max=a((o-i)*n)/n}return n}_checkModuloValue(e,t,o){let n=this._factor,i=t*n,r=o*n%i,s=e*n%i,l=0>o?(r+i)%i:a(r),d=0>e?a((s+i)%i):a(s);return Math.abs(d)!==l}_getCorrectedVal(e,t,a,o){return(parseInt((e-a)/t)+o)*t+a}_bindWriterEvents(){this._addEvents({wInputEleFocus:"focus"},this._input)}_wInputEleFocusHandler(){this._focusedValue=this._opts.value}_handleInputBlur(){let e=this._opts;if(parseFloat(this._changeDisVal)!==parseFloat(e.value)&&e.triggerBlurOnSpinButtonClick)return this._triggerBlurEvent(event),!0}_handleEnterKey(e){e.triggerBlurOnSpinButtonClick&&this._triggerBlurEvent(event)}_canTriggerSEnd(e){return!e.bindedSpinAndChange||parseFloat(this._changeDisVal)!==parseFloat(e.value)}_handleSpinEnd(){this._opts.bindedSpinAndChange&&(this._changeDisVal=this._opts.value)}_triggerBlurEvent(e){let t=this._opts,a=this._focusedValue;e?(!a||parseFloat(a)!==parseFloat(t.value))&&(this._triggerEvent("blur",e),this._focusedValue=t.value):this._blurEventTimer=setTimeout(()=>{this._triggerEvent("blur",e)},t.blurEventDelay)}_handleSBtnUp(){this._opts.triggerBlurOnSpinButtonClick&&this._triggerBlurEvent()}_canTriggerSpin(){clearTimeout(this._sTimer);let e=this._opts.spinEventTriggerDelay;return!(e&&(this._sEndTimer||(this._sStartTimer=new Date().getTime()),this._sEndTimer=new Date().getTime()-this._sStartTimer,e=parseInt(e)-this._sEndTimer,e))||(this._sTimer=setTimeout(()=>{this._triggerEvent("spin"),this._sEndTimer=void 0},e),!1)}}e.registerComponent("ZNumberField",e.ZInputField,ZNumberField)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.znumberfield.Templates,a=e.zbutton.Templates.WCContainer;t.WCContainer=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" style="width:${e.width}px" ?id=${e.id} >${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html`${e.spinButtons&&a(e.decrementProps)} <input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}> ${e.clearButton&&a(e.clearButtonProps)} ${e.spinButtons&&a(e.incrementProps)} 	`}(ZComponents),function(e){let t=e.znumberfield.Templates,a=e.zbutton.Templates.container;t.container=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" style="width:${e.width}px" ?id=${e.id} >${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`${e.spinButtons&&a(e.decrementProps)} <input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}> ${e.clearButton&&a(e.clearButtonProps)} ${e.spinButtons&&a(e.incrementProps)} 	`}(ZComponents),function(e){class ZCurrencyField extends e.ZNumberField{get name(){return"zcurrencyfield"}get attrs(){return{useCodeAsSymbol:!1,displaySymbolAs:null,currencyCode:null,innerHTML:null}}_init(t,a){a.locale||(a.locale=e.locale||window.navigator.language),a.displaySymbolAs?this._posOverrided=!0:this._getPosFromLocale(),a.currencyCode=a.currencyCode||(e.localeInfo?e.localeInfo[a.locale].currency.code:void 0),this._identifyPreSuf(),super._init(t,a)}_getPosFromLocale(){let t=e.localeInfo,a=this._opts,o=a.locale;if(a.displaySymbolAs="prefix",t&&t[o]){let e=t[o].currency.position;a.displaySymbolAs="left"===e?"prefix":"suffix"}(a.decimalPlaces||a.showThousandSeparator)&&this._setSeparatorValues()}_identifyPreSuf(){let t=this._opts,a=t.currencyCode;if(a){let o=e.currencyInformation;if(o){let e=o[a];t["prefix"===t.displaySymbolAs?"prefix":"suffix"]=t.useCodeAsSymbol?a:e.symbol}}}_setAttribute(e,t){let a=this._opts;if(a[e]=t,"currencyCode"===e){let e=t&&""!==t.trim();e&&this._identifyPreSuf(),this.setAttributes({prefix:e?a.prefix:"",suffix:e?a.suffix:""}),this._setValue(a.value)}else"useCodeAsSymbol"!==e&&"displaySymbolAs"!==e&&("locale"!==e||this._posOverrided)?super._setAttribute(e,t):(a.prefix=a.suffix="","locale"===e&&this._getPosFromLocale(),"displaySymbolAs"===e&&("default"===t?this._getPosFromLocale():this._posOverrided=!0),this._identifyPreSuf(),this._setValue(a.value))}}e.registerComponent("ZCurrencyField",e.ZNumberField,ZCurrencyField)}(ZComponents,ZComponents.DOMUtil),function(e,t){var a=Math.floor;class ZDatePicker extends e.CoreComponent{get name(){return"zdatepicker"}get attrs(){return{forElement:null,offset:null,title:null,position:"auto",format:"dd/MM/yyyy",displayType:"box",type:"popup",minDate:null,maxDate:null,displayWeekNumbers:!1,weekHeading:null,selectionType:"single",todayButtonLabel:null,clearButtonLabel:null,OKButtonLabel:null,closeSVGIconId:null,closeIconClass:null,cancelButtonLabel:null,selectionLimit:null,monthToBeShownOnOpen:null,yearToBeShownOnOpen:null,drilldownLevelOnOpen:null,isTitleHTMLEncoded:!1,selectedDateMonthViewIndex:null,todayButtonAction:"navigate-only",displayAdjacentMonthDates:!1,allowSelectionOfAdjacentMonthDates:!0,hideCancelButton:!1,monthsPerView:1,immediateCommit:!0,value:null,draggable:!1,height:null,width:null,weekendDays:"0,6",closeButton:!1,closeOnDateSelect:!0,closeOnBodyClick:!0,todayButton:!1,clearButton:!1,locale:"en-US",positionAlterable:!0}}get props(){return{closeIconClassName:null,commandBar:{},margin:{},animation:{},customHTMLAboveNavigationBar:null,customHTMLAboveCalendar:null,customHTMLBelowCalendar:null,navigationBar:{monthSwitcher:!0,yearSwitcher:!0,monthYearHeadingFormat:"MMM yyyy",monthYearSwitcherType:"drilldown",monthFormatInSwitcher:"MMM",navigationButtonsDisplayPattern:"split",togetherTypeNavigationButtonsPosition:"right",monthNavigationStep:1,yearNavigationStep:1,yearNavigationButtons:!0,monthNavigationButtons:!0,previousMonthButtonSVGIconId:null,dropdownStartYear:"THIS_YEAR-10",dropdownEndYear:"THIS_YEAR+10"},otherInputFormats:[],fixedTimeOptions:[],specialDates:[],disabledDates:[],disabledMonths:[],disabledYears:[],specialDaysOfWeek:[],disabledDaysOfWeek:[],disabledDateInformativeText:null,values:[],labels:{weekHeading:"Week",OKButtonLabel:"OK",cancelButtonLabel:"Cancel",todayButtonLabel:"Today",clearButtonLabel:"Clear",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],close:"Close",nextMonth:"Next Month",nextYear:"Next Year",prevMonth:"Previous Month",prevYear:"Previous Year",nextDecade:"Next Decade",prevDecade:"Previous Decade",nextCentury:"Next Century",prevCentury:"Previous Century"}}}get EVENTS(){return["beforefocus","beforeopen","open","beforeclose","close","dateselect","todaybuttonclick","change","cancel","clear","beforedrilldown","drilldown","afterdrilldown","datemouseover","monthchange","yearchange","decadechange","beforedatecellrender","dragstart","drag","dragend"]}get SELECTORS(){let e=this.isCE;return{option:e?"z-":"option",select:`${e?"z-combobox":"select"}`}}_setFormat(){this._dateFormat=this._opts.format}_isBtnsExist(){return this._checkIfButtonsExist()||this._isColumnExists()}_setOKCancelBtns(){let e=this._opts;e.OKButton=!e.immediateCommit,e.cancelButton=!e.immediateCommit&&!e.hideCancelButton}_init(a,o,n){this._todayDate=new Date,this._userOptions=t.extend({},o);let i=o.navigationBar,r=o.forElement,s=o.value,l=["minDate","maxDate","value"];if(this._validateFormat(),!this._invalidFormat){this._setFormat(),o.locale=o.locale||e.locale,i&&(this._yearNavigation=i.yearNavigationButtons),o.position&&(this._isPositionModified=o.position),this._setSwitcherType(i),void 0===this._yearNavigation&&/^(drilldown|none)$/.test(i.monthYearSwitcherType)&&(this._yearNavigation=!0),this._rowsCount=[],this._setOKCancelBtns(),(this._isBtns=this._isBtnsExist())&&this._setBtnProps(),this._getLocaleValues(),r&&(this._forElement=t(r)),this.element[0].setAttribute("tabindex",0),this._monthsPerView=o.monthsPerView,this._selectedDates=[],(o.disabledDates.length||o.specialDates.length||o.disabledTimeList&&o.disabledTimeList.length)&&this._convertStringToObject({disabledDates:o.disabledDates,specialDates:o.specialDates,disabledTimeList:o.disabledTimeList});for(let e=0,t=l.length;e<t;e++){let t=l[e],a=o[t],n;a&&(this._parseValue(t,a),o[t]instanceof Date&&!this._checkTime&&o[t].setHours(0,0,0,0),"value"===t&&(this._isNotNull(o.value)&&this._dateWithInRange(o.value)&&!this._getUniqueClass(o.value)&&"multiple"!==this._opts.selectionType?(this._currentSelected=new Date(+o.value),!this._viewDate&&(n=this._viewDate=this._currentSelected,this._changeMonth(!1,n,1)),this._valueUpdate=!0):o[t]=void 0)),"value"===t?!this._viewDate&&this._setHours():this["_"+t]=o[t]}this._validateOpts(),(o.minDate||o.maxDate)&&this._processLimits(),!s&&0===o.values.length&&(o.monthToBeShownOnOpen||o.yearToBeShownOnOpen)&&this._setViewOnOpen(),"multiple"===o.selectionType&&this._setValues(),o.value&&(this._currentSelected=new Date(+o.value)),this._data.month||(this._data.month=[]),this._elementId=this._getID(this.element),this._buildData(n);let a=this.element[0];return o.width&&(a.style.width=o.width+"px"),o.height&&(a.style.height=o.height+"px"),!0}}_setSwitcherType(e){let t=e.monthYearSwitcherType;this._isDrilldown="drilldown"===t,this._isDropdown="dropdown"===t}_getLocaleValues(){let t=this._opts,a=t.labels,o=e.localeInfo[t.locale];if(o){let e=["days","daysAbbreviated","monthsAbbreviated","months"];for(let t=0,n=e.length;t<n;t++)a[e[t]]=o[e[t]]||a[e[t]]}t.firstDayOfWeek=o?o.firstDayOfWeek||0:0}_invokeOtherActions(){let e=this._opts,t=e.title;"inline"===e.type?(this._display(),this._isShown=!0):t&&t.length&&e.draggable&&this._initDraggable()}_validateOpts(){let e=this._opts,t=e.position,a=e.navigationBar,o=e.displatype,n=this._yearNavigation;e.drilldownLevelOnOpen=e.drilldownLevelOnOpen||"dates",e.format=e.format||"dd/MM/yyyy",t=e.position="auto"===t?"callout"===o?"bottom":"bottom-left":t,(e.minDate||e.maxDate)&&this._checkLimits(),a.monthYearSwitcherType=-1<["dropdown","drilldown","none"].indexOf(a.monthYearSwitcherType)?a.monthYearSwitcherType:"none",-1===["top","bottom","right","left","top-left","top-right","bottom-left","bottom-right"].indexOf(t)&&(e.position="bottom"),a.monthSwitcher||a.yearSwitcher||(e.monthYearSwitcherType="none"),o=e.displayType,o=-1<["box","callout"].indexOf(o)?o:"box",this._data&&(this._data.displayType=o),a.yearNavigationButtons=n===void 0?!this._isDropdown:n,a.monthYearHeadingFormat=-1<["MMM yyyy","MMMM yyyy","yyyy MMM","yyyy MMMM"].indexOf(a.monthYearHeadingFormat)?a.monthYearHeadingFormat:"MMMM yyyy"}_constructData(){let e=this._data,t=this._opts,a=t.navigationBar;t.title&&!e.title&&(e.title=this._getTitleData()),this._viewMode===void 0&&(this._viewMode=this._isDrilldown?this._getViewMode():0),e.dropdownCls=this._isDropdown&&a.monthNavigationButtons&&a.yearNavigationButtons,this._maxDate&&1<this._monthsPerView&&this._checkViewDateWithMax(this._viewDate);for(let a=0;a<this._monthsPerView;a++){let o=e.month[a]=e.month[a]||{},n=new Date(+this._viewDate);o.className="",o.weekTitle=t.weekHeading||this._getI18NText("weekHeading"),n=this._moveMonth(this._viewDate,a),this._fillDayOfWeek(o),this._fillDates(o,n,1<t.monthsPerView?a:void 0),o.monthsPerView=t.monthsPerView,o.displayWeekNumbers=t.displayWeekNumbers,this._constructNavBar(o,a,n),(0==a||a==this._monthsPerView-1)&&(o.viewDate=n)}let o="zdatetimepicker__month ";t.allowSelectionOfAdjacentMonthDates||(o+="zdatetimepicker--adjacentmonthdatereadonly"),this._setMonthVal("className",o),"dates"!==t.drilldownLevelOnOpen&&this._isDrilldown&&this._generateContent(this.element),!this._data.rendered&&this._isBtns&&this._createButtons()}_isColumnExists(){let e=this._opts.commandBar;if(e){let t=["leftColumn","centerColumn","rightColumn"];for(let a=0;a<t.length;a++)if(e[t[a]]){let o=e[t[a]].commands;for(let e=0;e<o.length;e++)this._opts[o[e]+"Button"]=!0;return!0}return!1}}_buildData(e){this._rowsCount=[],0===this._viewMode&&this.element.find(".zdatetimepicker--disabledcalendar").removeClass("zdatetimepicker--disabledcalendar"),this._constructData(),this._data._isRenderedAgain=!0,e&&this._render()}_postRender(e,t){this._invokeOtherActions(),this._data.className+=" zdatetimepicker"+(1===t.monthsPerView?"":"--group ")+(t.dropdownCls?" zdatetimepicker--dropdownyearbutton ":""),t.appendTo&&this._appendEle(t.appendTo),e[0].setAttribute("id",this._elementId)}_adjustCustomHTMLPos(e){let t=this._opts;(t.customHTMLAboveCalendar||t.customHTMLAboveNavigationBar||t.customHTMLBelowCalendar)&&this._handleCustomHTML(e)}_preRender(e){return this._adjustCustomHTMLPos(!1),e}_postEachRender(e,t=this._data){let a=!this._data.rendered,o=a||t._isRenderedAgain,n=t.modifiedAttr,i=this._opts,r=this._isDropdown,s=i.navigationBar.monthNavigationButtons||i.navigationBar.yearNavigationButtons;if(o||n){if(a||-1<["navBar","monthsPerView"].indexOf(n))if(r){this._assignHeaders();let e=this._bindHeaderEvents.bind(this);e("year","select"),e("month","combobox"),this._checkOptions()}else this._isDrilldown&&(this._bindDrillDownClickEvent(),this._monthEventBinded=this._yearEventBinded=this._decadeEventBinded=void 0);if(a||-1<["navBar","monthsPerView","type"].indexOf(n)){let e=this._data.className,a=" zdatetimepicker"+(1===this._monthsPerView?"":" zdatetimepicker--group")+(t.dropdownCls?" zdatetimepicker--dropdownyearbutton":"")+("inline"===i.type?" zdatetimepicker--inline":"");if(a!==e&&(this._data.className=e?e+a:a),s){this._bindArrowEvents();for(let e=0;e<this._monthsPerView;e++)this._setArrowMainElement(t.month[e].navigationBar)}}if((a||-1<["commandBar","monthsPerView"].indexOf(n))&&this._isBtns&&this._updateCommandBar(e),o||"monthsPerView"===n||r){let t=e.find(".zdatetimepicker__month");"multiple"===i.selectionType?t.attr("aria-multiselectable",!0):t.removeAttr("aria-multiselectable")}(a||"displayType"===n)&&(this._pointer="callout"===this._opts.displayType?e.find(".zdatetimepicker__pointer"):void 0),i.title&&(a||"title"===n)&&(this._enableDrag&&this._initDraggable(),this._setCloseEle(),this._enableDrag=void 0)}if(this._adjustCustomHTMLPos(),this._doesExist(this._clear)&&this._setClearBtnCls(void 0,void 0,!0),this._setPosition&&this._isShown&&this._positionPicker(),s)for(let e=0;e<this._monthsPerView;e++)this._updateArrowState(t.month[e].viewDate,e);let l=this._viewMode;this._isDrilldown&&l&&(i.navigationBar.monthSwitcher||i.navigationBar.yearSwitcher)&&this._updateYearArrowState(l,3>l?2>l?this._viewDate.getFullYear():this._yearStart:this._decadeStart),this._data.modifiedAttr=this._data._isRenderedAgain=this._setPosition=void 0}_hasClosest(e,a,o){let n=o?e.currentTarget:e.target;return t(n).closest(a).length}_clearValues(e){let t=this._opts,a=t.immediateCommit,o=["zdatetimepicker__calendar","zdatetimepicker__drilldowncell"];a&&(this._valueUpdate=!1,t.value=void 0,t.values=[]),this._setHours(!0);for(let t=0,a;2>t;t++)a=this.element.find("."+o[t]).find(this._getSelector()),this._select(!1,a,!0),a.removeAttr("aria-disabled");this._setDateClass("is-disabled",!1,this.element.find(".zdatetimepicker__calendar").find(this._getSelector()),!0),this._selectedDates=[],this._queryString="",this._currentSelected=void 0,this._render(),a&&this._dispatchEvent("change",e,this._getSelectedValue())}_cancelClickHandler(e){this._clearClickHandler?this._clearClickHandler(e,!0):this._clearValues(e),this._closePicker(e),this._dispatchEvent("cancel",e,this._getSelectedValue()),this._removeFocus(this._cancel)}_bindEvents(){this._addEvents({mousedown:"mousedown",mouseover:"mouseover",keydown:"keydown"})}_keydownHandler(t){t.keyCode===e.keyCode.ESCAPE&&this._closePicker(t)}_mouseoverHandler(e){let a=["date","adjacentmonthdate"],o=t(e.target),n=t(e.relatedTarget),r;r=!n.hasClass(`${"zdatetimepicker__"}text`)&&!o.hasClass(`${"zdatetimepicker__"}text`);for(let t=0;t<a.length;t++)if(r&&this._hasClosest(e,`.${"zdatetimepicker__"}`+a[t])){this._dispatchEvent("datemouseover",e,{cell:o,date:new Date(+o.attr("data-time"))});break}}_validateFormat(){this._checkFormat(/h|H|m|t/g)}_checkFormat(e){this._invalidFormat=e.test(this._opts.format)}getElement(){return this.element}_reInitPicker(){this._opts=t.extend(!0,{},this._DEFAULTS,this._userOptions),this._init(this.element,this._opts,!0)}open(t){let a=this._opts;!this._isShown&&("inline"===a.type||a.forElement||a.offset)&&(!e.Date.areDatesEqual(this._todayDate,new Date)&&this._reInitPicker(),t&&this._setAttribute("forElement",t),this._showPicker())}close(){this._manualClose=!0,this._closePicker(),this._manualClose=!1}_getBtnsArr(){return["today","clear","cancel","OK"]}_resetTime(e){if(e instanceof Date){let t=new Date(+e);return t.setHours(0,0,0,0),t}}_dispatchChangeEvent(e,t,a){this._dispatchEvent(t+"change",e,{viewDate:this._viewDate,value:this._opts.value,selectedValue:a===void 0?this._viewDate.getFullYear():a})}_arrowEventHandler(e){let t=e.currentTarget.id;if(-1<t.indexOf("month")){let a=parseInt(t.slice(-1)),o=0===a?"MonthArrow":1===a?"Year":"DecadeArrow";this["_handle"+o+"Click"](e)}else this._opts.navigationBar.yearNavigationButtons&&this._handleYearArrowClick(e)}_checkIfButtonsExist(){let e=this._opts;return e.OKButton||e.todayButton||e.cancelButton||e.clearButton}_isBig(t,a){let o=e.Date.isGreater(this["_"+t+"Date"],a);return"max"===t?!o:o}_moveMonth(e,t){if(!e||isNaN(+e)||!t)return t?this._viewDate:e;let a=new Date(e.valueOf()),o=a.getDate(),n=a.getMonth(),i=0>t,r,s,l;for((i||1<=t)&&(r=n+t,a.setMonth(r),r=(r+12)%12),s=a.getMonth(),l=e.getFullYear()===a.getFullYear();i?s===n&&l:s!==r;)l=!0,a.setDate(--o),a.setMonth(r),s=a.getMonth();return a}_showPicker(){let t=this.element,a=this._opts;if(this._dragEnd=!1,this._dispatchEvent("beforeopen",void 0,this._getObj())){"inline"!==a.type&&e.bindDocumentEvents&&a.closeOnBodyClick&&e.bindDocumentEvents({element:t,forElement:this._forElement,ctype:this.name,closeMethodName:"close",closeEvent:"close"}),t.finish?t.finish():t.stop(!0,!0);let o=!!Object.keys(a.animation).length&&a.animation.open;o&&this._setAnimation("open"),o&&o.name||this._display(),this._positionPicker(),o||this._openHandler()}}_openHandler(){this._isShown=!0;let e=this.element,t=this._dispatchEvent.bind(this);e.attr({"aria-hidden":!1,"aria-expanded":!0}),t("beforefocus",{},e)&&(clearTimeout(this._focusTimeout),this._focusTimeout=setTimeout(()=>e.focus(),100)),t("open",void 0,this._getObj())}_positionPicker(){let t=this.element,a=t[0],o=this._opts,n=o.offset;if(t.width(o.width||""),"popup"===o.type)if(3===this._monthsPerView&&"flex"===e._display&&(t.css({top:0,left:0}),t.css("flex-direction","column"),t.width(t.width()),t.css("flex-direction","")),n)t.css(n);else if(o.forElement){let e=this._getPosition(),n=this._pointer?this._pointer[0]:null,i;if(e){i=e.direction,this._direction=i,"callout"!==o.displayType&&t.addClass("zdatetimepicker--"+i.replace("-","")),o.margin&&(e.elementPosition=this._retrieveMarginValues(e.elementPosition));let r=e.elementPosition;if(a.style.top=r.top+"px",a.style.left=r.left+"px",n){let t=e.arrowPosition;n.style.top="number"==typeof t.top?t.top+"px":"",n.style.left="number"==typeof t.left?t.left+"px":""}}}}_retrieveMarginValues(e){let t=this._opts.margin,a=["top","left"],o;for(let n=0;2>n;n++)o=e[a[n]],o+="number"==typeof t?t:t[a[n]]||0,e[a[n]]=0>o?e[a[n]]:o;return e}_arrowCallback(e,t){let a=this.element;a.removeClass("zdatetimepicker--top zdatetimepicker--bottom zdatetimepicker--left zdatetimepicker--right zdatetimepicker--topleft zdatetimepicker--topright zdatetimepicker--bottomleft zdatetimepicker--bottomright"),a.addClass("zdatetimepicker--"+t),this._calloutDirection=t}_getPosition(){let t=this._opts,a=e.Position,o=t.positionAlterable;if(a&&!this._dragEnd){let e=this;return a.get(this._forElement,this.element,{direction:this._direction||t.position,bufferSpace:6,rtl:t.rtl,positionAlterable:o,arrow:{element:this._pointer,callback:this._arrowCallback.bind(e),margin:{left:-1,top:-1}}})}}_getSelector(){return".is-selected,.is-disabled:not(.zdisabled)"}_isGreater(t,a){return e.Date.isGreater(t,a)&&!e.Date.areDatesEqual(t,a)}_setHours(e){e||(this._viewDate=new Date),this._viewDate.setHours(0,0,0,0)}_updateValues(){if(this._valueUpdate){let e=this._opts,t=e.value,a=e.values,o=this._minTime,n=new Date;"multiple"===e.selectionType&&this._handleMultipleSelectOnClose();let i=this._selectedDates,r=i.length;n.setHours(o?o.getHours():0,o?o.getMinutes():0,0,0),this._viewDate=t?new Date(+t):a&&a.length&&r?new Date(+i[r-1]):n,(e.minDate||e.maxDate)&&this._checkLimits()}else this._resetValues()}_resetValues(){let e=this._opts;this._valueUpdate=!1,e.value=this._currentSelected=this._selectedTime=void 0,e.values=this._selectedDates=[],this._setDateClass(["is-disabled","is-selected"],!1,this.element.find(".zdatetimepicker__calendar").find(this._getSelector()),!0),this.element.find(".zdatetimepicker__drilldowncell").find(this._getSelector()).removeClass("is-disabled","is-selected"),this._queryString="",this._setHours(),this._doesExist(this._clear)&&this._traverseBtns("clearButton","is-disabled",!0),this._render(),(this._minDate||this._maxDate)&&this._checkViewDate(new Date(+this._viewDate)),(e.monthToBeShownOnOpen||e.yearToBeShownOnOpen)&&this._setViewOnOpen()}_getObj(){return{viewMode:this._viewMode,element:this.element}}_closePickerHandler(e){if(this._dispatchEvent("beforeclose",e,this._getObj())){let t=this._opts.animation,a=!!Object.keys(t).length&&t.close;a?this._setAnimation("close",e):this._closeHandler()}}_closeHandler(e){this._display(!0),this._isShown=!1,this.element.attr({"aria-hidden":!0,"aria-expanded":!1}),this._dispatchEvent("close",e,this._getObj())}_changeMonth(e,t,a){let o=this._opts,n=o.selectedDateMonthViewIndex;1<this._monthsPerView&&n>=(a||0)&&(this._viewDate=this._moveMonth(t||o.value,-n),e===void 0&&(e=!0)),e&&this._buildData(!0)}_refreshPicker(){let e=this._isDrilldown,t=this._viewDate,a=this._oldDate.getFullYear()===this._viewDate.getFullYear(),o;o=e&&this._getViewMode(),(o!==this._viewMode||this._oldDate.getMonth()!==t.getMonth()&&a||!a)&&(e&&this._setViewMode(o,!0),this._doNotBuildTime=!0,this._buildData(!0),e&&this._addDisabledCls()),e&&this._removeEffects()}_closePicker(t){if(this._isShown){let a=this._viewDate,o=this._opts,n=o.value,i=this._closePickerHandler.bind(this);if(a){"multiple"===o.selectionType&&0===o.values.length&&o.immediateCommit&&(this._valueUpdate=!1);let r=this._currentSelected;r&&n&&!e.Date.areDatesEqual(r,n)&&this._select(!1,this._currentSelectedEle,!0,!0),this._oldDate=new Date(+a),this._currentSelected=n?new Date(+n):void 0,this._updateValues(),("inline"!==o.type||this._manualClose)&&i(t),this._refreshPicker(),o.selectedDateMonthViewIndex!==void 0&&o.value&&this._changeMonth(),o.value&&this._viewDate&&(this._doesExist(this._clear)&&this._traverseBtns("clearButton","is-disabled",!1),this._select(!0,this.element.find("[data-time=\""+ +this._resetTime(o.value)+"\"]"),!1,!0))}else i(t)}}_getBoolVal(t,a){let o=this["_"+t+"Date"];if(o){o=new Date(+o),this._checkTime||o.setHours(0,0,0);let n=e.Date.areDatesEqual(a,o);return("min"===t?+a>+o:+a<+o)||n}return!0}_dateWithInRange(e){return this._checkTime||e.setHours(0,0,0),this._getBoolVal("min",e)&&this._getBoolVal("max",e)}_getDateElem(e,t=this.element){return t.find("[data-time='"+ +e+"']")}_getFirstDate(){let e=this._data.month[0].dates[0],t;for(t=0;t<e.length&&!(""!==e[t].text&&-1<e[t].class.indexOf("zdatetimepicker__date"));t++);return e[t].time}_mousedownHandler(e){let a=t(e.target),o=this._opts,n=this._viewMode,r=[".zdatetimepicker__date",".zdatetimepicker__adjacentmonthdate"],i=o.allowSelectionOfAdjacentMonthDates,s,l,d,c,m,_,u,p;if(a.is(".zdatetimepicker__text, .zdatetimepicker__secondaryinfo")&&(p=!a.closest(".zdatetimepicker__date, .zdatetimepicker__adjacentmonthdate").hasClass("is-disabled")),a.is(`.zdatetimepicker__date:not(.${"is-disabled"}), .zdatetimepicker__adjacentmonthdate:not(.${"is-disabled"}), .zdatetimepicker__monthview:not(.${"is-disabled"}), .zdatetimepicker__year:not(.${"is-disabled"}), .zdatetimepicker__decade:not(.${"is-disabled"})`)||p){e.preventDefault();for(let t=0;2>t;t++)if(this._hasClosest(e,r[t])){a=a.closest(r[t]);break}l=this._translateAToE(a.text()),m=a.hasClass("zdatetimepicker__year"),c=a.hasClass("zdatetimepicker__monthview"),d=a.attr("data-time"),d&&(_=new Date(parseInt(d))),a.hasClass("zdatetimepicker__date")&&_?this._setDate(e,a,_):i&&a.hasClass("zdatetimepicker__adjacentmonthdate")&&_?(this._setDate(e,a,_),this._viewDate=new Date(+_),this._changeMonth(!0,_),-1<["single","multiple"].indexOf(o.selectionType)&&!a.hasClass("is-selected")&&this._select(!0,this._getDateElem(_),!0,!0)):c||m?(u=this._dispatchEvent("before"+(c?"month":"year")+"change",e,{viewDate:this._viewDate,value:o.value,selectedValue:c?parseInt(a.attr("data-value")):parseInt(l)}),u=!1!==u,u&&(s=this._handleMousedownOnDrillDown(e,c,m,l))):a.hasClass("zdatetimepicker__decade")&&(this._handleDecadeMousedown(e,n,l),s="decade"),u&&s&&this._dispatchEvent(s+"change",e,{viewDate:this._viewDate,value:o.value,selectedValue:c?parseInt(a.attr("data-value")):parseInt(l)})}}_select(e,a,o,n){let r=e?"add":"remove";for(let s=0,i=a.length,l;s<i;s++)l=t(a[s]),this._doesExist(l)&&(e?l.attr("aria-selected",!0):l.removeAttr("aria-selected"),l.hasClass("zdatetimepicker__date")||l.hasClass("zdatetimepicker__adjacentmonthdate")?this._setDateClass("is-selected",e,l,o):l.is(".zdatetimepicker__year,.zdatetimepicker__monthview")?this._setDrilldownClass(l):n=!0,n&&l[r+"Class"]("is-selected"))}_getDateData(e){let t=this._data.month,a=this._getDateEleIndex(e),o;return t[a[0]]&&t[a[0]].dates[a[1]]&&(o=t[a[0]].dates[a[1]][a[2]]),o&&o.time===+e.attr("data-time")?o:void 0}_getDateEleIndex(e){return[1===this._monthsPerView?0:e.closest(".zdatetimepicker__list").index(),e.closest("tr").index(),e.index()]}_setDateClass(e,a,o,n){"object"!=typeof e&&(e=[e]);for(let r=0,i=o.length;r<i;r++){let n=t(o[r]),i=this._getDateData(n);if(i){let t=i.class+" ";t=a?t+e.join(" "):t.replace(new RegExp(e.join("|"),"g"),""),i.class=t.trim()}}n||this._render()}_setDate(t,a,o){let n=this._opts,i=n.immediateCommit,r=+o,s;i&&(this._valueUpdate=!1),this._limitReached=!1,this._doesExist(this._clear)&&(this._traverseBtns("clearButton","is-disabled",!1),this._disable(!1,this._clear)),"single"===n.selectionType?(this._select(!1,this.element.find(".is-selected")),this._currentSelected=new Date(r),this._viewDate=new Date(r),this._currentSelectedEle=a,!a.closest(".zdatetimepicker__adjacentmonthdate").length&&this._select(!0,a),i&&(n.value=new Date(r),this._OKClickHandler(t,!0)),s={valueString:e.Date.formatDate(n.value,n.format),value:n.value,selectedDate:this._viewDate}):s=this._setMultipleDate(...arguments),s&&this._dispatchEvent("dateselect",t,s)}_fillDates(t,a,o){t.dates=[],t.weekNumbers=[];let n=this._opts,i=this.element,r=new Date(a||this._viewDate),s=r.getFullYear(),l=r.getMonth(),d=new Date(s,l),c=d.getDate(),m=d.getDay(),_=0,u=n.displayAdjacentMonthDates,p=n.firstDayOfWeek,h=this._monthsPerView,g;100>s&&d.setFullYear(s),d.setDate(c-(d.getDay()-p+7)%7);let f=i.closest("li.zdatetimepicker__list");if(o="number"==typeof o?o:void 0===o?f.length?f.index():-1:o,g=new Date(d),-1<[-1,1,2].indexOf(o)||0===o&&!u)g.setDate(g.getDate()+42);else if(1<h&&u&&0===o){let e=new Date(s,d.getMonth()+1,0).getDate(),t=new Date(s,l+1,0).getDate();g.setDate((m===p?0:e)+t+1)}g.setHours(0,0,0,0),d.setHours(0,0,0,0),g=g.valueOf();let b=[],v;for(let n=d;n.valueOf()<g;n.setDate(n.getDate()+1)){let a=n.getDay(),i=n.getFullYear(),d=n.getMonth();n.setHours(0,0,0,0);let c=u&&(-1<[-1,0,2].indexOf(o)||1===o&&2===h)||d<=l&&i===s||i<s,m=new Date(i,d+1,0).getDate(),f=new Date(g),C;if(f.setDate(f.getDate()-1),C=d===l&&n.getDate()===m&&(!u||u&&1===o&&3===h)||e.Date.areDatesEqual(n,f)&&u,a===p&&c){let e=new Date(+n+864e5*((p-a-7)%7)),o=new Date(+e+864e5*((11-e.getDay())%7));v=new Date(+(v=new Date(o.getFullYear(),0,1))+864e5*((11-v.getDay())%7));let i=(o-v)/864e5/7+1;t.weekNumbers.push(this._translateEToA(i)),b.length&&this._pushDateArr(t,b),b=[],_++}if(!u||1===o&&o!==h-1||o===h-1)if(d<l&&i===s||i<s){b.push({class:"",text:""});continue}else if((d>l&&i===s||i>s)&&(-1===o||u&&(0===o||1===o&&o!==h-1)||!u))break;let S=this._getClasses(n,r),w={class:(S.class||S).trim(),time:+n,text:this._translateEToA(n.getDate()),title:S.title||null,infoText:S.infoText||null};this._dispatchEvent("beforedatecellrender",void 0,w),b.push(w),C&&this._pushDateArr(t,b)}this._rowsCount.push(_)}_pushDateArr(e,t){e.dates.push(t)}_setMonthVal(e,t,a){for(let o=0,n;o<this._monthsPerView;o++)n=this._data.month[o],n[e]=void 0===a?t:a?n[e]+t:n[e].replace(/zdatetimepicker--adjacentmonthdatereadonly/g,"")}_constructNavBar(e,a,o){let n=this._opts.navigationBar,i=this._isDrilldown,r=n.monthNavigationButtons||n.yearNavigationButtons;e.navigationBar=t.extend(!0,{},e.navigationBar||n),r&&this._getNavBtnProps(e,a,e.navigationBar);let s=e.navigationBar;r||(s.class=""),s.cursorCls=0===a&&i&&(n.monthSwitcher||n.yearSwitcher)?"zh-cursorpointer":"",this._isDropdown&&0===a&&this._constructDropdown(s);let l=n.monthSwitcher,d=n.yearSwitcher,c=e.navigationBar,m=this._isDropdown,_=m&&0!==a;if(m&&!_&&(0!==a||l)||(c.month=this._translateEToA(this._getI18NText("months"+(-1<n.monthYearHeadingFormat.split(" ").indexOf("MMMM")?"":"Abbreviated"))[o.getMonth()])),m&&!_&&(0!==a||d)||(c.year=this._translateEToA(o.getFullYear())),"y"===n.monthYearHeadingFormat[0]&&(m&&0===a&&(c.yrFirst=c.monthSelect&&c.yearSelect),c.month&&c.year)){let e=c.month;c.month=c.year,c.year=e}this._setConditions(c)}_setConditions(e){return e.isLMonthYear=e.lMonth||e.lYear,e.isRMonthYear=e.rMonth||e.rYear,e.isMonthYearNav=e.month||e.year,e}_OKClickHandler(e,t,a){let o=this._opts,n=0===this._viewMode,i=this._currentSelected,r=this._OK,s="single"===o.selectionType,l=o.selectionLimit,d=this._selectedDates.length,c=this._selectedTime,m;if(this._valueUpdate=!!(i||d),s){let e=new Date;i&&(e=new Date(+i)),this._checkTime&&c&&e.setHours(c.getHours(),c.getMinutes(),0,0),o.value=i?e:void 0}else m=l&&l===d&&n||this._hasClosest(e,".OKButton-"+this.name),this._handleOkOnMultiple(o);this._dispatchEvent("change",e,this._getSelectedValue()),m=s?t&&o.closeOnDateSelect&&n&&!a||!t:m,m&&this._closePicker(e),this._valueUpdate=o.value||o.values.length,r&&this._removeFocus(r)}_getSelectedValue(){return"single"===this._opts.selectionType?this._getSingleValue(this._opts.value):this._getMultipleValues()}_removeFocus(e){e.removeClass("has-focus has-mfocus")}_isWeekend(e){return-1<(this._opts.weekendDays?this._opts.weekendDays.split(","):[]).indexOf(e.getDay().toString())}_getClasses(t,a){let o=this._opts,n=e.Date.areDatesEqual.bind(e),r=this._selectedDates,s=r.length,i=this._currentSelected,l=t.getFullYear(),d=t.getMonth(),c="",m,_,u,p;a&&(m=a.getFullYear(),_=a.getMonth(),u=l===m,p=l>m),c+=a&&!p&&!u||u&&d<_||u&&d>_||p?" zdatetimepicker__adjacentmonthdate":" zdatetimepicker__date",n(t,new Date)&&(c+=" zdatetimepicker--today");let h=i&&n(t,i);if((h||o.value&&n(t,o.value)&&h)&&(c+=" is-selected"),s&&"multiple"===o.selectionType){let e=!1;for(let a=0;a<s;a++)r[a]&&n(t,r[a])&&(c+=" is-selected",e=!0);e||o.selectionLimit!==s||(c+=" is-disabled")}return this._isWeekend(t)&&(c+=" zdatetimepicker--weekend"),this._dateWithInRange(t)||(c+=" is-disabled zdisabled"),this._getUniqueClass(t,c,!0)||c}_getUniqueClass(e,t,a){let o=["disabledDaysOfWeek","disabledDates","disabledMonths","disabledYears"];return t&&(o=[...o,"specialDates","specialDaysOfWeek"]),o=o.map(e=>!!this._opts[e].length),-1<o.indexOf(!0)?this._addUniqueClasses(e,t,!a):void 0}_parseDateValue(t,a){return e.Date._parseDateValue(t,a,this._opts.otherInputFormats)||{}}_fillDayOfWeek(e){e.days=[];let t=this._opts.firstDayOfWeek,a="",o=this._getI18NText("daysAbbreviated"),n=this._opts.weekendDays.split(",");for(let r=t;r<t+7;r++)a="",(r%7===parseInt(n[0])||r%7===parseInt(n[1]))&&(a+=" zdatetimepicker--weekend"),e.days.push({value:this._translateEToA(o[r%7]),class:" zdatetimepicker__day "+a})}_doesExist(e){return e&&e.length}_parseValue(e,t,a){let o=this._opts,n=this._parseDateValue.bind(this),i,r;return a=a||o.format,"string"==typeof t?(-1<["TODAY","NOW"].indexOf(t)?(this["_"+e+"HasTime"]="NOW"===t&&"value"!==e,o[e]=new Date):(r=n(t,a).date||void 0,r?(o[e]=r,this["_"+e+"HasTime"]=!0):(r=n(t,this._dateFormat).date||void 0,o[e]=r||void 0)),i=!0):t instanceof Date?(o[e]=t,this["_"+e+"HasTime"]=!0,i=!0):(this._oldValueOption&&(i=!0),o[e]=void 0),r=o[e],r&&!this._checkTime&&r.setHours(0,0,0,0),i}_setValue(e,t){let a=this._opts,o=!0;return""!==e&&e?e&&(this._parseValue("value",e,this._opts.format)&&a.value&&!this._checkTime&&a.value.setHours(0,0,0,0),this._isNotNull(a.value)&&this._dateWithInRange(a.value)&&!this._getUniqueClass(a.value)?(this._currentSelected=new Date(+a.value),this._viewDate=new Date(+a.value),this._valueUpdate=!0):(o=!1,a.value=this._oldValueOption)):(this._setHours(),(this._minDate||this._maxDate)&&this._checkViewDate(new Date(+this._viewDate)),this._clearValues()),t&&o&&this._buildData(!0),o}_checkViewDateWithMax(e){let t=new Date(+this._maxDate);for(e=new Date(+e),t.setMonth(t.getMonth()-(this._monthsPerView-1)),e.setDate(1),t.setDate(1);+e>+t;)e.setMonth(e.getMonth()-1);this._viewDate=e}getValue(){return this._getSingleValue(this._opts.value)}_getSingleValue(t){let a=this._opts,o=e.Date.formatDate(t,a.format);return{value:t,valueString:o,translatedValue:this._translateEToA(e.Date.formatDate(t,a.format,a.labels))}}setValue(e){"single"===this._opts.selectionType&&this._setValue(e,!0)}_setAttribute(e,a,o){let n=this._opts,i=!0,r=this._data,s=this.element;if(this._oldValue=n[e],this._oldValueOption=n.value,n[e]instanceof Array&&(this._oldOpts={},this._oldOpts[e]=n[e].slice()),n[e]=a,this._userOptions[e]=a,"format"===e)this._validateFormat(),this._invalidFormat?i=!1:(this._setFormat(),n.value&&this._setDate(void 0,this._getDateElem(+this._resetTime(n.value),o),n.value));else if("forElement"===e)this._forElement=a?t(a):void 0;else if(-1<["monthsPerView","locale","navigationBar","drilldownLevelOnOpen","value","weekendDays"].indexOf(e)){let o=!0;if("value"===e&&"single"===n.selectionType&&(o=this._setValue(n.value)),"monthsPerView"===e&&(r.modifiedAttr="monthsPerView",this._getBtnsArr().forEach(e=>{this["_"+e]=null}),0<a&&3>=a?(this._monthsPerView=a,this._isBtns&&this._createButtons()):o=!1),"drilldownLevelOnOpen"===e&&(this._viewMode=this._isDrilldown?this._getViewMode():0,this._data.modifiedAttr="drilldownLevel","dates"===a)){let e=this._oldValue.slice(0,-1);s.find(".zdatetimepicker__"+e+"container")[0].style.display="none",s.find(".zdatetimepicker__days")[0].style.display="flex"}if("navigationBar"===e&&(this._isDrilldown?t(s.find(".zdatetimepicker__monthyearnav")[0]).off("click."+this.name):this._isDropdown&&this._destroyDropdown(),this._setSwitcherType(a),this._data.modifiedAttr="navBar",this._data.month.length))for(let e=0;e<this._monthsPerView;e++)this._data.month[e].navigationBar=null;this._reInit=o,i=o}else"position"===e?(this._isPositionModified=!0,this._validateOpts()):i=this._setAttrs(...arguments);return this._setPosition||(this._setPosition=-1<["monthsPerView","forElement","position","minDate","maxDate","displayType","customHTML","displayWeekNumbers","yearToBeShownOnOpen","monthToBeShownOnOpen","width","height","rtl"].indexOf(e)||-1<["commandBar","title"].indexOf(r.modifiedAttr)),this._domChanged=i,i}_destroy(){let t=this._setUndefined.bind(this),a=this._opts;Object.keys(a.animation).length&&e.clearAnimationData(this.element),clearTimeout(this._focusTimeout),this._isDropdown&&this._destroyDropdown(),this._data.customHTML&&this._handleCustomHTML(!0),a.draggable&&this.element.data("zdraggable")&&e.draggable(this.element).destroy(),this.isCE&&this.element.removeClass(this._data.className).empty(),this._rowsCount=this._selectedDates=[],t(["focusTimeout","forElement"],""),t(["view","min","max"],"Date"),t(["","month","year","dec ade"],"navBar"),t(["month","year","decade"],"DrillDownElement"),t(["month","year"],"Header"),t(this._getBtnsArr(),""),t(["monthsPerView","currentSelected","monthYearNav","leftNav","rightNav","closeButton","footer"],"")}_setAnimation(t){e.animationHandler({action:t,animation:this._opts.animation,element:this.element,ctype:this.name,callback:"close"===t?this._closeHandler.bind(this):this._openHandler.bind(this)})}_clearClickHandler(e,a){let o=this._clear,n=this._doesExist(o);(!e||t(e.target).closest(o).hasClass("is-disabled"))&&e||(n&&this._removeFocus(o),this._clearValues(e),!a&&n&&this._dispatchEvent("clear",e,{valuesObject:[],values:[]}))}_setClearBtnCls(e,t,a){e=e||this._traverseBtns("clearButton",void 0,void 0,!0),t=t===void 0?"single"===this._opts.selectionType?!this._currentSelected:this._selectedDates&&0===this._selectedDates.length:t;let o=this._clear;this._doesExist(o)&&(t?-1===e.className.indexOf("is-disabled")&&(e.className+=" is-disabled"):e.className.replace(/is-disabled/g,""),a&&this._disable(!!t,o))}_getCloseProps(t){return t.closeSVGProps=e.ZButton.getBtnProps({className:"zdatetimepicker__close",defaultIconClassName:"zdatetimepicker__icon",iconClassName:this._opts.closeIconClassName,SVGIconId:this._opts.closeSVGIconId,defaultSVGIconId:"zc__svg--close",mainElement:this._closeButton?this._closeButton[0]:null,templateRender:!0}),t}_setCloseEle(){let e=this.element,t=this._opts;!t.closeButton||"inline"===t.type||this._closeButton&&this._closeButton.length||(this._closeButton=e.find(".zdatetimepicker__close"),this._data.title.closeSVGProps.mainElement=this._closeButton[0],this._closeButton&&this._addEvents({closeClick:"click"},this._closeButton))}_closeClickHandler(e){this._closePicker(e),this._removeFocus(this._closeButton)}_setBtnProps(){let t=this._getBtnsArr(),a=this._opts,o;for(let e=0;e<t.length;e++)o=t[e]+"ButtonLabel",this["_"+o]=a[o]||this._getI18NText(o);a.buttonsAlignment=e.buttonsAlignment||"right"}_setBtnVal(){let e=this._getBtnsArr(),t=this._footer;for(let a=0;a<e.length;a++){let o="_"+e[a],n=e[a]+"Click",i=t.find("."+e[a]+"Button-"+this.name);i.length&&(this[o]=i,this._handleFocus(this[o]),this._addEvents({[n]:"click"+("_today"==o?" keydown":"")},i))}this._OK&&(this._OKButton=!!this._OK.length)}_createButtons(){this._data.cBar={},this._isColumnExists()?this._generateCustomCols():this._autoGenSingleColBtns();let e=this._traverseBtns("clearButton",void 0,void 0,!0);this._opts.clearButton&&e&&this._setClearBtnCls(e)}_updateCommandBar(e){this._footer&&this._footer.length||(this._footer=e.find(".zdatetimepicker__commandbar")),this._isBtns&&this._setBtnVal(),this._traverseBtns()}_traverseBtns(e,t,a,o){let n=1<this._monthsPerView,i=this._data.cBar;for(let r in i){let s=i[r];if(Array.isArray(s))for(let r=0,i=s.length;r<i;r++){let i=s[r],l=n?i.left||i.right||i.center||i:i;if(l)if(n&&l instanceof Array)for(let n=0,i=l.length,r;n<i;n++){if(r=l[n],o&&r.name&&r.name===e)return r;o||this._setBtnMainElement(e,t,a,r)}else{if(o&&l.name&&l.name===e)return l;o||this._setBtnMainElement(e,t,a,l)}}}}_setBtnMainElement(e,t,a,o){let n=o.name?o.name.replace("Button",""):void 0;if(n){let i=this["_"+n];if(a!==void 0&&e===o.name){let e=o.className+" ",n=new RegExp(t,"g");o.className=a?e+t:e.replace(n,"")}else this._doesExist(i)&&(o.mainElement=this["_"+n][0])}}_autoGenSingleColBtns(){let e=this._getCommandBarData.bind(this),t=this._opts,a=0,o=t.buttonsAlignment,n=t.todayButton,i=t.OKButton,r=this._getIndex.bind(this),s,l;if(3>this._monthsPerView){s=this._getBtnsArr().map(e=>e+"Button");for(let e=0;e<s.length;e++)a+=+t[s[e]];if(1==a){l=r(0);let t=s[l];e("todayButton"===t?"center":"right",t)}else if(2==a){l=r(1);let a=s[l];n?(e("left","todayButton"),e("right",a)):i&&3!==l?t.clearButton?(e("left",a),e("right","OKButton")):e("right",[a,"OKButton"]):(e("left","clearButton"),e("right","cancelButton"))}else 3==a?(s=["today","OK","clear","cancel"],l=r(2,s),i&&(e("right","OKButton"),n&&e("right",s[l]+"Button",0)),n?e("left","todayButton"):(e("left","clearButton"),this._data.cBar.right.length&&e("right","cancelButton",0))):4==a&&(e("left","clearButton"),e("center","todayButton"),e("right",["cancelButton","OKButton"]))}else s=["clear","today","cancel","OK"],"right"!==o&&(s=s.reverse()),r(0,s,o)}_getIndex(e,t,a){t=t||this._getBtnsArr();let o=t.map(e=>e+"Button");for(let n=e;n<o.length;n++)if(this._opts[o[n]])if(a)this._getCommandBarData(a,o[n]);else return n}_getCommandBarData(e,t,a,o){let n=this._data.cBar,i;i=n&&n.cols&&0!==n.cols.length;let r=i?o:n;"number"==typeof a?r[e].splice(a,0,this._getbtnAttr(t)):(!(t instanceof Array)&&(t=[t]),t=t.map(e=>this._getbtnAttr(e)),!r[e]&&(r[e]=[]),r[e].push(...t))}_getbtnAttr(t){let a=t.replace("Button",""),o=this["_"+t+"Label"];return e.ZButton.getBtnProps({customAttributes:{name:t,"aria-label":o},name:t,isLink:"today"===a,className:("today"===a?"zdatetimepicker__todaylink ":" ")+t+"-"+this.name,text:o,appearance:"OKButton"===t?"primary":"normal",size:"small",isCE:this.isCE,tabindex:0,templateRender:!0})}_generateCustomCols(){let e=this._data.cBar,t=this._opts,a=1<this._monthsPerView,o=t.commandBar,n=0,r=["left","center","right"];this._itemsList=[],a&&(e.colClass="zdatetimepicker--threecolumn",e.cols=[]);for(let s=0,i;3>s;s++)if(i=o[r[s]+"Column"],a&&(e.cols[s]={}),i){let o=i.commands;a&&(e.cols[s].className=i.className);for(let r=0;r<o.length;r++){let l=o[r],d=!0;("OK"===l||"cancel"===l)&&(d=!t.immediateCommit,d&&(this._OKButton=!0)),d&&-1===this._itemsList.indexOf(l)&&(this._getCommandBarData(i.halign,l+"Button",void 0,a?e.cols[s]:void 0),this._itemsList[n++]=l)}}}_insertHTML(e,a){let o=t(this._opts[e]);return this["_"+a]=o.parent(),o.length&&(o.show(),o.addClass("zdatetimepicker--custom")),o}_insertHTMLAboveCalendar(){let e=this._insertHTML("customHTMLAboveCalendar","aboveCalendarParent");e.length&&e.insertBefore(this.element.find(".zdatetimepicker__month"))}_insertHTMLAboveNavigationBar(){let e=this._insertHTML("customHTMLAboveNavigationBar","aboveNavbarParent");e.length&&(this._opts.title?e.insertAfter(this.element.find(".zdatetimepicker__titlebar")):e.prependTo(this.element))}_insertHTMLBelowCalendar(){let e=this._insertHTML("customHTMLBelowCalendar","belowCalendarParent");e.length&&e.insertAfter(1===this._monthsPerView?this.element.find(".zdatetimepicker__monthcontainer").last():this.element.find(".zdatetimepicker__container"))}_handleCustomHTML(e){let a=["BelowCalendar","AboveCalendar","AboveNavigationBar"],o;for(let n=0;3>n;n++)o=this._opts["customHTML"+a[n]],o&&(void 0===e?this["_insertHTML"+a[n]]():(o=t(o),o.appendTo(t("body")),e&&o.hide()))}_fillDecades(e){let t=this.element,o=this._yearDrillDownElement,n;e.type!==void 0&&(e.stopPropagation(),e.preventDefault(),n=e),o||this._fillYears(n),this._fireDrilldownEv(!0,n);let i=100*a(this._viewDate.getFullYear()/100),r=i+90;this._yearDrillDownElement&&this._buildDrilldownView({view:"decade",year:this._translateEToA(i+" - "+r),fn:["buildYearDecadeBody",i-10,r+20,10]},3,n),this._setViewMode(3,"boolean"==typeof e,t),this._decadeStart=i,this._fireDrilldownEv(!1,n,this._decadeDrillDownElement)}_getDecadeClasses(e,t){let o=" zdatetimepicker__"+(1===t||12===t?"drilldownnearlevelcell":"monthyeargrid")+" zdatetimepicker__decade ",n=this._minDate,i=this._maxDate;return(10>e||n&&e<10*a(n.getFullYear()/10)||i&&e>10*a(i.getFullYear()/10))&&(o+=" is-disabled zdisabled"),o}_handleDecadeMousedown(e,t,a){this._viewDate.setFullYear(parseInt(a)),0!==t&&(this._setViewMode(t-1),t=this._viewMode,2===t&&this._fillYears(e))}_initDraggable(){let t=this._dragHandler.bind(this);"inline"!==this._opts.type&&e.draggable(this.element,{handle:".zdatetimepicker__titlebar",ignore:".zdatetimepicker__close",container:"window",cursor:"default",start:t.bind(this,"start"),drag:t.bind(this,""),end:t.bind(this,"end")})}_dragHandler(e,t,a){this._dispatchEvent("drag"+e,t,a),"end"===e&&(this._dragEnd=!0)}_getViewMode(){let e=this._opts,t=this._valueUpdate,a=["dates","months","years","decades"].indexOf(e.drilldownLevelOnOpen);return t&&this.element.find(".zdatetimepicker--disabledcalendar").removeClass("zdatetimepicker--disabledcalendar"),t?0:-1<a?a:void 0}_generateContent(e){if(this._isDrilldown){let t=["Months","Years","Decades"][this._viewMode-1];t&&this["_fill"+t](!0,e)}}_drilldownClickHandler(e){let a=t(e.currentTarget),o=!1,n=this.element.find(".zdatetimepicker__days").length;if(this._hasClosest(e,".zdatetimepicker__monthcontainer",!0)){let t=a.closest(".zdatetimepicker__monthcontainer");a.hasClass("zdatetimepicker__monthyearnav")&&(t.hasClass("zdatetimepicker__monthdrilldown")&&this._opts.navigationBar.yearSwitcher?(this._fillYears(e),o=!0):t.hasClass("zdatetimepicker__yeardrilldown")&&(this._fillDecades(e),o=!0))}o||1!==this._monthsPerView&&(0!==a.closest("li.zdatetimepicker__list").index()||3!==n&&2!==n)||this._monthYearNavClickHandler(e),this._adjustCustomHTMLPos()}_monthYearNavClickHandler(e,t){let a=["month","Months","year","Years"],o=this._opts.navigationBar;for(let n=0,i;4>n;n+=2)if(i=this._viewMode===("month"===a[n]?0:o.monthSwitcher?1:0),i&&o[a[n]+"Switcher"]){e.stopPropagation(),this["_fill"+a[n+1]](e,t);break}}_getDrilldownData(e,t){this._viewMode=t;let a=e.view,o=this._data.month[0],n=e.fn,i="dates"===this._opts.drilldownLevelOnOpen?this._width||this.element.find(".zdatetimepicker__calendar").outerWidth():null,r={view:a,cells:this["_"+n[0]](n[1],n[2],n[3]),style:`display:none;width:${i}px`,navigationBar:this._getDrilldownNavBar(e,t,a)};return o[a+"Drilldown"]=r,o[a+"Drilldown"]}_setMainEle(e){let a=e.lMonthIcon,o=e.rMonthIcon;a.mainElement=t("#"+a.id).length?t("#"+a.id):null,o.mainElement=t("#"+o.id).length?t("#"+o.id):null}_buildDrilldownView(e,t){let a=e.view,o=this._getDrilldownData(...arguments),n=this["_"+a+"EventBinded"],i=o.navigationBar;n||this._setMainEle(i),this._render(),n||(this["_"+a+"EventBinded"]=!0,"decade"!==a&&this._bindDrillDownClickEvent(a),this._bindDrilldownNavBarEvent(t),this._setMainEle(i),this["_"+a+"DrillDownElement"]=this.element.find(".zdatetimepicker__"+a+"drilldown"))}_bindDrilldownNavBarEvent(e){let a=["-left-month-","-right-month-"];for(let o=0;2>o;o++)this._addEvents({arrowEvent:"click"},t("#"+this._elementId+a[o]+e))}_bindDrillDownClickEvent(e,a=this.element){a=e?a.find(".zdatetimepicker__"+e+"drilldown"):a,this._addEvents({drilldownClick:"click"},t(a.find(".zdatetimepicker__monthyearnav")[0]))}_getDrilldownNavBar(e,a,o){let n=this._data.month[0][o+"Drilldown"]?this._data.month[0][o+"Drilldown"].navigationBar:null,i=this._opts.navigationBar,r=n?n.lMonthIcon:this._lMonthIcon,s=n?n.rMonthIcon:this._rMonthIcon,l="split"===this._opts.navigationBar.navigationButtonsDisplayPattern,d=["month","Year","Decade","Century"],c;return r&&s||(n=this._getMonthNavBtnProps(null,i)),r=t.extend(!0,{},r||n.lMonthIcon),s=t.extend(!0,{},s||n.rMonthIcon),c=this._getI18NText("prev"+d[a]),r={...r,id:this._elementId+"-left-month-"+a,customAttributes:{"aria-label":c,title:c}},c=this._getI18NText("next"+d[a]),s={...s,id:this._elementId+"-right-month-"+a,customAttributes:{"aria-label":c,title:c}},this._setConditions({year:this._translateEToA(e.year||this._viewDate.getFullYear()),monthYearSwitcherType:"drilldown",isSplit:l,lMonth:!0,rMonth:!0,cursorCls:"decade"!==o&&i.yearSwitcher?"zh-cursorpointer":"",class:l?"":" zdatetimepicker__navbaractionsonright",navBtnCls:"zdatetimepicker__navbutton",lMonthIcon:r,rMonthIcon:s})}_updateYearArrowState(e,o){o="number"==typeof o?o:this._viewDate.getFullYear();let n=this._elementId,i;e&&(i=Math.pow(10,e-1));let r=this._maxDate&&o+i>a(this._maxDate.getFullYear()/i)*i||!1;t("#"+n+"-right-month-"+e).toggleClass("is-disabled",r);let s=1>=o||this._minDate&&o-i<a(this._minDate.getFullYear()/i)*i||!1;t("#"+n+"-left-month-"+e).toggleClass("is-disabled",s)}_buildYearDecadeBody(e,t,a){let o=1,n=[];for(let r=e;r<t;r+=a,o++)n.push({class:this["_get"+(10===a?"Decade":"Year")+"Classes"](r,o),value:1<=r?this._translateEToA(r):"",attr:1<=r?r:""}),12!=o&&0==o%4&&n.push({isTr:!0});return n}_setViewMode(e,a,o){let n=this._prevViewMode,i=this.element,r=this._getClass(n),s;o=o||i;let l=t(o.find(".zdatetimepicker__calendar")[0]);0===n&&this._isShown&&l.is(":visible")&&(this._width=l.outerWidth()),s=0===n?t(l[0]).find("table"):o.find(".zdatetimepicker__"+r).find(".zdatetimepicker__drilldowncell"),s.removeClass("zeffects--zoomin"),a||s.addClass("zeffects--zoomout"),this._viewMode=e,1<this._monthsPerView&&i.find(".zdatetimepicker__list").nextAll().find(".zdatetimepicker__month,.zdatetimepicker__weeknumbers,.zdatetimepicker__navbar").addClass("zdatetimepicker--disabledcalendar"),clearTimeout(this._animationTimeout),a?this._animationHandler(o,a):this._animationTimeout=setTimeout(this._animationHandler.bind(this,o,a),300)}_updateMonthClasses(){let e=this._data.month[0].monthDrilldown.cells;for(let t=0,a=0,o=e.length;t<o;t++)e[t].class&&-1<e[t].class.indexOf("zdatetimepicker__monthview")&&(e[t].class=this._getMonthClasses(a),a++);this._render(),this._updateYearArrowState(1)}_updateMonthDDNav(){this._data.month[0].monthDrilldown.navigationBar.year=this._translateEToA(this._viewDate.getFullYear())}_getClass(e){let t;return 4>=e&&(t=["days","month","year","decade"][e],0===e&&(this._rowsCount=[])),t+(0===e?"":"drilldown")}_animationHandler(e,a){let o=this._viewMode,n=this._getClass(o),i=1===this._monthsPerView?e.children("div:not(.zdatetimepicker__commandbar):not(.zdatetimepicker__titlebar):not(.zdatetimepicker__pointer):not(.zdatetimepicker__timebar):not(.zdatetimepicker--custom)"):t(this.element.find(".zdatetimepicker__container").find(".zdatetimepicker__list")[0]).find(".zdatetimepicker").children(),r;e=this._display(!0,i).filter(".zdatetimepicker__"+n),r=0===o?t(e.find(".zdatetimepicker__calendar")[0]).find("table"):e.find(".zdatetimepicker__drilldowncell"),r.removeClass("zeffects--zoomout"),a||r.addClass("zeffects--zoomin"),this._display(void 0,e),this._positionPicker(),this._fireDrilldownEv(void 0,void 0,void 0,!0)}_addDisabledCls(){"dates"!==this._opts.drilldownLevelOnOpen&&0!==this._viewMode&&this.element.find(".zdatetimepicker__list").nextAll().find(".zdatetimepicker__month,.zdatetimepicker__weeknumbers,.zdatetimepicker__navbar").addClass("zdatetimepicker--disabledcalendar")}_removeEffects(){this.element.find(".zeffects--zoomin").removeClass("zeffects--zoomin"),this.element.find(".zeffects--zoomout").removeClass("zeffects--zoomout")}_handleMousedownOnDrillDown(e,a,o,n){let i=this._opts,r=i.navigationBar,s=this._viewDate,l=t(e.target),d=this._viewMode;if(a&&s.setMonth(parseInt(l.attr("data-value"))),o&&s.setFullYear(parseInt(n)),r.updateDateOnMonthYearSwitch&&i.immediateCommit&&this._OKClickHandler(e,!0),0!==d){let e=d-1;o&&!r.monthSwitcher&&(e=0),this._prevViewMode=this._viewMode,this._setViewMode(e),d=this._viewMode,this._doNotBuildTime=!0,0===d&&this._buildData(!0),1===d&&(this._updateMonthDDNav(),this._updateMonthClasses())}return a?"month":"year"}_fireDrilldownEv(e,t,a,o){this._prevViewMode=this._viewMode;let n=this._getObj();this._dispatchEvent((e?"before":o?"after":"")+"drilldown",t,{...n,viewElement:a})}_setDrilldownClass(e){let t=this._data.month[0],a=e.is(".zdatetimepicker__year")?"year":"month",o=t[a+"Drilldown"].cells[e.index()];o.class=o.class.replace(/is-selected/g,"")}_generateDropdown(t,a){let o=a?["month","Month"]:["year","Year"],n=this._data.month[0].navigationBar,i=n[o[0]+"Select"];this._opts.navigationBar[o[0]+"Switcher"]&&(i.mainElement?"number"==typeof t&&e[a?"select":"combobox"](this["_"+o[0]+"Header"]).setAttributes({selectedValue:a?i.options[t].value:t}):this["_generate"+o[1]+"Dropdown"](n))}_constructDropdown(e){e.yearSwitcher&&!e.yearSelect&&this._generateYearDropdown(e),e.monthSwitcher&&!e.monthSelect&&this._generateMonthDropdown(e),this._checkOptions()}_stopSelectEvents(t){let a=e.ZSelect.prototype._EVENTS;for(let e=0;e<a.length;e++)t.on("z"+a[e],e=>e.stopPropagation())}_assignHeaders(){this._assignElement("month"),this._assignElement("year")}_assignElement(e){if(this._opts.navigationBar[e+"Switcher"]){let a=this["_"+e+"Header"];if(!a||a&&!a.length){let a=t("#"+this._elementId+"-"+e+"-header");a=a?a[0]:null,a&&(this["_"+e+"Header"]=t(a)),this._data.month[0].navigationBar[e+"Select"].mainElement=a}}}_buildDropdownNavElement(e,t){(this._opts.disabledMonths||this._opts.disabledYears)&&this._validateDisabledMonthYear(),this._generateDropdown(e,!0),this._generateDropdown(t)}_validateDisabledMonthYear(){let t=["months","month","Years","year"],a;for(let o=0;o<t.length;o+=2){a=this._opts["disabled"+t[o]];let n=this["_"+t[o+1]+"Header"],r=this._viewDate["months"===t[o]?"getMonth":"getFullYear"]();if(n&&a)for(let s=0,i;s<a.length;s++)i="months"===t[o]?"select":"combobox",r!==a[s]&&e[i](n).setOptionAttributes(a[s],"disabled",!0)}}_setDropdownVal(){let e=this._maxDate,t=this._minDate,a=this._data.month[0].navigationBar,o,n,r,s;e&&(r=e.getFullYear(),s=e.getMonth()),t&&(n=t.getMonth(),o=t.getFullYear());let l=["month","year"];for(let e=0,t;2>e;e++)t="year"===l[e],this._opts.navigationBar[t?"yearSwitcher":"monthSwitcher"]&&this[t?"_setYearDropdownVal":"_setMonthDropdownVal"](o,n,r,s,a)}_checkOptions(){(this._monthHeader||this._yearHeader)&&this._setDropdownVal()}_bindHeaderEvents(e){e=t("#"+this._elementId+"-"+e+"-header"),e.length&&this.isCE&&this._stopSelectEvents(e)}_destroyDropdown(){this._monthHeader&&e.select(this._monthHeader).destroy(),this._yearHeader&&e.combobox(this._yearHeader).destroy(),this._monthHeader=this._yearHeader=void 0}_selectClickHandler(e,a,o){a=!a&&e?e.detail:a;let n=this._viewDate,i=n.getFullYear(),r;if(a.fromUI){let s=a.selectedValue;n.setDate(1),a.dropdownList&&(r=-1<t(a.dropdownList).attr("id").indexOf("month-header"),r?n.setMonth(this._getMonthVal(s)):n.setFullYear(+s||i)),(this._minDate||this._maxDate)&&this._checkLimitOnDropDown(),this._buildData(!0),this._checkOptions(s,o),(this._opts.disabledMonths||this._opts.disabledYears)&&this._validateDisabledMonthYear(),r!==void 0&&this._dispatchChangeEvent(e,r?"month":"year",this._viewDate[r?"getMonth":"getFullYear"]())}}_checkLimitOnDropDown(){let t=["min","max"],a=this._viewDate,o=this._minDate,n=this._yearHeader;for(let r=0,i;2>r;r++)if(i=this["_"+t[r]+"Date"],i&&this._isBig(t[r],a)){if(a.setFullYear(i.getFullYear()),"min"===t[r])for(;this._isGreater(o,a);)a.getMonth()===o.getMonth()&&a.getFullYear()===o.getFullYear()?a.setDate(o.getDate()):a.setFullYear(a.getFullYear()+1);else for(;this._isGreater(a,this._maxDate);)a.setFullYear(a.getFullYear()-1);n&&e.combobox(n).setAttributes({selectedValue:a.getFullYear()})}}_processLimits(){let e=["_min","_max"];for(let t=0,a=e.length,o;t<a;t++)o=e[t],this[o+"DateHasTime"]&&(this[o+"Time"]=new Date(+this._opts[o.slice(1)+"Date"])),o+="Date",!this._checkTime&&this[o]&&this[o].setHours(0,0,0,0)}_checkMax(e,t){let a=this["_"+t+"Date"];return"min"===t?this._isGreater(a,e):this._isGreater(e,a)}_checkLimits(){let t=this._minDate,a=this._maxDate,o=this._opts,n=o.value,i=new Date,r;i.setHours(0,0,0,0),t&&a&&e.Date.isGreater(t,a)&&!e.Date.areDatesEqual(t,a)&&(o.maxDate=this._maxDate=void 0);let s=["min","max"];for(let e=0;2>e;e++){let a=s[e],l=this["_"+a+"Date"];if(l){let e=new Date(+t);e.setHours(0,0,0,0),n?this._checkMax(n,a)&&(this._currentSelected=o.value=void 0,r=!0):"multiple"===o.selectionType&&this._selectedDates.length&&(r=this._checkDates(a,e)),r&&this._dispatchEvent("change",void 0,this._getSelectedValue()),this._checkMax(this._viewDate,a)?this._viewDate=new Date(this._isBig(a,i)?+l:+i):"min"===a&&this._setViewDateIfNoVal(a)}}}_checkViewDate(e){let t=this._maxDate,a=this._minDate,o;t&&this._isGreater(this._viewDate,t)&&(o="max"),a&&this._isGreater(a,this._viewDate)&&(o="min"),o===void 0?this._setViewDateIfNoVal():this._viewDate=new Date(this._isBig(o,e)?a?+a:"max"===o?+t:+e:+e)}_setViewDateIfNoVal(){let e=this._opts,t=this._minDate,a=this._maxDate;!e.value&&!e.values.length&&t&&(!a||this._isGreater(a,t))&&this._isGreater(t,new Date)&&(this._viewDate=new Date(+t))}_fillMonths(e){let t=this.element,a;e&&e.type!==void 0&&(a=e),this._fireDrilldownEv(!0,a),this._buildDrilldownView({view:"month",fn:["buildMonthNavBarBody"]},1,a),this._setViewMode(1,"boolean"==typeof e,t),this._fireDrilldownEv(!1,a,this._monthDrillDownElement)}_buildMonthNavBarBody(){let e=[],t=-1<this._opts.navigationBar.monthFormatInSwitcher.indexOf("MMMM")?this._getI18NText("months"):this._getI18NText("monthsAbbreviated");for(let a=0;12>a;a++)e.push({class:this._getMonthClasses(a),value:this._translateEToA(t[a]),isTr:!1,attr:a+""}),12!=a+1&&0==(a+1)%4&&e.push({isTr:!0});return e}_getMonthClasses(e){let t=this._checkDisabled.bind(this),a="zdatetimepicker__monthview zdatetimepicker__monthyeargrid",o=new Date,n=this._viewDate,i=n.getFullYear(),r=this._minDate,s=this._currentSelected,l=this._maxDate,d=s&&s.getMonth()===e&&s.getFullYear()===i,c=this._opts,m=c.value;return(m&&m.getMonth()===e&&m.getFullYear()===i&&d||d)&&(a+=" is-selected"),"multiple"===c.selectionType&&(a+=this._addSelectClass("Month",e,i)),o.getMonth()===e&&o.getFullYear()===i&&(a+=" zdatetimepicker--currentcell"),(r&&(i===r.getFullYear()&&e<r.getMonth()||i<r.getFullYear())||l&&(i===l.getFullYear()&&e>l.getMonth()||i>l.getFullYear())||t("Years",i)||t("Months",e))&&(a+=" is-disabled zdisabled"),a}_checkDisabled(e,t){let a=this._opts["disabled"+e];return a instanceof Array&&-1<a.indexOf(t)}_handleYearClick(e,a,o){this._rowsCount=[];let n=t(e.target),i=this._elementId,r=this._opts.navigationBar.yearNavigationStep,s=e.currentTarget.getAttribute("id");if(!n.closest(".zdatetimepicker__navbutton").hasClass("is-disabled")){let t=r*(-1<s.indexOf(i+"-right-year")||-1<s.indexOf(i+"-right-month")&&0<this._viewMode?1:-1);o=o||this._viewDate,o.setFullYear(o.getFullYear()+t),this._viewDate=new Date(+o),this._updateMonthDDNav(),this._updateMonthClasses(a||this.element),this._dispatchChangeEvent(e,"year",this._viewDate.getFullYear())}}_generateMonthDropdown(e){let t=this._opts,a=this._viewDate.getFullYear(),o=this._viewDate.getMonth(),n=t.minDate,r=t.maxDate,s=t.disabledMonths,l=[],d=this._getMonthVal(),c,m,_;n&&(m=n.getFullYear()===a),r&&(_=r.getFullYear()===a);for(let t=0;t<d.length;t++)o===t&&(c=d[t]),l[t]={value:d[t],selected:o===t,disabled:m&&n&&t<n.getMonth()||_&&r&&t>r.getMonth()||s&&-1<s.indexOf(t)&&o!==t,label:d[t]};let i=this._monthHeader;e.monthSelect={id:this._elementId+"-month-header",width:"107px",dropdownList:{width:99,height:330,className:"zdatetimepicker--menu"},mainElement:i?i[0]:null,isCE:this.isCE,selectedValue:c,rtl:t.rtl,templateRender:!0,options:l,allowDisabledOptionsForSelection:!0,optionclick:this._selectClickHandler.bind(this)}}_getMonthVal(e){let t="months"+(-1<this._opts.navigationBar.monthYearHeadingFormat.split(" ").indexOf("MMMM")?"":"Abbreviated"),a=this._getI18NText(t);return e?a.indexOf(e):a}_setMonthDropdownVal(t,a,o,n,i){let r=e.select(this._monthHeader),s=this._opts.disabledMonths,l=this._viewDate.getFullYear(),d=this._viewDate.getMonth();if(t||a||o||n||"minOrMax"===this._data.modifiedAttr){let e=[],c=[],m=i.monthSelect.options,_;for(let r=0;12>r;r++)_=t===l&&r<a||o===l&&r>n||s&&-1<s.indexOf(r)&&d!==r,(_?e:c).push(m[r].value);r.setOptionAttributes(e,"disabled",!0),r.setOptionAttributes(c,"disabled",!1)}r.setAttributes({selectedValue:i.monthSelect.options[d].value})}_getMonthNavBtnProps(e,t){let a=this._getIconProps(t,"backward","previousMonth","-left-month-0","prevMonth"),o=this._getIconProps(t,"forward","nextMonth","-right-month-0","nextMonth");return e?void(!e.lMonthIcon&&(this._lMonthIcon=e.lMonthIcon=a),!e.rMonthIcon&&(this._rMonthIcon=e.rMonthIcon=o)):{lMonthIcon:a,rMonthIcon:o}}_handleMonthArrowClick(e){let a=t(e.target),o=this._opts,n=e.currentTarget.getAttribute("id"),i=o.navigationBar.monthNavigationStep;this._rowsCount=[],a.closest(".zdatetimepicker__navbutton").hasClass("is-disabled")||(1<this._monthsPerView&&this._currentSelected&&(this._viewDate=new Date(+this._getFirstDate())),this._arrowClickHandler(i*(-1<n.indexOf(this._elementId+"-right-month")?1:-1),!0)),this._dispatchChangeEvent(e,"month",this._viewDate.getMonth())}_setViewdate(e,t,a){let o=this._viewDate;e?this._viewDate=this._moveMonth(o,t):a&&this._viewDate.setFullYear(o.getFullYear()+t)}_setView(t,a){let o=this._opts[t+"ToBeShownOnOpen"];if(!a||this._isNotNull(o))if("number"==typeof o&&(a&&0<=o&&11>=o||!a))this._viewDate["set"+(a?"Month":"FullYear")](o);else if("string"==typeof o){let t=["LAST","THIS","NEXT"],n;for(n=0;3>n;n++)if(-1<o.indexOf(t[n]+"_")){let i="THIS"===t[n],r=i?e.Date.convertOffsetToValue(o.substring(9+ +a)):n-1;this._setViewdate(a,r,!!i||9===o.length)}}}_setViewOnOpen(){let e=this._opts,t=this._setView.bind(this),a=e.monthToBeShownOnOpen,o=e.yearToBeShownOnOpen;a&&t("month",!0),o&&t("year"),(a||o)&&this._checkViewDate(new Date(+this._viewDate))}_handleMultipleSelectOnClose(){let e=this._opts,t=e.values,a=this._selectedDates,o=t.length,n=a.length,i=[],r=e.selectionLimit,s;if(n!==o){if(n>o)i=this._selectedDates.splice(o),this._selectedDates.length=o,this._setSelectClass(!1,i);else{this._selectedDates=[];for(let a=0;a<o;a++)this._selectedDates[a]=this._parseDateValue(t[a],e.format).date;this._setSelectClass(!0,this._selectedDates)}r!==o&&this._limitReached?(this._limitReached=!1,s=!1,this._queryString=""):r===o&&(this._queryString=":not(",this._getQueryString(),s=!0)}a=this._selectedDates;let l=this._clear;a&&a.length&&this._doesExist(l)&&(this._traverseBtns("clearButton","is-disabled",!1),this._disable(!1,l)),s!==void 0&&this._setDateClass("is-disabled",s,this.element.find(".zdatetimepicker__date,.zdatetimepicker__adjacentmonthdate").filter(this._queryString))}_setSelectClass(e,t){for(let a=0;a<t.length;a++)this._select(e,this._getDateElem(this._resetTime(t[a])))}_setValues(){let e=this._opts,t=e.values,a=t.length;for(let o=0;o<a;o++){let n=t[o],i;"string"==typeof n?i="TODAY"===n?new Date:this._parseDateValue(t[o],e.format).date:n instanceof Date?i=n:t.splice(o,1);let r=(!e.selectionLimit||e.selectionLimit>o)&&this._dateWithInRange(i);if(r)this._valueUpdate=!0,i&&this._dateWithInRange(i)&&(i.setHours(0,0,0,0),this._selectedDates.push(i),o==a-1&&(this._viewDate=new Date(+i)));else{e.values.splice(o,a);break}}}_handleOkOnMultiple(t){t.values=[];let a=this._selectedDates,o=a.length;for(let n=0,i;n<o;n++)i=new Date(a[n]),this._checkTime&&i.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0),t.values.push(e.Date.formatDate(i,t.format))}_getMultipleValues(){return{values:this._opts.values,valuesObject:this._selectedDates,translatedValues:this._getTranslatedValues()}}_getTranslatedValues(){let t=[],a=this._opts,o=this._selectedDates;for(let n=0;n<o.length;n++)t.push(this._translateEToA(e.Date.formatDate(o[n],a.format,a.labels)));return t}_getQueryString(){let e=this._selectedDates;for(let t=0,a=e.length;t<a;t++)this._queryString+="[data-time='"+ +this._resetTime(e[t])+"']",this._queryString+=","+(t==a-1?" .zdisabled)":"")}_addSelectClass(e,t,a){let o=this._selectedDates,n="",r,s;for(r=0,s=o.length;r<s;r++){let i="Month"!==e||a===o[r].getFullYear();i&&o[r]["get"+e]()===t&&(n+=" is-selected")}return n}_setMultipleDate(e,a,o){let n=this._opts,i=this._clear,r=this._selectedDates,s=n.immediateCommit,l=r.length,d=this.element;if(!a.hasClass("is-selected"))this._select(!0,a),this._selectedTime&&o.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0),r.push(new Date(+o)),l=r.length,"inline"!==n.type&&s&&(this._valueUpdate=!0,this._OKClickHandler(e,!0)),this._queryString="",l===n.selectionLimit&&(!this._queryString&&(this._queryString=":not(",this._getQueryString()),this._setDateClass("is-disabled",!0,d.find(".zdatetimepicker__date,.zdatetimepicker__adjacentmonthdate").filter(this._queryString)),this._limitReached=!0);else if(!e||e&&0===t(e.target).closest(".zdatetimepicker__todaylink").length){this._select(!1,a);let t=this._getDateIndex(o);-1!==t&&(l===n.selectionLimit&&(this._limitReached=!0,this._queryString=":not(",this._getQueryString(),this._queryString&&this._setDateClass("is-disabled",!1,d.find(".zdatetimepicker__date,.zdatetimepicker__adjacentmonthdate").filter(this._queryString)),this._disable(!1,d.find(".is-selected"))),r.splice(t,1),s&&n.values.splice(t,1)),0<l&&s&&(this._valueUpdate=!0,this._OKClickHandler(e,!0))}return this._doesExist(i)&&this._traverseBtns("clearButton","is-disabled",!r.length),this._disable(!r.length,i),{values:n.values,valuesObject:r}}_getDateIndex(t){let a=this._selectedDates;for(let o=0,n=a.length;o<n;o++)if(e.Date.areDatesEqual(t,a[o]))return o;return-1}_checkDates(e,t){let a=this._selectedDates,o=this._opts,n,r;for(let s=0;s<a.length;s++)r="max"===e?this._checkMax(a[s],e):this._isGreater(t,a[s]),r&&(n=!0,o.values.splice(s,1),this._selectedDates.splice(s,1),s--);return n}getValues(){let t=[],a=this._opts,o=a.values;for(let n=0,i=o.length;n<i;n++)t[n]=e.Date.formatDate(o[n],a.format);return{values:o,valuesString:t}}setValues(t){let a=this._opts,o=this._oldDate;"multiple"===a.selectionType&&(this._rowsCount=[],a.values=t,this._setValues(),this._validateOpts(),(o&&!e.Date.areDatesEqual(o,this._viewDate)||!o)&&this._buildData(!0))}clearAll(){let e=this._opts;"multiple"===e.selectionType&&(e.values.length||this._selectedDates.length)&&(this._clearValues(),e.values=[],this._selectedDates=[])}clear(t){let a=this._opts;if("multiple"===a.selectionType&&t){let o=this._selectedDates,n=a.values,i,r;if("string"==typeof t?r=!0:t instanceof Date&&(t.setHours(0,0,0,0),t=e.Date.formatDate(t,a.format),r=!0),r&&(i=n.indexOf(t)),-1<i){let e=this._getDateElem(this._resetTime(o[i]));e.removeClass("is-selected").removeAttr("aria-selected"),this._select(!1,e,!0),n.splice(i,1),o.splice(i,1),0===n.length&&(this._setHours(),this._doesExist(this._clear)&&this._traverseBtns("clearButton","is-disabled",!0)),this._buildData(!0)}}}_bindArrowEvents(){let e=this._elementId,a=("#"+e+"-left-year,#"+e+"-right-year,#"+e+"-left-month-0,#"+e+"-right-month-0").split(",");for(let e=0,o=a.length,n;e<o;e++)n=t(a[e]),n.length&&this._addEvents({arrowEvent:"click"},n)}_getIconProps(t,a,o,n,i){return i=this._getI18NText(i),e.ZButton.getBtnProps({className:"zdatetimepicker__navbutton",isCE:this.isCE,customAttributes:{"aria-label":i,title:i},defaultIconClassName:"zdatetimepicker__icon",SVGIconId:t[o+"ButtonSVGIconId"],defaultSVGIconId:"#zc__svg--"+a+" zh-arrowicon",iconClassName:t[o+"ButtonIconClassName"],templateRender:!0,id:this._elementId+n})}_getNavBtnProps(e,t,a){let o=this._opts.navigationBar,n=t===this._monthsPerView-1,i=o.monthNavigationButtons,r=o.yearNavigationButtons;a.isSplit="split"===o.navigationButtonsDisplayPattern,a.class=a.isSplit?"":" zdatetimepicker__navbaractionsonright",i&&this._getMonthNavBtnProps(a,o),r&&this._getYrNavBtnProps(a,o),a.isSplit?e.navigationBar={...a,lMonth:i&&!t,lYear:r&&!t,rMonth:i&&n,rYear:r&&n}:(a.lMonth=a.rMonth=i&&n,a.lYear=a.rYear=r&&n)}_setArrowMainElement(e){let a=[];e.monthNavigationButtons&&(a=["-left-month-0","lMonthIcon","-right-month-0","rMonthIcon"]),e.yearNavigationButtons&&(a=[...a,"-left-year","lYearIcon","-right-year","rYearIcon"]);for(let o=0,n=a.length,i;o<n;o+=2)if(i=t("#"+this._elementId+a[o]),i.length){let t=e[a[o+1]];t.mainElement=i[0],i.attr(t.attrs)}}_arrowClickHandler(e,t,a){let o=this._monthsPerView,n=this._opts.navigationBar,r=this._viewDate,s,l;l=new Date(+r);let i=this.element;for(let d=1,i;d<=o;d++){if(i=1==d,t&&(1<e?s=this._moveMonth(l,i?e:1):s=this._moveMonth(r,i?e:d-1)),a&&(1<o?s=new Date(this._getFirstDate()):!s&&(s=new Date(r)),s.setFullYear(s.getFullYear()+e)),1<n.monthNavigationStep||1<n.yearNavigationStep){let e=["min","max"],t;for(let a=0;2>a;a++)t=this._isBig(e[a],s),this["_"+e[a]+"Date"]&&t&&(s=new Date(+this["_"+e[a]+"Date"]))}i&&s&&(r=this._viewDate=new Date(+s))}this._doNotBuildTime=!0,this._setPosition=!0,this._buildData(!0),this._isDropdown?(this._checkOptions(),this._buildDropdownNavElement(r.getMonth(),r.getFullYear())):a&&1===this._viewMode&&this._updateMonthClasses(i)}_updateArrowState(e,a){let o=1<this._monthsPerView,n=this._disable.bind(this);e=e||this._viewDate;let i=this._elementId,r=this._minDate,s=this._maxDate,l=e.getFullYear(),d=e.getMonth(),c,m,_,u,p,h,g,f,b;r&&(m=r.getFullYear(),c=r.getMonth()),s&&(u=s.getFullYear(),_=s.getMonth());let v=1===l;p=v||c||m||_||u,h=v&&0===d||l<m||l===m&&d-1<c,g=l>u||l===u&&d+1>_,f=1===l||l-1<m||l-1===m&&d<c,b=l+1>u||l+1===u&&d>_;let C=p&&!o;(C||o&&0===a)&&(n(h,t("#"+i+"-left-month-0")),n(f,t("#"+i+"-left-year"))),(C||o&&a===this._monthsPerView-1)&&(n(g,t("#"+i+"-right-month-0")),n(b,t("#"+i+"-right-year"))),p||h&&v&&0===d||t("#"+i+"-left-month-0,#"+i+"-left-year,#"+i+"-right-month-0,#"+i+"-right-year").removeClass("is-disabled").removeAttr("aria-disabled disabled")}_getQueryString(){let e=this._selectedDates;for(let t=0,a=e.length;t<a;t++)this._queryString+="[data-time='"+ +this._resetTime(e[t])+"']",this._queryString+=","+(t==a-1?" .zdisabled)":"")}_setAttrs(t,a,o){let n=this._data,i=this._opts,r=i.navigationBar,s=!0,l=this._isDropdown,d;if(o=o||this.element,-1>["minDate","maxDate"].indexOf(t)&&(i[t]=a),void 0===this._yearNavigation&&(this._yearNavigation=r.yearNavigationButtons=!l),"values"===t){let e=i.values;!e||e instanceof Array&&0===e.length?this.clearAll():this.setValues(e),s=!1}else if(-1<["minDate","maxDate"].indexOf(t)){this["_"+t+"HasTime"]=!1,this._parseValue(t,a),a?this["_"+t]=new Date(i[t].getTime()):(this["_"+t]=null,this["_"+t+"HasTime"]=!1);let e=!i.value&&0===i.values.length;e&&this._setHours(),this._processLimits(),this._checkLimits(),e&&(i.monthToBeShownOnOpen&&this._setView("month",!0),i.yearToBeShownOnOpen&&this._setView("year")),this._isDropdown&&(n.modifiedAttr="minOrMax",this._checkOptions()),d=!0}else if(-1<["closeButton","closeSVGIconId","closeIconClassName","title"].indexOf(t))this._closeButton=void 0,n.title=this._getTitleData(),"title"===t&&(i.title?this._enableDrag=i.draggable:i.draggable&&this.element.data("zdraggable")&&e.draggable(this.element).destroy()),n.modifiedAttr="title";else if("displayType"===t)this._validateOpts(),"box"===a&&this._pointer&&!this._isPositionModified&&(i.position="bottom-left"),n.modifiedAttr="displayType";else if(-1<t.indexOf("customHTML"))this._handleCustomHTML(),s=!1;else if("displayWeekNumbers"===t)this._setMonthVal(t,a);else if("weekHeading"===t&&i.displayWeekNumbers)this._setMonthVal("weekTitle",a);else if("type"===t)n.modifiedAttr="type","popup"===i.type?(n.title.closeButton=i.closeButton,(i.forElement||i.offset)&&this._showPicker()):this._closeButton&&(n.title.closeButton=!1),"inline"===i.type&&(this._display(),this._isShown=!0);else if("selectionType"===t)this._resetValues(),d=!0;else if(-1<["todayButton","clearButton","hideCancelButton","immediateCommit","commandBar"].indexOf(t))this._setOKCancelBtns(),this._isBtns=this._isBtnsExist(),this._isBtns?(this._setBtnProps(),this._createButtons()):this._data.cBar=null,this._getBtnsArr().forEach(e=>{i[e+"Button"]||(this["_"+e]=null)}),n.modifiedAttr="commandBar";else if(-1<["todayButtonLabel","cancelButtonLabel","clearButtonLabel","OKButtonLabel"].indexOf(t)){let e=t.replace("Label",""),o=this._traverseBtns(e,void 0,void 0,!0),n=this["_"+e.replace("Button","")];o.text=o.customAttributes["aria-label"]=a,o.mainElement=n&&n.length?n[0]:void 0,"todayButton"===e?this._domChanged=!0:this._setBtnValue({text:a},o),this["_"+t]=a||this._getI18NText(t)}else if("draggable"===t)i.title&&i.draggable?(this._enableDrag=!0,n.modifiedAttr="title"):this.element.data("zdraggable")&&e.draggable(this.element).destroy();else if("monthToBeShownOnOpen"===t||"yearToBeShownOnOpen"===t){let e=-1<t.indexOf("month");this._setView(e?"month":"year",e),(this._minDate||this._maxDate)&&this._checkViewDate(this._viewDate),d=!0}else if(-1<["disabledDaysOfWeek","specialDaysOfWeek","specialDates","disabledDates"].indexOf(t)){-1<["disabledDates","specialDates"].indexOf(t)&&this._convertStringToObject({[t]:i[t]});let e=-1<t.indexOf("special");this._refreshClassNames(e?"zdatetimepicker--special":"is-disabled zdisabled",e?["specialDaysOfWeek","specialDates"]:["disabledDaysOfWeek","disabledDates"])}else if("disabledMonths"===t){if(-1<i.disabledMonths.indexOf(this._viewDate.getMonth()))o.find("td").addClass("is-disabled zdisabled").attr("aria-disabled",!0);else if(!l)this._monthDrillDownElement&&this._monthDrillDownElement.find("td").addClass("is-disabled").attr("aria-disabled",!0);else if(this._monthHeader){let t=e.select(this._monthHeader);t.setOptionAttributes(this._oldValue,"disabled",!1),t.setOptionAttributes(i.disabledMonths,"disabled",!0)}}else if("selectionLimit"===t&&"multiple"===i.selectionType){let e=this._selectedDates,t=this._opts.values,o=e.length;if(a===o||o>a){this._limitReached=!0,t.splice(a,t.length);let o=e.splice(a,e.length);for(let e=0,t=o.length;e<t;e++)this._setDateClass("is-selected",!1,this._getDateElem(o[e]),!0);e.length?(this._queryString=":not(",this._getQueryString(),this._setDateClass("is-disabled",!0,this.element.find(".zdatetimepicker__date,.zdatetimepicker__adjacentmonthdate").filter(this._queryString),!0)):(this._queryString="",d=!0),this._dispatchEvent("change",void 0,this._getSelectedValue())}else d=!0}else if("disabledYears"===t){if(-1<i.disabledYears.indexOf(this._viewDate.getFullYear()))d=!0;else if(!l)this._yearDrillDownElement&&this._yearDrillDownElement.find("td").addClass("is-disabled").attr("aria-disabled",!0);else if(this._yearHeader){let t=e.combobox(this._yearHeader);t.setOptionAttributes(this._oldValue,"disabled",!1),t.setOptionAttributes(i.disabledYears,"disabled",!0)}}else if("displayAdjacentMonthDates"===t)d=!0,n.modifiedAttr="adjacentMonthDates";else if("selectedDateMonthViewIndex"===t&&i.value)this._viewDate=new Date(i.value.getTime()),this._changeMonth(!1),d=!0;else if("allowSelectionOfAdjacentMonthDates"===t)this._setMonthVal("className"," zdatetimepicker--adjacentmonthdatereadonly",!a),this._domChanged=!0,n.modifiedAttr="adjacentMonthDates";else if("width"===t)a&&this.element.width(a);else if("height"===t)a&&this.element.height(a);else if("className"===t)this.element.removeClass(this._oldValue),a&&this.element.addClass(a);else if("offset"===t)this.element.css(a),s=!1;else if("margin"===t&&this._isShown){let e={left:parseInt(this.element.css("left")),top:parseInt(this.element.css("top"))};e=this._retrieveMarginValues(e),this.element.css(e)}else if("zclassName"===t&&this.isCE)this._oldValue&&this.element.removeClass(this._oldValue),this.element.addClass(a);else if("rtl"===t&&(this._monthHeader||this._yearHeader)){let t={rtl:a};this._monthHeader&&e.select(this._monthHeader).setAttributes(t),this._yearHeader&&e.combobox(this._yearHeader).setAttributes(t)}return this._reInit||(this._reInit=d),s}_refreshClassNames(e,t){let a=this,o=-1<e.indexOf("disabled"),n=this._opts,i=e.split(" ");for(let r=0,s;r<this._monthsPerView;r++){s=this._data.month[r].dates;for(let r=0,l=s.length,c;r<l;r++){c=s[r];for(let r=0,s=c.length;r<s;r++){let s=c[r],l=s.class;s.class=l.replace(i[0],"").replace(i[1],""),s.title=s.infoText="";let d=new Date(parseInt(s.time)),m=!!o&&!a._dateWithInRange(d),_;s.text&&(m||(_=this._shouldAddClass(d,t))||this._shouldAddClass(d,t,"multiple"===n.selectionType&&this._limitReached))&&("object"==typeof _&&(s.class+=_.className?" "+_.className:"",s.title=_.title||null,s.infoText=_.informativeText||n.specialDatesInformativeText||n.disabledDateInformativeText||null),s.class+=" "+e,!_&&!m&&(s.class=s.class.replace("zdisabled",""),-1<s.class.indexOf("is-selected")&&(s.class=s.class.replace("is-disabled",""))))}}}}_shouldAddClass(t,a,o){let n=e.Date.areDatesEqual.bind(e);for(let r=0,i=a.length,s;r<i;r++)if(s=o?this._oldOpts[a[r]]:this._opts[a[r]],s){if(-1<s.indexOf(t.getDay()))return!0;for(let a=0,o=s.length;a<o;a++){let o=s[a],i=o.date;if("object"==typeof o){if(i instanceof Date&&n(i,t))return!0;if(i){let e=new Date(+i.date);if(this._setYearAndMonth(e,t,o),n(e,t))return o}else if(o.startDate&&o.endDate){let a=["startDate","endDate"];for(let e=0;2>e;e++)a[e]=new Date(+o[a[e]].date),this._setYearAndMonth(a[e],t,o);if((e.Date.isGreater(t,a[0])||n(a[0],t))&&e.Date.isGreater(a[1],t))return o}}}}}_setYearAndMonth(e,t,a){a.repeatEveryYear&&e.setFullYear(t.getFullYear()),a.repeatEveryMonth&&e.setMonth(t.getMonth())}_convertStringToObject(e){for(let t in e){let a=e[t],o=this._opts,n=this._dateFormat;this._isNotNull(a)&&("string"==typeof a?e[t]=o[t]=this._parseDateValue(a,n):a instanceof Array&&(e[t]=o[t]=a.map(e=>{if("object"==typeof e&&!(e instanceof Date)){let t=e.date,a=this._checkDate.bind(this),o=this._parseVal.bind(this);return a(t,e)||a(t)||a(e.startDate)||a(e.endDate)?e:(t?e.date=o(t):e.startDate&&e.endDate&&(e.startDate=o(e.startDate),e.endDate=o(e.endDate)),e)}let a="disabledTimeList"==t,o=this._parseDateValue(e,a?this._timeFormat:n);return a?o.date.setSeconds(0,0):o.date.setHours(0,0,0,0),o})))}}_checkDate(e,t){return e=t?e:e?e.date:void 0,t=t||e,e&&e instanceof Date&&t.hasOwnProperty("isValid")}_parseVal(e){return e=this._parseDateValue(e&&e.hasOwnProperty("isValid")&&e.isValid&&e.date||e,this._dateFormat),e.date.setHours(0,0,0,0),e}_addUniqueClasses(e,t,a){let o=this._opts,n=t?t+" ":"",i=o.disabledMonths,r=o.disabledYears,s=!0,l;return l=this._shouldAddClass(e,["disabledDaysOfWeek","disabledDates"]),l||i&&-1<i.indexOf(e.getMonth())||r&&-1<r.indexOf(e.getFullYear())?n+="is-disabled zdisabled":l||a?s=!1:(l=this._shouldAddClass(e,["specialDaysOfWeek","specialDates"]),l&&(n+="zdatetimepicker--special")),s=l||s,s&&this._getCustomProps(s,n)}_getCustomProps(e,t){let a=t+" ",o,n,i;if("object"==typeof e){a+=e.className?" "+e.className:"",i=e.title||null;let n=this._opts.disabledDateInformativeText,r=this._opts.specialDatesInformativeText;(e&&e.informativeText||"boolean"==typeof e&&n||r)&&(-1<t.indexOf("is-disabled")&&n?o=n:-1<t.indexOf("zdatetimepicker--special")&&r?o=r:e&&e.informativeText&&(o=e.informativeText),o=o||void 0)}return n={class:a,infoText:o,title:i},n}_getTitleData(t){let a=this._opts,o=a.title,n=a.closeButton&&"inline"!==a.type,i={value:o&&a.isTitleHTMLEncoded?o:e.encodeHTML(o),closeButton:n,modifiedAttr:t?"title":null};return n?this._getCloseProps(i):i}_todayClickHandler(t,a){let o=e.keyCode;if("click"===t.type||"keydown"===t.type&&-1<[o.ENTER,o.SPACE].indexOf(t.keyCode)){this._today.removeClass("has-focus has-kfocus");let o=new Date(+this._viewDate),n=this._opts,i=0===this._viewMode,r,s;if(s=new Date,this._setHours(),r=this._viewDate,s.setHours(0,0,0,0),(!i||e.Date.areDatesEqual(r,o))&&i||(this._isDrilldown&&this._setViewMode(0,!0),this._buildData(!0)),a||this._dispatchEvent("todaybuttonclick",t,this._getSingleValue(r)),"navigate-and-select"===n.todayButtonAction){let e=this._getDateElem(s);e.hasClass("is-disabled")||(this._setDate(t,e,s),i&&n.closeOnDateSelect&&n.immediateCommit&&"single"===n.selectionType&&this._closePicker())}}}_fillYears(e){let t=this.element,o=this._viewMode,n;e&&e.type!==void 0&&(e.stopPropagation(),e.preventDefault(),n=e),this._monthDrillDownElement&&1===o||this._fillMonths(n),this._fireDrilldownEv(!0,n);let i=10*a(this._viewDate.getFullYear()/10),r=i+9;this._yearStart=i,this._monthDrillDownElement&&this._buildDrilldownView({view:"year",year:this._translateEToA(i+" - "+r),fn:["buildYearDecadeBody",i-1,r+2,1]},2,n),this._setViewMode(2,"boolean"==typeof e,t),this._fireDrilldownEv(!1,n,this._yearDrillDownElement)}_getYearClasses(e,t){let a=this._opts,o=a.disabledYears,n=" zdatetimepicker__year  zdatetimepicker"+(1===t||12===t?"__drilldownnearlevelcell":"__monthyeargrid"),i=this._minDate,r=this._maxDate,s=this._currentSelected&&this._currentSelected.getFullYear()===e,l=a.value;return(l&&l.getFullYear()===e&&s||s)&&(n+=" is-selected"),"multiple"===a.selectionType&&(a.values.length||this._selectedDates.length)&&(n+=this._addSelectClass("FullYear",e)),new Date().getFullYear()===e&&(n+=" zdatetimepicker--currentcell"),(1>e||i&&e<i.getFullYear()||r&&e>r.getFullYear()||o&&-1<o.indexOf(e))&&(n+=" is-disabled zdisabled"),n}_handleDecadeArrowClick(e){e.stopPropagation();let o=t(e.target),n=this._viewDate,i=e.currentTarget.getAttribute("id"),r=this._viewMode,s=2===r;if(!o.closest(".zdatetimepicker__navbutton").hasClass("is-disabled")){let t=s?"year":"decade",o=s?1:10,l,d,c,m,_;l=(-1<i.indexOf(this._elementId+"-right-month")?1:-1)*o,d=s?this._yearStart:this._decadeStart,d="number"==typeof d?d:n.getFullYear();let u=d+10*l;c="number"==typeof u?u:this._viewDate.getFullYear(),this._data.month[0][t+"Drilldown"].cells=null,m=a(c/(10*o))*(10*o),_=m+9*o,this._buildDrilldownView({view:t,year:this._translateEToA(m+" - "+_),fn:["buildYearDecadeBody",m-o,_+2*o,o],placeholder:s?"month":"year"},r,e),this._display(void 0,this["_"+t+"DrillDownElement"]),this["_"+(s?"year":"decade")+"Start"]=m,this._updateYearArrowState(r,m)}this._dispatchEvent((s?"decade":"century")+"change",e,{viewDate:this._viewDate,value:this._opts.value})}_generateYearDropdown(e){let t=this._yearDropdown,a=this._getYearDropdownOpts();e.yearSelect={id:this._elementId+"-year-header",acceptNewValues:!0,width:"82px",templateRender:!0,isCE:this.isCE,dropdownList:{width:99,height:330,className:"zdatetimepicker--menu"},selectedValue:a.selectedValue,mainElement:t?t[0]:null,options:a.yearJSON,rtl:this._opts.rtl,change:this._selectClickHandler.bind(this),allowDisabledOptionsForSelection:!0,search:{showNoResultsMessage:!1}}}_getYearDropdownOpts(){let t=this._opts,a=t.navigationBar,o=this._DEFAULTS.navigationBar,n=this._viewDate,i=new Date().getFullYear(),r=n.getFullYear(),s=this._minDate,l=this._maxDate,d=t.value,c=a.dropdownStartYear,m=a.dropdownEndYear,_=t.disabledYears,u=e.Date.convertOffsetToValue.bind(e),p=d?d.getFullYear():void 0,h,g,f;if(g=c,f=m,c=u((+c?o.dropdownStartYear:c).substring(9)),g=+g||i+c,m=u((+m?o.dropdownEndYear:m).substring(9)),f=+f||i+m,f<g){let e=g;g=f,f=e}if(d&&(f=p+m,g=p+c),s){let e=g,t=s.getFullYear();t>e&&(g=t,f<t&&(f=t+m))}else d&&g>p&&(g=p,f=p+m);l&&(f=l.getFullYear(),g=f<=g?(s||l).getFullYear():g);let b=[];for(let e=g;e<=f;e++)r===e&&(h=e),b.push({value:e,selected:r===e,disabled:l&&l.getFullYear()===e&&n.getMonth()>l.getMonth()||r!==e&&_&&-1<_.indexOf(e),label:e});return{selectedValue:h,yearJSON:b}}_setYearDropdownVal(t,a,o,n){let i=e.combobox(this._yearHeader),r=this._viewDate;if("minOrMax"===this._data.modifiedAttr){let e=this._getYearDropdownOpts().yearJSON;i.setAttribute("options",e)}o&&i.setOptionAttributes(o,"disabled",r.getMonth()>n),t&&i.setOptionAttributes(t,"disabled",r.getMonth()<a),i.setAttributes({selectedValue:r.getFullYear()})}_getYrNavBtnProps(e,t){e.lYearIcon||(e.lYearIcon=this._getIconProps(t,"fastbackward","previousYear","-left-year","prevYear")),e.rYearIcon||(e.rYearIcon=this._getIconProps(t,"fastforward","nextYear","-right-year","nextYear"))}_handleYearArrowClick(e){this._rowsCount=[];let a=this._opts,o=t(e.target),n=e.currentTarget.getAttribute("id"),i=a.navigationBar.yearNavigationStep,r;o.closest(".zdatetimepicker__navbutton").hasClass("is-disabled")||(r=this._elementId+"-right-",this._arrowClickHandler(-1<n.indexOf(r+"year")||-1<n.indexOf(r+"month")&&0<this._viewMode?i:-i,void 0,!0)),this._dispatchChangeEvent(e,"year",this._viewDate.getFullYear())}}e.registerComponent("ZDatePicker",ZDatePicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdatepicker.Templates,a=e.Templates.Utilities;t.WCChildren=o=>ZT.html`${"callout"===o.displayType&&ZT.html`<div class='zdatetimepicker__pointer'></div>`} ${o.title&&t.WCTitle(o.title)} ${1<o.monthsPerView?ZT.html`<ul class='zdatetimepicker__container'> ${e.iterateData(o.monthsPerView,(e,a)=>ZT.html`<li class='zdatetimepicker__list'> <div class='zdatetimepicker'> ${t.WCMonth(o.month[a])} ${t.WCDrilldownView(o.month[a])} </div> </li>`)} </ul>`:ZT.html`${t.WCMonth(o.month[0])} ${t.WCDrilldownView(o.month[0])} `} ${o.cBar&&!o.isCBar&&a.WCCommandBar(o.cBar)}`,t.WCDrilldownView=e=>ZT.html`${e.monthDrilldown&&t.WCDrilldown(e.monthDrilldown)} ${e.yearDrilldown&&t.WCDrilldown(e.yearDrilldown)} ${e.decadeDrilldown&&t.WCDrilldown(e.decadeDrilldown)} `,t.WCMonth=e=>ZT.html`<div class="zdatetimepicker__monthcontainer zdatetimepicker__days" ?style='${e.style}'> ${t.WCNavBar(e.navigationBar)} <div class="zdatetimepicker__calendar"> ${e.displayWeekNumbers&&t.WCWeekNumbers(e)} <table role="grid" class=${e.className}> <thead> <tr role='row' class='zdatetimepicker__week'> ${e.days.map(e=>ZT.html`<th class=${e.class}>${e.value}</th>`)} </tr> </thead> <tbody> ${e.dates.map(e=>ZT.html`<tr> ${e.map(e=>ZT.html`<td role='gridcell' ?class='${e.class}' ?data-time='${e.time}' ?title='${e.title}'> <span class='zdatetimepicker__text'>${e.text} </span> ${e.infoText&&ZT.html`<span class='zdatetimepicker__secondaryinfo'>${e.infoText}</span>`} </td>`)}`)} </tbody> </table> </div> </div>`;let o=e.zbutton.Templates.WCContainer;t.WCNavBar=t=>ZT.html`<div class="zdatetimepicker__navbar ${t.class}"> ${t.isLMonthYear&&t.isSplit?ZT.html`<div class="zdatetimepicker__leftnav"> ${t.lYear&&o(t.lYearIcon)} ${t.lMonth&&o(t.lMonthIcon)} </div>`:""} ${t.monthSelect&&!t.month&&(t.yrFirst?e.createComboBox(t.yearSelect):e.createSelect(t.monthSelect))} ${t.isMonthYearNav&&ZT.html`<div class="zdatetimepicker__monthyearnav ${t.cursorCls}"> ${t.month&&ZT.html`<span class='zdatetimepicker__monthnav'> ${t.month} </span>`} ${t.year&&ZT.html`<span class='zdatetimepicker__yearnav'> ${t.year} </span>`} </div>`} ${t.yearSelect&&!t.year&&(t.yrFirst?e.createSelect(t.monthSelect):e.createComboBox(t.yearSelect))} ${t.isRMonthYear?ZT.html`<div class="zdatetimepicker__rightnav"> ${!t.isSplit&&t.lYear&&o(t.lYearIcon)} ${!t.isSplit&&t.lMonth&&o(t.lMonthIcon)} ${t.rMonth&&o(t.rMonthIcon)} ${t.rYear&&o(t.rYearIcon)} </div>`:""} </div > `,t.WCDrilldown=e=>ZT.html`<div class='zdatetimepicker__${e.view}drilldown zdatetimepicker__monthcontainer' ?style='${e.style}'> ${t.WCNavBar(e.navigationBar)} ${e.cells&&ZT.html`<div class="zdatetimepicker__drilldownview"> <table role="grid" class="zdatetimepicker__drilldowncell"> <tbody> ${e.cells.map(e=>e.isTr?ZT.html`<tr role='row'>`:ZT.html`<td role='gridcell' class='${e.class}' data-value="${e.attr}">${e.value}</td>`)} </tbody> </table> </div> </div>`}`,t.WCTitle=t=>ZT.html`${t.value&&ZT.html`<div class='zdatetimepicker__titlebar' role='heading'> <span class='zdatetimepicker__title'>${ZT.customHTML(t.value)}</span> ${t.closeButton&&e.zbutton.Templates.WCContainer(t.closeSVGProps)} </div>`}`,t.WCWeekNumbers=e=>ZT.html`<table role='grid' class='zdatetimepicker__weeknumbers'> <thead> <tr role="row"> <th class="zdatetimepicker__weeknumber">${e.weekTitle}</th> </tr> </thead> <tbody> ${e.weekNumbers.map(e=>ZT.html`<tr role="row"><td role="gridcell" class="zdatetimepicker__weeknumber">${e}</td></tr>`)} </tbody> </table>`}(ZComponents),function(e){let t=e.zdatepicker.Templates,a=e.Templates.Utilities;t.children=o=>ZT.html`${"callout"===o.displayType&&ZT.html`<div class='zdatetimepicker__pointer'></div>`} ${o.title&&t.title(o.title)} ${1<o.monthsPerView?ZT.html`<ul class='zdatetimepicker__container'> ${e.iterateData(o.monthsPerView,(e,a)=>ZT.html`<li class='zdatetimepicker__list'> <div class='zdatetimepicker'> ${t.month(o.month[a])} ${t.drilldownView(o.month[a])} </div> </li>`)} </ul>`:ZT.html`${t.month(o.month[0])} ${t.drilldownView(o.month[0])} `} ${o.cBar&&!o.isCBar&&a.commandBar(o.cBar)}`,t.drilldownView=e=>ZT.html`${e.monthDrilldown&&t.drilldown(e.monthDrilldown)} ${e.yearDrilldown&&t.drilldown(e.yearDrilldown)} ${e.decadeDrilldown&&t.drilldown(e.decadeDrilldown)} `,t.month=e=>ZT.html`<div class="zdatetimepicker__monthcontainer zdatetimepicker__days" ?style='${e.style}'> ${t.navBar(e.navigationBar)} <div class="zdatetimepicker__calendar"> ${e.displayWeekNumbers&&t.weekNumbers(e)} <table role="grid" class=${e.className}> <thead> <tr role='row' class='zdatetimepicker__week'> ${e.days.map(e=>ZT.html`<th class=${e.class}>${e.value}</th>`)} </tr> </thead> <tbody> ${e.dates.map(e=>ZT.html`<tr> ${e.map(e=>ZT.html`<td role='gridcell' ?class='${e.class}' ?data-time='${e.time}' ?title='${e.title}'> <span class='zdatetimepicker__text'>${e.text} </span> ${e.infoText&&ZT.html`<span class='zdatetimepicker__secondaryinfo'>${e.infoText}</span>`} </td>`)}`)} </tbody> </table> </div> </div>`;let o=e.zbutton.Templates.container;t.navBar=t=>ZT.html`<div class="zdatetimepicker__navbar ${t.class}"> ${t.isLMonthYear&&t.isSplit?ZT.html`<div class="zdatetimepicker__leftnav"> ${t.lYear&&o(t.lYearIcon)} ${t.lMonth&&o(t.lMonthIcon)} </div>`:""} ${t.monthSelect&&!t.month&&(t.yrFirst?e.createComboBox(t.yearSelect):e.createSelect(t.monthSelect))} ${t.isMonthYearNav&&ZT.html`<div class="zdatetimepicker__monthyearnav ${t.cursorCls}"> ${t.month&&ZT.html`<span class='zdatetimepicker__monthnav'> ${t.month} </span>`} ${t.year&&ZT.html`<span class='zdatetimepicker__yearnav'> ${t.year} </span>`} </div>`} ${t.yearSelect&&!t.year&&(t.yrFirst?e.createSelect(t.monthSelect):e.createComboBox(t.yearSelect))} ${t.isRMonthYear?ZT.html`<div class="zdatetimepicker__rightnav"> ${!t.isSplit&&t.lYear&&o(t.lYearIcon)} ${!t.isSplit&&t.lMonth&&o(t.lMonthIcon)} ${t.rMonth&&o(t.rMonthIcon)} ${t.rYear&&o(t.rYearIcon)} </div>`:""} </div > `,t.drilldown=e=>ZT.html`<div class='zdatetimepicker__${e.view}drilldown zdatetimepicker__monthcontainer' ?style='${e.style}'> ${t.navBar(e.navigationBar)} ${e.cells&&ZT.html`<div class="zdatetimepicker__drilldownview"> <table role="grid" class="zdatetimepicker__drilldowncell"> <tbody> ${e.cells.map(e=>e.isTr?ZT.html`<tr role='row'>`:ZT.html`<td role='gridcell' class='${e.class}' data-value="${e.attr}">${e.value}</td>`)} </tbody> </table> </div> </div>`}`,t.title=t=>ZT.html`${t.value&&ZT.html`<div class='zdatetimepicker__titlebar' role='heading'> <span class='zdatetimepicker__title'>${ZT.customHTML(t.value)}</span> ${t.closeButton&&e.zbutton.Templates.container(t.closeSVGProps)} </div>`}`,t.weekNumbers=e=>ZT.html`<table role='grid' class='zdatetimepicker__weeknumbers'> <thead> <tr role="row"> <th class="zdatetimepicker__weeknumber">${e.weekTitle}</th> </tr> </thead> <tbody> ${e.weekNumbers.map(e=>ZT.html`<tr role="row"><td role="gridcell" class="zdatetimepicker__weeknumber">${e}</td></tr>`)} </tbody> </table>`}(ZComponents),function(e,t){var a=Math.min,o=Math.max;class ZDateTimePicker extends e.ZDatePicker{get name(){return"zdatetimepicker"}get props(){return{timeLabelIconClassName:null,fixedTimeOptions:[],disabledTimeList:[],labels:{timeLabel:"Time"},closeOnDateSelect:!1}}get attrs(){return{timeMultipleSelectBoxType:"h-m-t",timeFieldType:"input",timeLabelType:"icon",timeLabel:null,timeLabelIconClass:null,timeLabelSVGIconId:null,hourStep:1,minTime:null,maxTime:null,format:"dd/MM/yyyy, hh:mm tt",minuteStep:5,className:"",defaultTime:null}}get EVENTS(){return["hourchange","minutechange","periodchange","timechange"]}_init(){return this._checkTime=!0,super._init(...arguments),!0}_validateFormat(){let e=this._opts.format;this._invalidFormat=!(-1<e.indexOf("d")&&(-1<e.indexOf("h")||-1<e.indexOf("H")))}_getTimeSettings(){let e={},t=this._opts;["timeFieldType","timeMultipleSelectBoxType","minTime","maxTime","hourStep","minuteStep","timeLabelType","fixedTimeOptions","disabledTimeList","rtl"].forEach(a=>e[a]=t[a]),e.timeLabel=t.timeLabel||this._getI18NText("timeLabel"),e.isCE=this.isCE,e.templateRender=!0,e.format=this._timeFormat,e.viewDate=this._viewDate,e.id=this._elementId+"-timeinput",e.timechange=this._changeHandler.bind(this);let a=this;["period","hour","minute"].forEach(t=>{t+="change",e[t]=function(e){a._dispatchEvent(t,e,e.detail)}}),e.className=" zdatetimepicker__timebar zh-align"+(3===this._monthsPerView&&this._isBtnsExist()?"left"===t.buttonsAlignment?"right":"left":"center");let o=t.value||t.defaultTime;o&&(e.selectedTime=new Date(+o)),this._data.timeProps=e}_changeHandler(t){let a=t.detail,o=a.selectedTime;a.fromUI&&(this._selectedTime=o,"multiple"===this._opts.selectionType&&this._setTimeForMultiple(o),this._triggerChange(t),this._dispatchEvent("timechange",t,{...this._getSelectedValue(),selectedTime:o,selectedTimeString:e.Date.formatDate(o,this._timeFormat)}))}_validateOpts(){super._validateOpts();let e=this._opts;if(["hourStep","minuteStep"].forEach(t=>{e[t]=0<+e[t]?e[t]:1}),!(e.minTime||e.value||e.values.length)&&e.defaultTime){let t=this._getDateVal(e.defaultTime);e.defaultTime=t,this._viewDate.setHours(t.getHours(),t.getMinutes(),0,0)}else e.defaultTime=null}_setFormat(){let e=this._opts.format,t=o(e.indexOf("h"),e.indexOf("H")),n=a(a(e.indexOf("d"),e.indexOf("M")),e.indexOf("y")),i,r;this._is12HourFormat=-1<e.indexOf("h"),t>n?(this._timeFormat=e.substring(t),e=e.replace(this._timeFormat,""),i=o(o(e.lastIndexOf("d"),e.lastIndexOf("M")),e.lastIndexOf("y")),r="_date"):(this._dateFormat=e.substring(n),e=e.replace(this._dateFormat,""),i=o(e.lastIndexOf("m"),e.lastIndexOf("t")),r="_time"),this[r+"Format"]=e.substring(0,i+1)}_buildData(e){super._buildData(),this._doNotBuildTime||this._buildTimeElem(),this._data.isCBar=!0,e&&this._render(),this._doNotBuildTime=void 0}_buildTimeElem(){let e,t;(this._minDateHasTime||this._maxDateHasTime)&&(e=this._checkToUnSetVal("_minTime"),t=this._checkToUnSetVal("_maxTime")),this._getTimeSettings(),(e||t)&&this._setMinMaxVal(e,t)}_addTripleCls(){let e=this._data;3===this._monthsPerView&&Object.keys(e.cBar).length?0>e.className.indexOf("zdatetimepicker--triplecalendar")&&(e.className+=" zdatetimepicker--triplecalendar"):e.className=e.className.replace(/zdatetimepicker--triplecalendar/g,"")}_postRender(){super._postRender(...arguments),this._timeInstance=e.timeinput(t("#"+this._elementId+"-timeinput")),this._selectedTime=this._timeInstance.getAttribute("value")}_postEachRender(e,t){let a=!t.rendered,o=t.modifiedAttr;(a||-1<["commandBar, monthsPerView"].indexOf(o))&&this._isBtnsExist()&&this._addTripleCls(),super._postEachRender(...arguments)}_setSelectedTime(){let e=this._minTime,t=this._selectedTime=e?new Date(+e):void 0;return this._timeInstance.setAttribute("viewDate",new Date(+t)),t}_setValue(e){let t=super._setValue(e,!1);this._setTimeValues(void 0,!0),this._doNotBuildTime=!0,t&&this._buildData(!0)}_triggerChange(e){let t=this._opts;t.immediateCommit&&(this._currentSelected||this._selectedDates.length)&&this._OKClickHandler(e,!0,t.closeOnDateSelect)}_OKClickHandler(){if(!this._selectedTime){let e=this._timeInstance.getAttribute("value");e||(e=new Date(this._minTime||new Date().setHours(0,0,0,0)),this._timeInstance.setTime(e)),this._viewDate.setHours(e.getHours(),e.getMinutes(),0,0),this._selectedTime=new Date(+e)}this._currentSelected||this._selectedDates.length||this._setSelectedTime(),super._OKClickHandler(...arguments)}_updateValues(){super._updateValues();let e=this._opts,t=this._setTimeValues.bind(this);this._timeInstance.setAttribute("valueUpdate",this._valueUpdate),this._valueUpdate?this._valueUpdate&&!e.immediateCommit&&t():"multiple-select-box"===e.timeFieldType?(this._timeInstance.update(),t(!0,!0)):t()}_clearValues(e,t){t||super._clearValues(e),this._timeInstance.clearTime(),this._timeInstance.refresh()}_setDate(a,o,n){let i=this._opts;"single"===i.selectionType&&(this._viewDate=new Date(+n)),(this._minDateHasTime||this._maxDateHasTime)&&this._setBoundaryValuesForTimeInput(),this._selectedTime=e.timeinput(t("#"+this._elementId+"-timeinput")).getAttribute("selectedTime"),super._setDate(a,o,"single"===i.selectionType?this._viewDate:n),0===this._selectedDates.length&&"multiple"===i.selectionType&&this._setTimeValues()}_resetValues(){this._valueReset=!0,super._resetValues(!0);let e,t;(this._minDateHasTime||this._maxDateHasTime)&&(e=this._checkToUnSetVal("_minTime"),t=this._checkToUnSetVal("_maxTime")),this._minTime&&this._viewDate.setHours(this._minTime.getHours(),this._minTime.getMinutes(),0,0),(e||t)&&this._setMinMaxVal(e)}_setTimeValues(e,t,a){let o=this._opts,n=this._viewDate,i,r;!a&&(this._minDateHasTime||this._maxDateHasTime)&&(i=this._checkToUnSetVal("_minTime"),r=this._checkToUnSetVal("_maxTime"));let s=!1===t?void 0:"single"===o.selectionType||o.value?n:o.values.length?this._getDateVal(o.values[0],o.format):void 0,l;s&&!e&&(l=new Date(n.getTime()),l.setHours(n.getHours(),n.getMinutes(),0,0)),this._timeInstance.setAttribute("valueUpdate",this._valueUpdate),this._timeInstance.setTime(l),(i||r)&&this._setMinMaxVal(i,r)}_getDateVal(t){return e.Date.parseDate(t,this._timeFormat).date}_destroy(){let e=this._input;e&&e.length&&this.isCE&&e.remove(),this._timeInstance.destroy(),super._destroy(),this._timeInstance=void 0,this._footer=this._input=void 0}_clearClickHandler(e,a){(!e||t(e.target).closest(this._clear).hasClass("is-disabled"))&&e||(super._clearClickHandler(e,!0),this._clearValues(e,!0),!a&&this._dispatchEvent("clear",e,{valuesObject:[],values:[],options:this._opts}))}_setBoundaryValuesForTimeInput(){let e=this._checkToUnSetVal("_minTime"),t=this._checkToUnSetVal("_maxTime"),a=this._checkLimitValues();this._viewDate.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0),this._resetTimeVal(),a.setMin?(this._timeInstance.setAttribute("minTime",void 0),this._timeInstance.refresh()):a.setMax?(this._timeInstance.setAttribute("maxTime",void 0),this._timeInstance.refresh()):(this._timeInstance.setAttribute("minTime",this._minTime),this._timeInstance.setAttribute("maxTime",this._maxTime)),(e||t)&&this._setMinMaxVal(e,t)}_resetTimeVal(){let e=this._resetToToday.bind(this),t=e(new Date(+this._viewDate)),a=e(this._minTime?new Date(+this._minTime):void 0),o=e(this._maxTime?new Date(+this._maxTime):void 0);a&&t&&+t<+a&&(t=new Date(+a)),o&&t&&+t>+o&&(t=new Date(+o)),this._viewDate.setHours(t.getHours(),t.getMinutes(),0,0),this._selectedTime=new Date(+this._viewDate),this._timeInstance.setAttribute("viewDate",this._viewDate)}_resetToToday(e){if(e){let t=new Date;e.setDate(t.getDate()),e.setMonth(t.getMonth()),e.setFullYear(t.getFullYear())}return e}_checkLimitValues(){let t=new Date(this._viewDate.getTime()),a=this._minDate,o=this._maxDate,n=e.Date.areDatesEqual.bind(e);return t.setHours(0,0,0,0),this._minDateHasTime||this._maxDateHasTime?{setMin:a&&!n(a,t),setMax:o&&!n(o,t)}:{}}_checkToUnSetVal(e){let t=this[e],a="set"+("_minTime"===e?"Min":"Max"),o=t?new Date(t.getTime()):void 0,n=this._checkLimitValues();return n[a]&&t&&(this["_"+a]=!0,this[e]=void 0),o}_setMinMaxVal(e,t){this._setMin&&e&&(this._minTime=new Date(e.getTime())),this._setMax&&t&&(this._maxTime=new Date(t.getTime())),this._setMin=this._setMax=void 0}_setTimeForMultiple(e){let t=this._selectedDates;if("multiple"===this._opts.selectionType)for(let a=0;a<t.length;a++)t[a].setHours(e.getHours(),e.getMinutes(),0,0)}_setAttribute(e,t,a=this.element){let o=this._opts,n=!0;if(0>["minTime","maxTime","timeFieldType"].indexOf(e)&&(o[e]=t),-1<["timeFieldType","timeLabelType","timeLabel","timeMultipleSelectBoxType","minTime","maxTime","hourStep","minuteStep","disabledTimeList","fixedTimeOptions"].indexOf(e)){let a=t instanceof Date;if(-1<["minTime","maxTime"].indexOf(e)&&(t?this["_"+e]=a?new Date(+t):this._getDateVal(t):this["_"+e]=null),this._opts[e]=t,this._buildTimeElem(),this.isCE){let t=this._timeInstance._opts[e];this._timeInstance._opts=this._data.timeProps,this._timeInstance._opts[e]=t}this._timeInstance.setAttribute(e,t)}else n=super._setAttribute(e,t,a);-1<["monthsPerView","commandBar","immediateCommit"].indexOf(e)?this._isBtnsExist()&&this._addTripleCls():"format"===e?(this._validateFormat(),!this._invalidFormat&&this._timeInstance.setAttribute("format",t)):"rtl"==e&&this._timeInstance.setAttribute(e,t),this._domChanged=n}}e.registerComponent("ZDateTimePicker",e.ZDatePicker,ZDateTimePicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdatetimepicker.Templates,a=e.zdatepicker.Templates,o=e.Templates.Utilities;t.WCChildren=t=>ZT.html`${a.WCChildren(t)} ${e.createTimeInput(t.timeProps)} ${t.cBar&&o.WCCommandBar(t.cBar)}`}(ZComponents),function(e){let t=e.zdatetimepicker.Templates,a=e.zdatepicker.Templates,o=e.Templates.Utilities;t.children=t=>ZT.html`${a.children(t)} ${e.createTimeInput(t.timeProps)} ${t.cBar&&o.commandBar(t.cBar)}`}(ZComponents),function(e,t){class ZDateInput extends e.ZInputField{get name(){return"zdateinput"}get attrs(){return{placeholderType:"date-format",jumpOnComplete:!0,locale:"en-US",spinButtonsOrientation:"vertical",incrementOnWrapAround:!0}}get props(){return{otherInputFormats:[]}}_postRender(){if(!this._invalidFormat){super._postRender(...arguments);let t=this._opts,a=t.value,o=["value","min","max"],n=this._input;"ar"===t.locale&&n.addClass("zh-bidioverride"),a&&(this._viewDate=new Date(a.getTime()));for(let a=0,i;a<o.length;a++)i=o[a],t[i]&&n.attr("aria-value"+("value"===i?"now":i),e.Date.formatDate(t[i],t.format));this._updateElementValue()}}_postEachRender(e,t){let a=this._data.modifiedAttr;t.isVertical||a&&!(-1<a.indexOf("spinButtons"))||(this._data.className+=" zdatetimefield"),super._postEachRender(),this._data.rendered||this._disableSpinBtns()}_init(t,a){let o=this._opts;this._format=o.format,this._setFormat(),super._init(t,a),this._performValidations(),this._oldDateValue=new Date(this._viewDate.getTime()),this._isInit=void 0;let n=o.labels,r=e.localeInfo[o.locale];if(r){let e=["days","daysAbbreviated","monthsAbbreviated","months"];for(let t=0,a=e.length;t<a;t++)n[e[t]]=r[e[t]]||n[e[t]]}}_disableSpinBtns(){let e=this._opts,t=this._buttonPane;"none"!==e.spinButtons&&(t.find(".zh-down")[(e.min&&+e.value==+e.min?"add":"remove")+"Class"]("is-disabled"),t.find(".zh-up")[(e.max&&+e.value==+e.max?"add":"remove")+"Class"]("is-disabled"))}_setFormatVal(t,a,o){let n=this._format,i=this._opts,r=t.test(n),s=i.labels,l=i.locale,d=e.localeInfo[l];if(r){let e=["days","daysAbbreviated","months","monthsAbbreviated"];for(let t=0;t<e.length;t++)s[e[t]]=d[e[t]];if(-1<a.indexOf("time")){let e=["AM","PM"];for(let t=0;t<e.length;t++)s[e[t]]=d[e[t]]||this._DEFAULTS.labels[e[t]]}let t=n.split("-");t[0]===a&&(n=n.replace(a,("datetime"===a?"dateTime":a)+"Format")),t=n.split("-");let r=d[t[0]];n=r[t[1]],i.format=d&&r&&n?n:o}}_performValidations(e,t){let a=this._opts;this._validateStep(e),this._validateFormat(),this._validateOptions();let o=this._compareDates.bind(this);o(a.max,a.min)&&(a.max=void 0),o(a.max,a.value)&&(a.value=a.max),o(a.value,a.min)&&(a.value=a.min),this._setBoolValue(t,!0,"Modified"),this._checkForModification(a.value)}_validateOptions(){let e=this._opts,t=["min","max","value"],a;for(let o=0,n=t.length,i;o<n;o++)i=t[o],a=e[i],a&&(e[i]="string"==typeof a?this._getStringValue(a,e):a instanceof Date?a:void 0),"value"===i&&(this._viewDate=e[i]?new Date(e[i].getTime()):this._resetViewDate())}_getStringValue(e,t){let a=t.format;if("TODAY"===e||"NOW"===e)return new Date;let o=this._parseDateValue(e,a);return 0>a.indexOf("h")&&0>a.indexOf("H")&&o&&o.isValid&&o.date.setHours(0,0,0,0),o&&o.isValid?o.date:void 0}_resetViewDate(){let e=new Date(new Date().getFullYear(),0,1,0,0,0),t=this._compareDates.bind(this),a=this._opts,o=a.min,n=a.max;return o&&t(e,o)?new Date(+o):n&&t(n,e)?new Date(+n):e}_selectText(e){let t=this._dateFormat;this._oldSegment=this._currentSegment;let a=t.lastIndexOf(e)+1,o=t.indexOf(e);0>o&&(o=0),this._currentSegment=e,"none"!==this._opts.spinButtons&&this._addDisabledClass(e),this._selectCaretPosition(this._input[0],o,a)}_compareDates(e,t){if(e&&t)return e.getTime()<t.getTime()}_parseDateValue(t,a){return e.Date._parseDateValue(t,a,this._opts.otherInputFormats)}_selectCaretPosition(e,t,a){let o=void 0!==t;if(void 0===a&&(a=t),!(o&&e.disabled)){try{void 0!==e.selectionStart&&(o?(!this._isInit&&!this._bodyClick&&e.focus(),e.setSelectionRange(t,a)):t=[e.selectionStart,e.selectionEnd])}catch(t){throw t}return t}}_bindEvents(){if(!this._invalidFormat){this._bindButtonEvents();let t=e.Browser.isIE&&9===e.Browser.getIEVersion(),a=e.Browser.isFirefox?"click":"mouseup";this._addEvents({containerMouseUp:a},this.container);let o=t?"keyup":"input",n=t?"blur":"focusout",i={focus:"focus",mouseup:a,keyUp:o,change:"change",keydown:"keydown",spinKeyup:"keyup",focusOut:n,paste:"paste"};i.mouseWheel="mousewheel DOMMouseScroll MozMousePixelScroll",this._addEvents(i,this._input),this._input.on("contextmenu."+this.name,e=>e.preventDefault())}}_bindButtonEvents(){("focus"===this._opts.clearButton||"focus"===this._opts.spinButtons)&&this._addEvents({mouseEnter:"mouseenter",mouseLeave:"mouseleave"},this.container)}_checkFormat(e){this._invalidFormat=e.test(this._opts.format)}_destroy(){let t=this._clearButton,a=this.name;e.$window.off(`keyup.${a} keydown.${a}`),this.container.find(".zh-up,.zh-down").off(`mousedown.${a} mouseup.${a}`),t&&t.off(`mousedown.${a} mouseup.${a}`),super._destroy(),this._buttonPane=this._keyUp=this._keyUpTime=this._isFastInput=void 0}getValue(){return{dateObject:this._opts.value,dateString:this._opts.value?this._input[0].value:void 0}}_checkForModification(e){let t=this._opts.format;for(let a=0;a<t.length;a++)this._isPartModified(t[a],!!e)}setValue(e){e?(this._validateValue("value",e),this._viewDate=this._checkMinMaxLimit(this._viewDate),this._checkForModification(this._viewDate),this._updateElementValue()):(this._clearActionHandler(),this._input[0].setSelectionRange(0,0)),this.container.hasClass("has-focus")||this._input.trigger("change")}formatDate(t,a){return e.Date.formatDate(t,a||this._opts.format)}parseDate(e,t){return this._parseDateValue(e,t||this._opts.format)}_resetValues(e,t){if(!isNaN(t)&&-1<["y","H","m","s"].indexOf(e)){this._viewDate[`set${{y:"FullYear",H:"Hours",m:"Minutes",s:"Seconds"}[e]}`](0)}}_validateValue(t,a){let o=!0,n=this._opts,i=n.format;return"string"==typeof a?n[t]=this._getStringValue(a,n):a instanceof Date?n[t]=a:(o=!!this._oldValueOption,n[t]=void 0),a=n.value,0>i.indexOf("h")&&0>i.indexOf("H")&&a?a.setHours(0,0,0,0):a&&a.setHours(a.getHours(),a.getMinutes(),0>i.indexOf("s")?0:a.getSeconds(),0),"value"===t&&(a&&(this._viewDate=new Date(a.getTime())),this._hasPicker&&e[this._pickerMethods.instance](this._picker).setValue(a)),o}_windowKeyupHandler(t){(t.keyCode===e.keyCode.TAB&&t.shiftKey||this._reverseShiftKey)&&!this._reverseFocusset?(this._reverseFocusset=this._focusout=!0,this._selectText(this._dateFormat.slice(-1))):(t.keyCode===e.keyCode.TAB||this._tabKey)&&!this._focusset&&(this._focusset=this._focusout=!0,e.OS.isLinux()&&this._input[0].setSelectionRange(0,0),this._mouseupHandler()),e.$window.off(`keyup.${this.name} keydown.${this.name}`)}_updateElementValue(){let e=this._getRegEx(),t=this._opts.format;this._retursFormat=!1;let a=t.replace(e,this._replaceMatchedText.bind(this));this._retursFormat=!0,this._dateFormat=t.replace(e,this._replaceMatchedText.bind(this)),this._oldValue=this._input[0].value=a,this._opts.value=this._getDateValue()?new Date(this._viewDate.getTime()):void 0}_windowKeydownHandler(t){let a=e.keyCode.TAB,o=t.keyCode;this._reverseShiftKey=o===a&&t.shiftKey,this._tabKey=o===a}_focusTimeoutHandler(){this._addEvents({windowKeydown:"keydown",windowKeyup:"keyup"},e.$window)}_toggleBtnDisplay(e,t,a,o){let n=e,i=this._showOrHideBtn.bind(this);t&&((null===n||o)&&(n=this._checkForPartModification()),("mouseleave"===o||!o&&"focus"===this._opts.clearButton)&&!this.container.hasClass("has-focus")&&(n=!0),this._clearBtnShown=!n),n===e?i(...arguments):(t&&i(n,!0),a&&i(e))}_showOrHideBtn(e,t,a){let o=(t?"zinputfield--withclrbtn":"")+(a||!t?(t?e?"|":" ":"")+"zinputfield--spinbtnonfocus":"");e?this._updateClass("",o):this._data.className+=" "+o,super._toggleBtnDisplay(...arguments)}_spinTimeoutHandler(e){this._changeHandler(e,"spin")}_setBoolValue(e,t,a){for(let o=e.length;0<=--o;)this["_"+e[o]+(a||"")]=t}_focusOutHandler(a){if(this._hasPicker){let e=t(a.relatedTarget);if(e&&e.is(".zselectbox"))return}let o=this._opts;this._setBoolValue(["focusset","longPress","reverseFocusset","reverseShiftKey","tabKey"],!1),this._focusout=!0,window.getSelection().removeAllRanges(),this._viewDate=this._checkMinMaxLimit(this._viewDate,void 0,void 0,!1),this.container.removeClass("has-focus"),this._disableSpinBtns(),this._updateElementValue(),e.Browser.isIE||e.Browser.isSafari||e.OS.isLinux||(this._input[0].selectionStart=0),this._checkForChange(a,"change"),this._checkButtonsOptn("focus"===o.clearButton,"focus"===o.spinButtons,"hide","add","focusOut"),this._changeHandler(a,"blur"),this._isCleared=!1}_validateStep(e){for(let t=0,a=e.length;t<a;t++)0>=+this._opts[e[t]]&&(this._opts[e[t]]=1)}_focusHandler(e){let t=this._opts;return!t.disabled&&void(this.container.addClass("has-focus"),this._input[0].setSelectionRange(0,0),this._focusTimeout=setTimeout(this._focusTimeoutHandler.bind(this),10),!t.readonly&&this._checkButtonsOptn("focus"===t.clearButton,"none"!==t.spinButtons),this._clearBtnShown=!1,clearTimeout(this._clearButtonTimeout),this._clearButtonTimeout=setTimeout(this._isClearVisible.bind(this),1e3),this._changeHandler(e,"focus"))}_checkButtonsOptn(e,t,a,o,n){let i=this._clearButton;o=(o||"remove")+"Class",e&&("focusOut"!==n&&i&&this._toggleBtnDisplay(null,!0,null,n),a&&this._toggleBtnDisplay("hide"===a,!0)),t&&this._buttonPane&&(this._toggleBtnDisplay("hide"===a,!1),this._opts.calendarIcon&&this.container[o]("zdatetimefield--buttonsonhover"),i&&i[o]("zh-right"))}_mouseEnterHandler(){let e=this._opts;document.activeElement===this._input[0]||e.readonly||e.disabled||this._checkButtonsOptn("focus"===e.clearButton,"focus"===e.spinButtons,null,null,"mouseenter")}_addEffect(){this._input.addClass("zeffects--skew"),clearTimeout(this._effectTimeout),this._effectTimeout=setTimeout(this._effectTimeoutHandler.bind(this),1e3)}_effectTimeoutHandler(){this._input.removeClass("zeffects--skew")}_getSegment(){let e=this._input[0];this._segment=this._checkForSegment(e.selectionStart,e.selectionEnd-1)}_getPlaceholder(e){switch(this._opts.placeholderType){case"date-format":return e;case"date-format-in-upper":return e.toUpperCase();case"date-format-in-lower":return e.toLowerCase();case"underscore":return Array(e.length+1).join("_ ");case"custom":return this._getCustomMatch(e);}}_addDisabledClass(e){let t=this._opts,a=["down","up"],o=[-1,1];if(t.value)for(let n=0,i;n<a.length;n++)i=this._modifyPartValue(e,o[n],!0),this._getDisabledValue(t.min,t.max,o[n],i)||this.container.find(`.zh-${a[n]}`).removeClass("is-disabled")}_getDisabledValue(e,t,a,o){let n=this._updateDisabledState.bind(this),i;return i=e&&-1===a?n(e,o,void 0,a):void 0,i||(i=t&&1===a?n(t,o,!0,a,i):void 0),i}_checkPart(e){let t=this["_get"+(-1<this.name.indexOf("date")?"Date":"Time")+"Parts"]();return t[e]&&this[`_${t[e]}Modified`]}_checkForPartModification(){let e=[],t=0,a=this._opts.format,o=!1;for(let o=0;o<a.length;o++)e[t++]=this._checkPart(a[o]);for(;0<=--t;)if(e[t]){o=!0;break}return this._isClearVisible(),!o}_parseValue(e,t){if(!t)return this._isPartModified(e,!1),!0;let a=new Date(this._viewDate.getTime());return this._parseSegment(e,t,a),this._viewDate=a,!0}_updateDisabledState(e,t,a,o,n){let i=this.container.find(`.zh-${1===o?"up":"down"}`),r=t.getTime(),s,l;return e&&(!this._checkTime&&e.setHours(0,0,0,0),s=e.getTime()),l=a&&e?r>=s:r<=s,e&&l?(i.addClass("is-disabled"),!0):n}_containerMouseUpHandler(e){let a=t(e.target);(a.closest(".zdatetimefield__icon").length||a.closest(".zdatetimefield__iconbutton").length)&&(e.preventDefault(),this._currentSegment?this._selectText(this._currentSegment):(this._selectCaretPosition(this._input[0],0,0),this._mouseupHandler()))}_mouseLeaveHandler(){let e=this._opts,t=this._clearButton,a=this._buttonPane;document.activeElement!==this._input[0]&&("focus"===e.spinButtons&&(a&&this._toggleBtnDisplay(!0),t&&t.addClass("zh-right"),e.calendarIcon&&this.container.addClass("zdatetimefield--buttonsonhover")),"focus"===e.clearButton&&t&&this._toggleBtnDisplay(!0,!0,void 0,"mouseleave"))}_spinKeyupHandler(t){this._keyUp=!0;let a=t.keyCode;a!==e.keyCode.LEFT&&a!==e.keyCode.RIGHT&&this._checkForChange(t,"spinend")}_replaceMatchedText(e){let t=this._replaceText(e);if(t=void 0===t?e.slice(1,e.length-1):t,this._retursFormat){let a="",o=t.length;for(e=this._getMatch(e);o--;)a+=e[0];return a}return t}_pasteTimeoutHandler(e,t){let a=this._parseDateValue(e,this._opts.format);a&&a.isValid&&(this._viewDate=a.date),this._checkForModification(a.isValid),this._updateElementValue(),this._selectCaretPosition(this._input[0],0,0),this._mouseupHandler(t),this._pasteAction=!1}_mouseWheelHandler(e){let t=this._input,a=e.originalEvent;if(document.activeElement===t[0]){let t={preventDefault:function(){},type:"mousewheel"};if(this._keyUp||this._mousewheelTriggered||(this._keyUp=!0),this._mWheelTimer||(this._mWheelSpinStart=this._checkForChange(e,"spinstart")),this._mWheelSpinStart){this._mousewheelTriggered=!0;let o=this;clearTimeout(this._mWheelTimer),this._mWheelTimer=setTimeout(()=>{o._checkForChange(e,"spinend"),o._mWheelTimer=o._mWheelSpinStart=void 0},250),e.preventDefault(),e.stopPropagation(),t.keyCode=(0===a.detail?0>a.wheelDelta:0<a.detail)?38:40,this._keydownHandler(t)}}}_pasteHandler(e){this._pasteAction=!1;let t=e.originalEvent.clipboardData.getData("Text"),a=this._selectCaretPosition(this._input[0]),o;a[0]!==void 0&&a[1]!==void 0&&(o=a[1]-a[0]),o&&o===this._input[0].value.length?(this._pasteAction=!0,e.stopPropagation(),e.preventDefault(),this._input[0].value=t,clearTimeout(this._pasteTimeout),this._pasteTimeout=setTimeout(this._pasteTimeoutHandler.bind(this,t,e),500)):e.preventDefault()}_modifyPartValue(e,t,a){let o=new Date(this._viewDate.getTime()),n=this._modifyValue(o,e,t,this._getDateValue());return a||(o=this._checkMinMaxLimit(o,n,t),this._isPartModified(e,!0),this._oldDateValue&&this._setOldDate(),this._viewDate=o,!this._oldDateValue&&this._setOldDate()),this._hasPicker&&(this._opts.pickerOptions.disabledDaysOfWeek||this._opts.pickerOptions.disabledDates)&&(this._oldDateValue&&this._setOldDate(),this._viewDate=this._checkForDisabledDates(this._viewDate,t),!this._oldDateValue&&this._setOldDate()),o}_setOldDate(){let t=this._oldDateValue;t&&(e.Date.areDatesEqual(t,this._viewDate)||e.Date.areTimesEqual(t,this._viewDate))||(this._oldDateValue=new Date(+this._viewDate))}_mouseupHandler(e){this._isClearVisible();let t=this._selectCaretPosition(this._input[0]);t[0]===t[1]?this._selectText(this._checkForSegment(t[0],t[0]-1)):e&&"mouseup"===e.type&&window.getSelection().removeAllRanges()}_checkForSegment(e,t){let a=this._allowedChars,o=this._dateFormat;for(let n=o.length;e<n||0<=t;e++,t--){if(-1!==a.indexOf(o[e]))return o[e];if(0<=t&&-1!==a.indexOf(o[t]))return o[t]}}_getStringDiff(e,t,a,o){this._isNewValue=!1;let n=o+e.length-a.length,r=[],s;e=e.substring(0,n),a=a.substring(0,o);let l=a.length,d=t[o-1];if(e===a&&0<o)return[[d,a[o-1]]];if(0===e.indexOf(a)&&(0===l||t[l-1]!==t[l])){let a="";for(s=l;s<e.length;s++)e[s]!==a&&0<=this._allowedChars.indexOf(t[s])&&(a=t[s],r.push([a,""])),this._resetToFirst(a);return r}let c=a[l-1];return /[ |/|.|-|;]/.test(c)||c===e[n]?[[t[o-1],c]]:(this._focusout&&(this._resetOnBlur(d),this._focusout=!1),this._isNewValue=!0,[[d,a[o-1]]])}_checkForChange(e,t){let a=void 0===this._getDateValue(),o=this._viewDate,n=this._oldDateValue,i,r;if(a||1!==o.getDate()||0!==o.getMonth()||o.getFullYear()!==new Date().getFullYear()||0!==o.getHours()||0!==o.getMinutes()||0!==o.getSeconds()||(i=!0),-1<t.indexOf("spin")?"spin"===t?(clearTimeout(this._spinTimeout),this._spinTimeout=setTimeout(this._spinTimeoutHandler.bind(this,e),this._opts.spinEventTriggerDelay)):r=!0:(this._isCleared||!a&&(i||o&&n&&+n!=+o))&&(r=!0),r)return this._changeHandler(e,t)}_changeHandler(e,t){return"change"===(t||e.type)&&this._setOldDate(),this._dispatchEvent(t||"change",e,this._getCurrentValue())}_getCurrentValue(){return{value:this._opts.value?this._input[0].value:"",dateValue:this._opts.value}}_keydownHandler(t){if(this._opts.disabled||this._opts.readonly)return!1;let a=e.keyCode,o=a.TAB,n=t.keyCode,i=t.shiftKey,r=this._selectCaretPosition.bind(this),s=this._input[0],l=this._dateFormat,d;if(n!==o||0===s.selectionStart&&i||s.selectionEnd===s.value.length&&!i||t.stopImmediatePropagation(),-1<[a.RIGHT,a.LEFT,o].indexOf(n)){n!==o&&t.preventDefault(),d=r(s),this._viewDate=this._checkMinMaxLimit(this._viewDate),this._isModified&&(this._updateElementValue(),r(s,d[0],d[1])),d[0]!==d[1]&&this._mouseupHandler();let e=n===a.LEFT?-1:1;n===o&&i&&(this._focusout=!0,e=-1),d=r(s);for(let a=-1==e?d[0]-1:d[1]+1,i=this._opts.format;0<=a&&a<l.length;){let r=l[a],s=i.lastIndexOf(r);if(0<=this._allowedChars.indexOf(r)){n===o&&(s!==i.length||s+1!==i.length)&&(t.preventDefault(),this._focusout=!0),this._reverseFocusset=-1==e,this._selectText(l[a]);break}a+=e}}if(n===a.UP||n===a.DOWN){t.preventDefault(),d=r(s);let e=l[d[0]];0<=this._allowedChars.indexOf(e)&&(this._modifyPartValue(e,n===a.UP?1:-1),this._updateElementValue(),this._clearButton&&this._toggleBtnDisplay(null,!0),this._selectText(e)),this._checkForChange(t,this._keyUp?"spinstart":"spin"),this._keyUp=!1}if(t.metaKey||t.ctrlKey){let e=r(s),a;void 0!==e[0]&&void 0!==e[1]&&(a=e[1]-e[0]),(88===n&&a!==s.value.length||90===n)&&t.preventDefault()}}_checkMinMaxLimit(e,t,a,o){let n=this._opts.min,i=this._opts.max;return o=void 0===o||o,this._isModified=!1,i&&(e=this._validateValues(i,e,t,a,o,!0)),n&&(e=this._validateValues(n,e,t,a,o)),e}_validateValues(e,t,a,o,n,i){if(e){let r=new Date().getTime(),s=this._opts,l,d,c,m,_;l=e.getTime(),d=t.getTime(),c=i?l<r:l>r,m=i?d>=l:d<=l,m||a&&!this[a]&&c&&!o?(_=s.value?"add":void 0,this._isModified=!0,t=new Date((o&&d!==l?this._viewDate:e).getTime())):_=m?void 0:"remove",_&&n&&"none"!==s.spinButtons&&this.container.find(`.zh-${i?"up":"down"}`)[`${_}Class`]("is-disabled")}return t}_keyUpHandler(t,a){let o=t.keyCode;if("input"===t.type||"keyup"===t.type&&(186<=o&&192>=o||219<=o&&222>=o||48<=o&&57>=o||65<=o&&90>=o||-1<[32,8,46].indexOf(o))){let o=new Date().getTime(),n=this._dateFormat;if(this._isFastInput=!!(this._keyUpTime&&500>o-this._keyUpTime),this._keyUpTime=o,document.activeElement!==this._input[0])return;let r=this._getStringDiff(this._oldValue,n,this._input[0].value,this._selectCaretPosition(this._input[0])[0]),s=r.length,l=s&&/[ |/|.|-|;]/.test(r[0][1]),d=1===s&&l,c;if(this._isNewValue&&-1<this._allowedChars.indexOf(r[0][0])&&this._currentSegment!==this._oldSegment&&this._resetValues(r[0][0],r[0][1]),d)this._viewDate=this._checkMinMaxLimit(this._viewDate);else for(c=0;c<s;c++){let e=this._translateAToE(r[c][0]),t=this._translateAToE(r[c][1]);this._parseValue(e,t)}if(this._pasteAction||this._updateElementValue(),l=s&&/[ |/|.|-|;]/.test(r[0][0]),s&&!l&&(this._selectText(r[0][0]),this._isNextSegment)){let e=n.lastIndexOf(r[0][0])+1;if(e<n.length){for(;-1===this._allowedChars.indexOf(n[e])&&e<n.length;)e+=1;this._isNextSegment=!1,this._viewDate=this._checkMinMaxLimit(this._viewDate),this._pasteAction||this._updateElementValue(),this._selectText(n[e])}}d?this._keydownHandler({keyCode:e.keyCode.RIGHT,preventDefault:function(){}}):!a&&this._checkForChange(t,"spin"),"none"!==this._opts.clearButton&&this._toggleBtnDisplay(null,!0)}}_updateClearBtn(){super._updateClearBtn(),this._opts.value&&(this._clearBtnShown=!0,"focus"===this._opts.spinButtons&&this._clearButton.addClass("zh-right")),this._toggleBtnDisplay(null,!0)}_bindClearBtnEvents(){this._addEvents({clearButtonClick:"mouseup",clearButtonMousedown:"mousedown"},this._clearButton)}_clearButtonMousedownHandler(e){e.stopPropagation(),e.preventDefault(),clearInterval(this._mouseDownTimer),this._mouseDown=!1,this._getSegment()}_clearActionHandler(){this._opts.value=null,this._isCleared=!0,this._immediateCommit&&(this._lastValue=void 0);let t=this._input;t[0].value="",document.activeElement!==t[0]&&t.focus(),this._keyUpHandler({type:"input",keyCode:e.keyCode.BACKSPACE,preventDefault:function(){}},!0),this._selectText(this._segment),this._mouseupHandler(),this._data.spinButtons&&this._buttonPane.find(".zh-up,.zh-down").removeClass("is-disabled")}_isClearVisible(){this._clearBtnShown="none"!==this._opts.clearButton&&this._clearButton&&this._clearButton.is(":visible")}_clearButtonClickHandler(e){return this._clearBtnShown?(e.preventDefault(),clearInterval(this._mouseDownTimer),this._mouseDown=!1,this._clearActionHandler(),!1):void this._mouseupHandler()}_setAttribute(t,a){let o=this.name,n=this._opts,i=this._updateElementValue.bind(this),r=this._input,s="format"===t,l="value"===t,d=super._setAttribute.bind(this),c=this._format,m;if(this._opts[t]=a,s||l){if(l&&this._setValue(a),this._setBoolValue(["month","year","minutes","seconds","hours"],!0,"Modified"),s){if(this._format=a,this._setFormat(),this._validateFormat(),this._invalidFormat)return void(this._format=n.format=c);this._picker&&this._getPicker()._setAttribute("format",n.format)}let e=n.value;this._checkForModification(e),this._viewDate=this._checkMinMaxLimit(e?new Date(e.getTime()):this._resetViewDate()),m=!0,i(),l&&!this.container.hasClass("has-focus")&&this._input.trigger("change"),l&&!a&&(this._isCleared=!0)}else if("min"===t||"max"===t){if(this._validateValue(t,a),this._performValidations(),this._viewDate=this._checkMinMaxLimit(this._viewDate),m=!0,this._picker){let a=e[this._pickerMethods.instance](this._picker),o=n[t],i=t+"Date";a.setAttribute(i,o),n.pickerOptions[i]=o}i()}else /increment|decrement|spinButtons/g.test(t)?("spinButtonsOrientation"===t&&this._updateClass("zinputfield--split","vertical"===a),d(t,a),a&&this._reConstructSpinButtons(a)):"placeholderType"===t?(n.placeholerType=-1===["date-format","underscore","date-format-in-upper","date-format-in-lower","custom"].indexOf(a)?"date-format":a,n.value||i()):"locale"===t?(this._setFormat(),i(),r[("ar"===a?"add":"remove")+"Class"]("zh-bidioverride")):"disabled"===t?(d(t,a),"none"!==n.clearButton&&(a?this._clearButton.off(`mouseup.${o} mousedown.${o}`):this._bindClearBtnEvents())):"rtl"===t?r[("ar"===n.locale?"add":"remove")+"Class"]("zh-bidioverride"):d(t,a);m&&(this._disableSpinBtns(),this._domChanged=!0)}_setValue(t){let a=this._opts,o=this._input,n=this._validateValue("value",t);return t=a.value,this._performValidations(),n&&t&&(this._setOldDate(),this._viewDate=new Date(t.getTime()),o.attr("aria-valuenow",e.Date.formatDate(t,a.format))),t||o.removeAttr("aria-valuenow"),this._clearButton&&this._toggleBtnDisplay(null,!0),n}_spinButtonsMousedownHandler(a){if(a.preventDefault(),!(this._opts.disabled||1<a.which||this._opts.readonly||t(a.target).closest(".zinputfield__spinbutton").hasClass("is-disabled"))){this._mouseDown=!0,this.container.addClass("has-focus"),this._checkForChange(a,"spinstart"),this._input[0].selectionStart===this._input[0].value.length&&this._input[0].selectionEnd===this._input[0].value.length&&(this._selectCaretPosition(this._input[0],0,0),this._mouseupHandler(a));let t=this._assignEventProps(a);this._keyUp=!0,this._keydownHandler(t),clearInterval(this._mouseDownTimer),this._mouseDownTimer=setInterval(this._repetitiveMouseDownHandler.bind(this,a),220),e.$document.off(`mouseup.${this.name}`).on(`mouseup.${this.name}`,this._documentMouseUpHandler.bind(this))}}_repetitiveMouseDownHandler(e){this._mouseDown?this._keydownHandler(this._assignEventProps(e)):clearInterval(this._mouseDownTimer)}_assignEventProps(a){return{keyCode:t(a.target).closest(".zh-up").length?e.keyCode.UP:e.keyCode.DOWN,preventDefault:function(){}}}_documentMouseUpHandler(){clearInterval(this._mouseDownTimer),e.$document.off(`mouseup.${this.name}`),this._mouseDown=!1}_updateSpinButtons(){let e=this._data;"focus"===this._opts.spinButtons&&(e.className+=" zdatetimefield--buttonsonhover"),super._updateSpinButtons()}_bindSpinButtonEvents(){this._addEvents({spinButtonsMouseup:"mouseup",spinButtonsMousedown:"mousedown"},this.container.find(".zh-up,.zh-down"))}_spinButtonsMouseupHandler(e){this._mouseUp=!0,this._checkForChange(e,"spinend")}_reConstructSpinButtons(e){let t=this._opts,a=this._data;a.spinButtons&&("focus"===e&&this._addEvents({mouseEnter:"mouseenter",mouseLeave:"mouseleave"},this.container),this.container.attr("role","spinbutton"),a.isVertical&&!t.calendarIcon&&this._updateClass(" zdatetimefield",!0),"always"===t.spinButtons&&this._updateClass("zdatetimefield--buttonsonhover",!0))}}e.registerComponent("ZDateInput",e.ZInputField,ZDateInput)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZDateField extends e.ZDateInput{get name(){return"zdatefield"}get attrs(){return{format:"dd/MM/yyyy",dateStep:1,monthStep:1,yearStep:1,picker:!1,pickerId:null,century:21,calendarIcon:!1,calendarIconClass:null,calendarSVGIconId:null,calendarIconAlignment:"right",calendarIconUIType:"label",showPickerOnFocus:!1}}get props(){return{calendarIconClassName:null,placeholder:{year:"year",month:"month",date:"date"},pickerOptions:{timeFieldType:"multiple-select-box"},labels:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],invalidInput:"Invalid date/time provided. Please provide correct input",invalidNumber:"Not a number"}}}get EVENTS(){return["pickerbeforeopen","pickeropen","pickerbeforeclose","pickerclose","pickerbeforedatecellrender","pickerdatecellrender","pickerbeforemonthopen","pickerbeforedrilldown","pickerdrilldown","pickerdatemouseover","pickerdateselect","pickermonthchange","pickeryearchange","pickerdecadechange","pickertodaybuttonclick","pickercancel","pickerclear"]}get monthChars(){return["f","s","o","n","d","ja","may","mar","ap","au","jun","jul"]}_create(){super._create(...arguments)}_getDateParts(){return{d:"date",M:"month",y:"year"}}_replaceText(e){return this._replaceDate(e)}_getRegEx(){return /dd{0,3}|MM{0,3}|yyyy|yy|"[^"]*"|'[^']*'/g}_getMatch(e){return-1<["ddd","dddd","z","zz","zzz"].indexOf(e)?e.replace("d","E").replace("z","f"):e}_replaceDate(e){let t=this._viewDate,a=this._monthModified,o=this._dateModified,n=this._yearModified,i=-1<["d","dd","ddd","dddd"].indexOf(e),r,s,l;return-1===["d","dd","M","MM"].indexOf(e)?-1===["ddd","dddd","MMM","MMMM"].indexOf(e)?-1!==["yy","yyyy"].indexOf(e)&&(this._isYear2Digit="yy"===e,t=t.getFullYear(),r=n?this._appendZeros("yy"===e?t%100:t,e.length):this._getPlaceholder(e)):(t=i?t.getDay():t.getMonth(),l=i?o&&a&&n:a,s=-1<e.indexOf("d")?"days":"months",r=l?this._getI18NText(3===e.length?`${s}Abbreviated`:s)[t]:this._getPlaceholder(e)):(t=i?t.getDate():t.getMonth()+1,r=(i?o:a)?1===e.length?t.toString():(10>t?"0":"")+t:this._getPlaceholder(e)),this._translateEToA(r)}_focusOutHandler(e){let a=t(e.relatedTarget);this._hasPicker&&this._hasPicker&&a.closest(".zdatetimepicker,.zdatetimepicker--group").length||super._focusOutHandler(e)}_appendZeros(e,t){let a;return e=e.toString(),a=t-e.length,a?["","0","00","000","0000"][t].substring(0,a)+e:e}_init(){this._allowedChars="dMyz",this._pickerMethods||(this._pickerMethods={create:"createDatePicker",instance:"datepicker"}),super._init(...arguments),this._opts.calendarIcon&&this._getCalendarIconProps()}_performValidations(){let e=this._opts,t=["date","month","year"];e.calendarIcon&&-1===["right","left"].indexOf(e.calendarIconAlignment)&&(e.calendarIconAlignment="right"),super._performValidations(t.map(e=>e+"Step"),t)}_validateFormat(){this._checkFormat(/h|H|m|t/g)}_postRender(){super._postRender(...arguments),this._opts.picker&&this._createPicker()}_postEachRender(e,t){let a=t.modifiedAttr;t.calendarIcon&&(!a||"calendarIcon"===a)&&this._updateCalendarIcon(),super._postEachRender(...arguments)}_getCustomMatch(e){return this._getDateMatch(e)}_getDateMatch(e){let t=this._opts.placeholder;if(-1<["d","dd","ddd","dddd"].indexOf(e))return t[2<e.length?"weekDay":"date"];return-1<["M","MM","MMM","MMMM"].indexOf(e)?t.month:-1<["yy","yyyy"].indexOf(e)?t.year:void 0}_getDateValue(){return this._dateModified&&this._monthModified&&this._yearModified?new Date(+this._viewDate):void 0}_modifyValue(e,t,a,o){return this._modifyDate(e,t,a,o)}_getDateSegment(e,t){return e[`get${{y:"FullYear",M:"Month",d:"Date"}[t]}`]()}_checkValue(e,t,a,o,n){return n<e?n+=t+a:n>t&&(n%=t+o),n}_changeDateValue(e,t,a){t&&(e.setDate(1),e.setMonth(a))}_modifyDate(e,t,a,o){let n=this._getDateParts()[t],i="_"+n+"Modified",r=this._opts,s=this._getDateSegment(e,t),l=this._checkValue.bind(this);if(a&&(a*=r[n+"Step"]),s+=a,"y"===t)s=l(0,9999,0,1,s),0===s&&(s=1),this._yearModified&&e.setFullYear(s);else if("M"!==t)"d"===t&&(r.incrementOnWrapAround&&o||(s=l(1,this._getDaysInAMonth(e),-s,0,s)),this[i]?e.setDate(s):0>a&&e.setDate(31));else if(!this[i])0>a&&e.setMonth(11);else if(r.incrementOnWrapAround&&void 0!==o)e.setMonth(s),this._changeDateValue(e,e.getMonth()%12!=(s+12)%12,s);else{s=l(0,11,1,1,s);let t=new Date(e.getFullYear(),s+1,0).getDate();e.getDate()>t&&e.setDate(t),e.setMonth(s)}return i}_getDaysInAMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}_parseSegment(e,t,a){return this._parseDate(e,t,a)}_getNewValue(e,t,a,o,n){let i="get"+("date"===a?"Date":"Month"),r=e[i]()+ +("month"===a),s=this._isNewValue&&this._oldSegment!==this._currentSegment?0:this[`_${a}Modified`]?10*r:0;return s+=parseInt(t),this._isNextSegment=!isNaN(s)&&o&&s>=n,s}_sliceValue(e,t,a){for(;t>e;)t=parseInt(a.slice(1));return t}_parseDate(e,t,a){let o=this._opts.jumpOnComplete,n=this._getNewValue.bind(this),i=this._sliceValue.bind(this),r=this._viewDate,s;if("d"===e){let e=this._getDaysInAMonth(a);if(s=n(a,t,"date",o,4),isNaN(s))return;let l=s.toString();if(!o&&s>e&&this._isFastInput?2===l.length?s=r.getDate():3<=l.length&&(s=i(31,s,l)):s=s>e?o?parseInt(l[0]):parseInt(l.slice(-1)):s,this._dateModified=1<=s,this._dateModified&&(a.setDate(s),a.getMonth()!==r.getMonth()))return}else if("M"===e){if(s=n(a,t,"month",o,2),isNaN(s)){let e=this._getI18NText("months"),n=this._typedMonthChar+=t.toLowerCase();for(;0<n.length;){for(let t=0;t<e.length;t++)if(0===e[t].toLowerCase().indexOf(n))return a.setMonth(t),this._isNextSegment=o&&-1<this.monthChars.indexOf(n),this._monthModified=!0,this._oldDateValue=new Date(+r),this._viewDate=a,!0;this._typedMonthChar=n.substring(1,n.length)}return!1}let e=s.toString();if(!o&&12<s&&this._isFastInput){let t=parseInt(e.slice(1));s=12<t?parseInt(t.toString()[0]):r.getMonth()+1}else s=o?12<s&&20>s?12:20<s?e[0]:s:111===s||112===s?parseInt(e.slice(-1)):i(12,s,e);this._monthModified=1<=s,this._monthModified&&(a.setMonth(s-1),this._changeDateValue(a,a.getMonth()!==s-1,--s))}else if("y"===e){let e=this._isYear2Digit;if(s=this._yearModified?e?a.getFullYear().toString().slice(2):10*a.getFullYear():0,s=e?parseInt(s+t):s+parseInt(t),isNaN(s))return;let n=s.toString();if(!e)o&&1001<s&&4===n.length&&"0"!==n[3]&&(this._isNextSegment=!0),s=i(9999,s,n),this._yearModified=1<=s,this._yearModified&&a.setFullYear(s);else if(o&&10<s&&2===n.length&&"0"!==n[1]&&(this._isNextSegment=!0),s=i(99,s,n),this._yearModified=1<=s,this._yearModified){let e=this._opts.century-1;s=parseInt(e.toString()+s.toString()),a.setFullYear(s)}}return a}_isPartModified(e,t){this._isDateModified(e,t)}_isDateModified(e,t){if(-1<["d","y","M"].indexOf(e)){let a=this._getDateParts();this["_"+a[e]+"Modified"]=t,t||"M"!==e||(this._typedMonthChar="")}}_setFormat(){this._setFormatVal(/^(date-short|date-long|date-medium)$/,"date","dd/MM/yyyy")}_getNumberOfDays(e,t){return new Date(e,t,0).getDate()}_parseValue(e,t){return super._parseValue(e,t),this._hasPicker&&(this._opts.pickerOptions.disabledDaysOfWeek||this._opts.pickerOptions.disabledDates)&&(this._viewDate=this._checkForDisabledDates(this._viewDate)),!0}_bindEvents(){super._bindEvents(),this._opts.picker&&this._bindPickerEvents()}_keydownHandler(t){let a=this._picker,o=t.keyCode,n=e.keyCode;return this._hasPicker&&(a.is(":visible")&&-1<[n.ESCAPE,n.ENTER].indexOf(o)&&e[this._pickerMethods.instance](a).close(),(t.metaKey||t.ctrlKey)&&n.DOWN===o&&!a.is(":visible"))?void e[this._pickerMethods.instance](a).open():void super._keydownHandler(t)}_isDateInstance(e){return e instanceof Date?new Date(+e):e}_updateElementValue(){super._updateElementValue();let t=this._opts,a=t.value,o=this._lastValue,n=this._picker;this._hasPicker&&a&&(!o||o&&+e.Date.parseDate(o,t.format).date!=+a)&&e[this._pickerMethods.instance](n).setAttribute("value",new Date(+a)),a&&(this._lastValue=this._isDateInstance(a),(0>t.format.indexOf("h")||0>t.indexOf("H"))&&a.setHours(0,0,0,0))}_clearActionHandler(){super._clearActionHandler(),this._picker&&e[this._pickerMethods.instance](this._picker).setAttribute("value",null)}_resetToFirst(e){this._resetDateToFirst(e)}_resetDateToFirst(e){e&&"Mdy".indexOf(-1<e)&&this._viewDate[`set${{M:"Month",d:"Date",y:"FullYear"}[e]}`]("y"===e?new Date().getFullYear():"Mdy".indexOf(e))}_resetOnBlur(e){this._resetDateOnBlur(e)}_resetDateOnBlur(e){"y"===e&&this._viewDate.setFullYear(0)}_destroy(){this._picker&&this._destroyPicker(),super._destroy()}_getCalendarIconProps(){let t=this._data,a=this._opts,o=this._calendarIcon;t.calendarPosition="";let n=a.calendarIconUIType,i="zdatetimefield__icon"+n;t.calIconClassName=i;let r={className:i,defaultIconClassName:"zdatetimefield__icon",iconClassName:a.calendarIconClassName,SVGIconId:a.calendarSVGIconId,defaultSVGIconId:"zc__svg--calendaricon zbutton__svg",isCE:this.isCE,customAttributes:{tabindex:-1},templateRender:!0,mainElement:o?o[0]:null};t.calendarIconProps="label"===n?e._getIconInfo(r.iconClassName,r.SVGIconId,"zc__svg--calendaricon zbutton__svg","zdatetimefield__icon",r):e.ZButton.getBtnProps(r),t.calendarPosition=this._getCalendarPosition(n,a.calendarIconAlignment)}_getCalendarPosition(e,t){if(-1<["right","left"].indexOf(t))return"left"===t?"beforeInput":("button"===e?"after":"before")+"SpinBtn"}_updateCalendarIcon(){let e=this._opts.calendarIconUIType,t=this.container;this._calendarIcon=t.find(".zdatetimefield__icon"+("label"===e?"label":"button")),this._data.calendarIconProps.mainElement=this._calendarIcon[0],t.addClass("zdatetimefield zinputfield--withcalendaricon"),"button"===e&&(t.addClass("zh-hasiconbutton"),this._addEvents({calendarIconClick:"mousedown"},this._calendarIcon))}_calendarIconClickHandler(e){e.preventDefault(),this._picker&&this._picker.is(":visible")?this._picker.zdatepicker("close"):this._pickerOpenHandler(e),this._currentSegment?this._selectText(this._currentSegment):this._selectCaretPosition(this._input[0],0,0),this._mouseupHandler(e),this.container.addClass("has-focus")}_handleCalendarIcon(e,t){let a=this.name,o=this._data,n=this._opts,i=this.container,r=n.calendarIconUIType;"calendarIcon"===o.modifiedAttr&&this._calendarIcon&&("button"!==t&&this._hasPicker&&this._calendarIcon.off("click."+this.name),o.calendarPosition="",o.calendarIconProps=null,this._calendarIcon=void 0,i.removeClass("zh-hasiconbutton zinputfield--withcalendaricon")),t&&n.calendarIcon&&(this._getCalendarIconProps(),i.addClass("zinputfield--withcalendaricon"+("focus"===n.spinButtons?" zdatetimefield--buttonsonhover":"")),"button"===r?!n.showPickerOnFocus&&i.off(`click.${a}`):this._addEvents({pickerOpen:"click"},i)),this._domChanged=!0}_checkForDisabledDates(t,a){a=a||1;let o=new Date(t.getTime()),n=this._opts,i=this._isGreater.bind(this),r,s,l;if(this._hasPicker&&i(t,n.min)&&i(n.max,t)){s=e[this._pickerMethods.instance](this._picker),l=s.getAttribute("disabledDaysOfWeek"),r=s.getAttribute("disabledDates");let d=new Date(t.getTime());this._checkTime||d.setHours(0,0,0,0);let c=n.dateStep*(1===a?1:-1),i=new Date(t.getTime());for(this._checkTime||i.setHours(0,0,0,0);this._picker.find(`[data-time='${i.getTime()}']`).hasClass("is-disabled");){if(l&&l.length){for(let e=0;e<l.length;e++)d.getDay()===l[e]&&(d.setDate(d.getDate()+c),t=new Date(d.getTime()),e=-1);t.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0)}if(r&&r.length)for(let a=0,o=r.length;a<o;a++){let o=r[a],i,s;if(o.date instanceof Date)i=o.date;else if(o.date)s=!1,i=o.date.date,o.repeatEveryYear&&i.setFullYear(t.getFullYear()),o.repeatEveryMonth&&i.setMonth(t.getMonth());else if(o.startDate&&o.endDate){let a=o.startDate.date,n=o.endDate.date;o.repeatEveryYear&&(a.setFullYear(t.getFullYear()),n.setFullYear(t.getFullYear())),o.repeatEveryMonth&&(a.setMonth(t.getMonth()),n.setMonth(t.getMonth())),s=!!(e.Date.isGreater(d,a)||e.Date.areDatesEqual(a,d))&&!!e.Date.isGreater(n,d)}if(i&&e.Date.areDatesEqual(i,d)||s){let e=t.getDate()+c;if(!n.incrementOnWrapAround){let t=new Date(d.getFullYear(),d.getMonth()+1,0).getDate();1>e?e=t:e>t&&(e%=t)}d.setDate(e);let o=d.getTime();t=new Date(o),a=-1}}t.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),0),i=new Date(t.getTime()),this._checkTime||i.setHours(0,0,0,0)}}return t}_isGreater(t,a){return e.Date.isGreater(t,a)&&!e.Date.areDatesEqual(t,a)}_createPicker(){let a=this._opts,o=this._pickerMethods;if(this._hasPicker=a.picker,a.picker&&!a.pickerId&&this._initPicker(),a.pickerId){let n=t("#"+a.pickerId);if(n.length){let t=n.data("z"+o.instance);Object.keys(t).length&&(this._hasPicker=!0,this._picker=n,e[o.instance](this._picker).setAttribute("forElement",this.container))}}this._hasPicker&&(this._immediateCommit=e[o.instance](this._picker).getAttribute("immediateCommit"),this.container.attr({"aria-owns":t(this._picker).attr("id"),"aria-expanded":!1}))}_initPicker(){let a=this._opts,o=a.pickerOptions,n,i;a.min&&(n=new Date(a.min.getTime())),a.max&&(i=new Date(a.max.getTime())),this._checkTime||(n&&n.setHours(0,0,0,0),i&&i.setHours(0,0,0,0)),o=t.extend(!0,{},o,{id:`${this._getID(this.container)}-picker`,appendTo:t("body"),isCE:this.isCE,rtl:this._opts.rtl,locale:this._opts.locale,forElement:this.container,minDate:o.minDate||n,maxDate:o.maxDate||i,value:a.value,format:a.format.replace("s",""),beforedatecellrender:this._dispatchPickerEventsHandler.bind(this,"pickerbeforedatecellrender")}),this._picker=e[this._pickerMethods.create](o)}_bindPickerEvents(){let e=this.name,a=this.isCE?"z":`z${this._pickerMethods.instance}`,o=this._opts;this._hasPicker&&("label"===o.calendarIconUIType||"button"===o.calendarIconUIType&&o.showPickerOnFocus)&&this._addEvents({pickerOpen:"click"},this.container);let n=this._picker=t(this._picker);n.off(this._getPicker()._EVENTS.map(e=>`z${this._pickerMethods.instance}${e}.${this.name}`).join(" ")),this._addEvents({pickerMouseup:"mouseup",focusInput:"mousedown",apply:`${a}change`,clear:`${a}clear`,close:`${a}close`,open:`${a}open`,beforeClose:`${a}beforeclose`,beforeOpen:`${a}beforeopen`,beforeFocus:`${a}beforefocus`},n);let r=["beforedrilldown","drilldown","datemouseover","dateselect","monthchange","yearchange","hourchange","minutechange","periodchange","timechange","todaybuttonclick","cancel","clear"];for(let t=0,o=r.length;t<o;t++)n.off(a+r[t]+"."+e).on(`${a}${r[t]}.${e}`,this._dispatchPickerEventsHandler.bind(this,"picker"+r[t]))}_beforeFocusHandler(e){e.preventDefault()}_focusInputHandler(){this._pickerMouseDown=!0,this.container.addClass("has-focus").trigger("focusin")}_pickerMouseupHandler(){this._pickerMouseDown=!1}_clearHandler(){this._opts.immediateCommit&&(this.setAttribute("value",null),this._clearActionHandler())}_dispatchPickerEventsHandler(e,t,a){a||(a=t.detail),this._dispatchEvent(e,t,a)}_openHandler(a){this.container.attr("aria-expanded",!0),this._dispatchEvent("pickeropen",a,{value:this._input[0].value,dateValue:this._opts.value});let o=this;e.$document.on("mousedown."+this.name,e=>{if(!o._pickerMouseDown){let a=t(e.target);a&&a.length&&!a.closest(this._picker).length&&(o._bodyClick=!0)}})}_beforeOpenHandler(e){let t=this._dispatchEvent("pickerbeforeopen",e,{value:this._input[0].value,dateValue:this._opts.value});return t}_beforeCloseHandler(e){this._dispatchEvent("pickerbeforeclose",e,{value:this._input[0].value,dateValue:this._opts.value})}_closeHandler(t){this.container.attr("aria-expanded",!1),this._getSegmentValue();let a=this._opts.value;this._immediateCommit||this.setAttribute("value",this._applyClicked?this._isDateInstance(a):this._isDateInstance(this._lastValue)),this._selectText(this._segment),this._mouseupHandler(),this._applyClicked=!1,this._dispatchEvent("pickerclose",t,{value:this._input[0].value,dateValue:a}),this._bodyClick&&this._input.trigger("focusout"),e.$document.off("mousedown."+this.name),this._bodyClick=!1}_applyHandler(t,a){a||(a=t.detail),this._applyClicked=!0,this._lastValue=a.valueString,this._getSegmentValue();let o=this._opts.format,n=e.Date;if(n.formatDate(this._opts.value,o)!==n.formatDate(a.value,o)){this.setAttribute("value",a.value?a.valueString:null);let t=e[this._pickerMethods.instance](this._picker).getAttributes();if(1<t.monthsPerView){let e=parseInt(this._picker.find(".is-selected").closest("li").index());this.setAttribute("pickerOptions",{selectedDateMonthViewIndex:e})}}this._selectText(this._segment),this._mouseupHandler()}clearHandler(){this._opts.immediateCommit&&(this.setAttribute("value",null),this._clearActionHandler())}_pickerOpenHandler(a){let o=this._picker,n=this._opts;if(this._getSegment(),a.preventDefault(),o&&!o.is(":visible")&&!n.readonly&&!n.disabled&&0===t(a.target).closest(".zinputfield__clearbutton,.zinputfield__spinbutton").length){n.pickerId&&this._bindPickerEvents();let t=e[this._pickerMethods.instance](o);t.setAttributes({forElement:this.container,value:this._isDateInstance(n.value)}),t.open()}}_getSegmentValue(){this._getSegment(),this._segment||(this._selectCaretPosition(this._input[0],0,0),this._getSegment())}_isPickerOpenValid(){let e=this._opts;return"button"!==e.calendarIconUIType||"button"===e.calendarIconUIType&&e.showPickerOnFocus}_setPickerAttributes(a,o){let n=this._opts,i=this.name,r=t.extend(!0,{},n.pickerOptions),s;this._picker&&(s=e[this._pickerMethods.instance](this._picker));"picker"===a?o?(this._hasPicker=!0,this._createPicker(),this._bindPickerEvents(),this._isPickerOpenValid()&&this._addEvents({pickerOpen:"click"},this.container),"button"===n.calendarIconUIType&&this._addEvents({calendarIconClick:"mousedown"},this._calendarIcon),s=e[this._pickerMethods.instance](this._picker),this._immediateCommit=s.getAttribute("immediateCommit")):this._picker&&(n.pickerOptions=null,this._render(),n.pickerOptions=r,this._picker=void 0,this._hasPicker=!1,this.container.off("click."+i)):"pickerOptions"===a?(n.value=this._isDateInstance(n.value),s&&s.setAttributes(r)):"showPickerOnFocus"===a?"button"===n.calendarIconUIType&&(this.container.off(`click.${i}`),o&&this._addEvents({pickerOpen:"click"},this.container)):void 0}_getPicker(){return e[this._pickerMethods.instance](this._picker)}_destroyPicker(){let e=this._getPicker();this._picker.off(e._EVENTS.map(e=>`z${this._pickerMethods.instance}${e}.${this.name}`).join(" ")),e.destroy(),this._picker.remove(),this._picker=void 0}openPicker(){e[this._pickerMethods.instance](this._picker).open()}closePicker(){e[this._pickerMethods.instance](this._picker).close()}getPickerElement(){return this._picker}_setAttribute(t,a){let o=this._data,n=this._opts,i=this._hasPicker,r=super._setAttribute.bind(this),s=n.value,l=this._picker,d;if(n[t]=a,i&&(d=e[this._pickerMethods.instance](l)),"century"===t){--a;let e=this._viewDate;if(!isNaN(a)&&2===a.toString().length)e.setFullYear(parseInt(a.toString()+e.getFullYear().toString().slice(2))),s&&(n.value=new Date(e.getTime())),n.century=a+1;else throw new Error(n.labels.invalidNumber)}else"format"===t||"value"===t?(this._lastValue=null,r(t,a)):"min"===t||"max"===t?r(t,a):-1<t.indexOf("picker")||"showPickerOnFocus"===t?(n.value=this._isDateInstance(s),this._setPickerAttributes(t,a)):-1<["calendarIcon","calendarIconClassName","calendarSVGIconId","calendarIconUIType","calendarIconAlignment"].indexOf(t)?(("calendarIconUIType"===t&&n.calendarIcon||"calendarIcon"===t)&&(o.modifiedAttr="calendarIcon"),"calendarIconAlignment"===t&&(a=-1<["right","left"].indexOf(a)?a:"right",this._domChanged=!0),this._handleCalendarIcon(t,a)):"rtl"===t&&i?l&&d.setAttribute("rtl",a):"locale"===t?(r(t,a),l&&d.setAttribute("locale",a)):r(t,a)}}e.registerComponent("ZDateField",e.ZDateInput,ZDateField)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdatefield.Templates,a=e.zbutton.Templates.WCContainer;t.WCContainer=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" style="width:${e.width}px" ?id=${e.id} >${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html`${"beforeInput"===e.calendarPosition&&t.WCCalendarIcon(e)} ${ZT.html`<input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}>`} ${e.clearButton&&a(e.clearButtonProps)} ${"beforeSpinBtn"===e.calendarPosition&&t.WCCalendarIcon(e)} ${e.spinButtons&&ZT.html`<div class="zinputfield__spinbuttonpane"> ${e.isVertical?a(e.incrementProps):a(e.decrementProps)} ${e.isVertical?a(e.decrementProps):a(e.incrementProps)} </div>`} ${"afterSpinBtn"===e.calendarPosition&&t.WCCalendarIcon(e)}`;let o=e.Templates.Utilities;t.WCCalendarIcon=t=>ZT.html`${"label"===t.calendarIconUIType?ZT.html`<div class="${t.calIconClassName}">${o.WCIcon(t.calendarIconProps)}</div>`:e.zbutton.Templates.WCContainer(t.calendarIconProps)}`}(ZComponents),function(e){let t=e.zdatefield.Templates,a=e.zbutton.Templates.container;t.container=e=>ZT.html`<div class="zinputfield ${e.className}" ?title=${e.title} tabindex="-1" role="spinbutton" style="width:${e.width}px" ?id=${e.id} >${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`${"beforeInput"===e.calendarPosition&&t.calendarIcon(e)} ${ZT.html`<input class='zinputfield__textbox' tabindex="${e.tabindex}" ?aria-valuemin=${e.min} ?aria-valuemax=${e.max} ?readonly=${e.readonly} ?aria-readonly=${e.readonly} ?disabled=${e.disabled} ?aria-disabled=${e.disabled} ?maxlength=${e.maxLength}>`} ${e.clearButton&&a(e.clearButtonProps)} ${"beforeSpinBtn"===e.calendarPosition&&t.calendarIcon(e)} ${e.spinButtons&&ZT.html`<div class="zinputfield__spinbuttonpane"> ${e.isVertical?a(e.incrementProps):a(e.decrementProps)} ${e.isVertical?a(e.decrementProps):a(e.incrementProps)} </div>`} ${"afterSpinBtn"===e.calendarPosition&&t.calendarIcon(e)}`;let o=e.Templates.Utilities;t.calendarIcon=t=>ZT.html`${"label"===t.calendarIconUIType?ZT.html`<div class="${t.calIconClassName}">${o.icon(t.calendarIconProps)}</div>`:e.zbutton.Templates.container(t.calendarIconProps)}`}(ZComponents),function(e){class ZTimeField extends e.ZDateInput{get name(){return"ztimefield"}get attrs(){return{format:"hh:mm tt",hourStep:1,minuteStep:1,secondStep:1,placeholder:{hour:"hour",minute:"minute",second:"second",period:"AM/PM"},labels:{period:"AM/PM",AM:"AM",PM:"PM"}}}_validateFormat(){this._checkFormat(/d|M|y/g)}_init(){this._allowedChars="Hhmstz",super._init(...arguments),this._opts.templateName="zinputfield",this._opts.incrementOnWrapAround=!1}_setFormat(){this._setFormatVal(/^(time-short|time-long|time-medium)$/,"time","hh:mm tt")}_getDateValue(){return this._hoursModified&&this._minutesModified&&this._secondsModified?new Date(this._viewDate.getTime()):void 0}_getMatch(e){return e}_getRegEx(){return /HH|H|hh|h|mm|m|ss|s|tt|zz{0,2}|"[^"]*"|'[^']*'/g}_resetToFirst(e){this._resetTimeToFirst(e)}_resetTimeToFirst(e){e&&-1<"Hms".indexOf(e)&&this._viewDate[`set${{H:"Hours",m:"Minutes",s:"Seconds"}[e]}`](0)}_resetOnBlur(e){this._resetTimeOnBlur(e)}_resetTimeOnBlur(e){"m"===e&&this._viewDate.setMinutes(0)}_parseSegment(e,t,a){return this._parseTime(e,t,a)}_replaceTime(e){let t=this._viewDate,a=this._hoursModified,o=this._minutesModified,n=this._secondsModified,i=this._getPlaceholder.bind(this),r;if(-1<["h","hh","H","HH"].indexOf(e))r=a?t.getHours():i(e),a&&(-1<["h","hh"].indexOf(e)&&(r=r%12||12),r=-1<["h","H"].indexOf(e)?r.toString():(10>r?"0":"")+r);else if(-1<["m","mm","s","ss"].indexOf(e)){let a=-1<e.indexOf("m")?["Minutes",o]:["Seconds",n];r=a[1]?t[`get${a[0]}`]():i(e),a[1]&&(r=1===e.length?r.toString():(10>r?"0":"")+r)}else-1<["tt"].indexOf(e)?(r=a?12>t.getHours()?this._getI18NText("AM"):this._getI18NText("PM"):this._opts.placeholder.period,"underscore"!==this._opts.placeholderType&&(r=i(r))):-1<["z","zz","zzz"].indexOf(e)&&(r=t.toString().split(" ")[5]);return this._translateEToA(r)}_replaceText(e){return this._replaceTime(e)}_validateOptions(){super._validateOptions();let e=this._opts;["value","min","max"].forEach(t=>{e[t]&&(e[t]=this._changeToViewDate(e[t]))})}_performValidations(){super._performValidations(["hourStep","minuteStep","secondStep"],["hours","minutes","seconds"])}_getCustomMatch(e){return this._getTimeMatch(e)}_getTimeMatch(e){let t=this._getTimeParts()[e[0]];return t=-1<["h","hh","H","HH","m","mm","s","ss"].indexOf(e)?this._opts.placeholder[t.slice(0,-1)]:"",t||!this._hoursModified&&this._opts.placeholder.period||e}_getTimeParts(){return{H:"hours",h:"hours",m:"minutes",s:"seconds"}}_modifyValue(e,t,a,o){return this._modifyTime(e,t,a,o)}_modifyTime(e,t,a,o){let n;if(-1<["h","H"].indexOf(t)){n="_hoursModified",a*=this._opts.hourStep;let t=e.getHours()+a;this._opts.incrementOnWrapAround&&o||(23<t&&(t%=24),0>t&&(t+=24)),(this._hoursModified||0>a)&&e.setHours(t)}else-1<["m","s"].indexOf(t)?n=this._minuteSecondUpdate(t,a,e,o):"t"===t&&e.setHours((e.getHours()+12)%24);return n}_disableSpinBtns(){let e=this._opts,t="is-disabled",a=e.value,o=e.min,n=e.max,i=this._buttonPane;if("none"!==e.spinButtons&&a){let e=new Date(+a),r;this._modifyTime(e,this._currentSegment||"h",-1),r=o&&+e<+o||n&&+e>+n?"addClass":"removeClass",i.find(".zh-down")[r](t),e=new Date(+a),this._modifyTime(e,this._currentSegment||"h",1),r=o&&+e<+o||n&&+e>+n?"addClass":"removeClass",i.find(".zh-up")[r](t)}}_getDisabledValue(e,t,a,o){let n=super._getDisabledValue(...arguments);return!n&&(e&&+o<+e||t&&+o>+t)&&(n=!0,this.container.find(`.zh-${1===a?"up":"down"}`).addClass("is-disabled")),n}_updateDisabledState(e,t,a){let o=this.container.find(`.zh-${a?"up":"down"}`),n,i;return e=+e,t=+t,i=a?t>e:t<e,e&&i&&(o.addClass("is-disabled"),n=!0),n||o.removeClass("is-disabled"),n}_parseTime(e,t,a){let o=this._opts.jumpOnComplete,n=this._viewDate,i=this._hoursModified,r,s;if("h"===e){if(s=(i?10*(a.getHours()%12):0)+parseInt(t),isNaN(s))return;if(r=s.toString(),!o&&12<s)s=this._isFastInput?parseInt(r[0]):parseInt(r.slice(-1));else if(o)for(;12<s;)s=parseInt(s.toString().slice(1));s=12<=n.getHours()?s+12:0==s%12?0:s,o&&i&&"1"!==t&&(this._isNextSegment=!0),23<s&&(s=12)}else if("H"===e){if(s=(this._isNewValue&&this._oldSegment!==this._currentSegment?0:i?10*a.getHours():0)+parseInt(t),isNaN(s))return;r=s.toString();let e=r.length;o&&(23<=s||2===e&&"0"!==r[1])&&(this._isNextSegment=!0),!o&&23<s&&this._isFastInput?2===e?s=n.getHours():3<=e&&(s=parseInt(s.toString().slice(1)),23<s&&(s=parseInt(s.toString()[0]))):23<s&&(s=o?parseInt(r[0]):parseInt(r.slice(-1)))}else if(-1<["m","s"].indexOf(e))this._parseMinuteSecond(e,t,a);else if("t"===e&&i){for(this._typedPeriodChar+=t.toLowerCase();0<this._typedPeriodChar.length;){let e=this._getI18NText("AM"),t=this._getI18NText("PM"),o=this._typedPeriodChar;if(0===e.toLowerCase().indexOf(o)&&12<=a.getHours()||0===t.toLowerCase().indexOf(o)&&12>a.getHours())return a.setHours((a.getHours()+12)%24),this._oldDateValue=new Date(n.getTime()),this._viewDate=a,!0;this._typedPeriodChar=o.substring(1,o.length)}return this._hoursModified=!0,!0}return-1<["H","h"].indexOf(e)&&a.setHours(s),-1===["m","s"].indexOf(e)&&(this._hoursModified=!0),a}_parseMinuteSecond(e,t,a){let o="m"===e?"Minutes":"Seconds",n=`_${this._getTimeParts()[e]}Modified`,i=(this[`${n}`]?10*a[`get${o}`]():0)+parseInt(t),r=this._opts.jumpOnComplete;if(!isNaN(i)){let e=i.toString();r&&(59<=i||2===e.length&&"0"!==e[1])&&(this._isNextSegment=!0),!r&&59<i&&this._isFastInput?2===e.length?i=this._viewDate[`get${o}`]():3<=e.length&&(59<i&&(i=parseInt(i.toString().slice(1))),59<i&&(i=parseInt(i.toString()[0]))):59<i&&(i=r?parseInt(e[0]):parseInt(e.slice(-1))),a[`set${o}`](i),this[n]=!0}}_minuteSecondUpdate(e,t,a,o){let n=`_${this._getTimeParts()[e]}Modified`,i=`${n.slice(1,7)}Step`,r="m"===e?"Minutes":"Seconds";t*=this._opts[i];let s=a[`get${r}`]()+t;return this._opts.incrementOnWrapAround&&o||(59<s&&(s%=60),0>s&&(s+=60)),(this[n]||0>t)&&a[`set${r}`](s),n}_isPartModified(e,t){this._isTimeModified(e,t)}_isTimeModified(e,t){let a=this._getTimeParts();this[`_${a[e]}Modified`]=t,-1<["h","H"].indexOf(e)&&!t&&(this._typedPeriodChar="")}_changeToViewDate(t){if(t=e.Date.parseDate(t,this._format),t=t&&t.isValid?t.date:void 0,t){let e=this._viewDate;t.setDate(e.getDate()),t.setMonth(e.getMonth()),t.setFullYear(e.getFullYear())}return t}setValue(e){e=this._changeToViewDate(e),super.setValue(e)}_setAttribute(e,t){-1<["value","min","max"].indexOf(e)&&t&&(t=this._changeToViewDate(t)),super._setAttribute(e,t)}}e.registerComponent("ZTimeField",e.ZDateInput,ZTimeField)}(ZComponents,ZComponents.DOMUtil),function(e,t){e.dateTimePrototype=class dateTimePrototype{},e.getPrototype(e.ZDateField,e.dateTimePrototype),e.getPrototype(e.ZTimeField,e.dateTimePrototype);class ZDateTimeField extends e.dateTimePrototype{get name(){return"zdatetimefield"}get attrs(){return{format:"dd/MM/yyyy, hh:mm tt"}}constructor(a,o){super(a,o),o=o||{},this.element=t(a),this._opts=t.extend(!0,{},this._DEFAULTS,e[this.name]?e[this.name].DEFAULTS:{},e._getOpts(a),o),this._create(t(a),this._opts),this._defineGetterSetter()}_checkForTime(){let e=this._opts.format;return-1<e.indexOf("H")||-1<e.indexOf("h")||-1<e.indexOf("m")}_checkForDate(){let e=this._opts.format;return-1<e.indexOf("d")||-1<e.indexOf("dd")}_validateFormat(){this._invalidFormat=!(this._checkForDate()&&this._checkForTime())}_getDateValue(){return this._dateModified&&this._monthModified&&this._yearModified&&this._hoursModified&&this._minutesModified&&this._secondsModified?new Date(this._viewDate.getTime()):void 0}_getRegEx(){return /dd{0,3}|MM{0,3}|yyyy|yy|HH|H|hh|h|mm|m|ss|s|tt|zz{0,2}|"[^"]*"|'[^']*'/g}_initPicker(){let e=this._opts,t=e.pickerOptions,a=e.min,o=e.max;a&&(a=new Date(+e.min)),o&&(o=new Date(+e.max)),t.minuteStep=e.minuteStep,t.hourStep=e.hourStep,t.minDate=t.minDate||a,t.maxDate=t.maxDate||o,super._initPicker()}_init(){this._checkTime=!0,this._isInit=!0,super._init(...arguments),this._opts.templateName="zdatefield",this._allowedChars="dMyHhmstz"}_postRender(){this._pickerMethods={create:"createDateTimePicker",instance:"datetimepicker"},super._postRender()}_getSuffix(e){return-1<"dMy".indexOf(e[0])?"Date":"Time"}_modifyValue(e,t,a,o){return this[`_modify${this._getSuffix(t)}`](e,t,a,o)}_replaceText(e){return this[`_replace${this._getSuffix(e)}`](e)}_resetOnBlur(e){this[`_reset${this._getSuffix(e)}OnBlur`](e)}_resetToFirst(e){this[`_reset${this._getSuffix(e)}ToFirst`](e)}_getCustomMatch(e){return this[`_get${this._getSuffix(e)}Match`](e)}_isPartModified(e,t){this[`_is${this._getSuffix(e)}Modified`](e,t)}_parseSegment(e,t,a){this[`_parse${this._getSuffix(e)}`](e,t,a)}_performValidations(){this._validateStep(["dateStep","monthStep","yearStep","hourStep","minuteStep","secondStep"]),super._performValidations();let e=this._opts.min,t=this._opts.format,a=this._opts.max;e&&e.setHours(e.getHours(),e.getMinutes(),0>t.indexOf("s")?0:e.getSeconds(),0),a&&a.setHours(a.getHours(),a.getMinutes(),0>t.indexOf("s")?0:a.getSeconds(),0),this._dateModified=this._monthModified=this._yearModified=this._hoursModified=this._minutesModified=this._secondsModified=!0,this._checkForModification(this._opts.value)}_isDateInstance(e){return e instanceof Date&&(e=new Date(e.getTime()),e.setSeconds(0,0)),e}_updateElementValue(){let t=this._getRegEx(),a=this._opts,o=a.format;this._retursFormat=!1;let n=o.replace(t,this._replaceMatchedText.bind(this));if(this._retursFormat=!0,this._dateFormat=o.replace(t,this._replaceMatchedText.bind(this)),this._input[0].value=n,a.value=this._getDateValue()?new Date(this._viewDate.getTime()):void 0,this._oldValue=n,this._hasPicker&&a.value){let t=new Date(a.value.getTime());t.setSeconds(0,0),(!this._lastValue||this._lastValue&&e.Date.parseDate(this._lastValue,a.format).date.getTime()!==t.getTime())&&e[this._pickerMethods.instance](this._picker).setAttribute("value",new Date(t.getTime()))}a.value&&(this._lastValue=this._isDateInstance(a.value))}_setFormat(){this._setFormatVal(/^(datetime-short|datetime-long|datetime-medium|datetime-full)$/,"datetime","dd/MM/yyyy, hh:mm tt")}}e.registerComponent("ZDateTimeField",e.dateTimePrototype,ZDateTimeField)}(ZComponents,ZComponents.DOMUtil),function(e,t){var a=Math.min,o=Math.abs,n=Math.max;class ZSlider extends e.CoreComponent{get name(){return"zslider"}get attrs(){return{orientation:"horizontal",locale:null,thumbIconStyle:"circle",thumbIconClass:null,thumbSVGIconId:null,min:0,max:100,step:1,valuesType:"range",value:0,minValueAllowed:null,maxValueAllowed:null,values:[],showTooltip:"never",showTicks:!1,snapToTicks:!0,stepBehavior:"w3",selectionStartValue:null,blurOnMouseRelease:!1,disabled:!1}}get props(){return{thumbIconClassName:null,tooltip:{position:"top",displayType:"callout",text:"#value#",isHTMLEncoded:!1},ticks:{splitBy:"count",count:4,step:null,randomValues:null,position:"bottom",showLabels:!0,showLabelsFor:null,labelPattern:"#value#",customLabels:null,isLabelHTMLEncoded:!1},valueDisplayFormat:{type:"number",currencyCode:null,prefix:null,suffix:null,decimalPlaces:null,thousandSeparator:!1},rangeGroups:{groups:[],isLabelHTMLEncoded:!1,labelPosition:"top"}}}get EVENTS(){return["init","focus","blur","change","slidestart","slide","slideend"]}get _MEASUREMENTS(){return["minValueAllowed","maxValueAllowed"]}_init(e,t){this._frominit=!0,["min","max","step","value","title","tabIndex"].forEach(a=>{let o=e[0][a];(o||0===o)&&(t[a]=o)}),e[0].disabled&&(t.disabled=!0),this._cacheMeasurements(),this._buildData()}_buildData(){let t=this._opts,a=this._data;a.rangeLabels=void 0,this.vertical="vertical"===t.orientation;let o="fixed"===t.valuesType;this._tip="never"!==t.showTooltip&&!o,this._isRange="range"===t.valuesType,this._hasRangeGroups=this._isRange&&t.rangeGroups.groups.length,t.locale=t.locale||e.locale,this._ticks=t.showTicks||o,a.ticksList=[],a.labels=[],this._isFixed=o,o&&this._setFixedValues(),this._validateProperty(),this.isCE||(this.element.addClass("zh-dnone"),a.style=this.element.attr("style"),a.title=this._opts.title),a.thumbs=[this._setThumb()],this._ticks&&this._handleTicks(),this._hasRangeGroups&&this._setRangeLabels(),this._tip&&this._setTooltip(),this._setSelectedLimit()}_getFromLocale(t,a){let o=e.localeInfo;if(o){let n=this._opts.locale||e.locale;return o=o[n][a?"currency":"numberFormat"],o[t]||""}}_postEachRender(){this._reStoreRef||(this._setDim(this.vertical?"height":"width"),this._showParent(),this._storeRef(...arguments),this._hideParent())}_setDim(e){let t=this._opts[e]||!this._useParent&&this.element[0].style[e];t&&(this.container[0].style[e]=isNaN(t)?t:t+"px")}_storeRef(e){e=this.container,this._shadowTrack=e.find(".zslider__shadowtrack"),this._innerSlider=e.find(".zslider__track"),this._range=this._innerSlider.find(".zslider__selection"),this._setClassName(),this._setDimensions(),this.container.find(".zslider__thumb").removeAttr("style"),this._opts.disabled&&this._disable(!0,!1),this._tip&&this._handleTip(),this._setHandlePosition(),this._ticks&&this._setTicksPosition(),this._ticksLabel&&this._setLabelsPosition(),this._hasRangeGroups&&this._setRangeLabelsPosition(),this._setCurrentValues(),this._handleSelectedLimit()}_setClassName(){let e=this._opts,t="zslider "+(e.className||e.zclassName||"");e.rtl&&(t+=" zh-rtl"),e.disabled&&(t+=" is-disabled"),this.vertical&&(t+=" zslider--vertical"),this.container.attr("class",t)}_setThumb(){let t=this._opts,a="",o="",n=t.thumbIconClassName,i;if(t.disabled?o=" is-disabled":i=t.tabIndex||0,t.thumbSVGIconId){e._getIconInfo(n,t.thumbSVGIconId)}else if(n)o+=n;else if("pointer"===t.thumbIconStyle){o+=" zslider__pointerthumb ";let e=this._getRTLBasedDir(this._getCorrectDir(t.ticks.position));(this._opts.rtl?/^(right|top)$/:/^(left|top)$/).test(e)&&(o+=" zh-inverted");let n=21,i=32;/^(right|left)$/.test(e)&&(n=32,i=21),a="<svg class=\"zslider__pointerthumbsvg\" viewBox=\"0 0 "+n+" "+i+"\" width=\""+n+"\" height=\""+i+"\">"+this["_pointer"+e[0].toUpperCase()+e.substr(1)]()+"</svg>"}else o+=" zslider__circlethumb";return{iconClass:o,tabIndex:i,iconHTML:a}}_getCorrectDir(e){return e="left"===e||"top"===e?this.vertical?"left":"top":this.vertical?"right":"bottom",e}_setDimensions(){this._handles=this.container.find(".zslider__thumb").toArray();let e="width",a="outerWidth",o=this._getRTLBasedDir("left"),n="outerHeight",i="top";this.vertical&&(e="height",a="outerHeight",o="bottom",n="outerWidth",i="left");let r=this._ticksLayout;if(r&&r.length){let e={};e["margin-"+this.marginDir]=e[this.marginDir]="auto",r.children().css(e)}this.innerDim=e,this.outerDim=a,this.marginDir=o,this.oppOuterDim=n,this.oppMargin=i;let s=t(this._handles[0]),l=this._innerSlider;this.sliderDim={height:l.height(),width:l.width(),outerHeight:l.outerHeight(),outerWidth:l.outerWidth()},this.handleDim={outerHeight:s.outerHeight(),outerWidth:s.outerWidth()}}_setHandlePosition(){let e=this._innerSlider.position(),a=parseInt(e[this.oppMargin]),o=this.sliderDim[this.oppOuterDim]/2,n=this.handleDim[this.oppOuterDim]/2,i=this._shadowTrack[this.oppOuterDim]()/2;t(this._handles).css(this.oppMargin,a-(n-o)+"px").css("margin-"+this.marginDir,-this.handleDim[this.outerDim]/2+"px"),this._shadowTrack.css(this.oppMargin,a-(i-o)+"px"),this._tip&&this._updateTip()}_setCurrentValues(){this._setValueByFindingInner(this._opts.value),this._updateLayout()}_setSelectedLimit(){let e=this._opts,t=[];this._data.selectedTrack=!1,e.minValueAllowed!==e.min&&(this._data.selectedTrack=!0),e.maxValueAllowed!==e.max&&t.push("1"),this._data.notAllowedRanges=t}_handleSelectedLimit(){let e=this._opts;this.container.find(".zslider__labels .is-disabled, .zslider__scale .is-disabled").removeClass("is-disabled"),this._data.selectedTrack&&this._setLimitPosition(e.min,e.minValueAllowed,"zslider__selected"),e.maxValueAllowed!==e.max&&this._setLimitPosition(e.maxValueAllowed,e.max,"zslider__notallowedrange")}_setLimitPosition(e,a,o){let n=this._opts,i=parseFloat(e)===n.min?0:this._getPercent(e),r=parseFloat(a)===n.max?100:this._getPercent(a),s=t(".zslider__track ."+o,this.container),l=s.attr("style")+";";s.attr("style",l+this.marginDir+":"+i+"%;"+this.innerDim+":"+(r-i)+"%");let d=this.container.find(".zslider__tick, .zslider__label");for(let r=0;r<d.length;r++){let o=d[r],i=+o.getAttribute("data-val");i<e||i>a||i===e&&e!==n.min||i===a&&a!==n.max||t(o).addClass("is-disabled")}}_bindEvents(){let e="."+this.name;this.container.on("mousedown"+e+" touchstart"+e,".zslider__shadowtrack,.zslider__track,.zslider__thumb,.zslider__tick,.zslider__label",this._onMouseDown.bind(this)).on("keydown"+e,".zslider__thumb",this._onSlide.bind(this)).on("keyup"+e,".zslider__thumb",this._onSlideEnd.bind(this)).on("mouseup"+e,this._onSlideEnd.bind(this)).on("mouseenter"+e,".zslider__thumb",this._onThumbEnter.bind(this)).on("mouseleave"+e,".zslider__thumb",this._onThumbLeave.bind(this)).on("focusin"+e,this._onFocus.bind(this)).on("focusout"+e,this._onFocusout.bind(this)),this._setCurrentValues(),this._frominit=!1,this._trigger("init")}_onFocus(e){this.container.addClass("has-focus"+(this._mouseActive?"":" on-tabfocus")),this._trigger("focus",e)}_onFocusout(e){clearTimeout(this.blurtimer),this.blurtimer=setTimeout(()=>{t(this._handles).is(":focus")||t(document.activeElement).closest(".zslider").length||(this.container.removeClass("is-active has-focus on-tabfocus"),this._activeHandle&&this._activeHandle.removeClass("is-active"),this._mouseActive=this._animate=!1,this._trigger("blur",e))},1)}_onThumbEnter(e){if(this._opts.disabled){let a=t(e.target).closest(".zslider__thumb");a.addClass("on-mouseover"),this._tip&&this._showTip(e)}}_onThumbLeave(e){if(this._opts.disabled){let a=t(e.target).closest(".zslider__thumb");a.removeClass("on-mouseover"),!this._tip||this._dragStarted||this._dragSelectionStarted||this._hideTip()}}_keyPress(t){let a=t.keyCode,o=e.keyCode,n=this._opts,i=n.value,r=this._opts.rtl&&!this.vertical;if(-1<[o.RIGHT,o.UP,o.PAGE_UP].indexOf(a))i=this._increase(!r);else if(-1<[o.LEFT,o.DOWN,o.PAGE_DOWN].indexOf(a))i=this._increase(r);else if(a===o.HOME)i=n.minValueAllowed;else if(a===o.END)i=n.maxValueAllowed;else return;return this._tip&&this._showTip(t),t.preventDefault(),i}_getActiveHandle(e){return this._handles[0]}_onMouseDown(e){let a="is-active";if(e.type="mousedown",!e.button&&!this._opts.disabled){this._mouseActive=!0,this.container.removeClass("on-tabfocus").addClass(a);let o=this._activeHandle;o&&o.removeClass(a),o=t(this._getActiveHandle(e)),o.addClass(a),o.length&&o[0][this._opts.blurOnMouseRelease?"blur":"focus"](),this._activeHandle=o,this.container.addClass(a),t(e.target).closest(".zslider__thumb").length||this._dragSelectionStarted||this._onSlide(e),this._bindDocumentEvent(e)}}_bindDocumentEvent(t){let a="."+this.name;e.$document.off(a).on("mousemove"+a+" touchmove"+a,e=>{e.type="mousemove",this._onSlide(e)}).on("mouseup"+a+" touchend"+a+" touchcancel"+a,e=>{e.type="mouseup",this._onSlideEnd(e)}),t.preventDefault()}_onSlide(e){if(!this._opts.disabled){let t=this._getValueFromEvent(e);"keydown"!==e.type&&this._tip&&this._showTip(e),this._isNotNull(t)&&(this._animate="mousemove"!==e.type,!this._dragStarted&&(this._storeInitialValue(),this._dragStarted=!0,this._trigger("slidestart",e)),this._setValue(t,e),this._trigger("slide",e),e.preventDefault())}}_onSlideEnd(t){this._opts.disabled||(e.$document.off("."+this.name),this._dragStarted&&(this._trigger("slideend",t),this._isValueChanged()&&(this._animate=!0,this._updateLayout(t))),this._tip&&(!this._activeHandle||!this._activeHandle.hasClass("on-mouseover"))&&this._hideTip(),this.container.removeClass("is-active"),this._animate=this._mouseActive=this._dragStarted=!1)}_storeInitialValue(){this._startValue=this.getValue()}_isValueChanged(){return this._startValue!==this.getValue()}_getTipText(){let e=this._opts;return this._getLabel(e.tooltip.text,e.value,e.tooltip.isHTMLEncoded)}_getLabel(t,a,o){return this._isRange&&this._formatLabel&&(a=this._formatLabel(a)),"string"==typeof t&&""!==t.trim()&&(a=t.replace(/#value#/gi,a)),o?a:e.encodeHTML(a)}_getValueFromEvent(e){let a=t(e.target);if("mousedown"===e.type&&a.hasClass("zslider__label"))return a.hasClass("is-disabled")?void 0:this._getInnerVal(a.attr("data-val"));if("keydown"===e.type)return this._keyPress(e);let o=this.sliderDim[this.innerDim],n=this.handleDim[this.outerDim],i=o-n,r=this._innerSlider.offset(),s=this._opts,l,d,c;"function"==typeof s.getCustomValue&&(c=s.getCustomValue,n=0);let m=e.touches&&e.touches[0]||e;if(this.vertical?(l=m.pageY-(r.top+n/2),d=1-l/i):(l=m.pageX-(r.left+n/2),d=l/i,s.rtl&&(d=1-d)),0>d?d=0:1<d&&(d=1),c)return c(100*d,s.min,s.max,this._handles.indexOf(this._activeHandle[0]));let _=this._trimDecimal(s.min,s.step,s.min+d*(s.max-s.min));return s.snapToTicks&&this._dragStarted&&this._ticksLayout&&(_=this._trimForSnap(_,l+n/2)),_}_trimValue(e){let t=this._opts,a=t.step;if(!this._skipTrimValue){let n=(parseFloat(e)-t.min)%a;if(0!=n){let t=parseFloat(e)-n;2*o(n)>a&&(t+=0<n?a:-a),e=t}}return this._trimDecimal(t.min,a,e)}_trimDecimal(e,t,a){let o=(e+"").split(".")[1]||"",i=(t+"").split(".")[1]||"";return+(+a).toFixed(n(o.length,i.length))}_setValue(e,t){let a=this._opts;a.value=this._getActualVal(this._getCorrectedValue(e,a.minValueAllowed,a.maxValueAllowed)),this._prevValue!==a.value&&this._updateLayout(t),this._prevValue=a.value}_getCorrectedValue(e,t,a){e=+e;let n=this._opts;if("fixed"===n.valuesType?(t=n.min,a=n.max):(t<n.min&&(t=n.min),a>n.max&&(a=n.max)),"default"===n.stepBehavior&&(e<=t||e>=a||isNaN(e)))e<t||isNaN(e)?e=t:e>a&&(e=a);else{if(e=this._trimValue(e),e<t||isNaN(e)){let a=(t-n.min)%n.step||n.step;e=t+n.step-a}else e>a&&(e=a-(a-n.min)%n.step);e=this._trimDecimal(n.min,n.step,e)}return e}_getInnerVal(e){return this._isFixed?this._values.indexOf(e+""):e}_getActualVal(e){return this._isFixed?this._values[e]:e}_updateLayout(e){let a={},n=this._opts,o=this._getPercent(n.value);a[this.marginDir]=o+"%";let i={},r=0,s=o,l=n.selectionStartValue,d=parseFloat(l);!isNaN(d)&&d>n.min&&d<=n.max&&(r=d===n.max?100:this._getPercent(l),l>=n.value&&(s=r)),i[this.marginDir]=r+"%",i[this.innerDim]=s-r+"%";let c=this._getInnerVal(n.value);this._handleAnimation(t(this._handles[0]),a,c,n.value),this._handleAnimation(this._range,i,!1,!1,()=>{this._animate=!1,this._frominit||e&&/(keydown|mousedown|mousemove)/.test(e.type)||this._trigger("change",e)}),this._tip&&this._updateTip(a)}_handleAnimation(e,t,a,o,n){!1!==a&&e.attr({"data-val":a,"aria-valuenow":a,"aria-valuetext":o}),this.container[this._animate?"addClass":"removeClass"]("zslider--transition"),e.css(t),n&&n()}_getPercent(e){let t=this._opts,a=t.getCustomPosition;if(e=this._getInnerVal(e),a)return a(e,t.min,t.max);let o=(parseFloat(e)-t.min)/(t.max-t.min),n=this.sliderDim[this.innerDim],i=this.handleDim[this.outerDim];return o=100*(o*(1-i/n)+.5*i/n),o}_increase(e=!0,t,a){let o=this._opts;a=a||o.step,t=this._getInnerVal(t||o.value);let n=a-(t-o.min)%a;return e?t+n:t-n}_trigger(e,t,a){return a=a||{},a.slider=this.getElement(),a.value=this.getValue(),this._dispatchEvent(e,t,a,void 0,!!t)}_restoreMeasurements(){this._MEASUREMENTS.forEach(e=>{this._opts[e]=this.actualProps[e]})}_parseArray(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}increase(e){this._setValue(this._increase(),e)}decrease(e){this._setValue(this._increase(!1),e)}_setValueByFindingInner(e,t){this._isNotNull(e)&&this._setValue(this._getInnerVal(e),t)}setValue(e,t){this._skipTrimValue=!0,this._setValueByFindingInner(...arguments),this._skipTrimValue=!1}getValue(){return this._opts.value}_validateProperty(){let e=this._opts,t=e.step,a=e.min,o=e.max,n=e.minValueAllowed,i=e.maxValueAllowed,r=e.value;"fixed"===e.valuesType?(t=1,a=n=0,o=i=e.values.length-1,0>this._getInnerVal(r)&&(r=this._getInnerVal(0))):(t=parseFloat(t),a=parseFloat(a),o=parseFloat(o),r=parseFloat(r),n=parseFloat(n),i=parseFloat(i),(isNaN(t)||0>=t)&&(t=1),a=isNaN(a)?0:a,o=isNaN(o)?100:o,o<=a&&(o=a+t),o-a<t&&(t=o-a),(isNaN(n)||n<a||o-n<t)&&(n=a),(isNaN(i)||i>o||i<n||i-n<t)&&(i=o),isNaN(r)||r<n?r=n:r>i&&(r=i)),e.step=t,e.min=a,e.max=o,e.minValueAllowed=n,e.maxValueAllowed=i,e.value=r}_cacheMeasurements(){this.actualProps={},this._MEASUREMENTS.forEach(e=>{this.actualProps[e]=this._opts[e]})}_showParent(){if(document.body.contains(this.container[0])&&this.container.is(":hidden")){let e=1;this._hiddenParents=[];for(let t=this.container;e&&t&&!t.is("body");)"none"===t.css("display")&&(this._hiddenParents.push(t),t.addClass("zslider__parent"),e=t.is(":hidden")),t=t.parent()}}_hideParent(){this._hiddenParents&&(this._hiddenParents.forEach(e=>{e.removeClass("zslider__parent")}),this._hiddenParents=[])}refresh(){this._reInit=!0,this._renderAttrChange()}_destroy(){this.isCE?this.element.empty().removeClass("zslider"):this.element.show(),e.$document.off("."+this.name)}_disable(e=!0,a=!0){this._opts.disabled=e,this._handles.forEach(a=>{super._disable(e,t(a))}),super._disable(e);let o=e?null:this._opts.tabIndex||0;this._tip&&!e&&a&&this._resetTip(),t(this._handles).attr("tabIndex",o)}_setFixedValues(){this._values=[],this._labels=[],this._opts.values.forEach(e=>{let t=e,a=e;"object"==typeof e&&(t=e.value,a=e.label||t),(t||0===t)&&(this._values.push(t+""),this._labels.push(a))})}_formatLabel(e){if(e||0===e){let t=this._opts.valueDisplayFormat,a=parseInt(t.decimalPlaces),o=this._getFromLocale("decimalSeparator");e=e.toString(),0<=a&&20>=a&&!isNaN(a)&&(e=(+e).toFixed(a));let n=e.split(".");if(t.thousandSeparator){let e=this._getFromLocale("thousandSeparator");n[0]=n[0].replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+(e||","))}e=n.join(o||".");let i=e;t.prefix?i=t.prefix+i:"currency"===t.type&&(i="#symbol#"+i),i+=t.suffix||"",i!==e&&(e=i.replace(/#value#/gi,e),"currency"===t.type&&["code","symbol","name"].forEach(t=>{let a=new RegExp("#"+t+"#","gi");if(a.test(i)){let o=this._getFromLocale(t,!0);o&&(e=e.replace(a,o))}}))}return e}_pointerBottom(e){return"<path class=\"pointerthumb__border\" d=\"M16.5,15.2l-6.5,7l-6.5-7V5c0-0.9,0.7-1.6,1.6-1.6H15c0.8,0,1.5,0.7,1.5,1.6V15.2z\"></path> <path class=\"pointerthumb__innerborder\" d=\"M15.5,14.4l-5.5,6l-5.5-6V5.7c0-0.7,0.6-1.3,1.3-1.3h8.3c0.8,0,1.4,0.6,1.4,1.3V14.4z\"></path> <path class=\"pointerthumb\" d=\"M14.5,13.9L10,18.8l-4.5-4.9V6.5c0-0.6,0.5-1.1,1.1-1.1h6.8c0.6,0,1.1,0.5,1.1,1.1V13.9z\"></path>"}_pointerLeft(e){return"<path class=\"pointerthumb__border\" d=\"M12.8,16.5l-7-6.5l7-6.5l10.2,0c0.9,0,1.6,0.7,1.6,1.6l0,9.9c0,0.8-0.7,1.5-1.6,1.5L12.8,16.5z\"></path> <path class=\"pointerthumb__innerborder\" d=\"M13.6,15.5l-6-5.5l6-5.5l8.7,0c0.7,0,1.3,0.6,1.3,1.3l0,8.3c0,0.8-0.6,1.4-1.3,1.4L13.6,15.5z\"></path> <path class=\"pointerthumb\" d=\"M14.1,14.5L9.2,10l4.9-4.5l7.4,0c0.6,0,1.1,0.5,1.1,1.1l0,6.8c0,0.6-0.5,1.1-1.1,1.1L14.1,14.5z\"></path>"}_pointerRight(e){return"<path class=\"pointerthumb__border\" d=\"M15.2,3.5l7,6.5l-7,6.5L5,16.5c-0.9,0-1.6-0.7-1.6-1.6V5c0-0.8,0.7-1.5,1.6-1.5L15.2,3.5z\"></path> <path class=\"pointerthumb__innerborder\" d=\"M14.4,4.5l6,5.5l-6,5.5H5.7c-0.7,0-1.3-0.6-1.3-1.3l0-8.3c0-0.8,0.6-1.4,1.3-1.4H14.4z\"></path> <path class=\"pointerthumb\" d=\"M13.9,5.5l4.9,4.5l-4.9,4.5H6.5c-0.6,0-1.1-0.5-1.1-1.1l0-6.8c0-0.6,0.5-1.1,1.1-1.1H13.9z\"></path>"}_pointerTop(e){return"<path class=\"pointerthumb__border\" d=\"M3.5,12.8l6.5-7l6.5,7V23c0,0.9-0.7,1.6-1.6,1.6H5c-0.8,0-1.5-0.7-1.5-1.6V12.8z\"></path> <path class=\"pointerthumb__innerborder\" d=\"M4.5,13.6l5.5-6l5.5,6v8.7c0,0.7-0.6,1.3-1.3,1.3H5.9c-0.8,0-1.4-0.6-1.4-1.3V13.6z\"></path> <path class=\"pointerthumb\" d=\"M5.5,14.1L10,9.2l4.5,4.9v7.4c0,0.6-0.5,1.1-1.1,1.1H6.6c-0.6,0-1.1-0.5-1.1-1.1V14.1z\"></path>"}_setRangeLabels(){let e=this._opts,t=[],a=[],o;if(Array.isArray(o=this._parseArray(e.rangeGroups.groups))&&o.length){o.forEach(e=>{t.push({label:e.label,className:e.className||"",CSSStyle:e.background?"background:"+e.background:""}),a.push({label:e.label})}),this.vertical&&(t=t.reverse(),a=a.reverse());let n=this._getCorrectDir(e.rangeGroups.labelPosition),i=!1,r="zh-inverted";/^(top|left)$/.test(n)&&(r="",i=!0),this._data.showRangeLabelsInTop=i,this._data.rangeLabelsClass=r}this._data.rangeLabels=a,this._data.ranges=t}_setRangeLabelsPosition(){let e=0,a=this._opts;if(this._data.ranges.length){let o=this.container.find(".zslider__rangegroup"),n=this.container.find(".zslider__rangelabel"),r=e=>{if(e||0===e){if(/%$/.test(e)&&(e=a.min+(a.max-a.min)*parseFloat(e)/100),isNaN(e)||e<a.min||e>a.max)return 0;if(+e!==a.max)return this._getPercent(+e)}};a.rangeGroups.groups.forEach((s,l)=>{let i=parseFloat(s.from),d=parseFloat(s.to),c=0;i!==a.min&&(c=r(i)),isNaN(c)||(e=c);let m=100;if(d!==a.max&&(m=r(d)),isNaN(m))return;let _=/(margin-left|margin-bottom|bottom|width|height|left)[.%:\w\d\s]+;/gi,u=o[l].getAttribute("style")||0;u&&(u=u.replace(_,""));let p=this.marginDir+":"+e+"%;"+this.innerDim+":"+(m-e)+"%;";o[l].setAttribute("style",u+";"+p);let h=n[l];if(u=h.getAttribute("style")||0,u&&(u=u.replace(_,"")),h.setAttribute("style",u+";"+p),this.vertical){let a=t(h).find(".zslider__text");u=a.attr("style")||"",u.replace(_,""),a.attr("style",u+";max-"+this.innerDim+":"+this.sliderDim[this.outerDim]*(m-e)/100+"px")}e=m})}}_setAttribute(e,a){let n=this._opts,o=!1;"min"===e||"max"===e||"minValueAllowed"===e||"maxValueAllowed"===e||"step"===e?(this._restoreMeasurements(),n[e]=a,this._cacheMeasurements(),this._validateProperty(),o=!0):"selectionStartValue"===e?(n[e]=a,this._updateLayout()):"value"===e?this.setValue(a):"valuesType"===e?(n[e]=a,"range"===a?n.ticksStep=this.actualProps.ticksStep:this.actualProps.ticksStep=n.ticksStep,o=!0):"values"===e?Array.isArray(a)&&(n[e]=a,o=!0):"showTooltip"===e?(n[e]=a,this._tip="never"!==a,this._resetTip()):"tooltip"===e?this._handleObjUpdate(e,a)&&this._resetTip():"rangeGroups"===e||"ticks"===e||"valueDisplayFormat"===e?(this._reStoreRef=!1,o=this._handleObjUpdate(e,a)):"animation"===e?n[e]=a:"rtl"===e||"orientation"===e||"showTicks"===e||"locale"===e||"thumbIconStyle"===e||"thumbSVGIconId"===e||"thumbIconClassName"===e?(this._reStoreRef=!1,n[e]=a,"width"===e?this.container.width(a):"orientation"==e&&(n[e]=a,t(".ztooltip, .ztooltip__pointer, .zslider__labels .zslider__label, .zslider__selected, .zslider__notallowedrange",this.container).removeAttr("style"),this._range.removeAttr("style"),t(this._handles).removeAttr("style"),t(this._ticks).removeAttr("style"),this._shadowTrack.css({left:"auto",top:"auto"})),o=!0):void 0;o&&this._reRender()}_reRender(){this._values=this._labels=void 0,this._reInit=!0}_handleObjUpdate(e,t){let a;return Object.keys(t).forEach(o=>{this._opts[e][o]=t[o],a=!0}),a}_handleTicks(){let e=this._opts;this._data.labels=this._data.ticksList=[],this._setTicks(),e.ticks.showLabels&&(this._setLabels(),this._ticksLabel=!0);let t=this._getCorrectDir(e.ticks.position),a="",o=/^(left|top)$/.test(t);o&&(a="zh-inverted"),this._data.showTicksInTop=o,this._data.ticksClass=a,this._data.labelsClass=a}_setTicks(){let e=this._opts,t=[],a=e.ticks.splitBy,o=e.ticks.step,n=e.min,i=e.max,r=[],s;if("fixed"===e.valuesType&&(o=1,a="step"),"step"===a&&0<o){o=parseFloat(o);for(let e=n;e<=i;e+=o)r.push({value:this._getActualVal(this._trimDecimal(n,o,e))});e.ticks.step=o}else if("random"===a&&Array.isArray(s=this._parseArray(e.ticks.randomValues)))s.forEach(e=>{e=parseFloat(e),!isNaN(e)&&e>=n&&e<=i&&-1===t.indexOf(e)&&t.push(e)}),t=t.sort((e,t)=>+e-+t),t.forEach(e=>{r.push({value:e})});else{let t=parseInt(e.ticks.count);e.ticks.count=t,t=1<t?t:4,o=(i-n)/(t-1),r.push({value:n});for(let e=1;e<t-1;e++)r.push({value:this._trimDecimal(n,o,e*o+n)});r.push({value:i})}this._data.ticksList=r}_setTicksPosition(){let e=this.container.find(".zslider__scale"),a=e.children();this._data.ticksList&&this._data.ticksList.forEach((e,o)=>{t(a[o]).css(this.marginDir,this._getPercent(e.value)+"%")});let o=t(a[0])[this.outerDim]();a.css("margin-"+this.marginDir,-o/2+"px"),this._ticksLayout=e}_trimForSnap(e,t){let a=this._data.ticksList||[],n=a.length,r,s,l;if(n){e=parseFloat(e);let i=a[0].value,d=o(i-e);for(l=1;l<n;l++)r=a[l].value,s=o(r-e),s<d&&(i=r,d=s);if(0==i%this._opts.step&&i!==e){let a=this._ticksLayout.find("[data-val=\""+i+"\"]"),n=a.position()[this.vertical?"top":"left"];7>o(n-t)&&(e=this._getActualVal(i))}}return e}_setLabelsPosition(){let e=this._data.labels||"",n=this._ticksLayout.children();if(e.length&&n.length){let e=this.container.find(".zslider__labels .zslider__label"),r=e.length;if(this.vertical)for(let t=0;t<r;t++)e[t].style.bottom=`calc(${n[t].style.bottom} - ${e[t].offsetHeight/2}px)`;else{e.removeAttr("style");let s=this.sliderDim[this.innerDim],l=parseInt(t(n[0]).css(this.marginDir))+60;for(let d=0;d<r;d++){let i=t(n[d]),r=t(n[d+1]),c=o((r.length?parseInt(r.css(this.marginDir)):s+60)-parseInt(i.css(this.marginDir))),m=t(e[d])[this.outerDim]()+1,_=t(e[d+1])[this.outerDim]()+1;r.length&&_<c&&(c=o(c+(c-_)));let u=a(l,c,m);if(u){l=c+(c-u);let t=this._getPercent(i.attr("data-val"))+"%";t=`calc(${t} - ${u/2}px)`,e[d].style[this.innerDim]=u+"px",e[d].style[this.marginDir]=t}}}let s=this._ticksLayout.find(".zslider__labels");for(let e=0,t;e<s.length;e++)t=s[e],t.offsetWidth<t.scrollWidth&&t.setAttribute("title",t.textContent)}}_setLabels(){let t=this._opts,a=this._data.ticksList;if(a&&a.length){let o="fixed"===t.valuesType?this._labels:this._parseArray(t.ticks.customLabels),n=[],r=this._parseArray(t.ticks.showLabelsFor),s=!Array.isArray(r)||!r.length,l=0,d=a.length;if(Array.isArray(o)&&o.length){let c=o.length;for(let m=0,i;m<d&&l!==c;m++)if(i=a[m].value,s||-1<r.indexOf(i)){let a=o[l++];n.push({value:i,label:t.ticks.isLabelHTMLEncoded?a:e.encodeHTML(a)})}}else a.forEach(e=>{let a=e.value;(s||-1<r.indexOf(a))&&n.push({value:a,label:this._getLabel(t.ticks.labelPattern,this._translateEToA(a),t.ticks.isLabelHTMLEncoded)})});this._data.labels=n}}_getTipPosition(e){let t={},a=this._tipDir,o=/^(top|left)$/.test(a)?-1:1,n="outerHeight",i="outerWidth",r="top";"vertical"===this._opts.orientation&&(n="outerWidth",i="outerHeight",r="left");let s=this.sliderDim[n],l=this._tooltip.find(".ztooltip__pointer"),d=l.length?l[n]():0,c=this.handleDim[n],m=(s>c?0:(c-s)/2)+d+0;return m+=a===r?this._tooltip[n]():s,t[r]=this._innerSlider.position()[r]+m*o+"px","at-cursor"!==a&&(t["margin-"+this.marginDir]=-(this._tooltip[i]()/2)+"px",t[this.marginDir]=e?e[this.marginDir]:this._handles[0].style[this.marginDir]),t}_setTooltip(){let e=this._opts;if("fixed"!==e.valuesType&&"never"!==e.showTooltip){let t=e.tooltip.position,a="at-cursor"!==t;"at-cursor"===t&&"onslide"===e.showTooltip?(e.tooltip.displayType="box",a=!1):t=this._getRTLBasedDir(this._getCorrectDir(t)),this._data.tooltip={callout:a,class:{left:"ztooltip--left",right:"ztooltip--right",top:"ztooltip--top",bottom:"ztooltip--bottom","at-cursor":"ztooltip--bottom"}[t]||"",pointerClass:{left:"zh-right",right:"zh-left",top:"zh-bottom",bottom:"zh-top","at-cursor":"zh-top"}[t]||""},this._tipDir=t}else this._data.tooltip=this._tooltip=void 0}_handleTip(){if(this._tip){if(this._tooltip=this.container.find(".ztooltip"),"callout"===this._opts.tooltip.displayType){let e=this._tooltip.find(".ztooltip__pointer"),t={};t[this.marginDir]="calc(50% - "+e[this.outerDim]()/2+"px",this.vertical&&(t.top="auto"),e.css(t)}"always"===this._opts.showTooltip?this._updateTip():this._hideTip()}}_showTip(e){this._tip&&(this._tooltip[0].style.display="","at-cursor"===this._tipDir&&e&&this._setTipAtCursor(e))}_hideTip(){this._tip&&"always"!==this._opts.showTooltip&&this._tooltip.hide()}_updateTip(e){!this._opts.disabled&&this._tip&&(this._tooltip.find(".ztooltip__content").text(this._getTipText()),this._handleAnimation(this._tooltip,this._getTipPosition(e)))}_resetTip(){this._setTooltip(),this._reStoreRef=!1,this._render(),this._tooltip&&this._tooltip.removeAttr("style"),this._reStoreRef=!0,this._tip&&(this._handleTip(),this._updateTip())}_setTipAtCursor(e){let t="left",o="pageX",i="outerWidth";this.vertical&&(t="top",o="pageY",i="outerHeight"),this._tooltip[0].style[t]=n(a(e[o]-this.container.offset()[t],this.sliderDim[i]),0)+"px"}}e.registerComponent("ZSlider",ZSlider)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zslider.Templates;t.WCContainer=e=>ZT.html`<z-slider class="zslider" >${e.children&&t.WCChildren(e)}</z-slider>`,t.WCChildren=e=>{let a=ZT.html` <div class="zslider__shadowtrack" style="${e.shadowCSSStyle}"></div> ${e.showRangeLabelsInTop&&t.WCRangeLabels(e)} ${e.showTicksInTop&&t.WCTicks(e)} <div class="zslider__track"> ${e.ranges&&e.ranges.map(e=>ZT.html`<div class="zslider__rangegroup ${e.className}" style="${e.CSSStyle}">${e.text}</div>`)} <div class="zslider__selection" style="${e.selectionPosition}"></div> ${e.selectedTrack&&ZT.html`<div class="zslider__selected"></div>`} ${e.notAllowedRanges.map(e=>ZT.html`<div class="zslider__notallowedrange zslider__notallowedrange${e}"></div>`)} </div> ${!e.showTicksInTop&&t.WCTicks(e)} ${!e.showRangeLabelsInTop&&t.WCRangeLabels(e)} ${e.thumbs.map(t=>ZT.html`<div role="slider" class="zslider__thumb ${t.iconClass}" ?aria-disabled="${e.disabled}" aria-orientation="${e.orientation}" aria-valuemin="${e.min}" aria-valuemax="${e.min}" tabindex="${t.tabIndex}" data-val="${e.min}" aria-valuenow="${e.min}" aria-valuetext="${e.min}">${ZT.customHTML(t.iconHTML)}</div>`)} ${e.tooltip&&t.WCTooltip(e.tooltip)} `;return a},t.WCRangeLabels=e=>{let t=e.rangeLabels&&ZT.html`<div class="zslider__rangelabels ${e.rangeLabelsClass}"> ${e.rangeLabels.map(e=>ZT.html`<div class="zslider__rangelabel"> <span class="zslider__textcontainer"><span class="zslider__text">${e.label}</span></span> </div>`)} </div>`;return t},t.WCTicks=e=>e.ticksList.length&&ZT.html`${!e.showTicksInTop&&ZT.html`<div class="zslider__scale ${e.ticksClass}"> ${e.ticksList.map(e=>ZT.html`<div class="zslider__tick" data-val="${e.value}"></div>`)} </div>`} ${e.labels&&ZT.html`<div class="zslider__labels ${e.labelsClass}"> ${e.labels.map(e=>ZT.html`<div class="zslider__label" data-val="${e.value}">${e.label}</div>`)} </div>`} ${e.showTicksInTop&&ZT.html`<div class="zslider__scale ${e.ticksClass}"> ${e.ticksList.map(e=>ZT.html`<div class="zslider__tick" data-val="${e.value}"></div>`)} </div>`} `,t.WCTooltip=e=>ZT.html`<div class='ztooltip ${e.class}'> <div class='ztooltip__content'></div> ${e.callout&&ZT.html`<div class="ztooltip__pointer ${e.pointerClass}"></div>`} </div>`}(ZComponents),function(e){let t=e.zslider.Templates;t.container=e=>ZT.html`<div class="zslider" >${e.children&&t.children(e)}</div>`,t.children=e=>{let a=ZT.html` <div class="zslider__shadowtrack" style="${e.shadowCSSStyle}"></div> ${e.showRangeLabelsInTop&&t.rangeLabels(e)} ${e.showTicksInTop&&t.ticks(e)} <div class="zslider__track"> ${e.ranges&&e.ranges.map(e=>ZT.html`<div class="zslider__rangegroup ${e.className}" style="${e.CSSStyle}">${e.text}</div>`)} <div class="zslider__selection" style="${e.selectionPosition}"></div> ${e.selectedTrack&&ZT.html`<div class="zslider__selected"></div>`} ${e.notAllowedRanges.map(e=>ZT.html`<div class="zslider__notallowedrange zslider__notallowedrange${e}"></div>`)} </div> ${!e.showTicksInTop&&t.ticks(e)} ${!e.showRangeLabelsInTop&&t.rangeLabels(e)} ${e.thumbs.map(t=>ZT.html`<div role="slider" class="zslider__thumb ${t.iconClass}" ?aria-disabled="${e.disabled}" aria-orientation="${e.orientation}" aria-valuemin="${e.min}" aria-valuemax="${e.min}" tabindex="${t.tabIndex}" data-val="${e.min}" aria-valuenow="${e.min}" aria-valuetext="${e.min}">${ZT.customHTML(t.iconHTML)}</div>`)} ${e.tooltip&&t.tooltip(e.tooltip)} `;return a},t.rangeLabels=e=>{let t=e.rangeLabels&&ZT.html`<div class="zslider__rangelabels ${e.rangeLabelsClass}"> ${e.rangeLabels.map(e=>ZT.html`<div class="zslider__rangelabel"> <span class="zslider__textcontainer"><span class="zslider__text">${e.label}</span></span> </div>`)} </div>`;return t},t.ticks=e=>e.ticksList.length&&ZT.html`${!e.showTicksInTop&&ZT.html`<div class="zslider__scale ${e.ticksClass}"> ${e.ticksList.map(e=>ZT.html`<div class="zslider__tick" data-val="${e.value}"></div>`)} </div>`} ${e.labels&&ZT.html`<div class="zslider__labels ${e.labelsClass}"> ${e.labels.map(e=>ZT.html`<div class="zslider__label" data-val="${e.value}">${e.label}</div>`)} </div>`} ${e.showTicksInTop&&ZT.html`<div class="zslider__scale ${e.ticksClass}"> ${e.ticksList.map(e=>ZT.html`<div class="zslider__tick" data-val="${e.value}"></div>`)} </div>`} `,t.tooltip=e=>ZT.html`<div class='ztooltip ${e.class}'> <div class='ztooltip__content'></div> ${e.callout&&ZT.html`<div class="ztooltip__pointer ${e.pointerClass}"></div>`} </div>`}(ZComponents),function(e,t){class ZSpinnerslider extends e.CoreComponent{get name(){return"zspinnerslider"}get attrs(){return{min:0,max:100,step:1,disabled:!1,value:null,className:"",zclassName:"zspinnerslider"}}get props(){return{numberfield:{spinButtons:!0,clearButton:"none",spinValues:!0,width:100},slider:{}}}get tagName(){return"z-spinnerslider"}get EVENTS(){return["change","start","stop","spin"]}_onSliderChange(e,t){let a=t.detail,o=this._opts.value=a.value;a.fromUI&&(this._setFieldValue(o),this._trigger(e,t.originalEvent,{value:o}))}_onInputChange(e,t){let a=t.detail,o=this._opts.value=a.value;this._setSliderValue(o),this._trigger(e,t.originalEvent,{value:o})}_trigger(e,t,a){return this._dispatchEvent(e,t,a,void 0,!!t)}_init(){this._validate()}_validate(){let e=this._opts,a=this._data,o=e.numberfield;["min","max","step","value"].forEach(t=>{let a=this.element.attr(t);a!==void 0&&""!==a&&(e[t]=this.element[0][t])}),e.disabled=e.disabled||this.element[0].disabled,e.value=isNaN(e.value)?e.min:e.value;let n={min:e.min,max:e.max,step:e.step,value:e.value,templateRender:!0,isCE:this.isCE,disabled:e.disabled};a.slider=t.extend(!0,{},n,{slidestart:(e,t)=>{this._onSliderChange("start",e,t)},slide:(e,t)=>{this._onSliderChange("spin",e,t)},slideend:(e,t)=>{this._onSliderChange("stop",e,t)},change:(e,t)=>{this._onSliderChange("change",e,t)},id:this._getID()},e.slider),a.numberfield=t.extend(!0,{},n,{spinstart:(e,t)=>{this._onInputChange("start",e,t)},spin:(e,t)=>{this._onInputChange("spin",e,t)},spinend:(e,t)=>{this._onInputChange("stop",e,t)},blur:(e,t)=>{this._onInputChange("change",e,t)},id:this._getID(),customAttributes:{style:"width:"+o.width+"px"}},o)}_postEachRender(){let t=this.container,a=t.find(`#${this._data.numberfield.id}`),o=t.find(`#${this._data.slider.id}`);this._fieldInstance=e.numberfield(a),this._sliderInstance=e.slider(o),this._sliderInstance.refresh()}_setAttribute(e,t){"value"===e?this.setValue(t):"disabled"===e?(this._sliderInstance.setAttribute("disabled",t),this._fieldInstance.setAttribute("disabled",t)):"numberfield"===e?this._fieldInstance.setAttributes(t):"slider"==e&&this._sliderInstance.setAttributes(t),this._opts[e]=t}setValue(e){isNaN(e)||(this._setFieldValue(e),this._setSliderValue(e),this._trigger("change",null,{value:e}))}_setFieldValue(e){this._fieldInstance.setValue(e)}_setSliderValue(e){this._sliderInstance.setValue(e)}getValue(){return this._opts.value}_destroy(){this._sliderInstance.destroy(),this._fieldInstance.destroy()}}e.registerComponent("ZSpinnerslider",ZSpinnerslider)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zspinnerslider.Templates;t.WCContainer=e=>ZT.html`<z-spinnerslider ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="${e.className}">${e.children&&t.WCChildren(e)}</z-spinnerslider>`,t.WCChildren=t=>ZT.html`${t.slider&&e.createSlider(t.slider)} ${t.numberfield&&e.createNumberField(t.numberfield)}`}(ZComponents),function(e){let t=e.zspinnerslider.Templates;t.container=e=>ZT.html`<div ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="${e.className}">${e.children&&t.children(e)}</div>`,t.children=t=>ZT.html`${t.slider&&e.createSlider(t.slider)} ${t.numberfield&&e.createNumberField(t.numberfield)}`}(ZComponents),function(e,t){function a(e){(function(){let t=e.data("zscroll");t&&(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){e&&e.is(":visible")&&t._reinitialize()},0))})(jQuery,window)}var o=Math.ceil,n=Math.abs;e.scrollBindings=[],e.nullLowestDeltaTimeout=void 0,e.lowestDelta=void 0,e.detectPassiveEventSupport=function(){let e=!1,a;try{a=Object.defineProperty({},"passive",{get:function(){e=!0}}),window.addEventListener("passiveListenerSupportTest",t.noop(),a),window.removeEventListener("passiveListenerSupportTest",t.noop(),a),this.passiveListenerSupport=e}catch(e){this.passiveListenerSupport=!1}},e.specialMouseWheelHandler=function(){this.detectPassiveEventSupport();let a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(let e=a.length;0<=e;e--)t.event.fixHooks[a[e]]=t.event.mouseHooks;e.mouseSpecial=t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(let t=o.length;0<=t;t--)this.addEventListener(o[t],e.mouseWheelHandler,!!(e.passiveListenerSupport&&e.Browser.isMobile)&&{passive:!0});else this.onmousewheel=e.mouseWheelHandler;t.data(this,"mousewheel-line-height",e.mouseSpecial.getLineHeight(this)),t.data(this,"mousewheel-elem-height",e.mouseSpecial.getElementHeight(this))},getElementHeight:function(e){return t(e).height()},getLineHeight:function(e){var e=t(e),a=e["offsetParent"in t.fn?"offsetParent":"parent"]();return a.length||(a=t("body")),parseInt(a.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},teardown:function(){if(this.removeEventListener)for(let t=o.length;0<=t;t--)this.removeEventListener(o[t],e.mouseWheelHandler,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-elem-height")},settings:{adjustOldDeltas:!0,normalizeOffset:!0}}},e.shouldAdjustOldDeltas=function(t,a){return e.mouseSpecial.settings.adjustOldDeltas&&"mousewheel"===t.type&&0==a%120},e.mouseWheelHandler=function(a){let o=a||window.event,i=Array.prototype.slice.call(arguments,1),r=0,s=0,l=0,d=0,c=0,m=0;if(a=t.event.fix(o),a.type="mousewheel","detail"in o&&(l=-1*o.detail),"wheelDelta"in o&&(l=o.wheelDelta),"wheelDeltaY"in o&&(l=o.wheelDeltaY),"wheelDeltaX"in o&&(s=-1*o.wheelDeltaX),r=0===l?s:l,"deltaY"in o&&(l=-1*o.deltaY,r=l),"deltaX"in o&&(s=o.deltaX,0===l&&(r=-1*s)),0!==l||0!==s){if(1===o.deltaMode){let e=t.data(this,"mousewheel-line-height");r*=e,l*=e,s*=e}else if(2===o.deltaMode){let e=t.data(this,"mousewheel-elem-height");r*=e,l*=e,s*=e}if(d=Math.max(n(l),n(s)),(!e.lowestDelta||d<e.lowestDelta)&&(e.lowestDelta=d,e.shouldAdjustOldDeltas(o,d)&&(e.lowestDelta/=40)),e.shouldAdjustOldDeltas(o,d)&&(r/=40,s/=40,l/=40),r=Math[1<=r?"floor":"ceil"](r/e.lowestDelta),s=Math[1<=s?"floor":"ceil"](s/e.lowestDelta),l=Math[1<=l?"floor":"ceil"](l/e.lowestDelta),e.mouseSpecial.settings.normalizeOffset&&this.getBoundingClientRect){let e=this.getBoundingClientRect();c=a.clientX-e.left,m=a.clientY-e.top}if(a.deltaX=s,a.deltaY=l,a.deltaFactor=e.lowestDelta,a.offsetX=c,a.offsetY=m,a.deltaMode=0,i.unshift(a,r,s,l),e.nullLowestDeltaTimeout&&clearTimeout(e.nullLowestDeltaTimeout),e.nullLowestDeltaTimeout=setTimeout(e.nullLowestDelta,200),e.Browser.isMobile){let e=new CustomEvent("custommousewheel",{bubbles:!0,composed:!0,cancelable:!0,detail:i});this.dispatchEvent(e)}else return(t.event.dispatch||t.event.handle).apply(this,i)}},e.nullLowestDelta=function(){e.lowestDelta=null},e.$window.on("resize.zscroll",function(){if(e.scrollBindings)for(let o=0;o<e.scrollBindings.length;o++)a(t(e.scrollBindings[o]))});class ZScroll extends e.CoreComponent{get name(){return"zscroll"}get attrs(){return{dynamicDimensions:!1,top:0,left:0,autoReinit:!1,scrollIncrement:55,showScrollBarOnHover:!1,showScrollBarAlways:!1,disappearDelay:1200,animateHide:!1,forceRefresh:!0,reinitDelay:500,showScrollBarOnTrackHover:!1}}get EVENTS(){return["scroll","scrollxend","scrollyend","scrollend"]}get name(){return"zscroll"}_create(t,a){e.specialMouseWheelHandler(),this._initialize(),this._opts.dynamicDimensions&&e.scrollBindings.push(this.element)}_initialize(){this._minScrollBarSize=35,this._isUL&&this.element.removeClass("zoverflow__visible"),void 0===this._pane?(this._padding={top:this.element.css("paddingTop"),left:this.element.css("paddingLeft"),bottom:this.element.css("paddingBottom"),right:this.element.css("paddingRight")},this._originalPadding=this.element.css("paddingTop")+" "+this.element.css("paddingRight")+" "+this.element.css("paddingBottom")+" "+this.element.css("paddingLeft")):this.element.removeClass("zscroll");let a=this._reinitialized&&this._isUL?this._parentElement:this.element;if(this._elementWidth=a.width(),this._elementHeight=a.height(),this._paneWidth=a.innerWidth(),this._paneHeight=this.element.innerHeight(),"UL"===this.element[0].tagName)this._isUL=!0,this.element.addClass("zoverflow__visible");else if(this.element.addClass("zscroll"),void 0!==this._pane){let e=this.element.css("max-height");if(e&&"none"!==e&&-1===e.indexOf("%")){let t=this.element.find(".zscroll__content"),a=parseInt(e);isNaN(a)||(this._paneHeight=t.innerHeight()||this._paneHeight,this._paneHeight>a&&(this._paneHeight=a)),this._paneWidth=t.innerWidth()||this._paneWidth}}if(void 0===this._pane){if(this._outerPane=t("<div class=\"zscroll__container\"/>"),this._isUL){this._parentElement=t("<div>");let e=this.element.parent();this.element.appendTo(this._parentElement),this._parentElement.appendTo(e).addClass("zscroll")}this._pane=t("<div class=\"zscroll__content\" />").css("padding",this._originalPadding).append(this._isUL?this._parentElement.children():this.element.children()).appendTo(this._outerPane),this._outerPane.appendTo(this._isUL?this._parentElement:this.element),(e.Browser.isFirefox||e.Browser.isIE)&&this._pane.css("padding-bottom","0px")}if(this._createStyle(),this._outerPane.css({width:this._paneWidth,height:this._paneHeight}),this._pane.width(this._elementWidth),this._pane.css("overflow","auto"),this._contentWidth=this._pane[0].scrollWidth,this._contentHeight=this._pane[0].scrollHeight,this._isUL&&(this._contentHeight!==this.element[0].scrollHeight&&(this._contentHeight=this.element[0].scrollHeight),this._contentWidth!==this.element[0].scrollWidth&&(this._contentWidth=this.element[0].scrollWidth)),this._pane.css("overflow",""),this._percentInViewX=this._contentWidth/this._paneWidth,this._percentInViewY=this._contentHeight/this._paneHeight,this._horizontal=1<this._percentInViewX,this._vertical=1<this._percentInViewY,this._handleScrollYTrack(),this._handleScrollXTrack(),this._reinitialized||this._bindEvents(),this._maxScrollY=this._contentHeight-this._paneHeight,this._maxScrollX=this._contentWidth-this._paneWidth,this._vertical&&this._finalVerValue){var o=-this._pane.position().top,n=o/this._maxScrollY,n;this._scrollPosY(void 0,n*this._maxDragY)}if(this._horizontal&&this._finalHorValue){var o=-this._pane.position().left,n=o/this._maxScrollX,n;this._scrollPosX(void 0,n*this._maxDragX)}this._reinitialized||(window.clearInterval(this._clearAutoreinit),this._opts.autoReinit&&(this._clearAutoreinit=window.setInterval(this._reinitialize.bind(this),this._opts.reinitDelay))),this._vertical&&this._reflectOptionValueInElement("top"),this._horizontal&&this._reflectOptionValueInElement("left"),this._reinitialized=!1}_createStyle(e){if(this._style=document.getElementById("zcomponentsstyle"),this._style||(this._style=document.createElement("style"),this._style.setAttribute("id","zcomponentsstyle"),t(document.body).prepend(this._style)),!e){t(this._textNode).remove(),this._currentClass=Math.floor(1e6*Math.random())+this.componentName,this._props=" { width: "+this._paneWidth+"px; height: "+this._paneHeight+"px; } ";let e=" ."+this._currentClass+" "+this._props;this._textNode=document.createTextNode(e),this._style.appendChild(this._textNode)}this[this._isUL?"_parentElement":"element"].addClass(this._currentClass)}_reflectOptionValueInElement(e){let t=this;Object.defineProperty(this.element[0],"scroll"+(e[0].toUpperCase()+e.substring(1)),{set:function(a){this._addedByComponent||t.setAttribute(e,a),delete this._addedByComponent},get:function(){return-t._opts.top},configurable:!0})}_handleScrollYTrack(){this._vertical?(this._verticalTrack===void 0&&(this._verticalTrack=t("<div class='zscroll__track--v'>"),this._verticalBar=t("<div class='zscroll__thumb zscroll__thumb--v'>").appendTo(this._verticalTrack),this._verticalTrack.appendTo(this._outerPane),this._opts.className&&this._verticalTrack.addClass(this._opts.className),this._bindVerticalTrackEvents()),this._setVerticalScrollSize()):this._verticalTrack!==void 0&&(this._verticalTrack.remove(),this._verticalBar.remove(),this._verticalTrack=this._verticalBar=this._finalVerValue=void 0,this._pane.css("top","0px"))}_handleScrollXTrack(){this._horizontal?(this._horizontalTrack===void 0&&(this._horizontalTrack=t("<div class='zscroll__track--h'>"),this._horizontalBar=t("<div class='zscroll__thumb zscroll__thumb--h'>").appendTo(this._horizontalTrack),this._horizontalTrack.appendTo(this._outerPane),this._opts.className&&this._horizontalTrack.addClass(this._opts.className),this._bindHorizontalTrackEvents()),this._setHorScrollSize()):this._horizontalTrack!==void 0&&(this._horizontalTrack.remove(),this._horizontalBar.remove(),this._horizontalTrack=this._horizontalBar=this._finalHorValue=void 0,this._pane.css("left","0px"))}_setVerticalScrollSize(){this._verticalTrack&&(this._verticalBarHeight=o(1/this._percentInViewY*this._paneHeight),this._verticalBarHeight<this._minScrollBarSize&&(this._verticalBarHeight=this._minScrollBarSize),this._verticalTrack.css("height",this._paneHeight),this._maxDragY=this._paneHeight-this._verticalBarHeight,this._verticalBar.css("height",this._verticalBarHeight),this._opts.showScrollBarAlways&&this._showVerticalScroll())}_setHorScrollSize(){this._horizontalTrack&&(this._horizontalBarWidth=o(1/this._percentInViewX*this._paneWidth),this._horizontalBarWidth<this._minScrollBarSize&&(this._horizontalBarWidth=this._minScrollBarSize),this._horizontalTrack.css("width",this._paneWidth),this._maxDragX=this._paneWidth-this._horizontalBarWidth,this._horizontalBar.css("width",this._horizontalBarWidth),this._opts.showScrollBarAlways&&this._showHorizontalScroll())}_getScrollbarWidth(){if(!this._defaultScrollbarWidth){let e=t("<div>").css({width:"100px",height:"100px",overflow:"scroll"}).appendTo("body");this._defaultScrollbarWidth=e.width()-e[0].scrollWidth,e.remove()}return this._defaultScrollbarWidth}_bindEvents(){let a=this,o=this.componentName;this._scrollX=!1,this._scrollY=!1,e.Browser.isMobile?(this._outerPane[0].addEventListener("custommousewheel",this._mouseWheelHandler.bind(this)),this._outerPane.on("mousewheel."+o,t.noop)):this._outerPane.on("mousewheel."+o,this._mouseWheelHandler.bind(this)),this._opts.showOne&&this._outerPane.on("mouseout."+o,function(o){let n;o.relatedTarget&&(n=t(o.relatedTarget).closest(".zscroll")),e._activeContainer=n;let i=a._isUL?a._parentElement[0]:a.element[0];e._activeContainer&&e._activeContainer[0]!==i&&(a._hideVerticalScroll(),a._hideHorizontalScroll())}),this._outerPane.on("mouseenter."+o,function(){(a._opts.forceRefresh||!a._mouseEnter)&&a._refresh(),a._mouseEnter=!0,e._activeContainer=a._isUL?a._parentElement:a.element,t("body").addClass("h-overflowhidden"),a._mouseLeave=!1,a._opts.showScrollBarOnHover&&(a._showVerticalScroll(),a._showHorizontalScroll())}).on("mouseleave."+o,function(){t("body").removeClass("h-overflowhidden"),a._mouseLeave=!0,a._opts.showScrollBarOnHover&&(a._removeVerticalTrackSettings(),a._removeHorizontalTrackSettings())}),this._bindVerticalTrackEvents(),this._bindHorizontalTrackEvents()}_bindVerticalTrackEvents(){let t=this.componentName,a=this;this._verticalBar&&this._verticalBar.on("mousedown."+t,function(o){o.preventDefault(),o.stopPropagation(),a._startY=o.pageY-a._verticalBar.position().top,a._mousedown=!0,e.$document.on("mousemove."+t,function(e){e.preventDefault(),a._animate=!1,a._scrollPosY(e,e.pageY-a._startY)}).on("mouseup."+t,function(o){o.preventDefault(),a._mousedown=!1,e.$document.off("mouseup."+t+" mousemove."+t+" mousedown."+t)})}),this._verticalTrack&&this._verticalTrack.on("mousedown."+t,function(e){if(a._verticalBar.is(":visible")||0<a._defaultScrollbarWidth){let t=a._verticalTrack.offset(),o=e.pageY-t.top-a._finalVerValue,n;n=e.pageY-t.top-a._verticalBarHeight/2;let i=0<o?a._finalVerValue+a._opts.scrollIncrement:a._finalVerValue-a._opts.scrollIncrement;a._animate=!0,0<o?i<n?a._scrollPosY(e,i):a._scrollPosY(e,n):i>n?a._scrollPosY(e,i):a._scrollPosY(e,n)}}).on("mouseenter."+t,function(){a._addVerticalTrackSettings()}).on("mouseleave."+t,function(){a._removeVerticalTrackSettings()})}_bindHorizontalTrackEvents(){let t=this.componentName,a=this;this._horizontalBar&&this._horizontalBar.off("mousedown."+t).on("mousedown."+t,function(o){o.preventDefault(),a._startX=o.pageX-a._horizontalBar.position().left,a._mousedown=!0,e.$document.on("mousemove."+t,function(e){e.preventDefault(),a._animate=!1,a._scrollPosX(e,e.pageX-a._startX)}).on("mouseup."+t,function(o){o.preventDefault(),a._mousedown=!1,e.$document.off("mouseup."+t+" mousemove."+t+" mousedown."+t)})}),this._horizontalTrack&&this._horizontalTrack.on("mousedown."+t,function(e){if(a._horizontalBar.is(":visible")||0<a._defaultScrollbarWidth){let t=a._horizontalTrack.offset(),o=e.pageX-t.left-a._finalHorValue,n;n=e.pageX-t.left-a._horizontalBarWidth/2;let i=0<o?a._finalHorValue+a._opts.scrollIncrement:a._finalHorValue-a._opts.scrollIncrement;a._animate=!0,0<o?i<n?a._scrollPosX(e,i):a._scrollPosX(e,n):i>n?a._scrollPosX(e,i):a._scrollPosX(e,n)}}).on("mouseenter."+t,function(){a._addHorizontalTrackSettings()}).on("mouseleave."+t,function(){a._removeHorizontalTrackSettings()})}_mouseWheelHandler(t,a,o,n){var i=this,a,o,n;e.Browser.isMobile&&(a=t.detail[1],o=t.detail[2],n=t.detail[3],t=t.detail[0]);let r=this._isUL?this._parentElement[0]:this.element[0];i._vertical&&(0!==this._oldDeltaY||!Object.is(this._oldDeltaY,-0)||0!==n)&&(0===this._oldDeltaX||Object.is(this._oldDeltaX,-0)||void 0===this._oldDeltaX)&&(this._oldDeltaY=n,!i._opts.showScrollBarAlways&&(!i._opts.showOne||i._opts.showOne&&e._activeContainer&&e._activeContainer[0]===r?(i._showVerticalScroll(),!i._opts.showScrollBarOnHover&&i._hideHorizontalScroll()):i._opts.showOne&&e._activeContainer&&e._activeContainer[0]!==r&&i._hideVerticalScroll()),i._scrollY=!0,i._scrollX=!1),i._horizontal&&(0!==this._oldDeltaX||!Object.is(this._oldDeltaX,-0)||0!==o)&&(0===this._oldDeltaY||Object.is(this._oldDeltaY,-0)||void 0===this._oldDeltaY)&&(this._oldDeltaX=o,!i._opts.showScrollBarAlways&&(!i._opts.showOne||i._opts.showOne&&e._activeContainer&&e._activeContainer[0]===r?(i._showHorizontalScroll(),!i._opts.showScrollBarOnHover&&i._hideVerticalScroll()):i._opts.showOne&&e._activeContainer&&e._activeContainer[0]!==r&&i._hideHorizontalScroll()),i._scrollX=!0,i._scrollY=!1);let s=this._opts.scrollSensivity||t.deltaFactor;i._prevHorPosition||(i._prevHorPosition=0),i._prevVerPosition||(i._prevVerPosition=0);let l=i._prevHorPosition,d=i._prevVerPosition;return i._scrollContent(t,o*s,-n*s),l===i._prevHorPosition&&d===i._prevVerPosition}_hideVerticalScroll(){this._vertical&&this._verticalBar&&this._verticalTrack&&(this._verticalBar.hide(),this._verticalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverv"))}_hideHorizontalScroll(){this._horizontal&&this._horizontalBar&&this._horizontalTrack&&(this._horizontalBar.hide(),this._horizontalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverh"))}_removeHorizontalTrackSettings(){let e=this;clearTimeout(this._removeHTimeout),this._removeHTimeout=setTimeout(function(){!e._mousedown&&e._horizontal&&(e._horizontalBar&&e._horizontalBar.is(":visible")||e._horizontalTrack&&e._horizontalTrack.is(":visible"))&&(e._horizontalTrack&&e._horizontalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverh"),e._horizontalBar&&(e._horizontalBar.removeClass("zscroll__thumb--hoverh h-scrollhorheight"),!e._opts.showScrollBarAlways&&!e._opts.showScrollBarOnHover&&(e._opts.animateHide?e._horizontalBar.fadeOut():e._horizontalBar.hide()),(e._opts.showScrollBarOnHover&&e._mouseLeave||e._opts.showScrollBarOnTrackHover)&&(e._opts.animateHide?e._horizontalBar.fadeOut():e._horizontalBar.hide())))},this._opts.disappearDelay)}_removeVerticalTrackSettings(){let e=this;clearTimeout(this._removeVTimeout),this._removeVTimeout=setTimeout(function(){!e._mousedown&&e._vertical&&(e._verticalBar&&e._verticalBar.is(":visible")||e._verticalTrack&&e._verticalTrack.is(":visible"))&&(e._verticalTrack&&e._verticalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverv"),e._verticalBar&&(e._verticalBar.removeClass("zscroll__thumb--hoverv h-scrollverheight"),!e._opts.showScrollBarAlways&&!e._opts.showScrollBarOnHover&&(e._opts.animateHide?e._verticalBar.fadeOut():e._verticalBar.hide()),(e._opts.showScrollBarOnHover&&e._mouseLeave||e._opts.showScrollBarOnTrackHover)&&(e._opts.animateHide?e._verticalBar.fadeOut():e._verticalBar.hide())))},this._opts.disappearDelay)}_addVerticalTrackSettings(){clearTimeout(this._removeVTimeout),this._opts.showScrollBarOnTrackHover&&this._showVerticalScroll(),this._vertical&&this._verticalBar&&(this._verticalBar.is(":visible")||this._opts.showScrollBarOnTrackHover)&&(this._verticalTrack.addClass("zscroll__handler--hover zscroll__handler--hoverv"),this._verticalBar.addClass("zscroll__thumb--hoverv h-scrollverheight"))}_showVerticalScroll(){this._verticalBar&&this._verticalTrack&&this.element.is(":visible")&&(this._verticalBar.show(),this._verticalTrack.show())}_showHorizontalScroll(){this._horizontalBar&&this._horizontalTrack&&this.element.is(":visible")&&(this._horizontalBar.show(),this._horizontalTrack.show())}_addHorizontalTrackSettings(){clearTimeout(this._removeHTimeout),this._opts.showScrollBarOnTrackHover&&this._showHorizontalScroll(),this._horizontal&&this._horizontalBar&&(this._horizontalBar.is(":visible")||this._opts.showScrollBarOnTrackHover)&&(this._horizontalTrack.addClass("zscroll__handler--hover zscroll__handler--hoverh"),this._horizontalBar.addClass("zscroll__thumb--hoverh h-scrollhorheight"))}_scrollContent(e,t,a){this._horizontal&&this._scrollHorContent(e,t),this._vertical&&this._scrollVerContent(e,a)}_scrollHorContent(e,t){if(!0===this._scrollY)return!1;let a=-this._pane.position().left+Math[0>t?"floor":"ceil"](t),o;o=a/this._maxScrollX,this._scrollPosX(e,o*this._maxDragX)}_scrollPosX(t,a,o){this._horizontalBar&&(0>a?(a=0,!e.Browser.isMobile&&t&&t.preventDefault()):a>this._maxDragX?(a=this._maxDragX,!e.Browser.isMobile&&t&&t.preventDefault()):t&&t.stopPropagation(),this._animate?this._horizontalBar.animate({left:a},100,"swing"):(o=o||this._opts.animation,o?this._horizontalBar.animate({left:a},o.duration,o.name):this._horizontalBar.css("left",a)),this._opts.left=a,this._removeHorizontalTrackSettings(),this._finalHorValue=a,this._positionX(t,a,o))}_positionX(e,t,a){this._prevHorPosition=t||0;let o=t/this._maxDragX,n=-o*this._maxScrollX;a?this._pane.animate({left:n},a.duration,a.name):this._pane.css("left",n),Object.defineProperty(this.element[0],"scrollLeft",{value:-n,configurable:!0}),this._dispatchEvent("scroll",e,{scrollBarPos:t,scrollLeft:-n}),this._positionXEnded=!(t!==this._maxDragX)&&this._positionXEnded,t!==this._maxDragX||this._positionXEnded||(this._dispatchEvent("scrollend",e,{scrollBarPos:t,scrollLeft:-n}),this._positionXEnded=!0,this._dispatchEvent("scrollxend",e,{scrollBarPos:t,scrollLeft:-n}))}_scrollVerContent(e,t){if(this._animate=!1,!0===this._scrollX)return!1;let a,o;a=-this._pane.position().top+Math[0>t?"floor":"ceil"](t),o=a/this._maxScrollY,this._scrollPosY(e,o*this._maxDragY)}_scrollPosY(a,o,n){if(n=n||this._opts.animation,a){let e=t(a.target).closest("[allowscroll]");if(e.length)return}if(this._verticalBar){this._finalVerValue=o,0>o?(o=0,!e.Browser.isMobile&&a&&a.preventDefault()):o>this._maxDragY?(o=this._maxDragY,!e.Browser.isMobile&&a&&a.preventDefault()):a&&a.stopPropagation(),this._finalVerValue=o,this._prevVerPosition=o||0;let t=o/this._maxDragY,i=-t*this._maxScrollY,r;r=this._dispatchEvent("scroll",a,{scrollBarPos:o,scrollTop:-i,scroll:"vertical",maxScrollValue:this._maxDragY}),r&&(this._opts.top=i,this._animate?this._verticalBar.animate({top:o},100,"swing"):n?this._verticalBar.animate({top:o},n.duration,n.name):this._verticalBar.css("top",o),n?this._pane.animate({top:i},n.duration,n.name):this._pane.css("top",i),this.element[0]._addedByComponent=!0,this.element[0].scrollTop=-i,this._removeVerticalTrackSettings()),this._positionYEnded=o===this._maxDragY&&this._positionYEnded,o!==this._maxDragY||this._positionYEnded||(this._dispatchEvent("scrollend",a,{scrollBarPos:o,scrollTop:-i,scroll:"vertical"}),this._positionYEnded=!0,this._dispatchEvent("scrollyend",a,{scrollBarPos:o,scrollTop:-i,scroll:"vertical"}))}}_refresh(){let e=this[this._isUL?"_parentElement":"element"];this._isUL&&this.element.removeClass("zoverflow__visible"),this._currentClass&&e.removeClass(this._currentClass),this._getScrollbarWidth(),this._elementWidth=this.element.width(),this._paneWidth=this.element.innerWidth(),this._paneHeight=this.element.innerHeight(),this._currentClass&&e.addClass(this._currentClass),this._isUL&&this.element.addClass("zoverflow__visible"),this._outerPane.css({width:this._paneWidth,height:this._paneHeight}),this._pane.width(this._paneWidth),this._checkScrollChanges()}_checkScrollChanges(){let e=this._contentHeight,t=this._contentWidth,a;if(this._contentWidth=this._pane[0].scrollWidth,this._contentHeight=this._pane[0].scrollHeight,this._isUL&&(this._contentHeight!==this.element[0].scrollHeight&&(this._contentHeight=this.element[0].scrollHeight),this._contentWidth!==this.element[0].scrollWidth&&(this._contentWidth=this.element[0].scrollWidth)),(e!==this._contentHeight||t!==this._contentWidth)&&(a=!0),a){if(this._percentInViewX=this._contentWidth/this._paneWidth,this._percentInViewY=this._contentHeight/this._paneHeight,this._horizontal=1<this._percentInViewX,this._vertical=1<this._percentInViewY,this._handleScrollYTrack(),this._handleScrollXTrack(),this._maxScrollY=this._contentHeight-this._paneHeight,this._maxScrollX=this._contentWidth-this._paneWidth,this._finalVerValue&&this._vertical){var o=-this._pane.position().top,n=o/this._maxScrollY,n;this._scrollPosY(void 0,n*this._maxDragY)}else this._finalVerValue&&!this._vertical&&(this._verticalBar.hide(),this._finalVerValue=void 0);if(this._horizontal&&this._finalHorValue){var o=-this._pane.position().left,n=o/this._maxScrollX,n;this._scrollPosX(void 0,n*this._maxDragX)}else this._finalHorValue&&!this._horizontal&&(this._horizontalBar.hide(),this._finalHorValue=void 0)}}_reinitialize(){if(this.element.is(":visible")){let e="UL"===this.element[0].tagName?this._parentElement:this.element;e.removeClass(this._currentClass);let t=this.element.innerHeight(),a=e.innerWidth();this._hasDimensionsChanged=t!==this._paneHeight||a!==this._paneWidth,this._hasDimensionsChanged?(this._reinitialized=!0,this._initialize()):(this._createStyle(!0),this._checkScrollChanges())}}_resetScrollPosition(){this._pane.css({top:"0px",left:"0px"}),this._horizontal&&this._horizontalBar.css("left","0px"),this._vertical&&this._verticalBar.css("top","0px")}_dispatchEvent(e,t,a){return super._dispatchEvent(e,t,{value:a})}reinitialize(){this._reinitialize()}refresh(){this._refresh()}resetScrollPosition(){this._resetScrollPosition()}setAttribute(e,t,a){this._opts[e]=t,"top"===e?this._getTopValue(t,a):"left"==e&&this._getLeftValue(t,a)}_getTopValue(e,t){let a=e/this._maxScrollY;this._scrollPosY(void 0,a*this._maxDragY,t)}_getLeftValue(e,t){let a=e/this._maxScrollX;this._scrollPosX(void 0,a*this._maxDragX,t)}destroy(){let a=this.componentName;this.element.removeData(a);let o=this._isUL?this._parentElement:this.element;o.find(".zscroll__content").children().unwrap(),o.find(".zscroll__container").children().unwrap(),this._isUL?(this._parentElement.children().unwrap(),this.element.removeClass("zoverflow__visible")):this.element.removeClass("zscroll"),this._currentClass&&(this[this._isUL?"_parentElement":"element"].removeClass(this._currentClass),t(this._textNode).remove(),this._textNode=void 0);let n=e.scrollBindings.indexOf(this.element);e.scrollBindings.splice(n,1),this.element.css({padding:this._originalPadding,overflow:"",width:"",height:""}),this.element.off("."+a),e.$document.off("."+a),this._clearAutoreinit&&window.clearInterval(this._clearAutoreinit),this._pane.remove(),this._outerPane.remove(),this._outerPane=this._pane=void 0,this._removeHTimeout&&clearTimeout(this._removeHTimeout),this._removeVTimeout&&clearTimeout(this._removeVTimeout),this._horizontal&&(this._horizontalBar.remove(),this._horizontalTrack.remove(),this._horizontalTrack=this._horizontalBar=void 0),this._vertical&&(this._verticalBar.remove(),this._verticalTrack.remove(),this._verticalTrack=this._verticalBar=void 0)}}e.registerComponent("ZScroll",ZScroll)}(ZComponents,ZComponents.DOMUtil),function(e,t){var a=Math.floor,o=Math.abs,n=Math.max;e.scrollBindings=[],e.getLineHeight=function(e){e=t(e);let a=e["offsetParent"in t.fn?"offsetParent":"parent"]();return a.length||(a=t("body")),parseInt(a.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},e.handleMousewheel=function(a){let i=Array.prototype.slice.call(arguments,1),r=0,s=0,l=0,d=0,c=t.event.fix(a);if(c.type="mousewheel","detail"in a&&(l=-1*a.detail),"wheelDelta"in a&&(l=a.wheelDelta),"wheelDeltaY"in a&&(l=a.wheelDeltaY),"wheelDeltaX"in a&&(s=-1*a.wheelDeltaX),r=l||s,"deltaY"in a&&(r=l=-1*a.deltaY),"deltaX"in a&&(s=a.deltaX,0===l&&(r=-1*s)),0!==l||0!==s){if(1===a.deltaMode){let e=t.data(this,"mousewheel-line-height");r*=e,l*=e,s*=e}else if(e.OS.isWindows()&&e.Browser.isChrome){r/=8,l/=8,s/=8}return d=n(o(l),o(s)),(!e.deltaFactor||d<e.deltaFactor)&&(e.deltaFactor=d),d=e.deltaFactor,r=Math[1<=r?"floor":"ceil"](r/d),s=Math[1<=s?"floor":"ceil"](s/d),l=Math[1<=l?"floor":"ceil"](l/d),c.deltaX=s,c.deltaY=l,c.deltaFactor=d,i.unshift(c,r,s,l),e.unsetDeltaTimeout&&window.clearTimeout(e.unsetDeltaTimeout),e.unsetDeltaTimeout=window.setTimeout(e.unsetDelta,200),(t.event.dispatch||t.event.handle).apply(this,i)}},e.unsetDelta=function(){e.deltaFactor=null},e.handleMousewheelSpecial=function(){e.specialHandled=!0;let a="onwheel"in document||9<=document.documentMode?"wheel":"mousewheel",o=e.handleMousewheel,n,i;if(e.Browser.isMobile)try{i=Object.defineProperty({},"passive",{get(){return n=!0,n}}),window.addEventListener("test",t.noop(),i),window.removeEventListener("test",t.noop(),i)}catch(e){n=!1}i=!!n&&{passive:n},t.event.special.mousewheel={setup(){this.addEventListener(a,o,i),t.data(this,"mousewheel-line-height",e.getLineHeight(this))},teardown(){this.removeEventListener(a,o,i)}}};class ZScrollbar extends e.CoreComponent{get name(){return"zscrollbar"}get attrs(){return{autoResize:!1,scrollTop:0,scrollLeft:0,autoUpdate:!1,step:55,showScrollbar:"onscroll",hideDelay:800,animateOnHide:!0,autoUpdateDelay:500,disableKeyboardScroll:!1,scrollButtons:!1,thumbGrippy:!1,verticalGrippyIconClassName:"",horizontalGrippyIconClassName:"",verticalGrippySVGIconId:"",horizontalGrippySVGIconId:"",arrowKeysStep:20,spaceBarKeyStep:50,scrollOnSelectionDrag:!0,scrollLeftButtonIconClassName:"",scrollRightButtonIconClassName:"",scrollLeftButtonSVGIconId:"",scrollRightButtonSVGIconId:"",scrollUpButtonIconClassName:"",scrollUpButtonSVGIconId:"",scrollDownButtonIconClassName:"",scrollDownButtonSVGIconId:"",scrollbarSize:8,contentScrolledCueFor:"scroll",verticalScroll:!0,horizontalScroll:!0,className:"",elasticScrollEffect:"none",stopPropagation:!0,forceInit:!0,expandOnMouseover:!0,showTrackOnScrollbarHover:null}}get EVENTS(){return["scroll","horizontalscrollend","verticalscrollend","verticalscrollstart","horizontalscrollstart","scrollend","beforeelasticeffect"]}get minBarSize(){return 35}_init(){this._useParent=!0;let t=e.Browser,a=this._opts,o="";this._isBtns=a.scrollButtons,this._isCustom=t.isIE||t.isFirefox||t.isEdge||a.forceInit,this._saveOptionToShowSBar(),this._isCustom&&(!e.specialHandled&&e.handleMousewheelSpecial(),this._initialize(),a.autoResize&&this._handleAutoResizeEle()),o+=(a.rtl?"zh-rtl ":"")+(a.className||""),this._origEle.addClass(o).attr("tabindex",0),this._bindCommonEv(),this._vertical&&this._setVerInitialState(a),this._horizontal&&this._setHorInitialState(a),this._initialized=!0}_saveOptionToShowSBar(){let e=this._opts.showScrollbar;this._showOnHover=this._showOnScroll=this._showAlways=!1,"onmouseover"===e?this._showOnHover=!0:"onscroll"===e?this._showOnScroll=!0:this._showAlways=!0}_initialize(){let e=this.element,a=!this._origEle,o=this._origEle||e,n=o.width(),i=o.height(),r=this._opts;if(this._elemWd=o.outerWidth(),this._elemHt=o.outerHeight(),a){this._checkProps(),this._initialWdAndHt={width:e[0].style.width,height:e[0].style.height};let a=e,o="zscrollbar--container",n=window.getComputedStyle(e[0]);if(this._padding={right:n.paddingRight,left:n.paddingLeft,bottom:n.paddingBottom,top:n.paddingTop},"UL"===e[0].tagName){this._isUL=!0;let o=e.parent();a=this._parentElement=t("<div>"),e.appendTo(this._parentElement),this._parentElement.appendTo(o)}let i=a[0].style.overflow;a[0].style.overflow="hidden",this._contentScrollHt=a[0].scrollHeight,this._contentScrollWd=a[0].scrollWidth,a[0].style.overflow=i,this._isBtns&&(o+=" zscrollbar--withbuttons"),this._showOnHover?o+=" zscrollbar--showonmouseover":this._showAlways&&(o+=" zscrollbar--showalways"),a.addClass(o),this._pane=t("<div class=\"zscrollbar__content\" />"),this._setPanePadding(),this._pane.append(a.children()).appendTo(a),this._elemId=this._getID(a),a.attr("id",this._elemId),this._origEle=a}if(!r.autoResize){let e={};r.horizontalScroll&&(e.width=this._elemWd),r.verticalScroll&&(e.height=this._elemHt),this._origEle.css(e)}this._pane.css({width:n,height:i}),a||this._saveContentSize(),this._calcCrctHtWd(n,i),this._buildScrollBar(a),r.autoUpdate&&a&&this._autoUpdateHandler(!0)}_setPanePadding(){let e=this._padding,t=e.top+" "+e.left+" "+e.right+" "+e.bottom;this._pane.css("padding",t)}_checkProps(){let e=this._opts,t=e.showTrackOnScrollbarHover;t=null===t?!this._showAlways:!this._showAlways||t,e.showTrackOnScrollbarHover=t}_bindCommonEv(){let e="keydown."+this.name;this._origEle.off(e).on(e,this._keydownHandler.bind(this))}_constructTrack(e){let a=this._opts.showTrackOnScrollbarHover,o=e?"vertical":"horizontal",n=a?"":`zscrollbar--${o}--hover`;return t(`
	                <div class="zscrollbar--${o}  ${n}" aria-expanded=false>
	                    <div class="zscrollbar__track zscrollbar__track--${o}">
	                        <div class="zscrollbar__thumb zscrollbar__thumb--${o}">
	                        </div>
	                    </div>
	                </div>
	            `).appendTo(this._origEle)}_calcCrctHtWd(t,a){if("always"===this._opts.showScrollbar){let o=this._constructTrack();this._origEle.append(o);let n=this._correctionPx=o.width(20).outerHeight();o.remove();let i=this._correctWd=this._contentScrollWd,r=this._correctHt=this._contentScrollHt,s=this._opts.verticalScroll,l=this._opts.horizontalScroll;if(s&&l){let e=l&&i<=this._elemWd,o=s&&r<=this._elemHt;if(e||o){let n=this._pane.clone().css({position:"absolute",visibility:"hidden",width:e?"auto":t,height:o?"auto":a});this._origEle.prepend(n),e&&(this._correctWd=n.width()),o&&(this._correctHt=n.height()),n.remove()}let d=!1,c=()=>{if(r>this._elemHt){let e=this._correctWd-n<=this._elemWd?0:n;i+=e,d=!0}},m=()=>{if(i>this._elemWd){let e=this._correctHt-n<=this._elemHt?0:n;e&&(r+=e,!d&&c())}};c(),m(),this._contentScrollWd=i,this._contentScrollHt=r}let d={};s&&r>this._elemHt&&(d["padding-"+e.getRTLBasedDir("right",this._opts.rtl)]=n+parseFloat(this._padding.right)+"px"),l&&i>this._elemWd&&(d["padding-bottom"]=n+parseFloat(this._padding.bottom)+"px"),this._pane.css(d)}}_buildScrollBar(e){let a=this._opts,o=a.horizontalScroll,n=a.verticalScroll;n&&this._setVerValues(),o&&this._setHorValues(),o&&this._buildXTrack(),n&&this._buildYTrack(),e&&this._bindEvents(),this._showAlways&&!a.showTrackOnScrollbarHover&&(this._vertical&&this._horizontal?!this._cornerDiv&&(this._cornerDiv=t("<div class=\"zscrollbar__corner\">").css({width:this._vTrackWd,height:this._hTrackHt}),this._origEle.append(this._cornerDiv)):this._cornerDiv&&(this._cornerDiv.remove(),this._cornerDiv=void 0)),this._updateThumbPos()}_addAriaLabels(e){let t;t=e?this._vContainer:this._hContainer,t.attr({role:"scrollbar","aria-controls":this._elemId,"aria-orientation":e?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":e?this._maxScrollY:this._maxScrollX,"aria-valuenow":e?this._opts.scrollTop:this._opts.scrollLeft})}_updateThumbPos(){let e=this._opts;this._vertical&&this._finalVBarTop&&this._scrollPosY(void 0,e.scrollTop/this._maxScrollY*this._maxDragY),this._horizontal&&this._finalHBarLeft&&this._scrollPosX(void 0,e.scrollLeft/this._maxScrollX*this._maxDragX)}_bindTrackEv(e){let t=this,a=this.name,o=this._barMousedownHandler.bind(this,e),n=this._trackMousedownHandler.bind(this,e),i="mousedown."+a,r=e?"_showVtrack":"_showHtrack",s=e?"_hideVtrack":"_hideHtrack",l=e?this._vContainer:this._hContainer;e?(this._vBar.on(i,o),this._vTrack.on(i,n)):(this._hBar.on(i,o),this._hTrack.on(i,n)),l.on("mouseenter."+a+" mousedown."+a,a=>{"mouseenter"===a.type&&(t._trackMouseEnter=e?"vertical":"horizontal"),t[r]()}).on("mouseleave."+a,()=>{t._trackMouseEnter=void 0,t[s]()})}_trackMousedownHandler(e,a){let o=t(a.target),n=e?this._vTrack:this._hTrack,i=e?this._vTrackShown:this._hTrackShown;o.is(n)&&i&&(a.preventDefault(),a.stopPropagation(),this._handleDocMouseEv(),this._isFirstMove=!0,e?(this._vTrackMouseup=!1,this._moveVbar(a)):(this._hTrackMouseup=!1,this._moveHbar(a)))}_barMousedownHandler(t,a){let o=this,n="."+this.name,i=this._opts.rtl,r,s,l;a.preventDefault(),a.stopPropagation(),this._mousedown=!0,t?(this._startVal=a.pageY-this._vBar.position().top,l="_scrollPosY",s="_showVtrack"):(this._startVal=a.pageX+(i?this._finalHBarLeft:-this._hBar.position().left),l="_scrollPosX",s="_showHtrack"),e.$document.on("mousemove"+n,function(e){r=t?o._vBarShown:o._hBarShown,r||(o._showOrHideScroll(t),o[s]()),e.preventDefault();let a=t?e.pageY:e.pageX;a=i&&!t?o._startVal-a:a-o._startVal,o[l](e,a)}).on("mouseup"+n,function(t){t.preventDefault(),o._mousedown=!1,e.$document.off(n)})}_getIcon(e="",t="",a=""){return"<i class=\""+e+"\"><svg class=\""+t+"\"><use xlink:href=\"#"+a+"\"></use></svg></i>"}_saveContentSize(){let e=this._opts;e.verticalScroll&&(this._contentScrollHt=this._pane[0].scrollHeight),e.horizontalScroll&&(this._contentScrollWd=this._pane[0].scrollWidth)}_bindEvents(){let e=this,t=this.name,a=this._origEle;a.on("mousewheel."+t,this._mouseWheelHandler.bind(this)).on("mouseenter."+t,function(){e._mouseLeave=!1,e._isActive=!0,e._showOnHover&&(e._vertical&&e._showOrHideScroll(!0),e._horizontal&&e._showOrHideScroll(!1))}).on("mouseleave."+t,function(){e._isActive=!1,e._mouseLeave=!0,e._showAlways||(e._vertical&&e._hideVtrack(),e._horizontal&&e._hideHtrack())}).on("mousemove."+t,()=>e._isActive=!0),this._pane.on("mousedown."+t,this._mouseDownHandler.bind(this)),this._isBtns&&this._bindBtnEv()}_keydownHandler(t){if(!t.shiftKey){let a=this._opts,o=t.keyCode,n=e.keyCode,i=-1<[n.PAGE_DOWN,n.PAGE_UP,n.SPACE].indexOf(o),r=-1<[n.HOME,n.END].indexOf(o),s=t.currentTarget.id.replace("Btn-"+this._elemId,"");if(s=-1<["up","down","left","right"].indexOf(s)?n[s.toUpperCase()]:void 0,-1<[n.LEFT,n.RIGHT,n.UP,n.DOWN].indexOf(o)||i||r||s){if(a.disableKeyboardScroll)return!1;this._handleKeydown(t,i,r,s)}}}_mouseDownHandler(e){this._opts.scrollOnSelectionDrag&&this._handleScrollOnSelection(e)}_mouseWheelHandler(e,t,a,o){let n=!0,i=this._isActive,r=this._oldDeltaX,s=this._oldDeltaY;if(!i)return!1;this._vertical&&(void 0===r||0!==s||!Object.is(s,-0)||0!==o)&&(0===r||Object.is(r,-0))&&(s=this._oldDeltaY=o),this._horizontal&&(0!==r||!Object.is(r,-0)||0!==a)&&(0===s||Object.is(s,-0)||void 0===s)&&(this._oldDeltaX=a,n=!1),i&&this._showOne(n);let l=this._opts.scrollSensivity||e.deltaFactor,d=this._finalHBarLeft,c=this._finalVBarTop;return this._scrollContent(e,a*l,-o*l,n),!this._opts.stopPropagation&&(n?c===this._finalVBarTop:d===this._finalHBarLeft)}_scrollContent(e,t,a,o){let n=this._pane.position();if(o){if(this._vertical){let t=Math[0>a?"floor":"ceil"](a)-n.top;this._scrollPosY(e,t/this._maxScrollY*this._maxDragY,null)}}else if(this._horizontal){let a=this._opts.rtl;a&&(t*=-1);let o=Math[0>t?"floor":"ceil"](t)-(a?parseInt(this._pane.css("right")):n.left);this._scrollPosX(e,o/this._maxScrollX*this._maxDragX,null)}}_animateScroll(e,t,a,o,n){n=n||(e?this._opts.rtl?"right":"left":"top"),n={[n]:t},a?o.animate(n,a.duration,a.name):this._animate?o.animate(n,100,"swing"):o.css(n)}_showCue(e,t){let o=this._display.bind(this);e!==void 0&&this._verCue&&(e=a(e),o(0===e,this._verCue)),t!==void 0&&this._horCue&&(t=a(t),o(0===t,this._horCue))}_showOne(e){if(this._showOnScroll&&(clearTimeout(this[e?"_verTimeout":"_horTimeout"]),this._showOrHideScroll(e,!1),this._showOrHideScroll(!e,!0)),this._opts.showTrackOnScrollbarHover){let t=this._trackMouseEnter,a,o;t&&("vertical"===t?e&&(a=this._vTrackShown,o="_showVtrack"):!e&&(a=this._hTrackShown,o="_showHtrack"),!a&&o&&this[o]())}}_showOrHideScroll(e,t){let a=this._display.bind(this),o=this._opts.animateOnHide,n,i,r,s;e?(s=this._vBar,r=this._vTrack,n=this._vBarShown,i=this._vTrackShown,this._vBarShown=!t):(s=this._hBar,r=this._hTrack,n=this._hBarShown,i=this._hTrackShown,this._hBarShown=!t),s&&r&&(t?n&&a(!i,s):!n&&(o&&!this._showAlways&&s.stop(!0,!0),a(!1,s)))}_handleDocMouseEv(){let t=e.$document,a=this;t.one("mouseup."+this.name,function(){a._btnMouseup=a._vTrackMouseup=a._hTrackMouseup=!0,a._animate=!1})}_startMouseDownTimer(e,t){let a=this._isFirstMove?400:100;this._isFirstMove=void 0,clearTimeout(this._mouseDownTimer),this._mouseDownTimer=setTimeout(this._repetitiveMouseDownHandler.bind(this,e,t),a)}_repetitiveMouseDownHandler(e,t){t&&!this._vTrackMouseup?this._moveVbar(e):!1!==t||this._hTrackMouseup?t!==void 0||this._btnMouseup?clearTimeout(this._mouseDownTimer):this._keydownHandler(e):this._moveHbar(e)}_dispatchScrollEndEv(e,t,a,o){let n=o?"vertical":"horizontal",i={scrollBarPos:t,[o?"scrollTop":"scrollLeft"]:a,scroll:n},r=(!this._horizontal||this._finalHBarLeft===this._maxDragX)&&(!this._vertical||this._finalVBarTop===this._maxDragY);this._dispatchEvent(n+"scrollend",e,i),r&&this._dispatchEvent("scrollend",e,i)}update(){if(this.element.is(":visible")){let e=this._origEle,t=this._opts,a;if(t.verticalScroll&&e.outerHeight()!==this._elemHt||t.horizontalScroll&&e.outerWidth()!==this._elemWd)this._initialize(),a=!0;else{let e=this._contentScrollHt,o=this._contentScrollWd;this._saveContentSize(),(t.horizontalScroll&&o!==this._contentScrollWd||t.verticalScroll&&e!==this._contentScrollHt)&&(this._buildScrollBar(),a=!0)}a&&this._dispatchEvent("update",void 0,{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}}resetScrollPosition(){this._opts.scrollTop=this._opts.scrollLeft=0,this._pane.css({top:"0px",left:"0px"}),this._horizontal&&this._hBar.css("left","0px"),this._vertical&&this._vBar.css("top","0px"),this._showCue(0,0),this._disableHorBtns(0),this._disableVerBtns(0)}_setAttribute(e,t){let a=this._opts,o=-1<["scrollTop","scrollLeft"].indexOf(e),n=a[e];o||(a[e]=t),"autoUpdate"===e?this._autoUpdateHandler():-1<["verticalScroll","horizontalScroll"].indexOf(e)?this.update():o?(this._attrModified=e,this["scrollTop"===e?"setScrollTop":"setScrollLeft"](t)):"className"===e?this.element.removeClass(n).addClass(t):this._setAdvancedAttr(e,t),this._attrModified=void 0}_destroy(){let t="."+this.name,a=this.element;a.off(t);let o=this._origEle;this._opts.autoResize&&this._handleAutoResizeEle(!0),e.$document.off(t),o.find(".zscrollbar__content").children().unwrap(),this._isUL&&(o.children().unwrap(),o.remove()),a.removeClass("zscrollbar--container zscrollbar--withbuttons").css(this._initialWdAndHt),clearTimeout(this._autoUpdateTimer),clearTimeout(this._cleartimeout),clearTimeout(this._mouseDownTimer),this._pane.remove(),this._cornerDiv&&(this._cornerDiv.remove(),this._cornerDiv=void 0),this._horizontal&&this._destroyHorScroll(),this._vertical&&this._destroyVerScroll(),this._setUndefined(["pane","isBtns","isCustom","showOnHover","showAlways","showOnScroll","initialized"],"")}_handleAutoResizeEle(t){let a=e.scrollBindings,o=!a.length,n=this.element;t?(a.splice(a.indexOf(n),1),o=!a.length,o&&(clearTimeout(this._resizeTimeOut),e.$window.off("."+this.name))):(o&&this._bindResizeEv(),a.push(n))}_bindResizeEv(){let a="resize."+this.name,o=this;e.$window.off(a).on(a,function(){let a=e.scrollBindings,n=a.length;clearTimeout(o._resizeTimeOut),n&&(o._resizeTimeOut=setTimeout(()=>{for(let e=0;e<n;e++){let o=t(a[e]),n=o.data("zscrollbar");n&&o.is(":visible")&&n.update()}},0))})}_autoUpdateHandler(e){let t=this._opts;clearTimeout(this._autoUpdateTimer),t.autoUpdate&&(!e&&this.update(),this._autoUpdateTimer=setTimeout(this._autoUpdateHandler.bind(this),t.autoUpdateDelay))}_createElasticScroll(t,a,o,n){let i=this._opts,r=i.rtl&&!n;r&&(o=!o);let s=t-((r?!o:o)?0:n?this._maxScrollY:this._maxScrollX)>(e.OS.isWindows()&&e.Browser.isChrome?30:120);if(s){let e=this,t=this._pane,r,s;n?(r=["zscrollbar--elastic--bottom","zscrollbar--elastic--top"],s=["bottom","top"]):(r=["zscrollbar--elastic--right","zscrollbar--elastic--left"],s=["right","left"]);let l=o?r[0]:r[1];this._dispatchEvent("beforeelasticeffect",a,{direction:o?s[0]:s[1],scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),t.addClass(l),clearTimeout(e._cleartimeout),e._cleartimeout=setTimeout(()=>{t.removeClass(l)},100)}}_createHorBtns(e,a){let o=this._hContainer,n=a===void 0?!e:a,i=this._opts,r=this._elemId,s;e&&(this._btnWd=0,t("#leftBtn-"+r).remove(),t("#rightBtn-"+r).remove()),n&&(s=this._getBtn("leftBtn",i.scrollLeftButtonIconClassName,i.scrollLeftButtonSVGIconId||"zc__svg--arrowleft"),o.prepend(s),o.append(this._getBtn("rightBtn",i.scrollRightButtonIconClassName,i.scrollRightButtonSVGIconId||"zc__svg--arrowright")),this._btnWd=s.innerHeight())}_disableHorBtns(e){this._disable(0===e,t("#leftBtn-"+this._elemId)),this._disable(e===this._maxScrollX,t("#rightBtn-"+this._elemId))}_setHorInitialState(e){this.setScrollLeft(e.scrollLeft),8!==e.scrollbarSize&&this._hBar.height(e.scrollbarSize)}_setHorValues(){this._maxScrollX=this._contentScrollWd-this._elemWd,this._percentInViewX=this._contentScrollWd/this._elemWd,this._horizontal=1<this._percentInViewX}_buildXTrack(){let e=this._hTrack,a=this._hContainer,o=this._opts;if(this._horizontal){if(!a){let n=o.showTrackOnScrollbarHover;this._finalHBarLeft=0,a=this._hContainer=t("<div class=\"zscrollbar--horizontal "+(n?"":"zscrollbar--horizontal--hover")+"\" aria-expanded=\""+!n+"\">"),e=this._hTrack=t("<div class='zscrollbar__track zscrollbar__track--horizontal'>").appendTo(a),this._hBar=t("<div class='zscrollbar__thumb zscrollbar__thumb--horizontal'>").appendTo(e),this._addAriaLabels(),this._createHorThumbGrippy(),-1<["scroll","hscroll"].indexOf(o.contentScrolledCueFor)&&this._createHorCue(),a.appendTo(this._origEle),this._btnWd=0,this._isBtns&&this._createHorBtns(),this._hTrackHt=e.height(),this._bindTrackEv()}this._setHorSBarSize(),this._showAlways&&this._showOrHideScroll()}else a&&(this._destroyHorScroll(),this._hContainer=this._hTrack=this._hBar=this._finalHBarLeft=this._horCue=this._hTrackHt=this._btnWd=this._hBarWd=this._hBarShown=this._hTrackShown=void 0)}_createHorThumbGrippy(e){let a=this._opts,o=this._hBar;e&&o.find(".zscrollbar__grippy").remove(),a.thumbGrippy&&o.append(t(this._getIcon("zscrollbar__grippy "+(a.horizontalGrippyIconClassName||""),void 0,a.horizontalGrippySVGIconId)))}_setHorSBarSize(){let e=this._origEle.innerWidth()-(this._vertical?this._hTrackHt:0)-2*this._btnWd,t=Math.ceil(1/this._percentInViewX*e);t=n(this.minBarSize,t),this._opts.thumbGrippy&&0!=t%2&&t++,this._hTrack.css("width",e),this._hTrackWd=e;let a=this._hBar,o=window.getComputedStyle(a[0]);a.css("width",t),t+=parseInt(o["margin-right"]||0)+parseInt(o["margin-left"]||0),this._maxDragX=e-t,this._hBarWd=t}_scrollPosX(e,t,a,n){if(this._horizontal){let i=this._opts,r=i.stopPropagation,s=this._dispatchEvent.bind(this),l=o(this._maxScrollX-t/this._maxDragX*this._maxScrollX),d,c,m,_;0>t||t>this._maxDragX?(t=0>=t?0:this._maxDragX,c=!!t,-1<["hscroll","scroll"].indexOf(i.elasticScrollEffect)&&r&&(this._pane.removeClass("zscrollbar--elastic--right zscrollbar--elastic--left"),d=e&&"mousewheel"===e.type),r&&e&&e.preventDefault()):e&&e.stopPropagation(),m=t/this._maxDragX*this._maxScrollX,_={scrollBarPos:t,scrollLeft:m,scroll:"horizontal",maxScrollValue:this._maxDragX},(i.scrollLeft!==m||!this._initialized||this._sizeChanged||n)&&s("horizontalscrollstart",e,_)&&(this._hContainer.attr("aria-valuenow",m),this._positionX(e,t,a,m),s("scroll",e,_),c&&this._dispatchScrollEndEv(e,t,m),this._isBtns&&this._disableHorBtns(m)),d&&(!m||c)&&this._createElasticScroll(l,e,c),this._btnClick||this._hideHtrack()}}_positionX(e,t,a,o){this._opts.scrollLeft=o,this._finalHBarLeft=t,this._showCue(void 0,o),a=this._animate?null:a||this._opts.animation,this._animateScroll(!0,t,a,this._hBar),this._animateScroll(!0,-o,a,this._pane)}_moveHbar(e){this._hTrackShown||this._showHtrack();let t=this._hTrack.offset(),a=this._opts.step,o=this._opts.rtl,n,i,r,s;this._animate=!0,o?(n=t.left+this._hTrackWd-e.pageX-this._hBarWd/2,i=e.pageX-t.left-this._hBar.position().left):(n=e.pageX-t.left-this._hBarWd/2,i=e.pageX-t.left-this._finalHBarLeft),r=this._finalHBarLeft+a*((o?0>i:0<i)?1:-1),s=o?0>i:0<i,r=(s?r<n:r>n)?r:n,this._scrollPosX(e,r),this._startMouseDownTimer(e,!1)}_showHtrack(){clearTimeout(this._horTimeout),this._horizontal&&!this._hTrackShown&&this._hBarShown&&this._setHTrackClass(!0)}_hideHtrack(){let e=this,t=e._opts;clearTimeout(this._horTimeout),this._horTimeout=setTimeout(function(){e._horizontal&&(e._hBarShown||e._hTrackShown)&&(!e._mousedown||e._showOnScroll)&&(e._setHTrackClass(),(e._showOnScroll||e._showOnHover&&e._mouseLeave)&&(e._hBarShown=!1,e._hBar[t.animateOnHide?"fadeOut":"hide"]()))},t.hideDelay)}_setHTrackClass(e){let t=this._opts,a=this._hContainer,o=e&&t.expandOnMouseover;e?a.addClass("zscrollbar--horizontal--hover"):(t.showTrackOnScrollbarHover&&a.removeClass("zscrollbar--horizontal--hover"),o=!1),a.attr("aria-expanded",o),this._hTrackShown=!!e}setScrollLeft(e,t){let a=this._opts,o=this._initialized,n=-1<["scrollLeft","rtl"].indexOf(this._attrModified);if(this._horizontal&&(!o||a.scrollLeft!==e||n)){let a=this._maxScrollX;e=0>e?0:e>a?a:e,o&&this._showOne(),this._scrollPosX(void 0,e/a*this._maxDragX,t,n)}}_destroyHorScroll(){this._horTimeout&&clearTimeout(this._horTimeout),this._hContainer.remove(),this._createHorCue(!0)}_handleKeydown(t,a,o,n){let i=e.keyCode,r="mousedown"===t.type,s=r?n:t.keyCode,l=this._opts,d=l[a?"spaceBarKeyStep":"arrowKeysStep"],c=!1,m,_;if(this._btnClick=r,t.preventDefault(),-1<[i.DOWN,i.UP].indexOf(s)||a||o){if(this._vertical){let e=-1<[i.UP,i.PAGE_UP,i.HOME].indexOf(s);c=!0,_=t.metaKey||o?e?0:this._maxScrollY:e?-d:d,m="Top"}}else if(this._horizontal){let e=s===(l.rtl&&!r?i.RIGHT:i.LEFT);_=t.metaKey?e?0:this._maxScrollX:e?-d:d,m="Left"}m&&(this._showOne(c),!(t.metaKey||o)&&(_=l[c?"scrollTop":"scrollLeft"]+(c?_/this._maxDragY*this._maxScrollY:_/this._maxDragX*this._maxScrollX)),this["setScroll"+m](_,{name:"swing",duration:100})),r&&this._startMouseDownTimer(t)}_createHorCue(e){e?(this._horCue&&this._horCue.length&&this._horCue.remove(),this._horCue=void 0):!this._horCue&&(this._horCue=t("<div class=\"zscrollbar--scrollleftcue\" style=\"display:none\"/>"),this._origEle.prepend(this._horCue))}_createVerCue(e){e?(this._verCue&&this._verCue.length&&this._verCue.remove(),this._verCue=void 0):!this._verCue&&(this._verCue=t("<div class=\"zscrollbar--scrollupcue\" style=\"display:none\"/>"),this._origEle.prepend(this._verCue))}_getBtn(e,a="",o,n){return t("<button id=\""+e+"-"+this._elemId+"\" class=\"zscrollbar__button\">"+this._getIcon("zscrollbar__icon "+a,n,o)+"</button>")}_btnMousedownHandler(e){this._btnMouseup=!1,this._handleDocMouseEv(),this._isFirstMove=!0,this._keydownHandler(e)}_bindBtnEv(){let e="mousedown."+this.name;["upBtn","downBtn","leftBtn","rightBtn"].forEach(a=>{a=t("#"+a+"-"+this._elemId),a.length&&a.off(e).on(e,this._btnMousedownHandler.bind(this))})}_handleScrollOnSelection(){let t=this,a="."+this.name,o=this._origEle,n=o[0].getBoundingClientRect(),i=n.top+o.height(),r=n.left+o.width();e.$document.on("mousemove"+a,function(e){let a=e.clientY,o=e.clientX,s=t._opts;t._vertical&&(a<=n.top||a>=i)&&t.setScrollTop(s.scrollTop+(a>=i?1:-1)*(2/t._maxDragY*t._maxScrollY)),t._horizontal&&(o<=n.left||o>=r)&&t.setScrollLeft(s.scrollLeft+(o>=r?1:-1)*(2/t._maxDragX*t._maxScrollX))}).one("mouseup"+a,function(){e.$document.off(a)})}_setAdvancedAttr(e,t){let a=this._vertical,o=this._horizontal,n=this._opts,i="scrollButtons"===e,r,s,l;if("autoResize"===e)this._handleAutoResizeEle(!t);else if("scrollOnSelectionDrag"===e){let e="mousedown."+this.name;this._pane.off(e),t&&this._pane.on(e,this._mouseDownHandler.bind(this))}else if(-1<["scrollLeftButtonIconClassName","scrollRightButtonIconClassName","scrollLeftButtonSVGIconId","scrollRightButtonSVGIconId","scrollUpButtonIconClassName","scrollUpButtonSVGIconId","scrollDownButtonIconClassName","scrollDownButtonSVGIconId"].indexOf(e)||i)i&&(this._isBtns=t,this.element[t?"addClass":"removeClass"]("zscrollbar--withbuttons")),o&&(l=!0,this._createHorBtns(!0,t)),a&&(s=!0,this._createVerBtns(!0,t)),t&&i&&(this._disableHorBtns(n.scrollLeft),this._disableVerBtns(n.scrollTop),this._bindBtnEv());else if("showScrollbar"===e){"always"!==t&&this._setPanePadding(),this._saveOptionToShowSBar();let e="always"!==t;this._showOrHideScroll(null,e),this._showOrHideScroll(!0,e),e&&!n.showTrackOnScrollbarHover&&(r=!1,n.showTrackOnScrollbarHover=!0)}else if(-1<e.indexOf("Grippy")){let t="thumbGrippy"===e;o&&(t||-1<e.indexOf("horizontal"))&&(this._createHorThumbGrippy(!0),l=!0),a&&(t||-1<e.indexOf("vertical"))&&(this._createVerThumbGrippy(!0),s=!0)}else"scrollbarSize"===e?(this._vBar&&this._vBar.width(t),this._hBar&&this._hBar.height(t)):"showTrackOnScrollbarHover"===e&&"always"===n.showScrollbar?r=!t:"contentScrolledCueFor"===e?(this._createHorCue(-1<["vscroll","none"].indexOf(t)),this._createVerCue(-1<["hscroll","none"].indexOf(t))):"rtl"===e&&(this._attrModified="rtl",a&&this.setScrollTop(0),o&&this.setScrollLeft(0),this._setPanePadding());if(l&&this._setHorSBarSize(),s&&this._setVerSBarSize(),(l||s)&&(this._sizeChanged=!0,this._updateThumbPos(),this._sizeChanged=void 0),void 0!==r){let e=r?"addClass":"removeClass";this._vContainer[e]("zscrollbar--vertical--hover"),this._hContainer[e]("zscrollbar--horizontal--hover")}}_createVerBtns(e,a){let o=this._vContainer,n=a===void 0?!e:a,i=this._opts,r=this._elemId,s;e&&(this._btnHt=0,t("#upBtn-"+r).remove(),t("#downBtn-"+r).remove()),n&&(s=this._getBtn("upBtn",i.scrollUpButtonIconClassName,i.scrollUpButtonSVGIconId||"zc__svg--arrowup"),o.prepend(s),o.append(this._getBtn("downBtn",i.scrollDownButtonIconClassName,i.scrollDownButtonSVGIconId||"zc__svg--arrowbottom")),this._btnHt=s.innerHeight())}_disableVerBtns(e){this._disable(0===e,t("#upBtn-"+this._elemId)),this._disable(e===this._maxScrollY,t("#downBtn-"+this._elemId))}_setVerInitialState(e){this.setScrollTop(e.scrollTop),8!==e.scrollbarSize&&this._vBar.width(e.scrollbarSize)}_setVerValues(){this._maxScrollY=this._contentScrollHt-this._elemHt,this._percentInViewY=this._contentScrollHt/this._elemHt,this._vertical=1<this._percentInViewY}_buildYTrack(){let e=this._vTrack,a=this._vContainer,o=this._opts;if(this._vertical){if(!a){let n=o.showTrackOnScrollbarHover;this._finalVBarTop=0,a=this._vContainer=t("<div class=\"zscrollbar--vertical "+(n?"":"zscrollbar--vertical--hover")+"\" aria-expanded=\""+!n+"\" >"),e=this._vTrack=t("<div class='zscrollbar__track zscrollbar__track--vertical'>").appendTo(a),this._vBar=t("<div class='zscrollbar__thumb zscrollbar__thumb--vertical'>").appendTo(e),this._addAriaLabels(!0),this._createVerThumbGrippy(),-1<["scroll","vscroll"].indexOf(o.contentScrolledCueFor)&&this._createVerCue(),a.appendTo(this._origEle),this._btnHt=0,this._isBtns&&this._createVerBtns(),this._vTrackWd=e.width(),this._bindTrackEv(!0)}this._setVerSBarSize(),this._showAlways&&this._showOrHideScroll(!0)}else a&&(this._destroyVerScroll(),this._vContainer=this._vTrack=this._vBar=this._finalVBarTop=this._verCue=this._vTrackWd=this._btnHt=this._vBarHt=this._vBarShown=this._vTrackShown=void 0)}_createVerThumbGrippy(e){let a=this._opts,o=this._vBar;e&&o.find(".zscrollbar__grippy").remove(),a.thumbGrippy&&o.append(t(this._getIcon("zscrollbar__grippy "+(a.verticalGrippyIconClassName||""),void 0,a.verticalGrippySVGIconId)))}_setVerSBarSize(){let e=this._origEle.innerHeight()-(this._horizontal?this._vTrackWd:0)-2*this._btnHt,t=a(1/this._percentInViewY*e);t=n(this.minBarSize,t),this._opts.thumbGrippy&&0!=t%2&&t++,this._vTrack.css("height",e);let o=this._vBar,i=window.getComputedStyle(o[0]);o.css("height",t),t+=parseInt(i["margin-top"]||0)+parseInt(i["margin-bottom"]||0),this._maxDragY=e-t,this._vBarHt=t}_scrollPosY(e,t,a,n){if(this._vertical){let i=this._opts,r=i.stopPropagation,s=this._dispatchEvent.bind(this),l=o(this._maxScrollY-t/this._maxDragY*this._maxScrollY),d,c,m,_;0>=t||t>=this._maxDragY?(t=0>=t?0:this._maxDragY,c=!!t,-1<["vscroll","scroll"].indexOf(i.elasticScrollEffect)&&r&&(this._pane.removeClass("zscrollbar--elastic-bottom zscrollbar--elastic-top"),d=e&&"mousewheel"===e.type),r&&e&&e.preventDefault()):e&&e.stopPropagation(),_=t/this._maxDragY*this._maxScrollY,m={scrollBarPos:t,scrollTop:_,scroll:"vertical",maxScrollValue:this._maxDragY},(i.scrollTop!==_||!this._initialized||this._sizeChanged||n)&&s("verticalscrollstart",e,m)&&(this._vContainer.attr("aria-valuenow",_),this._positionY(e,t,a,_),s("scroll",e,m),c&&this._dispatchScrollEndEv(e,t,_,!0),this._isBtns&&this._disableVerBtns(_)),d&&(!_||c)&&this._createElasticScroll(l,e,c,!0),this._btnClick||this._hideVtrack()}}_positionY(e,t,a,o){this._opts.scrollTop=o,this._finalVBarTop=t,this._showCue(o,void 0),a=this._animate?null:a||this._opts.animation,this._animateScroll(!1,t,a,this._vBar),this._animateScroll(!1,-o,a,this._pane)}_moveVbar(e){this._showVtrack();let t=this._vTrack.offset(),a=e.pageY-t.top-this._finalVBarTop,o=e.pageY-t.top-this._vBarHt/2,n=this._opts.step,i=this._finalVBarTop+(0<a?n:-n);this._animate=!0,i=(0<a?i<o:i>o)?i:o,this._scrollPosY(e,i),this._startMouseDownTimer(e,!0)}_setVTrackClass(e){let t=this._opts,a=this._vContainer,o=e&&t.expandOnMouseover;e?a.addClass("zscrollbar--vertical--hover"):(t.showTrackOnScrollbarHover&&a.removeClass("zscrollbar--vertical--hover"),o=!1),a.attr("aria-expanded",o),this._vTrackShown=!!e}_showVtrack(){clearTimeout(this._verTimeout),this._vertical&&!this._vTrackShown&&this._vBarShown&&this._setVTrackClass(!0)}_hideVtrack(){let e=this,t=this._opts;clearTimeout(e._verTimeout),this._verTimeout=setTimeout(function(){e._vertical&&(e._vBarShown||e._vTrackShown)&&(!e._mousedown||e._showOnScroll)&&(e._setVTrackClass(),(e._showOnScroll||e._showOnHover&&e._mouseLeave)&&(e._vBarShown=!1,e._vBar[t.animateOnHide?"fadeOut":"hide"]()))},t.hideDelay)}setScrollTop(e,t){let a=this._opts,o=this._initialized,n=-1<["scrollTop","rtl"].indexOf(this._attrModified);if(this._vertical&&(!o||a.scrollTop!==e||n)){let a=this._maxScrollY;e=0>e?0:e>a?a:e,o&&this._showOne(!0),this._scrollPosY(void 0,e/a*this._maxDragY,t,n)}}_destroyVerScroll(){this._verTimeout&&clearTimeout(this._verTimeout),this._vContainer.remove(),this._createVerCue(!0)}}e.registerComponent("ZScrollbar",ZScrollbar)}(ZComponents,ZComponents.DOMUtil),function(e,t){var a=Math.min,n=Math.abs,i=Math.max;class ZDoubleSlider extends e.ZSlider{get name(){return"zdoubleslider"}get attrs(){return{fromValue:0,toValue:0,isFromValueFixed:!1,isToValueFixed:!1,minFromValueAllowed:void 0,maxFromValueAllowed:void 0,minToValueAllowed:void 0,maxToValueAllowed:void 0,isSelectionDraggable:!1,minRangeDiff:0,maxRangeDiff:0}}get props(){return{tooltip:{text:"#fromvalue# - #tovalue#"}}}get _MEASUREMENTS(){return["minValueAllowed","maxValueAllowed","minFromValueAllowed","maxFromValueAllowed","minToValueAllowed","maxToValueAllowed"]}_init(e,t){t.templateName=t.templateName||"zslider",t.valuesType="range",t.minValueAllowed=t.maxValueAllowed=void 0,super._init(...arguments)}_buildData(){super._buildData(),this._data.thumbs.push(this._data.thumbs[0])}_storeRef(){super._storeRef(),this._setFixedThumb(),this._range.attr("tabindex",-1)}_setFixedThumb(){let e=this._opts.isFromValueFixed,a=this._opts.isToValueFixed,o="zslider__fixedthumb";t(this._handles[0])[e?"addClass":"removeClass"](o),t(this._handles[1])[a?"addClass":"removeClass"](o),this._handleDrag()}_setCurrentValues(){this._setBoth(this._opts.fromValue,this._opts.toValue),this._updateLayout()}_validateProperty(){super._validateProperty();let e=this._opts;if("fixed"===e.valuesType)e.minToValueAllowed=e.minFromValueAllowed=e.min,e.maxToValueAllowed=e.maxFromValueAllowed=e.max,e.minRangeDiff=e.maxRangeDiff=0;else{let t=parseFloat(e.minFromValueAllowed),a=parseFloat(e.maxFromValueAllowed),o=parseFloat(e.minToValueAllowed),i=parseFloat(e.maxToValueAllowed),r=e.minValueAllowed,s=e.maxValueAllowed,l=parseFloat(e.minRangeDiff),d=parseFloat(e.maxRangeDiff);(isNaN(t)||t<r||s-t<=e.step)&&(t=r),(isNaN(i)||i>s||i-t<=e.step)&&(i=s),(isNaN(a)||a<=t||a>i)&&(a=i),(isNaN(o)||o<=t||o>=i)&&(o=t),(isNaN(l)||e.max-e.min<l||l>i-t)&&(l=0),(isNaN(d)||e.max-e.min<d||d<l||d<o-a)&&(d=0),n(d-l)<e.step&&(d=l=0),e.minFromValueAllowed=t,e.maxFromValueAllowed=a,e.minToValueAllowed=o,e.maxToValueAllowed=i,e.minRangeDiff=l,e.maxRangeDiff=d}}_setSelectedLimit(){let e=this._opts,t=[];e.minFromValueAllowed!==e.minValueAllowed&&t.push("from"),e.maxFromValueAllowed<e.minToValueAllowed&&(this._data.selectedTrack=!0),e.maxToValueAllowed!==e.maxValueAllowed&&t.push("to"),this._data.notAllowedRanges=t}_handleSelectedLimit(){let e=this._opts;e.minFromValueAllowed!==e.minValueAllowed&&this._setLimitPosition(e.min,e.minFromValueAllowed,"zslider__notallowedrangefrom"),this._data.selectedTrack&&this._setLimitPosition(e.maxFromValueAllowed,e.minToValueAllowed,"zslider__selected"),e.maxToValueAllowed!==e.maxValueAllowed&&this._setLimitPosition(e.maxToValueAllowed,e.maxValueAllowed,"zslider__notallowedrangeto")}_getTipPosition(e){let t=super._getTipPosition();if(t&&"at-cursor"!==this._opts.tooltip.position){let a=parseFloat(e?e[this.innerDim]:this._range[0].style[this.innerDim]),o=parseFloat(e?e[this.marginDir]:this._range[0].style[this.marginDir]);t[this.marginDir]=o+a/2+"%"}return t}_getTipText(){let t=this._opts,a="",o=(t.tooltip.text||"").trim();return o.length&&(a=o.replace(/#fromvalue#/gi,this._getLabel("",t.fromValue)).replace(/#tovalue#/gi,this._getLabel("",t.toValue))),t.tooltip.isHTMLEncoded?a:e.encodeHTML(a)}_onFocus(e){this._activeHandle=t(e.target),super._onFocus()}_onMouseDown(e){let a=this._opts;a.disabled||(this._mouseActive=!0,t(e.target).is(this._range)&&a.isSelectionDraggable?this._dragSelection(a,e):super._onMouseDown.apply(this,arguments))}_onSlide(e){if(!this._opts.disabled){if(!this._dragSelectionStarted&&(!this._activeHandle||t(this._activeHandle).hasClass("zslider__fixedthumb")))return;if(this._animate="mousemove"!==e.type,"keydown"!==e.type&&this._tip&&this._showTip(e),this._dragSelectionStarted)if(this.vertical)e.pageY+=this.offsetY;else{let t=this._opts.rtl?-1:1;e.pageX-=this.offsetX*t}let a=this._getValueFromEvent(e);if(void 0!==a){if(this._dragStarted||(this._storeInitialValue(),this._trigger("slidestart",e),this._dragStarted=!0),this._dragSelectionStarted)this._setBoth(a,void 0,e);else{let t=this._handles.indexOf(this._activeHandle[0]);(0===t||1===t)&&this._setFromTo(0===t,a,null,e)}this._trigger("slide",e),e.preventDefault()}}}_onSlideEnd(e){this._opts.disabled||(this._dragSelectionStarted&&(this._opts.minRangeDiff=this.tempminRangeDiff,this._opts.maxRangeDiff=this.tempmaxRangeDiff,this._opts.snapToTicks=!0,this._dragSelectionStarted=!1),super._onSlideEnd(e))}_storeInitialValue(){this._startToValue=this.getToValue(),this._startFromValue=this.getFromValue()}_isValueChanged(){return this._startToValue!==this.getToValue()||this._startFromValue!==this.getFromValue()}_getValueFromEvent(e){return this._dragSelectionStarted&&(e=t.extend({},e),e.target=null),super._getValueFromEvent(e)}_keyPress(t){let a=this._activeHandle;if(a&&!a.hasClass("zslider__fixedthumb")){let o=this._opts,n=t.which,i=e.keyCode,r=this._handles.indexOf(a[0])?o.toValue:o.fromValue,s=this._opts.rtl&&!this.vertical,l;if(-1<[i.RIGHT,i.UP,i.PAGE_UP].indexOf(n))l=this._increase(!s,r);else if(-1<[i.LEFT,i.DOWN,i.PAGE_DOWN].indexOf(n))l=this._increase(s,r);else if(n===i.HOME)l=o.minValueAllowed;else if(n===i.END)l=o.maxValueAllowed;else return;return this._tip&&this._showTip(t),t.preventDefault(),l}}_getActiveHandle(e){let a=this._handles.indexOf(t(e.target).closest(".zslider__thumb")[0]);if(-1===a)if(this._opts.isFromValueFixed)a=1;else if(this._opts.isToValueFixed)a=0;else{let o="left",i=this._innerSlider.offset(),r=e.pageX-i.left;this.vertical&&(o="top",r=e.pageY-i.top);let s=parseInt(t(this._handles[0]).css(o))-r,l=parseInt(t(this._handles[1]).css(o))-r;a=n(s)===n(l)?(this.vertical||this._opts.rtl?0<s:0>s)?1:0:n(s)>n(l)?1:0}return this._handles[a]}_setBoth(e,t,a){if(void 0!==e||void 0!==t){let n=this._opts;this._setFrom(e),this._setTo(t),(this._prevFrom!==n.fromValue||this._prevTo!==n.toValue)&&(this._prevFrom=n.fromValue,this._prevTo=n.toValue,this._updateLayout(a))}}_setTo(e){let t=this._opts,o=i(t.minToValueAllowed,t.minValueAllowed,t.fromValue+t.minRangeDiff),n=a(t.maxToValueAllowed,t.maxValueAllowed,t.maxRangeDiff?t.fromValue+t.maxRangeDiff:t.maxValueAllowed);return t.toValue=this._getActualVal(this._getCorrectedValue(e,o,n)),t.toValue}_setFrom(e,t){let n=this._opts,o=i(n.minFromValueAllowed,n.minValueAllowed,n.maxRangeDiff?(t?n.toValue:n.minToValueAllowed)-n.maxRangeDiff:n.minFromValueAllowed),r=a(n.maxFromValueAllowed,(t?n.toValue:n.maxToValueAllowed)-n.minRangeDiff);return n.fromValue=this._getActualVal(this._getCorrectedValue(e,o,r)),n.fromValue}_setFromTo(e,t,a,n){let i=e?"fromValue":"toValue",r=this._opts,o=r[i];return a&&(t=this._increase("+"!==a,o)),this[e?"_setFrom":"_setTo"](t,n),o!==r[i]&&this._updateLayout(n),r[i]}_updateLayout(e){let a={},n=this._opts,o=this._getPercent(n.fromValue),i=this._getPercent(n.toValue);a[this.marginDir]=o+"%";let r=this._getTipText();this._handleAnimation(t(this._handles[0]),a,n.fromValue,r),a[this.marginDir]=i+"%",this._handleAnimation(t(this._handles[1]),a,n.toValue,r),a[this.marginDir]=o+"%",a[this.innerDim]=i-o+"%",this._handleAnimation(this._range,a,!1,!1,()=>{this._frominit||e&&/(keydown|mousedown|mousemove)/.test(e.type)||this._trigger("change",e)}),this._updateTip(a)}_trigger(e,t){return this._dispatchEvent(e,t,{slider:this.getElement(),fromValue:this.getFromValue(),toValue:this.getToValue()})}_handleDrag(){let e=this._opts,t=e.isSelectionDraggable;!t&&(e.isFromValueFixed||e.isToValueFixed||e.disabled)&&(t=!1),this.container[t?"addClass":"removeClass"]("zslider--selectiondraggable")}setFromValue(e){(e||0===e)&&this._setFromTo(!0,this._getInnerVal(e))}setToValue(e){(e||0===e)&&this._setFromTo(!1,this._getInnerVal(e))}increaseFromValue(){this._setFromTo(!0,null,"+")}increaseToValue(){this._setFromTo(!1,null,"+")}decreaseFromValue(){this._setFromTo(!0,null,"-")}decreaseToValue(){this._setFromTo(!1,null,"-")}getFromValue(){return this._opts.fromValue}getToValue(){return this._opts.toValue}_disable(e){super._disable(e),this._handleDrag()}_dragSelection(e,t){if(e.isFromValueFixed||e.isToValueFixed)return!1;this._dragSelectionStarted=!0,e.snapToTicks=!1,this.tempminRangeDiff=e.minRangeDiff,this.tempmaxRangeDiff=e.maxRangeDiff;let a=this._range.offset();if(this.vertical)this.offsetY=a.top+this._range.outerHeight()-t.pageY;else{let e=t.pageX-a.left;this._opts.rtl&&(e=a.left+this._range.outerWidth()-t.pageX),this.offsetX=e}e.maxRangeDiff=e.minRangeDiff=e.toValue-e.fromValue,this.container.removeClass("on-tabfocus").addClass("is-active"),this._bindDocumentEvent(t),this._range.focus()}_setAttribute(e,t){/^(value|valuesType|values|minValueAllowed|maxValueAllowed)$/.test(e)||("fromValue"===e?this.setFromValue(t):"toValue"===e?this.setToValue(t):"isFromValueFixed"===e?(this._opts[e]=t,t&&(this._opts.isToValueFixed=!1),this._setFixedThumb()):"isToValueFixed"===e?(this._opts[e]=t,t&&(this._opts.isFromValueFixed=!1),this._setFixedThumb()):"isSelectionDraggable"===e?(this._opts[e]=t,this._handleDrag(t)):"minFromValueAllowed"===e||"maxFromValueAllowed"===e||"minToValueAllowed"===e||"maxToValueAllowed"===e||"minRangeDiff"===e||"maxRangeDiff"===e?(this._restoreMeasurements(),this._opts[e]=t,this._cacheMeasurements(),this._reRender()):super._setAttribute(e,t))}}e.registerComponent("ZDoubleSlider",e.ZSlider,ZDoubleSlider)}(ZComponents,ZComponents.DOMUtil),function(e,t){class ZToggleSwitch extends e.CoreComponent{get name(){return"ztoggleswitch"}get attrs(){return{rtl:!1,contentType:"none",orientation:"horizontal",size:"medium",on:!1,checked:!1,disabled:!1,minWidth:null,maxWidth:500,minHeight:null,maxHeight:300,thumbMinWidth:null,thumbMinHeight:null,thumbMaxHeight:100,thumbMaxWidth:100,height:null,width:null,isThumb:!1,onState:"zswitch__onstate",offState:"zswitch__offstate",mainClass:"zswitch"}}get props(){return{track:{color:null,offStateClassName:null,onStateColor:null,offStateColor:null,onStateClassName:null,onStateLabel:null,offStateLabel:null,onStateIconClassName:null,onStateSVGIconId:null,offStateIconClassName:null,offStateSVGIconId:null},thumb:{color:null,offStateClassName:null,onStateColor:null,onStateClassName:null,onStateIconClassName:null,onStateSVGIconId:null,offStateIconClassName:null,offStateSVGIconId:null},keys:{on:"On",off:"Off"}}}get EVENTS(){return["change"]}get clsname(){return{oncls:"onStateClassName",offcls:"offStateClassName",onicon:"onStateIconClassName",officon:"offStateIconClassName",onsvg:"onStateSVGIconId",offsvg:"offStateSVGIconId",onlbl:"onStateLabel",offlbl:"offStateLabel"}}_init(){let e=this._opts,t=e.mainClass;e.id=this._getID(e),e.isToggle="zswitch"===t,e.appendTo=this.element[0],this._setContentType(),"INPUT"===e.appendTo.tagName&&(e.appendTo=this.element.parent()),e.checked=e.on=null===e.on?e.checked:e.on,null===e.checked?e.on=e.checked=this.element[0].checked:this.element[0].checked=e.checked,e.transition=-1!==navigator.userAgent.indexOf("Trident")||-1!==navigator.userAgent.indexOf("Edge")?"zswitch--notransition":"",this._leftText=this._getI18NText("on",null,"keys"),this._rightText=this._getI18NText("off",null,"keys"),e.isCE=this.isCE;let a=e.thumb,o=a.offStateClassName,n=a.onStateClassName;e.thumb&&(e.thumbClassName=e.checked?null===n?"":n:null===o?"":o),e.name&&(this._data.attrs={name:e.name}),this._assignIcons(!1)}_assignIcons(e){let t=this._data,a=this._opts;t.hasOnIcon=t.hasOffIcon=t.hasThumbIcon=!1,a.isToggle&&this._mergeData(a.thumb,a.on?"on":"off",!0)&&(t.isThumb=!0),"icon"===a.contentType&&this._initIcon(),t.track=a.isToggle?a.track:this._buildTrack(a),this._firstRender=t.firstRender=!0}_postRender(e){let t=this._opts,a=this,o=t.mainClass,n=this.container,i=this.name,r=t.disabled;t.isToggle||(this.element=e||n),this._data.className+=` ${o} `+o+(t.checked?"--on ":"--off ")+o+"--"+t.size.toLowerCase()+("vertical"===t.orientation?" "+o+"--vertical ":""),n.attr({"aria-checked":t.checked,"aria-pressed":t.checked,checked:t.checked,"aria-orientation":t.orientation,id:a._getID(n),role:"switch"}).on("contextmenu."+i,()=>!1),t.isToggle&&(this._thumb=n.find("."+o+"__thumb")),this._touchInit(),this._buildElements(),this._setSize(),r&&this._disable(r)}_postEachRender(){this._buildElements(),this._resizeSwitch()}_initIcon(){let e=this._opts,t=e.isToggle?e.track:this._buildTrack(e);this._mergeData(t,"on"),this._mergeData(t,"off")}_mergeData(t,a,o){let n=e._getIconInfo(t[`${a}StateIconClassName`],t[`${a}StateSVGIconId`],void 0,`${this._opts.mainClass}__icon`),i=this._data;a=o?"thumb":a,i[`${a}SVGIconId`]=n.SVGIconId,i[`${a}iconClassName`]=n.iconClassName,i[`${a}SVGIconClassName`]=n.SVGIconClassName,(n.SVGIconId||n.iconClassName||n.SVGIconClassName)&&(o?i.hasThumbIcon=!0:i.hasOnIcon=i.hasOffIcon=!0)}_hasSVG(e){return!!(e.onStateSVGIconId||e.offStateSVGIconId)}_buildElements(){let e=this._opts,t=this.container;this._switchWrapper=t.find(`.${e.mainClass}__statescontainer`),this._left=t.find(`.${e.onState}`),this._right=t.find(`.${e.offState}`),this._switchActions()}_thumbIcon(e){let t=this._opts,a=t.on?"on":"off",o=a+(this._hasSVG(t.thumb)?"StateSVGIconId":"StateIconClassName");this._createIcon(o,t.thumb[o],!0,!e)}_buildTrack(e){return{onStateClass:e.onStateClass,offStateClass:e.offStateClass,onStateLabel:e.onStateLabel,offStateLabel:e.offStateLabel,onStateIconClassName:e.onStateIconClassName,offStateIconClassName:e.offStateIconClassName,onStateSVGIconId:e.onStateSVGIconId,offStateSVGIconId:e.offStateSVGIconId}}_createIcon(e,t,a,o){if(t){let n=this._opts,i=this._data,r=-1===e.indexOf("off")?"on":"off",s=a?"thumb":"track";n[s][e]=t,i[s]=n[s],this._mergeData(n[s],r,a),n.isToggle||(n.track=this._buildTrack(n)),o&&(this._render(i),this._buildElements()),a&&(this._thumb=this.container.find(`.${n.mainClass}__thumb`))}}_setContentType(){let e=this._opts,t=this.clsname,a=e.isToggle?e.track:this._buildTrack(e);a[t.onicon]&&a[t.officon]||a[t.onsvg]&&a[t.offsvg]?e.contentType="icon":a[t.onlbl]&&a[t.offlbl]&&(e.contentType="text")}_setSize(){let e=this._opts,t=this.container,a=this._thumb,o=this._switchWrapper,n=e.orientation,i=e.height,r=e.width;e.minHeight=i||parseInt(t.css("min-height")),e.minWidth=r||parseInt(t.css("min-width")),e.isToggle&&(e.thumbMinWidth=parseInt(a.css("width")),e.thumbMinHeight=parseInt(a.css("height")),this._maxWidth=parseInt(o.css("vertical"===n?"top":"left")),this._setPosition(n,e.checked),this._domChanged=!0),this._resizeSwitch(i,r)}_handleState(){let e=this,t=this.name;this.container.off("mouseup."+t).on("mouseup."+t,function(){e._opts.checked?e.switchOff(!0):e.switchOn(!0)})}_switchActions(){let t=this,e="."+this.name,a=this.container,o=this._opts;this._isEnabled=!o.disabled,a.off("keydown"+e).on("keydown"+e,function(a){32===a.which&&t._isEnabled&&(t.element[0].checked?t.switchOff(!0):t.switchOn(!0),a.preventDefault())}).off("mousedown"+e).on("mousedown"+e,function(o){t._isEnabled&&(t._handleState(o,t._thumb.outerHeight(),t._thumb.outerWidth()),a.attr("tabindex",0))}).off("mouseenter"+e).on("mouseenter"+e,function(){t._setTooltip()}),this._setPosition(o.orientation,o.checked)}_setTooltip(){let e=(!0===this._opts.checked?this._left:this._right).find("span.zswitch__label"),t=0<e.length&&e[0].offsetWidth<e[0].scrollWidth;this.container[t?"attr":"removeAttr"]("title",e.text())}_trigger(e){return this._dispatchEvent("change",null,{state:this._opts.checked},null,e)}getState(){return this._opts.checked}switch(){this.element[0].checked?this.switchOff():this.switchOn()}switchOn(e){this._swtichOnOff(!0,!this.element[0].checked,e)}switchOff(e){this._swtichOnOff(!1,!!this.element[0].checked,e)}_swtichOnOff(e,t,a){if(this._isEnabled){let o=this._opts,n=o.mainClass,i=o.thumb,r=o.track,s=n+"--on "+r.onStateClassName,l=n+"--off "+r.offStateClassName,d=this._data;this.container.addClass(e?s:l).removeClass(e?l:s).attr({"aria-checked":e,"aria-pressed":e}),o.isThumb&&(d.thumbClassName=i[e?"onStateClassName":"offStateClassName"]),this._setPosition(o.orientation,e),d.checked=d.on=o.checked=o.on=this.element[0].checked=e,d.hasThumbIcon&&this._thumbIcon(!1),t&&this._trigger(a),this._setTooltip()}this._thumb.css({top:"",left:""})}disable(){this._disable(!0)}enable(){this._disable(!1)}_disable(e){let t=this.container;e=!!(e||"disabled"===e),this._isEnabled=!e,e?t.attr({"aria-disabled":!0,disabled:!0}):t.removeAttr("aria-disabled disabled"),t[e?"addClass":"removeClass"]("is-disabled")}resizeSwitch(e,t){let a=this._opts;a.minHeight=a.maxHeight=a.height=e,a.minWidth=a.maxWidth=a.width=t,this._resizeSwitch(e,t)}_getStyles(e,t){let a=e.css(t);return a===void 0?0:parseInt(a,10)}_getWidth(e){let t=this.container.attr("id");return parseInt(getComputedStyle(document.getElementById(t),null).getPropertyValue(`border-${e}-width`),10)}_getEle(e){return"text"===this._opts.contentType?e.html():e.clone()}_resizeSwitch(e,a){let o=this._opts,n=this._left,i=this._right,r=this._getEle(n.children()),s=this._getEle(i.children()),l=t("<label style=\"font-size:12px;\">").html(r).appendTo(t("body")),d=l.clone().html(s).appendTo(t("body")),c=this._getWidth("left")+this._getWidth("right"),m=this._getWidth("top")+this._getWidth("bottom"),_=o.rtl?"padding-left":"padding-right",u=o.rtl?"padding-right":"padding-left",p=this._getStyles(n,"padding-"+(o.rtl?"bottom":"top")),h=l.width(),g=d.width(),f=o.thumbMinWidth,b=h>g?h:g,v=o.minWidth,C=o.minHeight,S=o.minHeight,w=o.thumbMinHeight,T=f+c,I=w+m,M;f=this._max(f,"thumbMinWidth","thumbMaxWidth"),f>=o.thumbMinWidth&&("horizontal"===o.orientation?(n.css({"padding-bottom":0,left:o.rtl?1*-f:"auto"}).css(_,T),i.css({"padding-top":0,left:o.rtl?"auto":1*-f}).css(u,T)):(n.css({"padding-bottom":I,left:0}).css(_,0),i.css({"padding-top":I,left:"auto"}).css(u,0))),"vertical"===o.orientation?(e!==void 0&&null!==e?(S=C=this._max(e,"minHeight","maxHeight"),this._maxWidth=C-w-m):S=this._max(S+w+p+m,"minHeight","maxHeight"),M="none"===o.contentType?0:this._getStyles(n.children(),"margin-top")+this._getStyles(n.children(),"margin-bottom"),this.container.width(o.minWidth).height(o.minHeight+(""===M?0:M)+m),this._maxWidth=o.minHeight-w+(""===M?0:M)+m,this._setPosition(o.orientation,o.checked)):(a!==void 0&&null!==a?(b=this._max(a,"minWidth","maxWidth"),this._maxWidth=b-f-c):(M=this._getStyles(n.children(),"margin-left")+this._getStyles(n.children(),"margin-right"),v=b+f+c+("text"===o.contentType?M+(18<b?.2*b:0):0),"none"!==o.contentType&&(v+=4),b=this._max(v,"minWidth","maxWidth")),this.container.width(b).height(S),this._maxWidth=b-f,this._setPosition(o.orientation,o.checked),this._setTooltip()),l.remove(),d.remove()}_setPosition(e,t){"vertical"===e?this._switchWrapper.css({top:t?0:-this._maxWidth,left:0}):this._switchWrapper.css({left:this._swapValue(0,-this._maxWidth,t),top:0})}_swapValue(e,t,a){return a&&this._opts.rtl||!a&&!this._opts.rtl?t:e}_max(e,t,a){let o=this._opts;return e<o[t]?o[t]:e>o[a]?o[a]:e}_changeDirection(e){let t=this._opts;this._left[0].removeAttribute("style"),this._right[0].removeAttribute("style"),this._data.rtl=t.rtl=e,this._updateClass("zh-rtl",e,this.container),this._render()}_setAttribute(e,t){let a=this._opts;("checked"===e||"on"===e)&&this._isEnabled?t?this.switchOn():this.switchOff():"disabled"===e?this._disable(t):"className"==e&&this.container.addClass(t).removeClass(a[e]),"rtl"===e?this._changeDirection(t):!/^(disabled|className|orientation|size)$/.test(e)&&(this._domChanged=!0),("height"===e||"width"===e)&&this._resizeSwitch(a.height,a.width)}_touchInit(){let e=this.container,t=this;e[0].addEventListener("touchstart",t._touchHandler,!0),e[0].addEventListener("touchmove",t._touchHandler,!0),e[0].addEventListener("touchend",t._touchHandler,!0),e[0].addEventListener("touchcancel",t._touchHandler,!0)}_touchHandler(e){let t=e.changedTouches,a=t[0],o="";switch(e.type){case"touchstart":o="mousedown";break;case"touchmove":o="mousemove";break;case"touchend":o="mouseup";break;case"touchcancel":o="mouseup";break;default:return;}let n=document.createEvent("MouseEvent");n.initMouseEvent(o,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(n),e.preventDefault()}_switchHandler(e,t,a){e=Math.abs(t);let o=this._opts,n=o.orientation;return!!(a/2>=e&&(!o.rtl||"vertical"===n)||a/2<=e&&o.rtl&&"horizontal"===n)}_addTransition(){""!==this._opts.transition&&this._switchWrapper.addClass("zswitch--notransition")}_handleState(t){let a=this,o=this._opts,n=t.clientX,i=this.container,r=this._thumb,s=!1,l=this.name,d=this._switchWrapper,c=parseInt(d.css("left")),m="left",_=c,u=o.mainClass,p=u+"--on ",h=u+"--off ",g=o.orientation,f,b;"vertical"===g&&(_=c=parseInt(d.css("top")),n=t.clientY,m="top"),this.container.on("mousemove."+l,function(e){d.removeClass("zswitch--notransition"),setTimeout(function(){s=!0},100),f=a._maxWidth;let t=parseInt(i.width())-r.outerWidth(!0),l=parseInt(i.height())-r.outerHeight(!0),u=o.track,v=t,C=e.clientX-n+c,S,w;"horizontal"!==g&&(v=l,C=e.clientY-n+c),0>=C&&C>=-f?(_=C,S=v+C,w=C):0>C?(S=0,w=-f):C>-f&&(S=v,w=0),r.css(m,S),d.css(m,w),a._switchHandler(b,_,f)?i.addClass(p+u.onStateClassName).removeClass(h+u.offStateClassName):i.addClass(h+u.offStateClassName).removeClass(p+u.onStateClassName)}).on("mouseup."+l,function(){a.container.off("mousemove."+l+" mouseup."+l+" selectstart."+l),s?a._switchHandler(b,_,f)?a.switchOn(!0):a.switchOff(!0):a.element[0].checked?a.switchOff(!0):a.switchOn(!0),a._addTransition()}).on("selectstart."+l,function(){return!1}).off("mouseleave."+l).on("mouseleave."+l,function(){a.container.off("mousemove."+l+" mouseup."+l+" selectstart."+l)}),e.$window.off("mouseup."+l).on("mouseup."+l,function(){s&&(a._switchHandler(b,_,f)?a.switchOn(!0):a.switchOff(!0),a._addTransition()),e.$window.off("mouseup."+l)})}_setAttribute(e,t){let a=this._opts,o=this._data,n=a.mainClass,i=a[e];if(!/^(track|thumb|className)$/.test(e)){if(/^(checked|on)$/.test(e)&&!this._isEnabled)return!1;o[e]=a[e]=t}if("orientation"===e)return this._updateClass(`${n}--vertical`,"vertical"!==t,this.container),this.container.attr("aria-orientation",t),this._setSize(),!1;if("size"===e)this.container.addClass(n+"--"+t).removeClass(n+"--"+i),this._thumb&&this._thumb.removeAttr("style"),this._setSize();else if(!/^(track|thumb)$/.test(e))/^(checked|on)$/.test(e)?this._isEnabled&&(t?this.switchOn():this.switchOff()):"disabled"===e?this._disable(t):"className"===e&&this.container.addClass(t).removeClass(i);else if("none"===t)this._resetOption(e),"track"===e?(a.contentType="none",this._initIcon()):(o.hasThumbIcon=!1,this._thumbIcon(!0));else{let a;for(let o in t)a=t[o],this._isNotNull(a)&&a!==i[o]&&this._changeContents(o,e,a,i,"thumb"===e)}"rtl"===e?this._changeDirection(t):!/^(disabled|className|orientation|size)$/.test(e)&&(this._domChanged=!0),("height"===e||"width"===e)&&this._resizeSwitch(a.height,a.width)}_changeContents(e,t,a,o,n){let i=this._opts,r=this._data,s=t===void 0?i:i[t];if(-1!==e.indexOf("StateClassName")||"className"===e){let t=i.checked;if("className"===e||t&&"onStateClassName"===e||!t&&"offStateClassName"===e){let t=!0===n?this._thumb:this.container;t.addClass(a).removeClass(o[e])}s[e]=a}else if(-1!==e.indexOf("StateLabel")&&!n){i.contentType="text",r.hasOnIcon=r.hasOffIcon=!1;let o=t===void 0?i:i[t];o[e]=s[e]=a,this._resetOption(t,"icons"),this._resetOption(t,"svg"),this._createLabel(s)}else if(-1!==e.indexOf("StateIconClassName")||-1!==e.indexOf("StateSVGIconId")){let o=-1===e.indexOf("off")?this._left:this._right,r=!1;n?(i.isThumb=this._isNotNull(a),o=this._thumb,r=-1!==e.indexOf("onS")&&i.checked||-1!==e.indexOf("off")&&!i.checked):i.contentType="icon",this._updateIcons(o,t,e,a,n,r)}}_updateIcons(e,t,a,o,n,i){let r=t===void 0?this._opts:this._opts[t],s=this._opts.contentType;("icon"===s||"icon-text"===s||n)&&(this._resetOption(t,"text"),r[a]=o,-1===a.indexOf("StateIconClassName")?this._resetOption(t,"icons"):this._resetOption(t,"svg"),o&&(n&&i||!n)&&this._createIcon(a,o,n))}_createLabel(e){e.onStateLabel=e.onStateLabel||this._leftText,e.offStateLabel=e.offStateLabel||this._rightText;let t=this._data,a=this._opts,o=this._buildTrack(e);if(a.isToggle)t.track=a.track=o;else{var n=this._data.rendered;t=a=o,t.rendered=n}}_resetOption(e,t){let a=e===void 0?this._opts:this._opts[e];switch(t){case"text":a.onStateLabel=a.offStateLabel=null;break;case"icons":a.onStateIconClassName=a.offStateIconClassName=null;break;case"svg":a.onStateSVGIconId=a.offStateSVGIconId=null;break;default:a.onStateSVGIconId=a.offStateSVGIconId=a.onStateIconClassName=a.offStateIconClassName=a.onStateLabel=a.offStateLabel=null;}}}e.registerComponent("ZToggleSwitch",ZToggleSwitch)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.ztoggleswitch.Templates;t.WCContainer=e=>ZT.html`<z-toggleswitch type="input" ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zswitch ${e.className}" ?checked="${e.checked}">${e.children&&t.WCChildren(e)}</z-toggleswitch>`,t.WCChildren=e=>ZT.html`<div class="zswitch__thumb ${e.thumbClassName}">${e.hasThumbIcon&&(e.iconType="thumb")&&t.WCIcon(e)}</div><div class="zswitch__wrapper"><div class="zswitch__statescontainer ${e.transition}"><div class="zswitch__onstate">${e.track.onStateLabel&&ZT.html`<span class="zswitch__label">${e.track.onStateLabel}</span>`}${e.hasOnIcon&&(e.iconType="on")&&t.WCIcon(e)}</div><div class="zswitch__offstate">${e.track.offStateLabel&&ZT.html`<span class="zswitch__label">${e.track.offStateLabel}</span>`}${e.hasOffIcon&&(e.iconType="off")&&t.WCIcon(e)}</div></div></div>`,t.WCIcon=e=>ZT.html`<i class="${e[e.iconType+"iconClassName"]}">${ZT.customHTML(e[e.iconType+"SVGIconId"]&&`<svg class='${e[e.iconType+"SVGIconClassName"]}'><use xlink:href='${e[e.iconType+"SVGIconId"]}'></use></svg>`)}</i>`}(ZComponents),function(e){let t=e.ztoggleswitch.Templates;t.container=e=>ZT.html`<div type="input" ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zswitch ${e.className}" ?checked="${e.checked}">${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`<div class="zswitch__thumb ${e.thumbClassName}">${e.hasThumbIcon&&(e.iconType="thumb")&&t.icon(e)}</div><div class="zswitch__wrapper"><div class="zswitch__statescontainer ${e.transition}"><div class="zswitch__onstate">${e.track.onStateLabel&&ZT.html`<span class="zswitch__label">${e.track.onStateLabel}</span>`}${e.hasOnIcon&&(e.iconType="on")&&t.icon(e)}</div><div class="zswitch__offstate">${e.track.offStateLabel&&ZT.html`<span class="zswitch__label">${e.track.offStateLabel}</span>`}${e.hasOffIcon&&(e.iconType="off")&&t.icon(e)}</div></div></div>`,t.icon=e=>ZT.html`<i class="${e[e.iconType+"iconClassName"]}">${ZT.customHTML(e[e.iconType+"SVGIconId"]&&`<svg class='${e[e.iconType+"SVGIconClassName"]}'><use xlink:href='${e[e.iconType+"SVGIconId"]}'></use></svg>`)}</i>`}(ZComponents),function(e,t){class ZRockerSwitch extends e.ZToggleSwitch{get name(){return"zrockerswitch"}get attrs(){return{rtl:!1,contentType:"none",orientation:"horizontal",size:"medium",on:!1,checked:!1,onStateClass:null,offStateClass:null,onStateLabel:null,onStateIconClassName:null,onStateSVGIconId:null,offStateLabel:null,offStateIconClassName:null,offStateSVGIconId:null,mainClass:"zrockerswitch",onState:"zrockerswitch__onpart",offState:"zrockerswitch__offpart"}}_createIcon(e,t,a,o){let n=-1===e.indexOf("off")?"on":"off",i=this._data.rendered;this._data=this._opts,this._data[e]=t,this._data.rendered=i,this._mergeData(this._data,n),o&&(this._render(this._data),this._buildElements())}_handleState(a){let e=t(a.target),o=this.element[0].checked,n=e.is("."+this._opts.mainClass+"__statescontainer");!n&&0<e.closest("."+this._opts.offState).length&&o?this.switchOff(!0):!n&&0<e.closest("."+this._opts.onState).length&&!o&&this.switchOn(!0),this.container.attr("tabindex",0)}_switchActions(){let t=this,e="."+this.name;this._isEnabled=!0,this.container.off("keydown"+e).on("keydown"+e,function(a){32===a.which&&(t.element[0].checked?t.switchOff(!0):t.switchOn(!0))}).off("mousedown"+e).on("mousedown"+e,function(a){t._handleState(a)})}_swtichOnOff(e,t,a){this._isEnabled&&(this.container.addClass(!0===e?this._opts.mainClass+"--on "+this._opts.onStateClassName:this._opts.mainClass+"--off "+this._opts.offStateClassName).removeClass(!0===e?this._opts.mainClass+"--off "+this._opts.offStateClassName:this._opts.mainClass+"--on "+this._opts.onStateClassName).attr({"aria-checked":e,"aria-pressed":e}),this._opts.checked=this._opts.on=this.element[0].checked=e,t&&this._trigger(a),this._setTooltip())}_resizeSwitch(e,t){this._switchWrapper.css({left:"auto",top:"auto"}),(e!==void 0&&null!==e||t!==void 0&&null!==t)&&this.container.width(t).height(e),this._setTooltip()}_setAttribute(e,t){let a=this._opts[e],o=this._opts;/^(disabled|rtl|checked|on|className|size|orientation)$/.test(e)?super._setAttribute(e,t):(-1!==e.indexOf("StateClass")||-1!==e.indexOf("StateIcon")||-1!==e.indexOf("StateSVG")||-1!==e.indexOf("StateLabel"))&&(t!==void 0&&null!==t?this._changeContents(e,void 0,t,a,!1):(o.contentType="none",o[e]=null,this._initIcon()),this._domChanged=!0),("height"===e||"width"===e)&&this._resizeSwitch(o.height,o.width)}}e.registerComponent("ZRockerSwitch",e.ZToggleSwitch,ZRockerSwitch)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zrockerswitch.Templates;t.WCContainer=e=>ZT.html`<z-rockerswitch type="input" ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zrockerswitch ${e.className}">${e.children&&t.WCChildren(e)}</z-rockerswitch>`,t.WCChildren=e=>ZT.html`<div class="zrockerswitch__wrapper"><div class="zrockerswitch__statescontainer" ><div class="zrockerswitch__offpart">${e.offStateLabel&&ZT.html`<span class="zrockerswitch__label">${e.offStateLabel}</span>`}${e.hasOffIcon&&(e.iconType="off")&&t.WCIcon(e)}</div><div class="zrockerswitch__onpart">${e.onStateLabel&&ZT.html`<span class="zrockerswitch__label">${e.onStateLabel}</span>`}${e.hasOnIcon&&(e.iconType="on")&&t.WCIcon(e)}</div></div></div>`,t.WCIcon=e=>ZT.html`<i class="${e[e.iconType+"iconClassName"]}">${ZT.customHTML(e[e.iconType+"SVGIconId"]&&`<svg class='${e[e.iconType+"SVGIconClassName"]}'><use xlink:href='${e[e.iconType+"SVGIconId"]}'></use></svg>`)}</i>`}(ZComponents),function(e){let t=e.zrockerswitch.Templates;t.container=e=>ZT.html`<div type="input" ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zrockerswitch ${e.className}">${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`<div class="zrockerswitch__wrapper"><div class="zrockerswitch__statescontainer" ><div class="zrockerswitch__offpart">${e.offStateLabel&&ZT.html`<span class="zrockerswitch__label">${e.offStateLabel}</span>`}${e.hasOffIcon&&(e.iconType="off")&&t.icon(e)}</div><div class="zrockerswitch__onpart">${e.onStateLabel&&ZT.html`<span class="zrockerswitch__label">${e.onStateLabel}</span>`}${e.hasOnIcon&&(e.iconType="on")&&t.icon(e)}</div></div></div>`,t.icon=e=>ZT.html`<i class="${e[e.iconType+"iconClassName"]}">${ZT.customHTML(e[e.iconType+"SVGIconId"]&&`<svg class='${e[e.iconType+"SVGIconClassName"]}'><use xlink:href='${e[e.iconType+"SVGIconId"]}'></use></svg>`)}</i>`}(ZComponents),function(e){class ZProgressBar extends e.CoreComponent{get name(){return"zprogressbar"}get attrs(){return{mode:"determinate",value:0,max:100,locale:null,progressColor:"#4190F2",progressClass:"",trackColor:"#DBDBDB",trackBorder:null,trackBorderColor:null,trackClass:"",progressTooltipText:"#value#%",trackTooltipText:"100 - #value#%",innerHTML:null}}get props(){return{progressClassName:"",trackClassName:"",statusMessage:{}}}get EVENTS(){return["complete","change"]}_init(){let t=this._opts;t.locale||(this._opts.locale=e.locale),t.max=parseInt(t.max),this._eventTriggered=!1,"indeterminate"===t.mode&&(this._data.progressModifier="zeffects--move"),this._data.trackClass=t.trackClassName+" "+t.trackClass,this._data.progressClass=t.progressClassName+" "+t.progressClass,this._setBarStyles(),e.isEmpty(t.statusMessage)||this._updateStatusMessageData()}_setBarStyles(){let e=this._opts;this._data.progressStyle="background:"+e.progressColor,this._data.trackStyle=this._getStyle({background:e.trackColor,border:e.trackBorder,"border-color":e.trackBorderColor})}_postRender(e,t){e.attr({role:"progressbar","aria-valuemin":0,"aria-valuemax":t.max})}_postEachRender(t){let a=this._opts,o=this._data;o.className=o.className.replace(/zprogress--group|zprogress--indeterminate|zprogress__labeltop|zprogress__labelleft|zprogress__labelright|zprogress__labelbottom|zprogress__labelinside|zprogress__labelcenter|/g,"");let n=" zprogress--group ";"indeterminate"===a.mode&&(n+="zprogress--indeterminate "),o.className+=n+(a.labelModifier||""),this._progressValue=t.find(".zprogress__bar"),this._progressValue.css("width","indeterminate"===a.mode?"":a.value*(100/a.max)+"%"),e.isEmpty(a.statusMessage)||"callout"!==a.statusMessage.displayType||o.rendered&&!o.isStatusModified||(o.isStatusModified=null,this._setCalloutPosition())}setValue(e){this._setValue(e)}getValue(){if("indeterminate"!==this._opts.mode)return this._opts.value}_setValue(t){let a=this._opts,o=a.max;if("indeterminate"!==a.mode&&!isNaN(t)&&(t=parseInt(t),t>o&&(t=o),a.value!==t)){this._opts.value=t,this._eventTriggered&&t!==o&&(this._eventTriggered=!1);let n=t*(100/o);this._progressValue.css("width",n+"%").on(e._animationEnd,()=>{this._eventTriggered||this._lastValue===this._opts.value||(!e.isEmpty(a.statusMessage)&&this._updateStatusText(),this._triggerEvent())})}}_triggerEvent(){let e=this._opts.value,t={indicator:this.container,value:e};this.element.attr("aria-valuenow",e),this._dispatchEvent("change",{},t),e===this._opts.max&&(this._eventTriggered=!0,this._dispatchEvent("complete",{},t)),this._lastValue=e}_destroy(){this.element.removeAttr("role aria-valuenow"),this._progressValue=this._messageElement=void 0}_handleProgress(e){if("indeterminate"===this._opts.mode){this.element[e?"removeClass":"addClass"]("zprogress--indeterminate");let t=this._data.className;t=e?t.replace("zprogress--indeterminate",""):t+" "+"zprogress--indeterminate",this._data.className=t}}startProgress(){this._handleProgress()}stopProgress(){this._handleProgress(!0)}_updateStatusMessageData(){this._data.isMessageCallout=this._data.isMessageAdjacentTop=this._data.isMessageAdjacentBottom=this._data.isMessageInline=void 0;let e=this._opts.statusMessage,t="",a=e.displayType&&"indeterminate"!==this._opts.mode?e.displayType:"adjacent";this._data["isMessage"+a[0].toUpperCase()+a.slice(1)]=!0,e.position||(e.position="inline"===a?"center":"adjacent"===a?"top":"bottom"),"adjacent"===a?(t="zprogress__label"+(e.position?e.position:"top"),this._data.isMessageAdjacentTop="top"===e.position||"left"===e.position,this._data.isMessageAdjacentBottom="bottom"===e.position||"right"===e.position):"inline"===a?(t="zprogress__labelinside",this._data.inlineClass="left"===e.position||"right"===e.position?"zh-align"+e.position:"",this._data.inlineTextWidth=window.getComputedStyle(this.element[0]).width):this._data.calloutClass="zh-"+("bottom"===e.position?"top":"bottom"),this._data.text=e.text.replace(/#value#/g,this._translateEToA(this._opts.value)),this._opts.labelModifier=t,this.element.attr("aria-valuetext",this._data.text)}_setCalloutPosition(e){let t=this.element.find(".ztooltip"),a=t.find(".ztooltip__pointer"),o=this._opts.rtl?"right":"left",n={[o]:`calc(50% - ${a.width()/2}px)`};this._data.pointerStyle=this._getStyle(n),this._data.calloutStyle=this._getStyle({top:("top"===this._opts.statusMessage.position?-parseInt(this.element.height()+t.outerHeight(!0)):parseInt(this.element.height()+5))+"px",[o]:this._progressValue.width()-Math.ceil(t.outerWidth(!0)/2)+"px","-webkit-transition":"all 0.2s ease","-moz-transition":"all 0.2s ease","-o-transition":"all 0.2s ease","-ms-transition":"all 0.2s ease",transition:"all 0.2s ease"}),e||this._render()}_updateStatusText(){let t=this._opts.statusMessage,a=t.text.replace(/#value#/g,this._translateEToA(this._opts.value));""===a.trim()||(this._data.text=t.isTextHTMLEncoded?a:e.encodeHTML(a),this._render(),"callout"===t.displayType&&this._setCalloutPosition(),this.element.attr("aria-valuetext",this._data.text))}_setAttribute(t,a){this._domChanged=!0;let o=this._data;if("mode"===t)e.isEmpty(this._opts.statusMessage)||(this._opts.mode=a,this._updateStatusMessageData()),o.progressModifier="indeterminate"===a?"zeffects--move":"";else if("value"===t)this._setValue(a),this._domChanged=!1;else if("progressColor"===t||"trackColor"===t||"trackBorder"===t||"trackBorderColor"===t)this._opts[t]=a,this._setBarStyles();else if("trackClassName"===t||"progressClassName"===t)o[t.replace("Name","")]=a;else if("rtl"===t)e.isEmpty(this._opts.statusMessage)||(this._opts.rtl=a,this._setCalloutPosition(!0));else if("statusMessage"===t){let e=this._opts;if(e[t]=null===a?{}:a,"object"==typeof e[t]&&e[t].text&&""===e[t].text.trim())return;null===a?o.isMessageAdjacentTop=o.isMessageInline=o.isMessageAdjacentBottom=o.isMessageCallout=void 0:this._updateStatusMessageData(),o.isStatusModified=!0}this._opts[t]=a}}e.registerComponent("ZProgressBar",ZProgressBar)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zprogressbar.Templates;t.WCChildren=e=>ZT.html` ${e.isMessageAdjacentTop&&ZT.html`<span class="zprogress__label">${e.text}</span>`} <div class="zprogress ${e.trackClass}" ?style="${e.trackStyle}" > ${e.isMessageInline&&ZT.html`<span class="zprogress__text h-reversecolor ${e.inlineClass||""}">${e.text}</span>`} <div class="zprogress__bar ${e.progressClass} ${e.progressModifier||""}" ?style="${e.progressStyle}" > ${e.isMessageInline&&ZT.html`<span class="zprogress__text ${e.inlineClass||""}" style="width:${e.inlineTextWidth}" >${e.text}</span>`} </div> </div> ${e.isMessageAdjacentBottom&&!e.showMessageInTop&&ZT.html`<span class="zprogress__label">${e.text}</span>`} ${e.isMessageCallout&&ZT.html`<div class="ztooltip" ?style="${e.calloutStyle}"> <div class="ztooltip__content"> <div class="ztooltip__text">${e.text}</div> </div> <div class="ztooltip__pointer ${e.calloutClass||""}" ?style="${e.pointerStyle}" ></div> </div>`} 	`}(ZComponents),function(e){let t=e.zprogressbar.Templates;t.children=e=>ZT.html` ${e.isMessageAdjacentTop&&ZT.html`<span class="zprogress__label">${e.text}</span>`} <div class="zprogress ${e.trackClass}" ?style="${e.trackStyle}" > ${e.isMessageInline&&ZT.html`<span class="zprogress__text h-reversecolor ${e.inlineClass||""}">${e.text}</span>`} <div class="zprogress__bar ${e.progressClass} ${e.progressModifier||""}" ?style="${e.progressStyle}" > ${e.isMessageInline&&ZT.html`<span class="zprogress__text ${e.inlineClass||""}" style="width:${e.inlineTextWidth}" >${e.text}</span>`} </div> </div> ${e.isMessageAdjacentBottom&&!e.showMessageInTop&&ZT.html`<span class="zprogress__label">${e.text}</span>`} ${e.isMessageCallout&&ZT.html`<div class="ztooltip" ?style="${e.calloutStyle}"> <div class="ztooltip__content"> <div class="ztooltip__text">${e.text}</div> </div> <div class="ztooltip__pointer ${e.calloutClass||""}" ?style="${e.pointerStyle}" ></div> </div>`} 	`}(ZComponents),function(e,t){class ZProgressWheel extends e.CoreComponent{get name(){return"zprogresswheel"}get attrs(){return{mode:"determinate",value:0,max:100,progressColor:"#4190F2",fillGradient:null,progressClass:"",trackColor:"#DBDBDB",trackBorder:null,trackBorderColor:null,locale:null,trackGradient:null,trackClass:"",size:"medium",strokeWidth:"3px",progressTooltipText:"#value#%",trackTooltipText:"100 - #value#%",innerHTML:null,width:"auto"}}get props(){return{progressClassName:"",trackClassName:"",statusMessage:{}}}get _MED_DATA(){return{size:40,strokeWidth:"3px"}}get EVENTS(){return["complete","change"]}_init(){let t=this._opts;this.element.attr({role:"progressbar","aria-valuemin":0,"aria-valuemax":t.max}),t.locale||(this._opts.locale=e.locale),this._data.animateClass="indeterminate"===t.mode?"zeffects--rotate":"",this._data.trackClass=t.trackClassName+" "+t.trackClass,this._data.progressClass=t.progressClassName+" "+t.progressClass,this._setWheelData(),e.isEmpty(t.statusMessage)||this._updateStatusMessageData()}_postEachRender(){let e=this._opts,t=this._data;t.className=t.className.replace(/zprogress--group|zprogress--indeterminate|zprogresscircular--labelcenter|zprogresscircular--labelleft|zprogresscircular--labelright|zprogresscircular--labelbottom|zprogresscircular--labeltop/g,"");let a=" zprogress--group";"indeterminate"===e.mode&&(a+=" zprogress--indeterminate"),this._data.className+=a+(e.labelModifier?" "+e.labelModifier:"")}_setWheelData(){let e=this._opts,a=e.size,o=isNaN(a),n=!("string"!=typeof a||"medium"!==a)&&this._MED_DATA[a],i=o?n?this._MED_DATA.size:this._SIZES[a]:parseInt(a),r=i/2,s=o?n?this._MED_DATA.strokeWidth:this._STROKE_WIDTH[a]:e.strokeWidth,l=2*(r-parseInt(s))*(22/7);t.extend(!0,this._data,{diameter:i,radius:r,circumference:l,strokeWidth:s,axis:r-parseInt(s),strokeOffset:"indeterminate"===e.mode?this._calculateStrokeOffset(l):e.value?l-e.value*l/e.max:l}),this._setWheelStyles()}_calculateStrokeOffset(e){if(e)return e-parseFloat(e/4)}_setWheelStyles(){let e=this._opts;this._data.progressStyle=this._getStyle({stroke:e.fillGradient||e.progressColor}),this._data.trackStyle=this._getStyle({stroke:e.trackGradient||e.trackColor,border:e.trackBorder,"border-color":e.trackBorderColor})}getValue(){if("indeterminate"!==this._opts.mode)return this._opts.value}setValue(e){this._setValue(e)}_setValue(t,a){if(this.element.is(":hidden")&&this.element.show(),!isNaN(t)){let o=this._opts,n=o.max,i=this._data;t=parseInt(t),t>n&&(t=n),this._opts.value=t,t=i.circumference-t*i.circumference/n,t=0<=t?t:0,i.strokeOffset=t,e.isEmpty(o.statusMessage)||this._updateStatusText(o.statusMessage),t=this._opts.value,i.trackTooltip=o.trackTooltipText.replace(n+" - #value#",n-t).replace("#value#",t),i.progressTooltip=o.progressTooltipText.replace("#value#",t),this._triggerEvent(),a||this._render()}}_triggerEvent(){let e=this._opts.value,t={indicator:this.element,value:e};this.element.attr("aria-valuenow",e),this._dispatchEvent("change",{},t),e===this._opts.max&&this._dispatchEvent("complete",{},t)}_destroy(){this.element.removeAttr("role aria-valuenow")}_handleProgress(e){if("indeterminate"===this._opts.mode){this.element[e?"removeClass":"removeClass"]("zprogress--indeterminate");let t=this._data.className;t=e?t.replace("zprogress--indeterminate",""):t+" "+"zprogress--indeterminate",this._data.className=t}}startProgress(){this._handleProgress()}stopProgress(){this._handleProgress(!0)}_updateStatusMessageData(){let e=this._opts.statusMessage.position||"center";t.extend(!0,this._data,{showMessageAtTop:"left"===e||"top"===e,showMessageAtBottom:"right"===e||"bottom"===e,showMessageAtCenter:"center"===e}),this._opts.labelModifier="zprogresscircular--label"+e,this._updateStatusText()}_updateStatusText(){let t=this._opts.statusMessage,a=t.text.replace(/#value#/g,this._opts.value);this._data.text=t.isTextHTMLEncoded?a:e.encodeHTML(a)}_setAttribute(e,t){this._domChanged=!0;let a=this._data;if("mode"===e){let e="indeterminate"===t;this._data.animateClass=e?"zeffects--rotate":"",e||this._setValue(this._opts.value,!0)}else"value"===e?this._setValue(t,!0):-1<["progressColor","trackColor","fillGradient","trackGradient","trackGradient","trackBorderColor"].indexOf(e)?(this._opts[e]=t,this._setWheelStyles()):"progressClassName"===e||"trackClassName"===e?this._data[e.replace("Name","")]=t:("statusMessage"===e||"size"===e||"strokeWidth"===e)&&(this._opts[e]=null===t?{}:t,"statusMessage"===e?null===t?a.showMessageAtTop=a.showMessageAtCenter=a.showMessageAtBottom=void 0:this._updateStatusMessageData():this._setWheelData());this._opts[e]=t}get _SIZES(){return{micro:16,mini:20,small:24,medium:40,large:48,mega:64}}get _STROKE_WIDTH(){return{micro:"2px",mini:"2px",small:"2px",medium:"3px",large:"3px",mega:"4px"}}}e.registerComponent("ZProgressWheel",ZProgressWheel)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zprogresswheel.Templates;t.WCChildren=e=>ZT.html`${e.showMessageAtTop?ZT.html`<span class="zprogress__label">${e.text}</span>`:""} <div class="zprogress--circle zprogress"> ${e.showMessageAtCenter?ZT.html`<span class="zprogress__label">${e.text}</span>`:""} <svg class="zprogress__loader ${e.animateClass}" style="width:${e.diameter}px;height:${e.diameter}px;"> <circle class="circle__track ${e.trackClass}" cx="${e.radius}" cy="${e.radius}" r="${e.axis}" stroke-dasharray="${e.circumference}" stroke-dashoffset="0" stroke-width="${e.strokeWidth}" style="${e.trackStyle}"> <title>${e.trackTooltip}</title> </circle> <circle class="circle__load ${e.progressClass}" cx="${e.radius}" cy="${e.radius}" r="${e.axis}" stroke-dasharray="${e.circumference}" stroke-dashoffset="${e.strokeOffset}" stroke-width="${e.strokeWidth}" style="${e.progressStyle}"> <title>${e.progressTooltip}</title> </circle> </svg> </div> ${e.showMessageAtBottom?ZT.html`<span class="zprogress__label">${e.text}</span>`:""}`}(ZComponents),function(e){let t=e.zprogresswheel.Templates;t.children=e=>ZT.html`${e.showMessageAtTop?ZT.html`<span class="zprogress__label">${e.text}</span>`:""} <div class="zprogress--circle zprogress"> ${e.showMessageAtCenter?ZT.html`<span class="zprogress__label">${e.text}</span>`:""} <svg class="zprogress__loader ${e.animateClass}" style="width:${e.diameter}px;height:${e.diameter}px;"> <circle class="circle__track ${e.trackClass}" cx="${e.radius}" cy="${e.radius}" r="${e.axis}" stroke-dasharray="${e.circumference}" stroke-dashoffset="0" stroke-width="${e.strokeWidth}" style="${e.trackStyle}"> <title>${e.trackTooltip}</title> </circle> <circle class="circle__load ${e.progressClass}" cx="${e.radius}" cy="${e.radius}" r="${e.axis}" stroke-dasharray="${e.circumference}" stroke-dashoffset="${e.strokeOffset}" stroke-width="${e.strokeWidth}" style="${e.progressStyle}"> <title>${e.progressTooltip}</title> </circle> </svg> </div> ${e.showMessageAtBottom?ZT.html`<span class="zprogress__label">${e.text}</span>`:""}`}(ZComponents),function(e,t){var a=Math.max;class ZColorPickerBase extends e.CoreComponent{get name(){return"zcolorpickerbase"}get attrs(){return{value:"rgba(0,0,0,1)",valueColorModel:"auto",paletteColumns:10,isTitleHTMLEncoded:!1,title:"",closeButton:!1,closeIconClass:null,closeSVGIconId:null,closeOnSelect:!0,closeOnBodyClick:!0,position:"auto",forElement:null,displayType:"box",type:"popup",draggable:!1,appendTo:null,viewport:null,rtl:null,positionAlterable:null,locale:null}}get props(){return{offset:null,margin:null,closeIconClassName:null,labels:{close:"Close"},animation:null}}get CLASSES(){return{CONTAINER:"zcolorpicker",RTL:"h-rtl",FLIPY:"h-flipY",ICON:"zcolorpicker__icon",TEXT:"zcolorpicker__text",TITLEBAR:"zcolorpicker__titlebar",CLOSE:"zcolorpicker__close",PALETTE:"zcolorpicker__palette",WITHSHADES:"zcolorpicker__shades",COLORBOX:"zcolorpicker__colorpan",ACTIVE:"is-selected",DISABLED:"is-disabled",NUMBERFIELD:"zcolorpicker__numberfield",COLORFIELD:"zcolorpicker__colorfield",SLIDER:"zslider",SLIDERTHUMB:"zslider__thumb"}}get EVENTS(){return["change","select","pick","beforeopen","open","beforeclose","close","colorpanmouseover","colorpanmouseout","colorpanclick","beforefocus","focus","blur","dragstart","drag","dragstop"]}get _REGEX(){return{position:/^(bottom-right|bottom-left|top-right|top-left|top|bottom|left|right|center|auto|right-bottom|right-top|left-bottom|left-top)$/,colorMode:e.ColorUtil.REGEX.colorMode}}_init(e,t){this._fromInit=!0,this._appendEle(this._opts.appendTo),this._id=this._getID(),this._namespace="."+this.name,this._validate(t),this._setInitial(),this._fromInit=!1,this._changedAttrs=[]}_isAttrChanged(e){let t=this._changedAttrs;return!this._data.rendered||-1<t.indexOf("all")||-1<t.indexOf(e)}_setMainEle(t){t=this._toArr(t);let a=!1;t.forEach(t=>{if(t&&!t.mainElement){let o=this._getById(t.id);t.mainElement=o[0],a="button"===t.ctype,a||(t.instance=e[t.ctype](o)),t.container=a?o:t.instance.getElement()}})}_destroyComp(a){if(a){let o=t("#"+a.id,this.element);o.length&&(!this.isCE&&e[a.ctype](o).destroy(),o.remove())}}_getById(e){return t("#"+e,this.element)}_getID(e){let t=e?e+"-"+this._id:super._getID();return t.replace(/\s/g,"")}_validateCount(e){return a(+e||0,0)}_getCanvasContext(e){let t=e.querySelector("canvas");return t.getContext("2d")}_preRender(){let e=this._data,t=this._opts;return e.rgb=this._currentColor,e._inPreRender=!0,this._setRenderData(e,t,this.element),e._inPreRender=!1,e}_setRenderData(e,t,a){if(e.rtl=t.rtl,e.closeOnSelect=t.closeOnSelect,!e.rendered||this._domChanged){e.id=this._id;let t=a.attr("tabindex");void 0===t&&(t=0),e.attrs={tabindex:t,title:a[0].title}}let o=this._isAttrChanged.bind(this);o("displayType")&&(e.hasCallout="callout"===t.displayType),o("title")&&(t.title||e.title)&&this._setTitleBarData(e,t)}_getRTLBasedPercent(e){return this._opts.rtl?100-e:e}_postEachRender(t,a){this._storeRef(a,this._opts,t),(!a.rendered||this._domChanged)&&(this._setClassName(a),this._setDimension(),this._reopen&&(e.unBindDocumentEvents(this.element),this._reopen=!1,this.open(null,null,!1)),a.dragged&&this._hideCallout())}_setDimension(){this._opened||this._display(),this._updateDim(),!this._opened&&this._floating&&this._display(!1)}_setClassName(e){e.className=" "+this._CLASSES.CONTAINER+(this._opts.rtl?" zh-rtl":"")}_storeRef(e,a,o){let n=this._isAttrChanged.bind(this);n("displayType")&&(this._callout=!1,e.hasCallout&&(this._callout=t(this.element[0].querySelector(".zcolorpicker__pointer")))),n("title")&&(this._titleBar=!1,a.title&&this._storeTitleBarRef(e,a,o)),(n("draggable")||n("title"))&&(a.draggable||e.draggableIns)&&this._initDraggable(e,a,o),this._selectedPan=o.find("."+this._CLASSES.COLORBOX+".is-selected")}_validate(e){this._floating="inline"!==e.type;let t=this._getClrInstance(e.value);"none"===e.value||"transparent"===e.value||t.isValid()||(e.value=this._DEFAULTS.value),this._setClrMode(e.value)}_bindEvents(){this._addEvents({keydown:"keydown"}),this._colorPanEventHandler&&this._addEvents({colorPanEvent:"click mouseover mouseout"},this._container||this.container),this._addEvents({focus:"focusin",blur:"focusout"})}_focusHandler(e){clearTimeout(this._blurTimer),this._focussed||this._trigger("focus",e),this._focussed=!0}_blurHandler(e){clearTimeout(this._blurTimer),this._blurTimer=setTimeout(()=>{this._focussed=!1,this._trigger("blur",e)})}_closeClickHandler(e){this.close(e)}_setInitial(){this._setValue(this._opts.value)}_arrowCallback(e,t){this.element.removeClass("zcolorpicker--top zcolorpicker--bottom zcolorpicker--left zcolorpicker--right").addClass("zcolorpicker--"+t)}_getTitle(e,t,a){return e.title||t.getColor("hex").toUpperCase()}_hideCallout(){this._data.hasCallout&&this._display(!1,this._callout)}_onDragStart(){this._data.dragged=!0,this._hideCallout()}_keydownHandler(t){let a=t.keyCode,o=document.activeElement,n=o.tagName;"LI"===n?(a===e.keyCode.ENTER||a===e.keyCode.SPACE)&&o.click():a===e.keyCode.ENTER&&"INPUT"===n&&this._onSubmit(t)}_toArr(e){return Array.isArray(e)?e:[e]}_getClrInstance(t){return e.ColorUtil.getColorInstance(t)}_getPosition(a){return e.Position.get(t(this._opts.forElement),this.element,a)}_setPosition(){let a=this._opts,o=this.element;if(a.offset)return void o.css(a.offset);if(e.Position){let e=a.positionAlterable,n=t(a.forElement),i=this._lastPosition||a.position;if(n.length){"auto"===i&&(i="callout"===a.displayType?"bottom":"bottom-left",e=!0),e=e||"fit";let t={rtl:a.rtl,direction:i,within:a.viewport||a.appendTo,positionAlterable:e,arrow:{element:this._callout,callback:this._arrowCallback.bind(this)}},n=this._getPosition(t);if(n&&n.elementPosition){let e=n.elementPosition;if(a.margin){let t=+a.margin.top||0,o=+a.margin.left||0,i=n.direction.split("-");"top"===i[0]?e.top-=t:"bottom"===i[0]?e.top+=t:"right"===i[0]?e.left+=o:"left"===i[0]&&(e.left-=o)}o.css(e),this._callout&&this._callout.css(n.arrowPosition),this._lastPosition=n.direction}}}}_setGradientColors(e,t){t=t.slice(0);let a=Math.round(100*(1/(t.length-1)))/100,o=0;for(;1<t.length;)e.addColorStop(o,t.shift()),o+=a;e.addColorStop(1,t.shift())}_limit(e,t,o){return a(Math.min(e,o),t)}_setClrMode(e){let t=this._opts;if(this._colorMode=t.valueColorModel,!this._REGEX.colorMode.test(this._colorMode)){let a=this._getClrInstance(e||t.value);this._colorMode=a.format,t.valueColorModel="auto"}}_updateUI(e){!this._data._inPreRender&&(this._mustRender||this._data.rendered&&!this._domChanged)&&(this._render(),e&&this._setDimension())}_updateSelectedColor(){this._selectedInstance=this._getClrInstance(this._colorInstance.getObject()),this._selectedInstance.initialColor=this._colorInstance.initialColor,this._opts.value=this._noFill?"transparent":this._colorInstance.getColor(this._colorMode,void 0,"auto"===this._opts.valueColorModel)}_dragStartHandler(t){t.button||(this._onPickerDragged(t),this._trigger("dragstart",t),this._addEvents({drag:"mousemove",dragStop:"mouseup"},e.$document))}_dragHandler(e){this._onPickerDragged(e),this._trigger("drag",e),e.preventDefault()}_dragStopHandler(t){this._onPickerDragged(t),this._removeEvents("mousemove mouseup",e.$document),this._trigger("dragstop",t)}_display(e=!0,t){(t||this.element)[0].style.display=e?"":"none"}_animate(a,o,n,i){let r=()=>{this._display("close"!==n),i&&i()};if(o&&e.animationHandler&&!t.isEmptyObject(o)){e.animationHandler({element:a,action:n,animation:o,callback:r})}else r()}setFocus(e){this._trigger("beforefocus",e)&&-1!==this.element.attr("tabindex")&&(clearTimeout(this._focusTimer),this._focusTimer=setTimeout(()=>{this.element[0].focus()},100))}_onOpen(e){this._opened=!0,this._opts.closeOnBodyClick&&this._bindBodyClick(),this.setFocus(e),this._addedByComponent=!0,this.element.attr("aria-hidden",!1),this._addedByComponent=!1,this._bindDocEvents(),this._trigger("open",e)}open(e,t,a=!0){if(this._floating&&this._trigger("beforeopen",t)){this._opened=!1;let o=this._opts;e&&this.setAttributes(e),this._setPosition(),this._widthSet||this._setDimension(),this._animate(this.element,!!a&&o.animation,"open",this._onOpen.bind(this,t))}}_bindDocEvents(){this._addEvents({docKeydown:"keydown"},e.$document)}_unBindDocEvents(){this._removeEvents("",e.$document)}_docKeydownHandler(t){t.keyCode===e.keyCode.ESCAPE&&this.close(t)}_onClose(e){let a=this._data;this._opened=this._lastPosition=!1,this._unBindDocEvents(),clearTimeout(this._focusTimer),a.dragged=!1,a.hasCallout&&this._display(!0,this._callout),a.closeButton&&t(a.closeButton.mainElement).removeClass("has-focus"),this.element.attr("aria-hidden",!0),this._trigger("close",e)}_destroy(){this._removeEvents("",e.$document),this.element.removeClass(this._CLASSES.CONTAINER).removeAttr("style").empty(),clearTimeout(this._fieldChangeTimer),clearTimeout(this._focusTimer),clearTimeout(this._blurTimer)}_trigger(e,a,o){if(!this._fromInit){let n=this._colorMode,i=this._selectedInstance,r=this._colorInstance;a=a&&a.preventDefault?a:void 0,o=o||{},o.value=o.color=this.getValue(),o.rgb=i.getColor(),o.opacity=i.getAlpha(),o.colorData=i.getObject(n),o.currentValue=r.getColor(n),o.currentRGB=r.getColor(),o.currentOpacity=r.getAlpha(),o.currentColorData=r.getObject(n),o.otherData={};let s=this._selectedPan;return s.length&&(o.otherData.colorPan=s,s=t(s[0]),s.attr("data-shade")&&(o.otherData.isShade=!0,o.otherData.baseColor=s.attr("data-base-color"),o.otherData.toneType=s.attr("data-tone-type"),o.otherData.tonePercent=s.attr("data-tone-percent")),o.otherData.theme=s.attr("data-theme")),this._dispatchEvent(e,a,o,void 0,!!a)}return!0}getValue(){return this._opts.value}setValue(e,t){this._setValue(e,t,null,!0)}close(e){this._floating&&this._opened&&this._trigger("beforeclose",e)&&this._animate(this.element,this._opts.animation,"close",this._onClose.bind(this,e))}_setAttribute(e,t){return"value"===e?void(this._domChanged=!0,this.setValue(t)):this._setAdvAttr(e,t)}_updateColors(e){let t=e.colors;e.paletteData.colors=t.map(e=>e.orgObject),this._spliceColors(e),this._updateUI(!0)}_addColors(e,t,a){let o=this._getPalette(e);if(o){let e=this._getPaletteColors(o,t),n=o.colors;return this._addToObject(n,e,a),this._updateColors(o),o.paletteData.colors}}_removeColors(e,t){let a=this._getPalette(e);if(a){t=this._toArr(t);let e=a.colors;t.forEach(t=>{let a=this._getClrInstance(t);if(a.isValid()){let t=a.getColor();e=e.filter(e=>e.rgb!==t)}}),a.colors=e,this._updateColors(a)}}_removeColorsAt(e,t){let a=this._getPalette(e);a&&(t=this._toArr(t),a.colors=this._removeFromObjAt(a.colors,t),this._updateColors(a))}addColor(e,t){this._addColors(e,t)}insertColorAt(e,t,a){this._addColors(e,t,a)}removeColor(e,t){this._removeColors(e,t)}removeColorAt(e,t){this._removeColorsAt(e,t)}_removePalettes(e,t){let a=this._data;t=t||"palettes",e&&(e=this._toArr(e),e.forEach(e=>{let o=this._getPalette(e);o&&(a[t]=a[t].filter(e=>e!==o))}),this._updatePalettes(t))}_removePalettesAt(e,t){let a=this._data;t=t||"palettes",this._removeFromObjAt(a[t],e),this._updatePalettes(t)}_removeFromObjAt(e,t){return t=this._toArr(t),e.filter((e,a)=>-1===t.indexOf(a))}addPalette(e){this._addPalettes(e)}insertPaletteBefore(e,t){let a=this._getPaletteTemplateData(t),o;a&&(o=this._data.palettes.indexOf(a)),this._addPalettes(e,o)}insertPaletteAt(e,t){this._addPalettes(e,t)}removePalette(e){this._removePalettes(e)}removePaletteAt(e){this._removePalettesAt(e)}getPaletteColors(e){let t=this._getPalette(e);if(t)return t.paletteData.colors}setPaletteColors(e,t){let a=this._getPalette(e);a&&(a.colors=this._getPaletteColors(a,t),this._updateColors(a))}_setCloseBtnData(t,a){let o=a.closeSVGIconId,n;o||(n=a.closeIconClassName||a.closeIconClass,!n&&(o="zc__svg--close")),t.closeButton=e.ZButton.getBtnProps({isCE:this.isCE,rtl:this._opts.rtl,templateRender:!0,ctype:"button",className:this._CLASSES.CLOSE,id:this._getID("closebutton"),iconClassName:n,SVGIconId:o,defaultIconClassName:"zcolorpicker__icon",title:this._getI18NText("close")})}_bindBodyClick(){e.bindDocumentEvents({element:this.element,forElement:this._opts.forElement,ctype:this.name,closeMethodName:"close",closeEvent:"close"})}_getBaseObj(e){return{ctype:e,isCE:this.isCE,rtl:this._opts.rtl,templateRender:!0,locale:this._opts.locale}}_initDraggable(t,a,o){t.draggableIns&&t.draggableIns.destroy(),t.draggableIns=void 0,a.draggable&&a.title&&this._floating&&(t.draggableIns=e.draggable(o,{handle:this._titleBar,cursor:"default",start:this._onDragStart.bind(this)}))}_getBasicNumberFieldOptions(){return{...this._getBaseObj("numberfield"),...{min:0,required:!0,width:"none",spinButtons:"none",clearButton:"none",bindedSpinAndChange:!0}}}_addPalettes(e,t,a){let o=this._data;a=a||"palettes";let n=[],i="customColorLibraries"===a;e&&(e=this._toArr(e),e.forEach(e=>{e.isCustom=i;let t=this._getPaletteTemplateData(e);t&&n.push(t)}),this._addToObject(o[a],n,t),o.rendered&&this._updatePalettes(a))}_colorPanEventHandler(e){let a=e.target,o=t(a);if(o.is(`.${this._CLASSES.COLORBOX}`)){let t=e.type,o="click"===t,n=this._getColorPanData(a);o&&this._setValue(a.style.backgroundColor,e),this._trigger("colorpan"+t,e,n),o&&this._data.closeOnSelect&&this.close(e)}}_getPaletteTemplateData(e){if("object"==typeof e){let t=e.name||e.heading;if(t&&!this._getPalette(t)){let a={heading:e.heading,name:t,className:e.className,id:e.id||this._getID(t),hasTones:e.hasTones,tones:e.tones,maxColorsCount:this._validateCount(e.maxColorsCount),isCustom:e.isCustom,paletteData:e};return a.colors=this._getPaletteColors(a,e.colors),this._spliceColors(a),a}}}_getPaletteColors(e,t){let a=[];return t&&this._toArr(t).forEach(t=>{let o=t;("string"==typeof t||Array.isArray(t))&&(t={color:t});let n=this._getClrInstance(t.color);n.isValid()&&a.push({orgObject:o,theme:t.theme,rgb:n.getColor(),title:this._getTitle(t,n),paletteId:e.id,paletteName:e.name,tabindex:this._data.attrs.tabindex,tones:e.hasTones?this._getTones(n,t.tones||e.tones,t):void 0})}),a}_spliceColors(e){let t=this._opts.paletteColumns,a=e.colors,o=e.colorChunks=[];if(a.length||e.isCustom){let n=e.maxColorsCount;if(n&&a.length>n){let t=n-a.length;a.splice(t),e.paletteData.colors.splice(t)}if(a=[...a],e.isCustom){let t=e.addBtn=this._getAddBtnData(e);a.push(t)}if(t)for(let e=0;e<a.length;e+=t)o.push(a.slice(e,e+t));else o.push(a)}}_addToObject(e,t,a){a===void 0?e.push(...t):e.splice(a,0,...t)}_getPalette(e){let t=this._data,a=t=>t.name===e,o=e;return"string"==typeof e&&(o=t.palettes.find(a),!o&&t.customColorLibraries&&(o=t.customColorLibraries.find(a))),o}_getColorPanData(e){return{colorpan:e,colorpanData:{color:this._getClrInstance(e.getAttribute("data-zcolor")).getColor(this._colorMode)}}}_updateClrSelection(e){e.forEach(e=>{e.selected=e.rgb===this._currentColor,e.tones&&this._updateClrSelection(e.tones)})}_setAdvAttr(e,t){let a=this._opts,o=this._changedAttrs;if("valueColorModel"===e)a[e]=t,this._setClrMode(),this._updateSelectedColor(),o.push("colorField"),this._domChanged=!0;else if(-1<["title","isTitleHTMLEncoded","closeButton","closeIconClass","closeIconClassName","closeSVGIconId"].indexOf(e))a[e]=t,o.push("title"),this._domChanged=!0;else if("draggable"===e||"displayType"===e)a[e]=t,this._reopen=this._opened,o.push(e),this._domChanged=!0;else if("type"===e)a[e]=t,this._floating="inline"!==t,this._floating?this.close():this._display();else if("closeOnSelect"===e)a[e]=t,this._domChanged=!0;else if(-1<["closeOnBodyClick","position","forElement","offset","margin","animation"].indexOf(e))a[e]=t,this._reopen=this._opened,this._domChanged=!0;else if(-1<["locale","labels","rtl"].indexOf(e))a[e]=t,o.push("all"),this._domChanged=!0;else return!1}_getThumbData(t){if(t){let a=t.thumbIconClassName,o=t.thumbSVGIconId,n;return(o||a)&&e._getIconInfo(a,o,"","",n={}),n}}_getThumb(e){return t(e.querySelector("."+this._CLASSES.SLIDERTHUMB))}_bindTextField(e){this._addEvents({fieldChange:"input change paste",textFieldFocus:"focus blur"},e)}_textFieldFocusHandler(e){let a=e.target;a.readonly||t(a).parent()["blur"===e.type||a.readOnly?"removeClass":"addClass"]("has-focus")}_setTitleBarData(t,a){t.closeButton=!1,t.title=a.isTitleHTMLEncoded?a.title:e.encodeHTML(a.title),a.closeButton&&this._setCloseBtnData(...arguments)}_storeTitleBarRef(e,a,o){this._titleBar=t(o[0].querySelector("."+this._CLASSES.TITLEBAR)),a.closeButton&&(this._setMainEle(e.closeButton),this._addEvents({closeClick:"mousedown"},t(e.closeButton.mainElement)))}_getTones(e,t,a){return t=t||this._getDefaultToneFactors(e),t.map(t=>{let o=t.color||t;if("string"==typeof o){let n=this._getClrInstance(o);return{rgb:n.getColor(),baseColor:e.initialColor,title:this._getTitle(t,n,a),theme:a.theme,isShade:"true"}}return this._getTone(e,t,a)})}_getDefaultToneFactors(t){let a=t.getObject(),o=[a.r,a.g,a.b],n=e.ColorUtil.brightness(o),i=240<=n&&255>=n?[.05,.15,.25,.35,.5]:0<=n&&15>=n?[.5,.35,.25,.15,.05]:224<=n&&240>n?[.1,.25,.5,.75,.9]:15<n&&31>=n?[.9,.75,.5,.25,.1]:[.8,.6,.4,.25,.5],r=e.ColorUtil.isDark(o);return i.map((e,t)=>(!(210<=n&&255>=n||0<=n&&38>=n)&&(r=2>=t),{function:r?"lighten":"darken",percent:100*e}))}_getTone(t,a,o){let n=a["function"],i=a.percent;if(/^(lighten|darken|tint|shade)$/.test(n)){let r=t.getObject(),s=e.ColorUtil[n]([r.r,r.g,r.b],i/100);s.push(r.a);let l=this._getClrInstance(s);return{rgb:l.getColor(),title:this._getTitle(a,l,o),toneType:n,tonePercent:i,tabindex:this._data.attrs.tabindex,baseColor:t.initialColor,theme:o.theme,isShade:"true"}}}}e.registerComponent("ZColorPickerBase",ZColorPickerBase)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcolorpickerbase.Templates;t.WCCanvas=e=>ZT.html`<canvas class="${e.rtl?"zh-flipY":""}"></canvas>`,t.WCPalette=a=>{let o=a.colorChunks.length&&ZT.html`<div ?id=${a.id} data-custom="${a.isCustom}" class="zcolorpicker__palettecontainer ${a.className||""}" data-palettename="${a.name}"> ${a.heading&&ZT.html`<span class="zcolorpicker__paletteheading"> ${a.heading} </span>`} <div class="zcolorpicker__palette"> ${a.colorChunks.map(o=>a.hasTones?ZT.html`<div class="zcolorpicker__navigatable"> ${o.map(e=>ZT.html`<ul class="zcolorpicker__shades"> ${t.WCColorpan(e)} ${e.tones.map(e=>t.WCColorpan(e))} </ul> `)} </div>`:ZT.html`<ul> ${o.map(a=>a.addBtn?ZT.html`<li class="zcolorpicker__addcolor">${e.zbutton.Templates.WCContainer(a)}</li>`:t.WCColorpan(a))} </ul>`)} </div> </div> `;return o},t.WCColorpan=e=>ZT.html`<li ?data-shade="${e.isShade}" data-palette-name="${e.paletteName}" class="zcolorpicker__colorpan ${e.selected?"is-selected":""}" tabindex=${e.tabindex} ?data-tone-type="${e.toneType}" ?data-theme="${e.theme}" ?data-tone-percent="${e.tonePercent}" ?data-zcolor="${e.rgb}" ?data-base-color="${e.baseColor}" style="background-color:${e.rgb};" ?aria-hidden="${e.hidden}" ?aria-selected="${e.selected}" title="${e.title}"></li>`;let a=e.Templates.Utilities;t.WCSlider=e=>ZT.html`<div ?id=${e.id} class="zslider ${e.className||""}"> <div class="zslider__track ${e.opacity?"zcolorpicker__transparentbg":""}"> ${t.WCCanvas(e)} </div> <div role="slider" class="zslider__thumb ${e.thumbIcon?"":"zslider__circlethumb"}" style="left:${e.left}%;"> ${e.thumbIcon&&a.WCIcon(e.thumbIcon)} </div> </div>`,t.WCTitle=t=>{let a=ZT.html`<div class="zcolorpicker__header zcolorpicker__titlebar"> <span class="zcolorpicker__title zcolorpicker__text">${ZT.customHTML(t.title)}</span> ${t.closeButton&&ZT.html`<div class="zcolorpicker__actiongroup zcolorpicker__action"> ${e.zbutton.Templates.WCContainer(t.closeButton)} </div>`} </div>`;return a}}(ZComponents),function(e){let t=e.zcolorpickerbase.Templates;t.canvas=e=>ZT.html`<canvas class="${e.rtl?"zh-flipY":""}"></canvas>`,t.palette=a=>{let o=a.colorChunks.length&&ZT.html`<div ?id=${a.id} data-custom="${a.isCustom}" class="zcolorpicker__palettecontainer ${a.className||""}" data-palettename="${a.name}"> ${a.heading&&ZT.html`<span class="zcolorpicker__paletteheading"> ${a.heading} </span>`} <div class="zcolorpicker__palette"> ${a.colorChunks.map(o=>a.hasTones?ZT.html`<div class="zcolorpicker__navigatable"> ${o.map(e=>ZT.html`<ul class="zcolorpicker__shades"> ${t.colorpan(e)} ${e.tones.map(e=>t.colorpan(e))} </ul> `)} </div>`:ZT.html`<ul> ${o.map(a=>a.addBtn?ZT.html`<li class="zcolorpicker__addcolor">${e.zbutton.Templates.container(a)}</li>`:t.colorpan(a))} </ul>`)} </div> </div> `;return o},t.colorpan=e=>ZT.html`<li ?data-shade="${e.isShade}" data-palette-name="${e.paletteName}" class="zcolorpicker__colorpan ${e.selected?"is-selected":""}" tabindex=${e.tabindex} ?data-tone-type="${e.toneType}" ?data-theme="${e.theme}" ?data-tone-percent="${e.tonePercent}" ?data-zcolor="${e.rgb}" ?data-base-color="${e.baseColor}" style="background-color:${e.rgb};" ?aria-hidden="${e.hidden}" ?aria-selected="${e.selected}" title="${e.title}"></li>`;let a=e.Templates.Utilities;t.slider=e=>ZT.html`<div ?id=${e.id} class="zslider ${e.className||""}"> <div class="zslider__track ${e.opacity?"zcolorpicker__transparentbg":""}"> ${t.canvas(e)} </div> <div role="slider" class="zslider__thumb ${e.thumbIcon?"":"zslider__circlethumb"}" style="left:${e.left}%;"> ${e.thumbIcon&&a.icon(e.thumbIcon)} </div> </div>`,t.title=t=>{let a=ZT.html`<div class="zcolorpicker__header zcolorpicker__titlebar"> <span class="zcolorpicker__title zcolorpicker__text">${ZT.customHTML(t.title)}</span> ${t.closeButton&&ZT.html`<div class="zcolorpicker__actiongroup zcolorpicker__action"> ${e.zbutton.Templates.container(t.closeButton)} </div>`} </div>`;return a}}(ZComponents),function(e,t){class ZAdvancedColorPicker extends e.ZColorPickerBase{get name(){return"zadvancedcolorpicker"}get attrs(){return{opacity:!0,mapMarkerIconClass:null,mapMarkerSVGIconId:null,colorPreview:!0,previousColorInPreview:!0,colorFields:!0,defaultColorField:"hex",currentColorField:"hex",opacityFieldType:"percent",palettes:!1,paletteColumns:0,addIconClass:null,addSVGIconId:null,immediateCommit:!1,closeOnSelect:!1,OKButtonLabel:null,OKButtonClass:null,cancelButtonLabel:null,cancelButtonClass:null,hideCancelButton:!1,backButton:!0,backButtonLabel:null,backButtonClass:null,boxSelectionTypeDefaultColorModel:"HSV"}}get props(){return{slider:null,mapMarkerIconClassName:null,addIconClassName:null,OKButtonClassName:null,cancelButtonClassName:null,backButtonClassName:null,colorFieldsList:null,colorFieldSelect:{width:"none",dropdownList:{viewport:window}},palettesList:null,customColorLibraries:null,commandBar:{leftColumn:null,centerColumn:null,rightColumn:{commands:["cancel","OK"]}},boxSpectrumHSVColorModel:{xAxis:"saturation",yAxis:"value"},boxSpectrumHSLColorModel:{xAxis:"hue",yAxis:"saturation"},labels:{close:"Close",addcolor:"Add Color",HSV:"HSV",RGB:"RGB",HSL:"HSL",CMYK:"CMYK",HEX:"HEX",opacityField:"A",hexField:"HEX",hueField:"H",saturationField:"S",valueField:"V",lightnessField:"L",redField:"R",greenField:"G",blueField:"B",cyanField:"C",magentaField:"M",yellowField:"Y",keyField:"K",ok:"OK",cancel:"Cancel",back:"Back"}}}get CLASSES(){return{CONTAINER:"zcolorpicker zcolorpicker--advanced"}}get EVENTS(){return["cancel","back","ok","beforecolorpanadd","colorpanadd","beforecolorpanremove","colorpanremove","colorfieldlistchange"]}get _MODEPROPS(){return{hsv:["h","s","v"],rgb:["r","g","b"],hex:["hex"],hsl:["h","s","l"],cmyk:["c","m","y","k"]}}get PROP_EXP(){return{h:"hue",s:"saturation",v:"value",l:"lightness",r:"red",g:"green",b:"blue",a:"opacity",hex:"hex",c:"cyan",m:"magenta",y:"yellow",k:"key"}}get _hueColors(){return["rgba(255, 0, 0, 1)","rgba(255, 255, 0, 1)","rgba(0, 255, 0, 1)","rgba(0, 255, 255, 1)","rgba(0, 0, 255, 1)","rgba(255, 0, 255, 1)","rgba(255, 0, 0, 1)"]}_setDimension(){this._widthSet||super._setDimension(...arguments)}_updateDim(){if(!this.element[0].style.width){let e=this._opts.width||this._swatch[0].offsetWidth;e&&(this.element[0].style.width=isNaN(e)?e:e+"px",this._widthSet=!0)}}_storeRef(e,a){let o=this._isAttrChanged.bind(this);super._storeRef(...arguments),e.rendered||(this._swatch=this._getById(e.swatchId),this._swatchContext=this._getCanvasContext(this._swatch[0]),this._swatchThumb=t(this._swatch[0].querySelector(".zcolorpicker__mapmarker")),this._bar=this._getById(e.swatchBar.id),this._barContext=this._getCanvasContext(this._bar[0]),this._barThumb=this._getThumb(this._bar[0])),o("opacity")&&(this._opacityBar=this._opacityContext=this._opacityThumb=!1,a.opacity&&this._storeOpacityRef(e)),o("colorPreview")&&e.colorPreview&&a.previousColorInPreview&&this._bindPreview(e.colorPreview),o("commandBar")&&e.commandBar&&this._storeCmdBarRef(e.commandBar),(o("palette")||this._paletteChanged)&&(this._paletteChanged=!1,a.palettes&&a.customColorLibraries&&this._storeCustomLibRef(e,a)),a.colorFields&&this._storeClrFieldRef(e.colorFields)}_postEachRender(e,t){super._postEachRender(...arguments),t.markerIcon&&this._swatch.find(".zcolorpicker__mapmarker").css({left:t.x+"%",top:t.y+"%"}),this._paintPicker(this._axisProps.x,this._axisProps.y,this._axisProps.z),t.opacity&&this._paintOpacity(),t.colorFields&&this._setClrFieldValues(t.colorFields),this._changedAttrs=[]}_setRenderData(t,a,o){super._setRenderData(...arguments);let n=this._isAttrChanged.bind(this);if(n("swatchBars")&&(t.swatchId=this._getID("swatch"),t.swatchBar={id:this._getID("swatchbar"),className:"zcolorpicker__slider",rtl:t.rtl},this._vertical="vertical"===a.barOrientation),n("marker")){t.markerIcon=!1;let o=a.mapMarkerIconClass||a.mapMarkerIconClassName,n=a.mapMarkerSVGIconId;(o||n)&&e._getIconInfo(o,n,"","zcolorpicker__mapmarker",t.markerIcon={})}n("opacity")&&(a.opacity||t.opacity)&&this._setOpacityData(t,a),n("commandBar")&&(!a.immediateCommit||t.commandBar)&&this._setCmdBarData(t,a),n("swatch")&&(t.swatchBar.thumbIcon=this._getThumbData(a.slider),this._configurePickerMethods(a)),n("palette")&&(a.palettes||t.palettes||t.customColorLibraries)&&this._setPaletteData(t,a),n("colorField")&&(a.colorFields||t.colorFields)&&this._setClrFieldData(t,a),(a.colorPreview||t.colorPreview)&&this._setPreviewData(t,a),a.palettes&&this._updateSelection(t,a),t.colorFields&&this._saveFieldValues(t.colorFields,a),this._updatePickerPositionInData(t,a)}_bindEvents(){super._bindEvents(...arguments);this._addEvents({swatchDrag:"mousedown"},this._swatch),this._addEvents({swatchPickerDrag:"mousedown"},this._bar)}_swatchDragHandler(e){this._dragStartHandler(e,"swatch")}_swatchPickerDragHandler(e){this._dragStartHandler(e,"swatchbar")}_dragStartHandler(e,t){if(!e.button){let a,o;"swatch"===t?(o=this._swatch,a=this._swatchThumb):"swatchbar"===t?(o=this._bar,a=this._barThumb):(o=this._opacityBar,a=this._opacityThumb),this._activeContainer={picker:a,type:t,offset:o.offset(),height:o.height(),width:o.width()},super._dragStartHandler(e),this.setFocus()}}_onPickerDragged(e){e.preventDefault();let t=this._activeContainer,a,o;a=e.pageX-t.offset.left,o=t.width;let n=100*this._limit(a/o,0,1);a=e.pageY-t.offset.top,o=t.height;let i=100*this._limit(a/o,0,1),r=this._data;"swatch"===t.type?(r.x=n,r.y=i):r["opacity"===t.type?"o":"z"]=this._vertical?i:n;let s=this._getColorFromCoords();this._skipPickerData=!0,this._setValue(s,e),this._skipPickerData=!1}_getCoordsFromColor(e){let t=this._colorInstance.getPercentageObject(e.boxSelectionTypeDefaultColorModel.toLowerCase());return{x:this._getRTLBasedPercent(parseFloat(t[this._axisProps.x[0]])),y:parseFloat(t[this._axisProps.y[0]]),z:this._getRTLBasedPercent(parseFloat(t[this._axisProps.z[0]])),o:this._getRTLBasedPercent(parseFloat(t.a))}}_updatePickerPositionInData(e,t){if(e.vertical=this._vertical,!this._skipPickerData){let a=this._getCoordsFromColor(t);e.x=a.x,e.y=100-a.y,e.z=a.z,e.o=a.o}if(e.swatchBar.left=e.z,t.opacity){let t=e.opacitySlider;t.left=e.o,t.vertical=this._vertical}}_configurePickerMethods(e){"HSL"===e.boxSelectionTypeDefaultColorModel?(this._paintPicker=this._HSLUtils.paintPicker.bind(this),this._axisProps=this._HSLUtils.getXYProps(e.boxSpectrumHSLColorModel)):(this._paintPicker=this._HSVUtils.paintPicker.bind(this),this._axisProps=this._HSVUtils.getXYProps(e.boxSpectrumHSVColorModel))}_onSubmit(e){this._onOkButtonClick(e)}_onOkButtonClick(e){this.setValue(this._currentColor,e),this._trigger("ok",e),this.close(e)}_onCancelButtonClick(e){this._revertColor(e),this._trigger("cancel",e),this.close(e)}_onBackButtonClick(e){this._trigger("back",e)}_revertColor(e,t){this.setValue(t||this._selectedInstance.getObject(),e)}_setHueStops(e){this._setGradientColors(e,this._hueColors)}_fillCanvas(e,t){e.fillStyle=t,e.fill()}_clearCanvas(){let e=this._swatchContext,t=this._barContext;e.beginPath(),t.beginPath(),e.clearRect(0,0,e.canvas.width,e.canvas.height),t.clearRect(0,0,t.canvas.width,t.canvas.height),e.rect(0,0,e.canvas.width,e.canvas.height),t.rect(0,0,t.canvas.width,t.canvas.height)}_createGradient(e,t){return t?e.createLinearGradient(0,e.canvas.height,0,0):e.createLinearGradient(0,0,e.canvas.width,0)}_setValue(e,t,a,o){let n=this._getClrInstance("none"===e||"transparent"===e?"transparent":e);if(this._opts.opacity||n.setAlpha(1),n.isValid()){n.initialColor=e;let a=this._currentColor;this._colorInstance=n;let i=this._currentColor=this._colorInstance.getColor(),r;(this._fromInit||o||this._opts.immediateCommit&&(!t||!/^(mousedown|mousemove|znumberfieldspin|znumberfieldinput)$/.test(t.type)))&&(this._fromInit||i!==this._selectedInstance.getColor())&&(this._updateSelectedColor(),r=!0),(!this._opts.immediateCommit||o||this._fromInit)&&(this._previousInstance=this._selectedInstance),this._updateUI(),a!==i&&this._trigger("select",t),r&&(this._trigger("pick",t),this._trigger("change",t))}}_getColorFromCoords(){let e=this._axisProps,t=this._data,a={},o=this._getRTLBasedPercent.bind(this);return a[e.x[0]]=o(t.x)+"%",a[e.y[0]]=100-t.y+"%",a[e.z[0]]=o(t.z)+"%",a.a=o(t.o)+"%",a}_onClose(e){this._revertColor(e),super._onClose(e)}setDimension(){this._setDimension()}_destroy(){let e=this._data;e.colorFields&&this._destroyClrFields(),e.commandBar&&this._destroyCmdBar(e.commandBar),this._paintPicker=void 0,super._destroy(...arguments)}addCustomColorsLibrary(e){this._addPalettes(e,void 0,"customColorLibraries")}insertCustomColorsLibraryBefore(e,t){let a=this._getPaletteTemplateData(t),o;a&&(o=this._data.customColorLibraries.indexOf(a)),this._addPalettes(e,o,"customColorLibraries")}insertCustomColorsLibraryAt(e,t){this._addPalettes(e,t,"customColorLibraries")}removeCustomColorsLibrary(e){this._removePalettes(e,"customColorLibraries")}removeCustomColorsLibraryAt(e){this._removePalettesAt(e,"customColorLibraries")}_setClrFieldData(e,t){if(this._destroyClrFields(),t.colorFields){let a=t.colorFieldsList||["hex","rgb","hsv","hsl","cmyk"];if(a=a.filter(e=>/^(hex|rgb|cmyk|hex|hsv|hsl)$/.test(e)),a&&a.length){let o=e.colorFields={hexFieldId:this._getID("hexfield")},n=t.currentColorField||t.defaultColorField;return n=-1===a.indexOf(n)?a[0]:n,1<a.length&&this._createClrFieldSelect(o,a,n),o.includeHexClass=t.opacity||!t.opacity&&!o.select,void this._onModeChange(n)}}e.colorFields=!1}_destroyClrFields(){let e=this._data,t=e.colorFields;t&&(this._destroyComp(t.select),t.numberFields.forEach(e=>this._destroyComp(e)),e.colorFields=!1)}_storeClrFieldRef(e){(this._isAttrChanged("colorField")||this._fromModeChange)&&("hex"===e.currentMode&&this._bindTextField(this._getById(e.hexFieldId)),this._setMainEle(e.select),this._setMainEle(e.numberFields))}_setClrFieldValues(e){if(!this._skipFieldUpdate){let t=e.propValues;"hex"===e.currentMode&&this._getById(e.hexFieldId).val(t.hex),e.numberFieldProps.forEach((a,o)=>{e.numberFields[o].instance.setAttribute("value",t[a])})}}_saveFieldValues(e,t){if(!this._skipFieldUpdate){let a=e.currentMode,o=this._colorInstance,n=e.propValues={};if("hex"===a){let e=o.getColor("hex",!1,!1);n[a]=e}let i=o.getObject(a);e.numberFieldProps.forEach(e=>{let a;"a"===e?(a=o.getAlpha(),a="decimal"===t.opacityFieldType?a:Math.round(100*a),n.a=parseInt(a)):a=parseInt(i[e]),n[e]=a})}}_onModeChange(e,t){let a=this._data.colorFields,o=this._opts,n=a.numberFieldProps=[...this._MODEPROPS[e]],i,r;a.currentMode=o.currentColorField=e;let s=a.hexFieldId;s&&this._getById(s).off(),"cmyk"!==e&&(o.opacity?(n.push("a"),i=!0):a.select&&(r=!0)),a.opacity=i,a.labels=n.map(e=>this._getI18NText(this.PROP_EXP[e]+"Field")),r&&a.labels.push("");let l=a.numberFields=a.numberFields||[];"hex"===e&&n.shift(),(n.length||l.length)&&this._updateNumberFieldSettings(n,l),t&&this._trigger("colorfieldlistchange",t)}_fieldChangeHandler(e){let a=t(e.target),o=a[0].id,n=this._data.colorFields,i,r;o===n.hexFieldId?(r="hex",i=a.val()):(r=n.numberFields.find(e=>e.id===o).colorProperty,i=e.detail.value);let s=n.propValues;for(var l in s[r]=i,s={...s},s)/(s|v|l|c|m|y|k)/.test(l)&&(s[l]+="%");"decimal"!==this._opts.opacityFieldType&&(s.a/=100),this._skipFieldUpdate=!0,this._setValue(s,e),this._skipFieldUpdate=!1}_setPreviewData(e,t){if(e.colorPreview=!1,t.colorPreview){let a,o;t.previousColorInPreview&&(a=this._previousInstance.getColor(),o=this._getID("previouscolor")),e.colorPreview={color:e.rgb,previousColor:a,previousColorId:o}}}_bindPreview(e){this._addEvents({prevPreviewClick:"mousedown"},this._getById(e.previousColorId))}_prevPreviewClickHandler(e){this._revertColor(e,this._data.colorPreview.previousColor)}_storeCmdBarRef(e){for(let t in e){let a=e[t];a.forEach(e=>{this._setMainEle(e);let t=this._getById(e.id);t.off().on("click."+this.name,e.zhandler),this._handleFocus(t)})}}_setCmdBarData(t,a){if(t.commandBar=!1,!a.immediateCommit&&a.commandBar){let o=a.commandBar;t.commandBar={left:[],right:[],center:[]};let n={OK:this._onOkButtonClick,cancel:this._onCancelButtonClick,back:this._onBackButtonClick},i={};["OK","cancel","back"].forEach(t=>{i[t]=e.ZButton.getBtnProps({...this._getBaseObj("button"),...{id:this._getID("zactionbutton-"+t),customAttributes:{actionName:t},size:"small",zhandler:n[t].bind(this),zclassName:a[t+"ButtonClassName"]||a[t+"ButtonClass"],appearance:"OK"===t?"primary":"normal",text:a[t+"ButtonLabel"]||this._getI18NText(t.toLowerCase())}})}),["left","right","center"].forEach(e=>{let n=o[e+"Column"],r=n&&n.commands;r&&r.forEach(o=>{if("cancel"!==o||!a.hideCancelButton){let a=i[o];a&&(t.commandBar[e].push(a),i[o]=void 0)}})})}}_destroyCmdBar(e){if(e)for(let t in e)e[t].forEach(e=>this._destroyComp(e))}_storeCustomLibRef(e,a){e.customColorLibraries.forEach(e=>{let a=e.addBtn;this._setMainEle(a);let o=a.mainElement;o.paletteName=e.name,this._handleFocus(t(o),this.name),this._addEvents({addBtnClick:"mousedown"},t(o)),this._addEvents({delKey:"keydown"},this._getById(e.id))})}_addBtnClickHandler(e){let a=t(e.target).closest(".zbutton")[0];this._skipPickerData=!0,this.isCE&&(a.$c._addedByComponent=!0),this.addColor(a.paletteName,this._colorInstance.getColor()),this.isCE&&(a.$c._addedByComponent=!1),e.target=a,this._skipPickerData=!1,e.stopPropagation()}_delKeyHandler(a){if(a.keyCode===e.keyCode.DELETE){let e=a.target;if(t(e).is(`.${this._CLASSES.COLORBOX}`)){let t=this._getColorPanData(e);if(this._trigger("beforecolorpanremove",a,t)){let o=a.currentTarget.getAttribute("data-palettename");this._removeColors(o,e.getAttribute("data-zcolor")),this._trigger("colorpanremove",a,t)}}}}_getAddBtnData(t){let a=t.addBtn;if(a)return a;let o=this._getID(t.name)+"-addicon",n=this._opts,i=n.addSVGIconId,r=n.addIconClassName||n.addIconClass;i||r||(i="zc__svg--add addColorIcon");let s=e.ZButton.getBtnProps({...this._getBaseObj("button"),...{id:o,iconClassName:r,SVGIconId:i,defaultIconClassName:"zcolorpicker__addcoloricon",title:this._getI18NText("addcolor"),addBtn:!0}});return this._domChanged&&this._destroyComp(s),s}get _HSLUtils(){return{fill(e,t,a,o){let n=t===a?this._barContext:this._swatchContext,i=t===a&&this._vertical||e===a,r=this._createGradient(n,i);"hue"===a?this._setHueStops(r):"saturation"===a?this._setGradientColors(r,["rgba(128,128,128,1)",o||"rgba(128,128,128,0)"]):"lightness"===a?(r.addColorStop(0,"rgb(0,0,0)"),o?r.addColorStop(.5,o):(r.addColorStop(.5,"rgba(0,0,0,0)"),r.addColorStop(.5,"rgba(255,255,255,0)")),r.addColorStop(1,"rgb(255,255,255)")):void 0;this._fillCanvas(n,r)},getLightnessLayer(e){if(50>e)return`rgba(0, 0, 0, ${1-e/50})`;return 50<e?`rgba(255, 255, 255, ${(e-50)/50}`:void 0},paintPicker(e,t,a){this._clearCanvas();let o=this._colorInstance.getObject("hsl"),n=this._swatchContext,i=this._barContext,r=this._HSLUtils.fill.bind(this,t,a),s=this._HSLUtils.getLightnessLayer.bind(this,parseFloat(o.l));switch(a){case"lightness":r("hue"),r("saturation"),r("lightness",this._getClrInstance({h:o.h,s:o.s,l:"50%"}).getColor());break;case"hue":this._fillCanvas(n,this._getClrInstance({h:o.h,s:"100%",l:"50%"}).getColor()),r("saturation"),r("lightness"),r("hue");break;case"saturation":{r("hue"),r("lightness"),r("saturation",this._getClrInstance({h:o.h,s:"100%",l:"50%"}).getColor());let e=s();e&&this._fillCanvas(i,e)}}},getXYProps(e){let t,a,o;switch(e.xAxis+"-"+e.yAxis){case"saturation-hue":t="saturation",a="hue",o="lightness";break;case"hue-lightness":t="hue",a="lightness",o="saturation";break;case"lightness-hue":t="lightness",a="hue",o="saturation";break;case"lightness-saturation":t="lightness",a="saturation",o="hue";break;case"saturation-lightness":t="saturation",a="lightness",o="hue";break;default:t="hue",a="saturation",o="lightness";}return{x:t,y:a,z:o}}}}get _HSVUtils(){return{fill(e,t,a,o){let n=t===a?this._barContext:this._swatchContext,i=t===a&&this._vertical||e===a,r=this._createGradient(n,i);"hue"===a?this._setHueStops(r):"saturation"===a?this._setGradientColors(r,["rgba(255,255,255,1)",o||"rgba(255,255,255,0)"]):"value"===a?this._setGradientColors(r,["rgba(0,0,0,1)",o||"rgba(0,0,0,0)"]):void 0;this._fillCanvas(n,r)},getValueLayer(e){return"rgba(0, 0, 0, "+(1-e/100)+")"},paintPicker(e,t,a){this._clearCanvas();let o=this._colorInstance.getObject("hsv"),n=this._swatchContext,i=this._barContext,r=this._HSVUtils.fill.bind(this,t,a),s=this._HSVUtils.getValueLayer.bind(this,parseFloat(o.v));"value"===a?(r("hue"),r("saturation"),this._fillCanvas(n,s()),r("value",this._getClrInstance({h:o.h,s:o.s,v:"100%"}).getColor())):"hue"===a?(this._fillCanvas(n,this._getClrInstance({h:o.h,s:"100%",v:"100%"}).getColor()),r("saturation"),r("value"),r("hue")):"saturation"===a?(r("hue"),this._fillCanvas(n,"rgba(255,255,255,"+(1-parseFloat(o.s)/100)+")"),r("value"),r("saturation",this._getClrInstance({h:o.h,s:"100%",v:"100%"}).getColor()),this._fillCanvas(i,s())):void 0},getXYProps(e){let t,a,o;switch(e.xAxis+"-"+e.yAxis){case"hue-saturation":t="hue",a="saturation",o="value";break;case"saturation-hue":t="saturation",a="hue",o="value";break;case"hue-value":t="hue",a="value",o="saturation";break;case"value-hue":t="value",a="hue",o="saturation";break;case"value-saturation":t="value",a="saturation",o="hue";break;default:t="saturation",a="value",o="hue";}return{x:t,y:a,z:o}}}}_updateNumberFieldSettings(e,t){e.forEach((e,a)=>{let o=this._getFieldSettings(e),n=t[a];if(n){let e=n.instance;e.setAttributes(o),this._display(!0,n.container)}else{let i=this._getBasicNumberFieldOptions();i.id=this._getID("znumberfield-"+a),["change","spin","input","spinend"].forEach(e=>{i[e]=this._fieldChangeHandler.bind(this)}),n={...i,...o},a||this._data.colorFields.select||"a"===e||(n.className+=" zcolorpicker--nomarginleft"),t.push(n)}n.colorProperty=e}),t.slice(e.length).forEach(e=>this._display(!1,e.container))}_getFieldSettings(e){let t={max:100,step:1,suffix:"",decimalPlaces:0};return"a"===e&&"decimal"===this._opts.opacityFieldType?(t.step=.01,t.decimalPlaces=2,t.max=1):/^(s|l|v|c|m|y|k|a)$/.test(e)?t.suffix="%":/^(r|g|b)$/.test(e)?t.max=255:"h"===e&&(t.max=359),t}_getBasicNumberFieldOptions(){let e=super._getBasicNumberFieldOptions();return e.className="zcolorpicker__othercolormodefield zcolorpicker__colorfield",e}_paintOpacity(){let e=this._opacityContext;e.beginPath(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.rect(0,0,e.canvas.width,e.canvas.height);let t=this._createGradient(e,this._vertical),a=this._colorInstance.getObject();this._setGradientColors(t,[`rgba(${a.r}, ${a.g}, ${a.b}, 0)`,`rgb(${a.r} ,${a.g} ,${a.b})`]),this._fillCanvas(e,t)}_storeOpacityRef(e){let t=this._opacityBar=this._getById(e.opacitySlider.id);this._opacityContext=this._getCanvasContext(t[0]),this._opacityThumb=this._getThumb(t[0]),this._addEvents({opacityBarDrag:"mousedown"},t)}_setOpacityData(e,t){e.opacitySlider=e.opacity=!1,t.opacity&&(e.opacity=!0,e.opacitySlider={id:this._getID("opacityslider"),className:"zcolorpicker__opacityslider",rtl:e.rtl,opacity:!0,thumbIcon:this._getThumbData(t.slider)})}_opacityBarDragHandler(e){this._dragStartHandler(e,"opacity")}_createClrFieldSelect(e,a,o){e.select=t.extend(!0,{},this._getBaseObj("select"),{id:this._getID("colorFields"),options:a.map(e=>({label:this._getI18NText(e.toUpperCase()),value:e,selected:o===e})),zclassName:"zcolorpicker__selectbox",change:e=>{this._fromModeChange=!0,this._onModeChange(e.detail.value,e),this._updateUI(),this._fromModeChange=!1},dropdownList:{appendTo:this.element}},this._opts.colorFieldSelect)}_setPaletteData(e,t){e.palettes=e.customColorLibraries=!1,t.palettes&&(e.palettes=[],e.customColorLibraries=[],this._addPalettes(t.palettesList),this._addPalettes(t.customColorLibraries,null,"customColorLibraries"))}_updateSelection(e){let t=e=>this._updateClrSelection(e.colors);e.palettes.forEach(t),e.customColorLibraries.forEach(t)}_updatePalettes(e){let t=this._data,a=this._opts,o=e=>e.paletteData;"palettes"===e?a.palettesList=t.palettes.map(o):a.customColorLibraries=t.customColorLibraries.map(o),this._paletteChanged=!0,this._updateUI(!0)}_setAttribute(t,a){let o=super._setAttribute(t,a);if(!1===o){let o={opacity:/^(opacity|opacityFieldType)$/,colorField:/^(colorFields|colorFieldsList|currentColorField)$/,palette:/^(paletteColumns|palettes|palettesList|customColorLibraries|addIconClassName|addIconClass|addSVGIconId)$/,commandBar:/^(immediateCommit|commandBar|OKButtonLabel|OKButtonClassName|OKButtonClass|cancelButtonLabel|cancelButtonClassName|cancelButtonClass|hideCancelButton|backButtonLabel|backButtonClassName|backButtonClass)$/,colorPreview:/^(colorPreview|previousColorInPreview)$/,swatch:/^(boxSelectionTypeDefaultColorModel|boxSpectrumHSLColorModel|boxSpectrumHSVColorModel)$/,marker:/^(mapMarkerIconClass|mapMarkerIconClassName|mapMarkerSVGIconId)$/};if(this._opts[t]=a,"slider"===t)this._changedAttrs.push("opacity","swatch"),this._domChanged=!0;else if("colorFieldSelect"===t){let t=this._data.colorFields;if(t){let o=t.select;o&&e.select(o.mainElement).setAttributes(a)}}else if(o.opacity.test(t))this._changedAttrs.push("opacity","colorField"),this._domChanged=!0,a||this._setValue(this._currentColor);else for(let e in o)o[e].test(t)&&(this._changedAttrs.push(e),this._domChanged=!0)}}}e.registerComponent("ZAdvancedColorPicker",e.ZColorPickerBase,ZAdvancedColorPicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zadvancedcolorpicker.Templates,a=e.zcolorpickerbase.Templates,o=e.Templates.Utilities;t.WCChildren=e=>{let n=ZT.html`${e.hasCallout&&ZT.html`<div class="zcolorpicker__pointer"></div>`} ${e.title&&a.WCTitle(e)} <div class="zcolorpicker__maparea" ?id=${e.swatchId}> ${a.WCCanvas(e)} ${e.markerIcon?o.WCIcon(e.markerIcon):ZT.html` <span class="zcolorpicker__mapmarker" style="left: ${e.x}%; top: ${e.y}%;"> </span>`} </div> <div class="zcolorpicker__colormodecontainer"> ${e.colorPreview&&t.WCColorPreview(e.colorPreview)} <div class="zcolorpicker__slidercontainer"> ${a.WCSlider(e.swatchBar)} ${e.opacitySlider&&a.WCSlider(e.opacitySlider)} </div> </div> ${e.colorFields&&t.WCColorFields(e.colorFields)} ${e.palettes&&e.palettes.map(e=>a.WCPalette(e))} ${e.customColorLibraries&&e.customColorLibraries.map(e=>a.WCPalette(e))} ${e.commandBar&&t.WCCommandBar(e.commandBar)} `;return n},t.WCColorFields=a=>{let o=ZT.html`<div class="zcolorpicker__colorfieldcontainer ${a.select?"":"zh-aligncenter"}"> ${a.select&&e.createSelect(a.select)} ${"hex"===a.currentMode&&t.WCHexField(a)} ${a.numberFields&&a.numberFields.map(t=>e.createNumberField(t))} ${"hex"===a.currentMode?t.WCHexLabel(a):ZT.html`<div class="zcolorpicker__othercolormodefieldlabelcontainer"> ${a.labels.map(e=>ZT.html`<label class="zcolorpicker__othercolormodefieldlabel">${e}</label>`)} </div>`} </div>`;return o},t.WCColorPreview=e=>{let t=ZT.html`<div class="zcolorpicker__previewbox"> <div class="zcolorpicker__transparentbg zcolorpicker__newcolorpreview"> <span class="zcolorpicker__dynamiccolor" style="background-color: ${e.color};"> </span> </div> ${e.previousColor&&ZT.html`<div id=${e.previousColorId} class="zcolorpicker__transparentbg zcolorpicker__currentcolorpreview"> <span class="zcolorpicker__dynamiccolor" style="background-color: ${e.previousColor};"> </span> </div>`} </div>`;return t},t.WCCommandBar=e=>{let a=ZT.html`<div class="zcolorpicker__commandbar zcolorpicker__footer"> ${e.left.length&&ZT.html`<div class="zcolorpicker__commandbaractionsleft"> ${t.WCColContent(e.left)} </div>`} ${e.center.length&&ZT.html`<div class="zcolorpicker__commandbaractionscenter"> ${t.WCColContent(e.center)} </div>`} ${e.right.length&&ZT.html`<div class="zcolorpicker__commandbaractionsright"> ${t.WCColContent(e.right)} </div>`} </div>`;return a},t.WCColContent=t=>t.map(t=>e.zbutton.Templates.WCContainer(t)),t.WCHexField=e=>{let t=ZT.html`<div tabindex="-1" class="zinputfield zcolorpicker__colorfield ${e.select?"":"zcolorpicker--nomarginleft"} ${e.includeHexClass?"zcolorpicker__hexcolorfield":""}" > <input id=${e.hexFieldId} data-zprop="hex" maxlength="7" class="zinputfield__textbox" aria-label=${e.labels[0]}> </div>`;return t},t.WCHexLabel=e=>{let t=ZT.html`<div class="zcolorpicker__hexcolorfieldlabelcontainer ${e.opacity?"":"zcolorpicker__withoutopacity"}"> <label class="zcolorpicker__hexcolorfieldlabel">HEX</label> ${e.opacity&&ZT.html`<label class="zcolorpicker__othercolormodefieldlabel">A</label>`} </div>`;return t}}(ZComponents),function(e){let t=e.zadvancedcolorpicker.Templates,a=e.zcolorpickerbase.Templates,o=e.Templates.Utilities;t.children=e=>{let n=ZT.html`${e.hasCallout&&ZT.html`<div class="zcolorpicker__pointer"></div>`} ${e.title&&a.title(e)} <div class="zcolorpicker__maparea" ?id=${e.swatchId}> ${a.canvas(e)} ${e.markerIcon?o.icon(e.markerIcon):ZT.html` <span class="zcolorpicker__mapmarker" style="left: ${e.x}%; top: ${e.y}%;"> </span>`} </div> <div class="zcolorpicker__colormodecontainer"> ${e.colorPreview&&t.colorPreview(e.colorPreview)} <div class="zcolorpicker__slidercontainer"> ${a.slider(e.swatchBar)} ${e.opacitySlider&&a.slider(e.opacitySlider)} </div> </div> ${e.colorFields&&t.colorFields(e.colorFields)} ${e.palettes&&e.palettes.map(e=>a.palette(e))} ${e.customColorLibraries&&e.customColorLibraries.map(e=>a.palette(e))} ${e.commandBar&&t.commandBar(e.commandBar)} `;return n},t.colorFields=a=>{let o=ZT.html`<div class="zcolorpicker__colorfieldcontainer ${a.select?"":"zh-aligncenter"}"> ${a.select&&e.createSelect(a.select)} ${"hex"===a.currentMode&&t.hexField(a)} ${a.numberFields&&a.numberFields.map(t=>e.createNumberField(t))} ${"hex"===a.currentMode?t.hexLabel(a):ZT.html`<div class="zcolorpicker__othercolormodefieldlabelcontainer"> ${a.labels.map(e=>ZT.html`<label class="zcolorpicker__othercolormodefieldlabel">${e}</label>`)} </div>`} </div>`;return o},t.colorPreview=e=>{let t=ZT.html`<div class="zcolorpicker__previewbox"> <div class="zcolorpicker__transparentbg zcolorpicker__newcolorpreview"> <span class="zcolorpicker__dynamiccolor" style="background-color: ${e.color};"> </span> </div> ${e.previousColor&&ZT.html`<div id=${e.previousColorId} class="zcolorpicker__transparentbg zcolorpicker__currentcolorpreview"> <span class="zcolorpicker__dynamiccolor" style="background-color: ${e.previousColor};"> </span> </div>`} </div>`;return t},t.commandBar=e=>{let a=ZT.html`<div class="zcolorpicker__commandbar zcolorpicker__footer"> ${e.left.length&&ZT.html`<div class="zcolorpicker__commandbaractionsleft"> ${t.colContent(e.left)} </div>`} ${e.center.length&&ZT.html`<div class="zcolorpicker__commandbaractionscenter"> ${t.colContent(e.center)} </div>`} ${e.right.length&&ZT.html`<div class="zcolorpicker__commandbaractionsright"> ${t.colContent(e.right)} </div>`} </div>`;return a},t.colContent=t=>t.map(t=>e.zbutton.Templates.container(t)),t.hexField=e=>{let t=ZT.html`<div tabindex="-1" class="zinputfield zcolorpicker__colorfield ${e.select?"":"zcolorpicker--nomarginleft"} ${e.includeHexClass?"zcolorpicker__hexcolorfield":""}" > <input id=${e.hexFieldId} data-zprop="hex" maxlength="7" class="zinputfield__textbox" aria-label=${e.labels[0]}> </div>`;return t},t.hexLabel=e=>{let t=ZT.html`<div class="zcolorpicker__hexcolorfieldlabelcontainer ${e.opacity?"":"zcolorpicker__withoutopacity"}"> <label class="zcolorpicker__hexcolorfieldlabel">HEX</label> ${e.opacity&&ZT.html`<label class="zcolorpicker__othercolormodefieldlabel">A</label>`} </div>`;return t}}(ZComponents),function(e,t){var a=Math.max,o=Math.round;class ZColorPicker extends e.ZColorPickerBase{get name(){return"zcolorpicker"}get attrs(){return{defaultValue:"rgba(0,0,0,1)",defaultColorButton:!0,defaultColorButtonLabel:null,noColorButton:!0,noColorButtonLabel:null,noColorIconClass:null,noColorSVGIconId:null,defaultPaletteHeading:null,defaultPaletteType:"preset",standardColors:!0,standardColorsHeading:null,standardColorsPalette:"ms-office",colorField:!1,opacity:!1,opacityFieldType:"percent",advancedPicker:!0,advancedPickerButtonLabel:null,advancedPickerIconClass:null,advancedPickerSVGIconId:null,advancedPickerArrowIconClass:null,advancedPickerArrowSVGIconId:null,otherUsedColors:!0,otherUsedColorsHasLimit:!0,otherUsedColorsLimit:10,otherUsedColorsHeading:null,closeOnSelect:!0}}get props(){return{customPalette:null,otherPalettes:[],otherUsedColorsList:[],advancedPickerOptions:{commandBar:{leftColumn:{commands:["back"]},rightColumn:{commands:["cancel","OK"]},middleColumn:!1}},noColorIconClassName:null,advancedPickerIconClassName:null,advancedPickerArrowIconClassName:null,colorFieldOptions:{colorMode:"auto",readonly:!1,preview:!0},opacitySlider:{thumbIconClassName:null,thumbSVGIconId:null},labels:{noColor:"No Fill",defaultColor:"Default Color",defaultColorsHeading:"Preset Colors",standardColorsHeading:"Standard Colors",otherUsedColorsHeading:"Other Used Colors",advancedPicker:"More Colors",colorField:"Color Field",opacityField:"Opacity Field"}}}get EVENTS(){return["beforeotherusedcoloradd","otherusedcoloradd","colorfieldlistchange"]}_onSubmit(e){this.close(e)}_setAlpha(e,t){let a=this._colorInstance.getObject();a.a=e,this._trigger("beforefocus",t)&&this._data.opacityField.container.find("input").focus(),this._setValue(a,t)}_setRenderData(t,a){super._setRenderData(...arguments),t.closeOnSelect=!a.opacity&&a.closeOnSelect;let o=this._isAttrChanged.bind(this);if(o("noColorButton")&&(t.noColorBtn&&this._getById(t.noColorBtn.id).off(),t.noColorBtn=!1,a.noColorButton&&(t.noColorBtn={id:this._getID("nocolorbtn"),label:a.noColorButtonLabel||this._getI18NText("noColor")},e._getIconInfo(a.noColorIconClassName||a.noColorIconClass,a.noColorSVGIconId,"zc__svg--zcolorpicker-nocolor","zcolorpicker__icon",t.noColorBtn.icon={}))),o("defaultColorButton")&&(t.defaultColor&&this._getById(t.defaultColor.id).off(),t.defaultColor=!1,a.defaultColorButton)){let e=this._getClrInstance(a.defaultValue);t.defaultColor={id:this._getID("defaultcolorbtn"),label:a.defaultColorButtonLabel||this._getI18NText("defaultColor"),rgb:e.isValid()?e.getColor():this._DEFAULTS.defaultValue}}o("advancedPicker")&&(a.advancedPicker||t.advancedPicker)&&this._setMoreClrsData(a,t),o("colorField")&&(a.colorField||t.colorField)&&this._setClrFieldData(t,a),o("opacity")&&(a.opacity||t.opacity)&&this._setOpacityData(t,a),o("palette")&&this._setPaletteData(t,a),a.colorField&&(t.colorField.rgb=t.rgb),t.opacity&&this._setOpacityLeft(t),this._updateSelection(t,a)}_setAdvPickerData(e,a){let o=e.advancedPickerOptions,n=t.extend(!0,{},this._getBaseObj("advancedcolorpicker"),this._DEFAULTS.advancedPickerOptions,o,{isFromPicker:!0,type:"inline",hideCancelButton:!0,immediateCommit:!1,closeButton:!1,palettes:!1,value:e.value,valueColorModel:e.valueColorModel,colorFieldSelect:{dropdownList:{appendTo:this.element}}});n.id||(n.id=this._getID("advancedpicker")),["Ok","Cancel","Back","Select","ColorfieldListChangeHandler"].forEach(e=>{n[e.toLowerCase()]=this._advPickerCallback.bind(this,this["_advPicker"+e+"Handler"])}),a.advancedPicker?a.advancedPicker.instance.setAttributes(n):a.advancedPicker=n}_advPickerCallback(e,t){let a=t.detail;a.fromUI&&(t=t.originalEvent,e.call(this,t,a))}_postEachRender(e,t){super._postEachRender(...arguments),t.colorField&&this._updateColorField(),t.opacity&&this._updateOpacityValues(),this._changedAttrs=[]}_storeRef(e,a){super._storeRef(...arguments);let o=this.element,n=this._isAttrChanged.bind(this);if(e.rendered||(this._showHideContainer=t(this.element[0].querySelector(".zcolorpicker__showhidecontainer")),this._container=this._basicPicker=t(this.element[0].querySelector(".zcolorpicker__default")),this._borderThickness=o.outerHeight()-o.height()||0),n("colorField")&&(this._colorBox=!1,a.colorField&&this._storeClrFieldRef(e.colorField,a)),n("opacity")&&(this._opacityCanvasContext=this._opacitySlider=!1,a.opacity&&this._storeOpacityRef(e,a)),n("advancedPicker")&&(this._advPicker=!1,a.advancedPicker&&this._storeAdvPickerRef(e,a)),n("noColorButton")&&a.noColorButton){let t=this._getById(e.noColorBtn.id);this._addEvents({noClrClick:"click"},t)}if(n("defaultColorButton")&&a.defaultColorButton){let t=this._getById(e.defaultColor.id);this._addEvents({defaultClrClick:"click"},t)}}_makeSeen(e,t=!0){e.css("visibility",t?"visible":"hidden")}_makeUnSeen(e){this._makeSeen(e,!1)}_storeOpacityRef(e){let t=this._opacitySlider=this._getById(e.opacitySlider.id);this._opacityCanvasContext=this._getCanvasContext(t[0]),this._setMainEle(e.opacityField),this._addEvents({dragStart:"mousedown"},t)}_validate(e){super._validate(...arguments),e.paletteColumns=this._validateCount(e.paletteColumns),e.otherUsedColorsHasLimit&&(e.otherUsedColorsLimit=this._validateCount(e.otherUsedColorsLimit)),e.defaultValue||(e.defaultValue=e.value)}_noClrClickHandler(e){this._setValue("none",e,{noColorButtonClick:!0}),this._data.closeOnSelect&&this.close(e)}_defaultClrClickHandler(e){this._setValue(this._opts.defaultValue,e,{defaultColorButtonClick:!0}),this._data.closeOnSelect&&this.close(e)}_onPickerDragged(e){e.preventDefault();let t=this._opacitySlider.offset(),a=e.pageX-t.left,n=this._opacitySlider.width(),i=100*this._limit(a/n,0,1);i=this._getRTLBasedPercent(i),this._setAlpha(o(i)/100,e)}_updateColorField(){if(this._colorBox&&!this._skipClrFieldUpdate){let e=this._colorInstance.getColor(this._data.colorField.colorMode,void 0,!1);this._colorBox.val(e),this._colorBox.attr("aria-value",e),this._updateColorBoxTitle()}}_onOpen(){super._onOpen(...arguments),this._updateColorBoxTitle()}_updateColorBoxTitle(){if(this._colorBox&&this._opened){let e=this._colorBox[0];e.title=e.clientWidth<e.scrollWidth?this._colorBox[0].value:""}}_fieldChangeHandler(e){clearTimeout(this._fieldChangeTimer),this._fieldChangeTimer=setTimeout(()=>{let t=this._colorBox.val();this._updateColorBoxTitle();let a=this._getClrInstance(t);this._skipClrFieldUpdate="input"===e.type,a.isValid()?this._setValue(a.getObject(),e):this._updateColorField(),this._skipClrFieldUpdate=!1})}_calcDimension(){let e=0;this._titleBar&&(e=this._titleBar.outerHeight()),this._showHideContainer[0].style["max-height"]="calc(100% - "+e+"px)";let t=this._basicPicker[0].offsetWidth;this._pickerWd=t?t+"px":"";let a=this._basicPicker[0].offsetHeight;this._pickerHt=a?a+e+"px":"",this._advPickerWd=this._advPickerHt=0;let o=this._advPicker;if(o){this._data.advancedPicker.instance.setDimension();let t=o.width(),a=o.height();this._advPickerWd=t?t+"px":"",this._advPickerHt=a?a+e+"px":""}}_updateDim(){this._widthSet=!1,this.element.is(":visible")&&(this._setPickerDim("",""),this._calcDimension(),this._advPickerVisible?this._setPickerDim(this._advPickerWd,this._advPickerHt):this._setPickerDim(this._pickerWd,this._pickerHt),this._widthSet=!0)}_setPaletteData(e,t){e.palettes=[],e.defaultPalette=[],e.otherUsedColors=e.standardPalette=!1,this._setDefaultPaletteData(),t.standardColors&&this._setStandardPaletteData(),this._addPalettes(t.otherPalettes),t.otherUsedColors&&this._setRecentColorsPalette()}_setStandardPaletteData(){let e=this._opts,t=this._getPresetColors(e.standardColorsPalette);t&&(this._data.standardPalette=this._getPaletteTemplateData({heading:e.standardColorsHeading||this._getI18NText("standardColorsHeading"),name:"standardcolors",colors:t.colors}))}_setDefaultPaletteData(){let e=this._opts,t="custom"===e.defaultPaletteType&&e.customPalette;if(!t){let e=this._getPresetColors("preset");t={colors:e.colors,hasTones:!0,tones:e.tones}}t.heading=t.heading||e.defaultPaletteHeading||this._getI18NText("defaultColorsHeading"),t.name="themecolors",this._data.defaultPalette=this._getPaletteTemplateData(t)}_setPickerDim(e,t){this.element.css({width:e,height:t})}_getPresetColors(e){return this.presetPalettes[e]}_updatePalettes(){this._opts.otherPalettes=this._data.palettes.map(e=>e.paletteData),this._updateUI(!0)}_advPickerCancelHandler(e){this.close(e)}_advPickerBackHandler(e){this._switchToBasic(e)}_focusMoreColors(){this._getById(this._data.moreColorBtn.id).focus()}_advPickerOkHandler(e,t){this._setValue(t.rgb,e,t,!0),this._floating?this.close(e):this._addToRecentColors(e)}_advPickerColorfieldListChangeHandler(e,t){this._trigger("colorfieldlistchange",e,t)}_advPickerSelectHandler(e,t){this._setValue(t.currentRGB,e,t,!1,!0)}_addToRecentColors(e){let t=this._opts;!t.otherUsedColors||this._noFill||this._defaultColor||this._selectedPan.length||!this._trigger("beforeotherusedcoloradd",e)||(t.otherUsedColorsList=this._addColors(this._data.otherUsedColors,this._selectedInstance.getColor(),t.otherUsedColorsHasLimit?0:void 0),this._trigger("otherusedcoloradd",e))}_triggerChange(e,t){this._avoidPickTrigger||((this._fromInit||this._currentColor!==this._selectedInstance.getColor())&&(this._updateSelectedColor(),this._trigger("change",e,t)),this._trigger("pick",e,t))}_triggerSelect(e,t,a){t!==this._currentColor&&this._trigger("select",e,a)}_updateSelection(e){let t=[...e.palettes];t.push(e.defaultPalette),e.standardPalette&&t.push(e.standardPalette),e.otherUsedColors&&t.push(e.otherUsedColors),t.forEach(e=>this._updateClrSelection(e.colors))}_setAdvancedPickerValue(e){this._opts.advancedPicker&&(this._data.advancedPicker.instance.setAttributes({value:e}),this._advPicker.removeClass("zcolorpicker"))}_setValue(e,t,a,o,n){let i="none"===e||"transparent"===e,r=this._getClrInstance(i?"rgba(0,0,0,0)":e);if(r.isValid()){r.initialColor=e;let s=this._currentColor;this._colorInstance=r,this._currentColor=r.getColor(),this._noFill=a&&a.noColorButtonClick||i,this._defaultColor=a&&a.defaultColorButtonClick,n||(this._mustRender=!0,this._updateUI(),this._mustRender=!1),this._triggerSelect(t,s,a),n||(this._triggerChange(t,a),this._advPickerVisible&&this._setAdvancedPickerValue(r.getObject()),(o||this._fromInit)&&this._addToRecentColors(t))}}_moreClrClickHandler(){this._advPickerVisible=!0,this._setAdvancedPickerValue(this._currentColor),this._setPickerDim(this._advPickerWd,this._advPickerHt),this._makeSeen(this._advPicker),this._setTransitionMargin("-"+this._pickerWd),this._reposition()}_switchToBasic(){this._advPickerVisible&&(this._advPickerVisible=!1,this._setPickerDim(this._pickerWd,this._pickerHt),this._makeSeen(this._basicPicker),this._setTransitionMargin(0),this._opened?this._reposition():this._makeUnSeen(this._advPicker),this._updateColorBoxTitle())}_addTransitionEvents(t=!0){let a=this._showHideContainer;t?this._addEvents({pickerSwitch:e._transitionEnd},a):this._removeEvents("",a)}_setTransitionMargin(e){this._basicPicker.css(this._opts.rtl?"margin-right":"margin-left",e)}_pickerSwitchHandler(e){this._showHideContainer.is(t(e.currentTarget))&&(this._advPickerVisible?(this._makeUnSeen(this._basicPicker),this._data.advancedPicker.instance.setFocus()):(this._opened&&this._focusMoreColors(),this._setAdvancedPickerValue(this._selectedInstance.getObject()),this._makeUnSeen(this._advPicker),this._avoidPickTrigger=!0,this._setValue(this._selectedInstance.initialColor,e),this._avoidPickTrigger=!1),this._addTransitionEvents(!1),this._addTransitionClass(!1))}_updateCurrentColor(){this._colorInstance=this._selectedInstance,this._currentColor=this._colorInstance.getColor()}_addTransitionClass(e=!0){this.element[e?"addClass":"removeClass"]("zcolorpicker--transition")}_reposition(){!this._data.dragged&&this._floating&&(this._addTransitionEvents(),this._addTransitionClass(),this._setPosition())}_onClose(e){this._opened=!1,this._avoidPickTrigger=!0,this._switchToBasic(e),this._setValue(this._selectedInstance.initialColor,e,null,!0),this._setAdvancedPickerValue(this._selectedInstance.getObject()),super._onClose(...arguments),this._avoidPickTrigger=!1}_getPosition(e){e.computeElementDim=!1;let t=this._borderThickness,o=parseInt(this._advPickerHt),n=parseInt(this._advPickerWd),i=parseInt(this._pickerHt),r=parseInt(this._pickerWd);return e.callbacks={beforeComputingDir:{dimensionModifier:(e,s)=>{let l,d;this._advPickerVisible?(l=n,d=o):(l=a(n,r),d=a(o,i)),s.width=l+t,s.height=d+t}},beforeComputingPos:{dimensionModifier:(e,a)=>{this._advPickerVisible||(a.width=r+t,a.height=i+t)}}},super._getPosition(e)}_destroy(){this.isCE||(this._destroyPicker(),this._destroyComp(this._data.opacityField)),super._destroy(...arguments)}_destroyPicker(){this._advPicker&&(this._data.advancedPicker.instance.destroy(),this._advPicker=void 0)}_setClrFieldData(e,t){if(e.colorField&&this._getById(e.colorField.id).off(),e.colorField=!1,t.colorField){let a=t.colorFieldOptions,o=a.colorMode;e.colorField={colorMode:this._REGEX.colorMode.test(o)?o:this._colorMode,id:this._getID("colorfield"),label:this._getI18NText("colorField"),preview:a.preview,readonly:a.readonly}}}_storeClrFieldRef(e){this._colorBox=this._getById(e.id),this._bindTextField(this._colorBox)}_storeAdvPickerRef(e){let a=e.advancedPicker,o=this._getById(e.moreColorBtn.id);this._addEvents({moreClrClick:"click"},o),this._setMainEle(a);let n=this._advPicker=t(a.mainElement);this._advPickerVisible||this._makeUnSeen(n)}_setMoreClrsData(t,a){if(a.advancedPicker&&this._getById(a.advancedPicker.id).off(),t.advancedPicker){let o=a.moreColorBtn={id:this._getID("morecolors"),label:t.advancedPickerButtonLabel||this._getI18NText("advancedPicker")};e._getIconInfo(t.advancedPickerIconClassName||t.advancedPickerIconClass,t.advancedPickerSVGIconId,"zc__svg--zcolorpicker-advancedpicker","zcolorpicker__icon zbutton__icon",o.icon={}),e._getIconInfo(t.advancedPickerArrowIconClassName||t.advancedPickerArrowIconClass,t.advancedPickerArrowSVGIconId,"zc__svg--rightarrow","zcolorpicker__icon zh-arrowicon zh-alignright",a.rightArrow={}),this._setAdvPickerData(t,a)}else this._destroyPicker(),a.advancedPicker=a.moreColorBtn=!1}_setOpacityLeft(e){e.opacitySlider.left=this._getRTLBasedPercent(o(100*this._colorInstance.getAlpha()))}_setOpacityData(e,t){if(t.opacity){e.opacity=!0;let a="decimal"===t.opacityFieldType,o=100,n="%",i,r;a&&(o=1,i=.01,n="",r=2);let s=this._opacityChangeHandler.bind(this),l={...this._getBasicNumberFieldOptions(),...{id:this._getID("opacityfield"),max:o,suffix:n,step:i,decimalPlaces:r,className:"zcolorpicker__opacityfield",spin:s,change:s,input:s,customAttributes:{"aria-label":this._getI18NText("opacityField")}}};e.opacityField?e.opacityField.instance.setAttributes(l):e.opacityField=l,e.opacitySlider={id:this._getID("opacityslider"),rtl:e.rtl,opacity:!0,thumbIcon:this._getThumbData(t.opacitySlider)}}else this._destroyComp(e.opacityField),e.opacitySlider&&this._getById(e.opacitySlider.id).off(),e.opacity=e.opacityField=e.opacitySlider=!1}_updateOpacityValues(){this._setOpacitySliderClr(),this._setOpacityField()}_setOpacitySliderClr(){let e=this._colorInstance.getObject(),t=this._opacityCanvasContext;t.beginPath();let a=this._colorInstance.getColor("rgb",void 0,!1),o=t.canvas;t.rect(0,0,o.width,o.height),t.clearRect(0,0,o.width,o.height);let n=t.createLinearGradient(0,0,o.width,0);this._setGradientColors(n,[`rgba(${e.r}, ${e.g}, ${e.b}, 0)`,a]),t.fillStyle=n,t.fill()}_setOpacityField(){if(!this._skipAlphaFieldUpdate){let e=this._colorInstance.getAlpha();this._data.opacityField.instance.setAttribute("value","decimal"===this._opts.opacityFieldType?e:o(100*e))}}_opacityChangeHandler(e){let t=e.detail.value;this._skipAlphaFieldUpdate=!0,this._setAlpha("decimal"===this._opts.opacityFieldType?t:t/100,e),this._skipAlphaFieldUpdate=!1}_setRecentColorsPalette(){let e=this._opts;this._data.otherUsedColors=this._getPaletteTemplateData({heading:e.otherUsedColorsHeading||this._getI18NText("otherUsedColorsHeading"),name:"otherusedcolors",colors:e.otherUsedColorsList,maxColorsCount:e.otherUsedColorsHasLimit&&e.otherUsedColorsLimit})}get presetPalettes(){return{preset:{colors:[{color:"#ffffff",tones:[{function:"shade",percent:10},{function:"shade",percent:20},{function:"shade",percent:40},{function:"shade",percent:60},{function:"shade",percent:80},{function:"shade",percent:90},{function:"shade",percent:100}]},"#ef1616","#ef8216","#efb116","#5dc35a","#38d7bb","#16d0ef","#398ef3","#c516ef","ef166f"],tones:[{function:"tint",percent:90},{function:"tint",percent:80},{function:"tint",percent:60},{function:"tint",percent:40},{function:"tint",percent:20},{function:"shade",percent:30},{function:"shade",percent:70}]},vga:{colors:[{color:"000000"},{color:"0000aa"},{color:"00aa00"},{color:"00aaaa"},{color:"aa0000"},{color:"aa00aa"},{color:"aa5500"},{color:"aaaaaa"},{color:"555555"},{color:"5555ff"},{color:"55ff55"},{color:"#55ffff"},{color:"#ff5555"},{color:"#ff55ff"},{color:"#ffff55"},{color:"#ffffff"}]},"ms-office":{colors:[[192,0,0],[255,0,0],[255,192,0],[255,255,0],[146,208,80],[0,176,80],[0,176,240],[0,112,192],[0,32,96],[112,48,160]]}}}_setAttribute(e,t){"valueColorModel"===t&&(this._changedAttrs.push("advancedPicker"),this._domChanged=!0);let a=super._setAttribute(e,t);if(!1===a){let a={defaultColorButton:/^(defaultValue|defaultColorButton|defaultColorButtonLabel)$/,noColorButton:/^(noColorButton|noColorButtonLabel|noColorIconClassName|noColorSVGIconId)$/,palette:/^(defaultPaletteHeading|defaultPaletteType|customPalette|standardColors|standardColorsHeading|standardColorsPalette|paletteColumns|otherPalettes|otherUsedColors|otherUsedColorsHeading|otherUsedColorsList|otherUsedColorsHasLimit|otherUsedColorsLimit)$/,colorField:/^(colorField|colorFieldOptions)$/,opacity:/^(opacity|opacitySlider|opacityFieldType)$/,advancedPicker:/^(advancedPicker|advancedPickerIconClassName|advancedPickerArrowIconClassName|advancedPickerSVGIconId|advancedPickerArrowSVGIconId|advancedPickerButtonLabel|advancedPickerOptions)$/};for(let o in this._opts[e]=t,a)a[o].test(e)&&(this._changedAttrs.push(o),this._domChanged=!0,"opacity"!==e||t||this._setValue(this._currentColor))}}}e.registerComponent("ZColorPicker",e.ZColorPickerBase,ZColorPicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcolorpicker.Templates,a=e.Templates.Utilities,o=e.zcolorpickerbase.Templates;t.WCChildren=n=>{let i=ZT.html`${n.hasCallout&&ZT.html`<div class="zcolorpicker__pointer"></div>`} ${n.title&&o.WCTitle(n)} <div class="zcolorpicker__showhidecontainer"> <div class="zcolorpicker__default"> ${n.noColorBtn&&t.WCNoColorBtn(n)} ${n.defaultColor&&t.WCDefaultColorBtn(n)} ${n.defaultPalette&&o.WCPalette(n.defaultPalette)} ${n.standardPalette&&o.WCPalette(n.standardPalette)} ${n.palettes&&n.palettes.map(e=>o.WCPalette(e))} ${n.otherUsedColors&&o.WCPalette(n.otherUsedColors)} ${n.advancedPicker&&ZT.html`<button id=${n.moreColorBtn.id} aria-label="${n.moreColorBtn.label}" role="button" type="button" class="zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__morecolorbutton zbutton--menu"> ${a.WCIcon(n.moreColorBtn.icon)} <span class="zbutton__text zcolorpicker__text">${n.moreColorBtn.label}</span> ${a.WCIcon(n.rightArrow)} </button>`} ${(n.colorField||n.opacity)&&ZT.html`<div class="zcolorpicker__colorfieldcontainer"> ${n.colorField&&t.WCColorField(n.colorField)} ${n.opacity&&t.WCOpacity(n)} </div>`} </div> ${n.advancedPicker&&e.createAdvancedColorPicker(n.advancedPicker)} </div> `;return i},t.WCColorField=e=>{let t=ZT.html`<div class="zcolorpicker__colorfield"> ${e.preview&&ZT.html`<span class="zcolorpicker__colorfieldpreview zcolorpicker__transparentbg"> <div class="zcolorpicker__dynamiccolor" style="background-color: ${e.rgb};"></div> </span>`} <input id=${e.id} ?readonly=${e.readonly} aria-label="${e.label}" class="zcolorpicker__textbox zcolorpicker__navigatable ${e.readonly?"h-cursor":""}"> </div>`;return t},t.WCDefaultColorBtn=e=>{let t=ZT.html`<button id=${e.defaultColor.id} aria-label="${e.defaultColor.label}" role="button" type="button" class="zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__defaultcolorbutton"> <span class="zcolorpicker__icon" style="background-color: ${e.defaultColor.rgb};"></span> <span class="zbutton__text zcolorpicker__text">${e.defaultColor.label}</span> </button>`;return t},t.WCNoColorBtn=e=>{let t=ZT.html`<button id=${e.noColorBtn.id} aria-label="${e.noColorBtn.label}" role="button" type="button" class="zbutton zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__nocolorbutton"> ${a.WCIcon(e.noColorBtn.icon)} <span class="zbutton__text zcolorpicker__text">${e.noColorBtn.label}</span> </button>`;return t},t.WCOpacity=t=>{let a=ZT.html`<div class="zcolorpicker__opacitycontainer"> ${o.WCSlider(t.opacitySlider)} ${e.createNumberField(t.opacityField)} </div>`;return a}}(ZComponents),function(e){let t=e.zcolorpicker.Templates,a=e.Templates.Utilities,o=e.zcolorpickerbase.Templates;t.children=n=>{let i=ZT.html`${n.hasCallout&&ZT.html`<div class="zcolorpicker__pointer"></div>`} ${n.title&&o.title(n)} <div class="zcolorpicker__showhidecontainer"> <div class="zcolorpicker__default"> ${n.noColorBtn&&t.noColorBtn(n)} ${n.defaultColor&&t.defaultColorBtn(n)} ${n.defaultPalette&&o.palette(n.defaultPalette)} ${n.standardPalette&&o.palette(n.standardPalette)} ${n.palettes&&n.palettes.map(e=>o.palette(e))} ${n.otherUsedColors&&o.palette(n.otherUsedColors)} ${n.advancedPicker&&ZT.html`<button id=${n.moreColorBtn.id} aria-label="${n.moreColorBtn.label}" role="button" type="button" class="zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__morecolorbutton zbutton--menu"> ${a.icon(n.moreColorBtn.icon)} <span class="zbutton__text zcolorpicker__text">${n.moreColorBtn.label}</span> ${a.icon(n.rightArrow)} </button>`} ${(n.colorField||n.opacity)&&ZT.html`<div class="zcolorpicker__colorfieldcontainer"> ${n.colorField&&t.colorField(n.colorField)} ${n.opacity&&t.opacity(n)} </div>`} </div> ${n.advancedPicker&&e.createAdvancedColorPicker(n.advancedPicker)} </div> `;return i},t.colorField=e=>{let t=ZT.html`<div class="zcolorpicker__colorfield"> ${e.preview&&ZT.html`<span class="zcolorpicker__colorfieldpreview zcolorpicker__transparentbg"> <div class="zcolorpicker__dynamiccolor" style="background-color: ${e.rgb};"></div> </span>`} <input id=${e.id} ?readonly=${e.readonly} aria-label="${e.label}" class="zcolorpicker__textbox zcolorpicker__navigatable ${e.readonly?"h-cursor":""}"> </div>`;return t},t.defaultColorBtn=e=>{let t=ZT.html`<button id=${e.defaultColor.id} aria-label="${e.defaultColor.label}" role="button" type="button" class="zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__defaultcolorbutton"> <span class="zcolorpicker__icon" style="background-color: ${e.defaultColor.rgb};"></span> <span class="zbutton__text zcolorpicker__text">${e.defaultColor.label}</span> </button>`;return t},t.noColorBtn=e=>{let t=ZT.html`<button id=${e.noColorBtn.id} aria-label="${e.noColorBtn.label}" role="button" type="button" class="zbutton zcolorpicker__navigatable zcolorpicker__actionbutton zbutton zcolorpicker__nocolorbutton"> ${a.icon(e.noColorBtn.icon)} <span class="zbutton__text zcolorpicker__text">${e.noColorBtn.label}</span> </button>`;return t},t.opacity=t=>{let a=ZT.html`<div class="zcolorpicker__opacitycontainer"> ${o.slider(t.opacitySlider)} ${e.createNumberField(t.opacityField)} </div>`;return a}}(ZComponents),function(e,t){class ZDateRangePicker extends e.ZDatePicker{get name(){return"zdaterangepicker"}get attrs(){return{fromValue:null,toValue:null,monthsPerView:2,selectionDirection:"both",excludeWeekend:!1,selectionType:"continuous",rangeType:"days",minDaysToSelect:null,maxDaysToSelect:null,fromLabel:null,toLabel:null}}get props(){return{labels:{fromLabel:"From",toLabel:"To"}}}get EVENTS(){return["fromvalueselect","tovalueselect"]}get delegateList(){return".zdatetimepicker__date:not(.is-disabled):not(.zdatetimepicker--disabledreplica), .zdatetimepicker__adjacentmonthdate:not(.is-disabled):not(.zdatetimepicker--disabledreplica), .zdatetimepicker__monthview:not(.is-disabled), .zdatetimepicker__year:not(.is-disabled), .zdatetimepicker__decade:not(.is-disabled)"}_init(e,a){this._userOptions=t.extend({},a),this._isSeparate="separate"===this._opts.selectionType,this._assignValues(),this._setTemplate(),super._init(...arguments)}_assignValues(){let e=this._opts;["from","to"].forEach(t=>{if(t+="Value",this._parseValue(t,e[t]),this._opts.excludeWeekend&&e[t]&&this._isWeekend(e[t])&&(e[t]=null),e[t]){let a="fromValue"===t;if(this["_"+t]=this[a?"_lastFrom":"_lastTo"]=new Date(+e[t]),this["_"+t].setHours(0,0,0,0),a){let e=this._fromValue;this._viewDate=new Date(+e),this._isSeparate||(this._opts.value=new Date(+e),this._currentSelected=new Date(+e))}}else this["_"+t]=null}),e.fromValue||this._isSeparate||(this._opts.value=void 0,this._currentSelected=void 0)}_setTemplate(){this._opts.templateName="zdate"+(this._isSeparate?"range":"")+"picker"}_bindEvents(){super._bindEvents(),this._addOtherEvents()}_addOtherEvents(){this._isSeparate||["enter","leave"].forEach(e=>this.element.on("mouse"+e+"."+this.name,this.delegateList,this["_mouse"+("enter"===e?"over":e)+"Handler"].bind(this)))}_postRender(e,t){super._postRender(...arguments),t.excludeWeekend&&(this._data.className+=" zdatetimepicker__excludeweekend")}_resetDates(){this._lastFrom=null,this._lastTo=null,this._unsetDates(!0),this._setUndefined(["fromValue","toValue"],""),this._setHours(),(this._minDate||this._maxDate)&&this._checkViewDate(this._viewDate),this._OK&&this._OK.removeClass("is-disabled")}_assignViewDate(){(this._minDate||this._maxDate)&&this._checkViewDate(new Date),this._isSeparate&&this._setSeparateDates()}_checkValueValidity(){let e=this._opts.fromValue,t=this._opts.toValue;if(e&&!this._dateWithInRange(e)||t&&!this._dateWithInRange(t)||this._isGreater(e,t))return this._resetDates(),!0}_validateOpts(e){let t=this._opts,a=t.fromValue,o=t.toValue;if(this._validateMinMaxDays&&this._validateMinMaxDays(),this._checkValueValidity(),e||super._validateOpts(),t.todayButtonAction="navigate-only",a=t.fromValue,o=t.toValue,a&&o){let e=+o-+a,n=e/86400000+1;-1<n&&(t.minDaysToSelect&&n<t.minDaysToSelect||t.maxDaysToSelect&&n>t.maxDaysToSelect)&&this._resetDates()}(!this._isNotSet&&(a&&!o||!a&&o)||this._isDisabledDate(a)||this._isDisabledDate(o))&&this._resetDates()}_isDisabledDate(e){if(e){let t=this._getUniqueClass(e,"");return t&&-1<t.class.indexOf("is-disabled")}return!1}_unsetDates(e){let t=this._opts;e?(t.fromValue=this._lastFrom,t.toValue=this._lastTo):(t.fromValue=this._fromValue?new Date(+this._fromValue):null,t.toValue=this._toValue?new Date(+this._toValue):null),t.fromValue||(this._opts.value=void 0,this._currentSelected=void 0),this._lastFrom=t.fromValue,this._lastTo=t.toValue}_updateOKClass(e){let t=this._fromValue,a=this._toValue;if(this._OK&&(!this._opts.immediateCommit||e)){let e;t&&a||!t&&!a?e=!1:(!a||!t)&&(e=!0),this._disable(e,this._OK)}}_isMinOrMaxDaysPresent(){let e=this._opts;return"number"==typeof e.minDaysToSelect&&"number"==typeof e.maxDaysToSelect}_mousedownHandler(e){let a=t(e.target),o=this._opts;if(!a.closest(this.delegateList).length||o.excludeWeekend&&a.closest(".zdatetimepicker--weekend").length)return;let n="weeks"===o.rangeType,i=this._isSeparate,r=this._isDrilldown,s=!1,l;if(i&&(l=this._setData(e),this._setPartMode(l)),this._dateSelect=!0,0===this._viewMode&&r||!r){this._doesExist(this._clear)&&this._traverseBtns("clearButton","is-disabled",!1),a=a.closest(".zdatetimepicker__date"),a.length||(a=t(e.target).closest(".zdatetimepicker__adjacentmonthdate"),s=!0);let r=this._getDateVal(a);s&&(this._viewDate=new Date(+r),this._buildData(!0),a=this._getDateElem(r,i?this._getPartEle():void 0)),!i&&this._fromValue&&this._toValue&&(this._setUndefined(["fromValue","toValue","weekStart","weekEnd","lastHovered","currentSelected"],""),o.immediateCommit&&this._unsetDates(!0),this._clearDateClass(),n&&this._setWeekDates(this._getDateData(a).time)),this._lastHovered=a;let d=+r,c=!1;if(i)return this._separateMousedown(e,l,a,r),void this._dispatchEvent(l+"valueselect",e,this["get"+(l[0].toUpperCase()+l.slice(1))+"Value"]());if(n)this._weekStart&&this._weekEnd&&(this._fromValue=this._weekStart,this._toValue=this._weekEnd);else if(this._fromValue){let e=new Date(d);d>this._fromValue?this._toValue=e:(c=!0,this._toValue=new Date(+this._fromValue),this._fromValue=e)}else this._fromValue=r;o.value=new Date(+this._fromValue),this._updateOKClass();let m="both"!==o.selectionDirection||this._isMinOrMaxDaysPresent();n||m?this._updateObjects(void 0,m):this._setDateClass(this._toValue?" is-selected "+(c?" is-start "+(a.next().hasClass("is-disabled")?" zh-disabledahead":""):" is-end"+(1===this._getDateData(a).text||this._isEndFirst(this._toValue)?" is-end-first":"")):" is-selected",!0,a),a.is(".zdatetimepicker--today")&&this._setDateClass("zdatetimepicker--todayinrange",!1,a);let _=(!this._toValue||c)&&("backward"!==o.selectionDirection||this._toValue)?"From":"To";this._dispatchEvent(_.toLowerCase()+"valueselect",e,this["get"+_+"Value"]()),o.immediateCommit&&this._fromValue&&this._toValue&&this._OKClickHandler(e)}else super._mousedownHandler(e);this._dateSelect=!1}_getInRangeCls(e){let t=new Date,a=new Date(+e);return t.setHours(0,0,0,0),a.setHours(0,0,0,0)," zdatetimepicker--dateinrange"+(+t==+a&&this._todayHovered?" zdatetimepicker--todayinrange":"")}_restoreValues(e){let t=this._opts.fromValue,a=this._opts.toValue;this._fromValue=new Date(+t),this._toValue=new Date(+a),e&&(this._opts.value=new Date(+t)),this._valueUpdate=!0,this._doesExist(this._clear)&&this._traverseBtns("clearButton","is-disabled",!1),this._removeOkDisabled()}_removeOkDisabled(){this._OK&&this._OK.removeClass("is-disabled")}_refreshPicker(e){if(this._isSeparate){this._part=e;let t=this["_"+("from"===e?"start":"end")+"Date"],a=new Date(+(this["_"+e+"Value"]?+this["_"+e+"Value"]:+t));this._oldDate=new Date(+t),this._viewDate=a,this._updateViewMode()}else this._oldDate=new Date(+this._oldViewDate);super._refreshPicker(),this._isSeparate&&(this._valueRemoval||this._oldDate.getFullYear()===this._viewDate.getFullYear()&&this._oldDate.getMonth()===this._viewDate.getMonth())&&this._buildData(void 0,e),this._valueRemoval=!1}_closePicker(e){let t=this._fromValue,a=this._toValue,o=this._opts,n=o.fromValue,i=o.toValue,r=this._valueUpdate,s=this._setUndefined.bind(this);return this._isSeparate?(this._valueUpdate=!1,void this._separateCloseHandler(e)):void(this._oldViewDate=new Date(+this._viewDate),this._viewDate=new Date(+this._fromValue),n&&i?this._restoreValues(!0):t&&!a?(this._valueUpdate=!1,s(["fromValue"],""),this._removeOkDisabled()):!r&&(this._opts.value=null,this._resetDates(),this._assignViewDate()),this._updateObjects(),super._closePicker(),this._valueUpdate=!1)}_isEndFirst(e){let t,a;return this._opts.excludeWeekend&&(t=new Date(+e),t.setDate(t.getDate()-1),a=this._isWeekend(t)),a}_checkWeekend(e){return this._opts.excludeWeekend&&!this._isWeekend(e)||!this._opts.excludeWeekend}_isNotAdjacent(e){return this._prevClass&&0>this._prevClass.indexOf("zdatetimepicker__adjacentmonthdate")&&0>e.indexOf("zdatetimepicker__adjacentmonthdate")}_getClasses(e,a,o){let n=+e,i=super._getClasses(e,a),r=this._opts,s=this._fromValue,l=this._toValue,d=!1,c=this._checkWeekend(e),m=this._lastHovered,_="object"==typeof i?i.class:i,u=s&&!l||"weeks"===r.rangeType&&this._update,p,h;return h=m&&+t(m).attr("data-time"),"weeks"===r.rangeType&&this._update&&(p=h,p&&(this._setWeekDates(p),n>=+this._weekStart&&n<=+this._weekEnd&&c&&(d=!0,_+=" zdatetimepicker--weekselection"),n==+this._weekEnd&&(_+=" zh-lastselection"))),this._isSeparate?_+=this._addSeparateClasses(e,_):(s&&l||u)&&(_=this._setContinuousClasses(e,_,p,d,o,h)),"object"==typeof i?i.class=_:i=_,this._prevClass=i.class||i,this._prevClass}_OKClickHandler(e){this._unsetDates(),this._valueUpdate=!0;let t=this._opts.immediateCommit;(this._opts.closeOnDateSelect&&t||!t)&&this._closePicker(e),this._dispatchEvent("change",e,this._getSelectedValue()),this._OK&&this._removeFocus(this._OK)}_dispatchEvent(e,t,a){if(e!==this._event)return this._event=e,super._dispatchEvent(...arguments)}_getSelectedValue(){return t.extend(!0,{},this.getFromValue(),this.getToValue())}_getDateVal(e){return e&&e.length?new Date(+e.attr("data-time")):void 0}_setFromToValue(){this._assignValues(),this._validateOpts(),this._assignViewDate(),this._isSeparate&&(this._viewDate=new Date(+this["_"+("to"===this._part?"end":"start")+"Date"])),this._buildData(!0,void 0,!0)}_getValueObj(t,a){let o=this._opts,n=e.Date.formatDate(t,o.format);return{[a+"Value"]:new Date(+t),options:o,[a+"ValueString"]:n,element:this.element,["translated"+a[0].toUpperCase()+a.slice(1)+"Value"]:this._translateEToA(e.Date.formatDate(t,o.format,o.labels))}}getFromValue(){let e=this._opts.fromValue;if(e)return this._getValueObj(e,"from")}getToValue(){let e=this._opts.toValue;if(e)return this._getValueObj(e,"to")}setFromValue(e){this._opts.fromValue=e,e&&this._opts.toValue&&this._setFromToValue()}setToValue(e){this._opts.toValue=e,this._opts.fromValue&&e&&this._setFromToValue()}clearSelection(){this._clearClickHandler(void 0,void 0,!0)}_destroy(){this._isSeparate&&this._isDropdown&&(this._destroyDropdown(),this._destroyedDD=!0),this._isSeparate=!1,this._prevClass=void 0,this._setUndefined(["fromValue","toValue"],""),super._destroy()}_setClearBtnCls(e){super._setClearBtnCls(e,!this._fromValue&&!this._toValue,!0)}_clearClickHandler(e,t,a){let o=this._opts;if(this._isSeparate){let e=["from","to"],t=this._part;for(let t=0,a;t<e.length;t++)a=this["_"+e[t]+"Value"],this._part=e[t],a&&this._select(!1,this._getDateElem(a,this._getPartEle(e[t])),!0);this._part=t,this._setData(this._part)}else this._clearDateClass();(o.immediateCommit||a)&&(this._lastFrom=null,this._lastTo=null,this._unsetDates(!0)),this._setUndefined(["fromValue","toValue"],""),a&&(this._viewDate=new Date,this._checkViewDate(this._viewDate),this._buildData()),super._clearClickHandler(...arguments),(this._isSeparate||"days"===o.rangeType&&"both"!==o.selectionDirection||this._isMinOrMaxDaysPresent())&&(this._reassignLimits(),this._buildData(!this._isSeparate,void 0,!0)),this._updateOKClass(!0)}_clearDateClass(){let e=this._data.month;for(let t=0,a;t<this._monthsPerView;t++){a=e[t].dates,this._index=t;for(let e=0,t;e<a.length;e++){t=a[e];for(let e=0,a=t.length;e<a;e++)t[e].class=t[e].class.replace(/zdatetimepicker--dateinrange|zdatetimepicker--todayinrange|is-selected|zdatetimepicker--weekselection|is-disabled zspecial|zdatetimepicker--disabledreplica|is-start|is-start-last|zh-lastrange|is-end-first|is-end/g,"")}}}_addEndClass(e,t,a){return e+=(a?" ":this._getInRangeCls(t))+" is-end",!a&&(1===t.getDate()&&this._isNotAdjacent(e)||this._isEndFirst(t))&&(e+=" is-end-first"),e}_updateObjects(e,t){this._update=!0;let a=this._opts,o=this._data.month,n=a.selectionDirection,r=this._fromValue,s=this._toValue;"days"===a.rangeType&&("both"!==n&&r&&this._setLimits(()=>this["_"+("backward"===a.selectionDirection?"max":"min")+"Date"]=new Date(+r)),"number"==typeof a.maxDaysToSelect&&(this._setLimits(()=>{this._getInvalidRange(a.maxDaysToSelect,+this._viewDate),this._setLimitValues()}),this._isDropdown&&(this._data.modifiedAttr=t?"minOrMax":void 0,this._checkOptions(),this._data.modifiedAttr=void 0)));for(let l=0,i;l<this._monthsPerView;l++){i=o[l].dates,this._index=l;for(let e=0,t;e<i.length;e++){t=i[e];for(let e=0,o=t.length,i;e<o;e++)(i=t[e],""!==i.text)&&(i.class=this._getClasses(new Date(i.time),new Date(+this._data.month[l].dates[1][0].time),i),(r&&s||!r&&!s)&&("both"!==n||"number"==typeof a.maxDaysToSelect)&&(i.class=this._clearSpecialCls(i.class)))}}e||this._render(),this._update=!1}_setContinuousClasses(e,t,a,o,n,i){let r=this._isNotAdjacent(t),s=+e,l=this._opts,d=this._fromValue,c=this._toValue,m=+d,_=+c,u=m!=_,p=this._checkWeekend(e),h=this._lastHovered,g=s>m,f=d&&!c||"weeks"===l.rangeType&&this._update,b=l.firstDayOfWeek+6;if(a=c||i,f){let e=l.selectionDirection,a=0>t.indexOf("is-disabled");a&&("forward"===e&&s<m||"backward"===e&&g)&&(t+=" is-disabled zspecial"),i&&("number"==typeof l.minDaysToSelect&&this._getInvalidRange(l.minDaysToSelect,s,!0)&&(t+=" zdatetimepicker--disabledreplica"),a&&"number"==typeof l.maxDaysToSelect&&this._getInvalidRange(l.maxDaysToSelect,s)&&(t+=" is-disabled zspecial"))}if(0>t.indexOf("zdatetimepicker__adjacentmonthdate"))if(t=this._updateDisabledCls(s,o,t),s==m||s==_){if(t+=" is-selected",s==m){let o=!1;if(u&&(h&&+this._getDateVal(h)!=m||c)?t+=this._getInRangeCls(e):o=!0,a&&s>a||"backward"===l.selectionDirection&&!c)t=this._addEndClass(t,e,o);else{t+=" is-start";let a=new Date(s);a.setDate(a.getDate()+1),(e.getDay()===b||l.excludeWeekend&&this._isWeekend(a)||new Date(e.getFullYear(),e.getMonth()+1,0).getDate()===e.getDate()&&r)&&(t+=" is-start-last")}}else t=this._addEndClass(t,e);}else if(u&&(g&&s<_||a&&!c&&(s>=m&&s<=a||s<=m&&s>=a))){p&&0>t.indexOf("is-disabled")&&(t+=this._getInRangeCls(e));let o=new Date(s),n=new Date(s),i;o.setDate(o.getDate()+1),n.setDate(n.getDate()-1),i=new Date(e.getFullYear(),e.getMonth()+1,0),(+i==s||a&&s==+a&&g||e.getDay()===b||l.excludeWeekend&&r&&(this._isWeekend(o)&&+o!=_||this._isWeekend(n)&&o.getMonth()!==e.getMonth())||1===e.getDate()&&e.getDay()===b&&r)&&(t+=" zh-lastrange")}else t=this._updateDisabledCls(s,o,t,!0);return t}_mouseoverHandler(e){if(!this._isSeparate&&0===this._viewMode){let a=t(e.target),o=this._opts,n="weeks"===o.rangeType,i=this._fromValue,r=this._toValue;if(a=a.closest(".zdatetimepicker__date:not(.is-disabled):not(.zdatetimepicker--disabledreplica),.zdatetimepicker__adjacentmonthdate:not(.is-disabled):not(.zdatetimepicker--disabledreplica)"),!a.length||!n&&(!i||i&&r))return;if(a.closest(".zdatetimepicker--today").length&&(this._todayHovered=!0),n||i&&!r){let e=this._getDateData(a).time;if(n){if(i&&r&&e>=+i&&e<=+r)return;this._lastHovered=a}clearTimeout(this._timeout),this._timeout=setTimeout(this._updateObjects(),0)}this._lastHovered=a}}_mouseleaveHandler(e){t(e.relatedTarget).is(".zdatetimepicker__date")||(this._lastHovered=null);let a=t(e.target),o=a.closest(".zdatetimepicker--todayinrange");o.length&&(this._todayHovered=!1,o.removeClass("zdatetimepicker--todayinrange")),"weeks"===this._opts.rangeType&&this._clearWeekSelection()}_setLimitValues(){let e=this._tempSDate,t=this._oldMinDate,a=this._tempEDate,o=this._oldMaxDate,n=!t||e&&+e>+t?e:t,i=!o||a&&+a<+o?a:o;this._minDate=n?new Date(+n):n,this._maxDate=i?new Date(+i):i}_reassignLimits(){this._preserved&&(this._minDate=this._oldMinDate,this._maxDate=this._oldMaxDate,this._preserved=!1)}_setLimits(e){let t=this._fromValue,a=this._toValue;this._isSeparate||t&&!a?(!this._preserved&&(this._preserved=!0,this._oldMaxDate=this._maxDate?new Date(+this._maxDate):null,this._oldMinDate=this._minDate?new Date(+this._minDate):null),e()):this._reassignLimits()}_updateDisabledCls(e,t,a,o){let n=["disabledDaysOfWeek","disabledDates","disabledMonths","disabledYears"].map(e=>!!this._opts[e].length);if(-1<n.indexOf(!0)&&(this._fromValue||t)){let t=new Date(e);t.setDate(t.getDate()+1),this._isDisabledDate(t)&&(e===+this._fromValue?a+=" zh-disabledahead":"weeks"===this._opts.rangeType&&o?a+=" zh-lastselection":0>a.indexOf("zh-lastrange")&&(a+=" zh-lastrange"))}return a}_clearSpecialCls(e){return-1<e.indexOf("zspecial")&&(e=e.replace(/is-disabled|zspecial/g,"")),e}_handleDecadeMousedown(e,t,a){if(this._isSeparate){let t=this._getPartIndex(e),o="_"+(0===t?"start":"end")+"Date";this[o]=this[o].setFullYear(a)}super._handleDecadeMousedown(...arguments)}_getDrilldownData(e,t,a){if(this._isSeparate){this._setData(a);let t=e.view;this["_"+t+"EventBinded"]=this._data[this._part][t+"EventBinded"];let o=super._getDrilldownData(...arguments);return this._data[this._part][t+"Drilldown"]=this._data.month[t+"Drilldown"],this._setPartMode(),o}return super._getDrilldownData(...arguments)}_setDrilldownClass(e){if(this._isSeparate){let t=this._data[this._part].month[0],a=e.is("zdatetimepicker__year")?"year":"month";t[a+"Drilldown"]&&t[a+"Drilldown"].cells[e.index()].class.replace(/is-selected/g,"")}else super._setDrilldownClass(...arguments)}_buildDrilldownView(e,t){if(super._buildDrilldownView(...arguments),this._isSeparate){this._updateDrilldownEle();let t=e.view+"EventBinded";this._data[this._part][t]||(this._data[this._part][t]=!0)}}_drilldownClickHandler(e){this._isSeparate&&(this._viewMode=this._toggleViewMode(e)),super._drilldownClickHandler(e)}_updateDrilldownEle(){if(0!==this._viewMode){let e=["month","year","decade"],t=this._getPartEle();for(let a=0,o=e.length,n;a<o;a++)n=t.find(".zdatetimepicker__"+e[a]+"drilldown"),n.length&&(this["_"+e[a]+"DrillDownElement"]=n)}}_setPartMode(e=this._part){this._isSeparate&&(this._data[e].viewMode=this._viewMode)}_toggleViewMode(e){return t(e.target).closest(".zdatetimepicker__monthcontainer").index()}_bindDrillDownClickEvent(e,t){this._isSeparate&&(t=this._getPartEle().find(".zdatetimepicker")),super._bindDrillDownClickEvent(e,t)}_setViewMode(e,t,a){this._isSeparate&&(a=this._getPartEle().find(".zdatetimepicker")),super._setViewMode(e,t,a),this._setPartMode()}_checkPart(e){let t=this._isSeparate;return(t&&this._part===e||!t)&&this["_"+e+"Value"]}_selectClickHandler(e){this._setData(e),super._selectClickHandler(...arguments)}_destroyDropdown(){this._isSeparate&&!this._destroyedDD?(this._removeDropdown("from"),this._removeDropdown("to")):!this._destroyedDD&&super._destroyDropdown(...arguments)}_removeDropdown(e){e&&(this._setData(e),this._updateDropdownEle("month",!0),this._updateDropdownEle("year",!0)),super._destroyDropdown(...arguments)}_getInvalidRange(e,t,a){--e;let o=+this._fromValue,n=this._getValidDate(-1,new Date(o),e),i=this._getValidDate(1,new Date(o),e),r;return a?r=t<=o&&t>+n||t>=o&&t<+i:(this._tempEDate=i,this._tempSDate=n,t&&(r=t<+n||t>+i)),r}_validateMinMaxDays(){let e=this._opts;this._isMinOrMaxDaysPresent()&&e.minDaysToSelect>e.maxDaysToSelect&&(e.maxDaysToSelect=null)}_getSeparateRange(e,t){let a=t?1:-1,o=["min","max"],n=[];for(let r=0;r<o.length;r++){let i=this._opts[o[r]+"DaysToSelect"],s=new Date(+e);"number"==typeof i&&(--i,s=this._getValidDate(a,s,i,t)),n.push(s)}return n}_getValidDate(e,t,a,o){let n=0;for(t=new Date(t.getTime());n!==a;)t.setDate(t.getDate()+e),this._checkWeekend(t)&&!this._getUniqueClass(t)&&n++;return t}_getMonthClasses(e){let t=this._fromValue,a=this._toValue,o=this._viewDate,n=this._isSeparate,i=super._getMonthClasses(e);return(!n&&t&&a||n)&&(this._checkPart("from")&&t.getMonth()===e&&t.getFullYear()===o.getFullYear()||this._checkPart("to")&&a.getMonth()===e&&o.getFullYear()===a.getFullYear())&&(i+=" is-selected"),this._isSeparate||"both"===this._opts.selectionDirection||(i=this._updateDirectionCls(i,e,"month")),i}_setmonthDropdownVal(t,a,o,n,i){if(super._setmonthDropdownVal(...arguments),!a&&!t&&!o&&!n){let t=[];i.monthSelect.options.forEach(e=>t.push(e.value)),t.length&&e.select(this._monthHeader).setOptionAttributes(t,"disabled",!1)}}_updateDirectionCls(e,t,a){let o=this._fromValue,n="forward"===this._opts.selectionDirection,i;return o&&!this._toValue&&0>e.indexOf("is-disabled")?("month"===a?i=this._viewDate.getFullYear()===o.getFullYear()&&(n&&t<o.getMonth()||!n&&t>o.getMonth()):"year"==a&&(i=n&&t<o.getFullYear()||!n&&t>o.getFullYear()),i&&(e+=" is-disabled zspecial")):e=this._clearSpecialCls(e),e}_separateMousedown(e,t,a,o){let n=this._opts,i="_"+t+"Value";this._part=t,this[i]&&this._select(!1,this._getDateElem(this[i],this._getPartEle(t)),!0),"to"===t&&a.hasClass("is-selected")?this._toValue=null:(this[i]=o,this._viewDate=new Date(+o)),this._buildData(!0,t,a),this._commitValues(e),this._dateSelect=!1}_commitValues(e){this._fromValue&&this._toValue&&this._opts.immediateCommit&&this._OKClickHandler(e),this._updateOKClass()}_constructData(){let e=this._isSeparate,t=this._data.rendered;e?t&&!this._reInit?this._constructPart(this._part):(!this._id&&(this._id=this._elementId),this._monthsPerView=1,this._constructPart("from"),this._constructPart("to"),this._elementId=this._id):super._constructData()}_constructPart(e){this._setData(e),this._part=e;let t=this._data[e];t?this._data.month=t.month:this._data.month[0]=null,this._updateViewMode(e),"number"==typeof this._viewMode&&0!==this._viewMode?this._generateContent():super._constructData(),this._storeData()}_arrowEventHandler(e){this._setData(e),super._arrowEventHandler(e)}_bindArrowEvents(){let e;this._isSeparate&&(e=this._id,this._elementId=e+"zfrom",super._bindArrowEvents(),this._elementId=e+"zto"),super._bindArrowEvents(),e&&(this._elementId=e)}_buildData(e,t,a){if(this._isSeparate&&this._data.rendered&&!this._reInit){t=t||this._part;let e="from"===t?"to":"from",o="boolean"==typeof a,n;if(o||(n=a),this[this._getSegment()]=new Date(+this._viewDate),n){let e=this._getDateEleIndex(n),a=this._data[t].month[0].dates[e[1]][e[2]];this["_"+t+"Value"]?a.class+=" is-selected":n.hasClass("is-selected")&&(a.class=a.class.replace(/is-selected/g,""))}a&&this._constructPart(e),(!a||this._fromValue&&this._toValue||o&&a)&&this._constructPart(t),this._reInit||this._render()}else this._isSeparate&&this._assignViewDate(),super._buildData(...arguments)}_setSeparateDates(){this._startDate=new Date(+(this._fromValue||this._viewDate)),this._endDate=new Date(+(this._toValue||this._viewDate)),this._startDate.setHours(0,0,0,0),this._endDate.setHours(0,0,0,0)}_updateLimits(e){let t=this._fromValue,a=this._toValue,o=this._opts.maxDaysToSelect;e&&t?this._setLimits(()=>{let a=this._getSeparateRange(t,e);this._tempSDate=a[0],this._tempEDate=o?a[1]:null,this._setLimitValues()}):!e&&a?this._setLimits(()=>{let t=this._getSeparateRange(a,e);this._tempSDate=o?t[1]:null,this._tempEDate=t[0],this._setLimitValues()}):this._reassignLimits()}_addSeparateClasses(e,t){let a=+e,o="",n=this._fromValue,i=this._toValue,r="to"===this._part;return 0>t.indexOf("zdatetimepicker__adjacentmonthdate")&&(n&&!i?!r&&a==+n&&(o+=" is-selected"):n&&i&&(r?a==+i&&(o+=" is-selected"):a==+n&&(o+=" is-selected"))),o}_setArrowLimits(e){this._updateLimits("to"===e),this._elementId=this._id+"z"+e,this._updateArrowState(this._data[e].viewDate)}_updateArrows(e){this._setArrowLimits(e),this._setArrowLimits("to"===e?"from":"to")}_setPart(e){if(this._isSeparate)return e.type&&"string"==typeof e.type&&(e=this._getPartIndex(e)),"number"==typeof e&&(e=0===e?"from":"to"),this._part=e,this._elementId=this._id+"z"+e,e}_updateDropdownEle(e,a){let o=this._data.month[0],n=t("#"+this._elementId+"-"+e+"-header"),i=o&&o.navigationBar;n.length&&(o||a)&&(this["_"+e+"Header"]=n,i&&(o.navigationBar[e+"Select"].mainElement=n))}_setData(e){if(this._isSeparate&&e&&"boolean"!=typeof e){e=this._setPart(e);let t="from"===e;return this._data.month=this._data[e]?this._data[e].month:[],this._updateLimits(!t),!this._skipReset&&this._fromValue&&!t&&+this._endDate<+this._fromValue&&(this._endDate=new Date(+this._minDate)),this._viewDate=new Date(+(t?this._startDate:this._endDate)),this._isDrilldown?this._updateDrilldownEle():(this._updateDropdownEle("month"),this._updateDropdownEle("year")),e}}_fillDates(e,t,a){this._isSeparate&&(a=-1),super._fillDates(e,t,a)}_getDateData(){let e=this._data[this._part];return this._isSeparate&&e&&(this._data.month=e.month),super._getDateData(...arguments)}_getPartEle(e=this._part){return t(this.element.find(".zdatetimepicker__list")["from"===e?0:1])}_updateViewMode(e=this._part){if(this._isSeparate){let t=this._data[e];this._viewMode=t&&"number"==typeof t.viewMode?t.viewMode:this._getViewMode()}}_getPartIndex(e){return this._viewMode=this._toggleViewMode(e),t(e.target).closest(".zdatetimepicker__list").index()}_setArrowMainElement(){this._isSeparate&&(this._elementId=this._id+"z"+this._part),super._setArrowMainElement(...arguments)}_getSegment(e=this._part){return"_"+("from"===e?"start":"end")+"Date"}_updateRange(){this._isSeparate&&(this[this._getSegment()]=new Date(+this._viewDate))}_callRender(e,t,a){this._setData(a),super._postEachRender(e)}_postEachRender(e,t){if(this._isSeparate){"selectionType"!==t.modifiedAttr&&t.rendered||(this._data.className+=" zdatetimepicker--group"),this._updateRange();let a=this._part,o=this._data.modifiedAttr;this._callRender(e,t,"from"===a?"to":"from"),this._data.modifiedAttr=o,this._callRender(e,t,a)}else super._postEachRender(e,t)}_storeData(){if(!this._data.rendered||this._reInit){let a=this._part;this[this._getSegment()]=new Date(+this._viewDate);let o=t.extend(!0,{},this._data.month[0]);o.label=e.encodeHTML(this._opts[a+"Label"]||this._getI18NText(a+"Label")),this._data[a]={month:[o]}}}_resetSeparateType(){this._reassignLimits(),this._resetDates(),this._assignViewDate()}_separateCloseHandler(e){this._opts.fromValue&&this._opts.toValue&&this._restoreValues();let t=this._fromValue,a=this._toValue;(!t||a)&&(t||!a)&&this._valueUpdate||(this._valueRemoval=!0,this._select(!1,this._getDateElem(t||a,this._getPartEle(t?"from":"to")),!0),this.element.find(".is-selected").removeClass("is-selected")),(!(t||a)||this._valueRemoval)&&this._resetSeparateType(),this._refreshPicker("from"),this._refreshPicker("to"),this._closePickerHandler(e)}_setAttribute(e,t){let a=this._opts;a[e]=t;let o=!1,n=!1;this._isNotSet=!1;if(!(-1<["selectionDirection","rangeType","excludeWeekend","minDaysToSelect","maxDaysToSelect","fromLabel","toLabel","selectionType","fromValue","toValue"].indexOf(e)))!this._isSeparate&&-1<["disabledDaysOfWeek","specialDaysOfWeek","specialDates","disabledDates"].indexOf(e)?(super._setAttribute(...arguments),this._updateObjects()):"navigationBar"===e?(this._id&&(this._elementId=this._id),this._emptyValues(!0),n=!0):"todayButtonAction"===e?a.todayButtonAction="navigate-only":n=!0;else if("fromValue"===e||"toValue"===e)this._isNotSet=!a.toValue||!a.fromValue,this._setFromToValue();else if(this._isSeparate&&("fromLabel"===e||"toLabel"===e)){let a=-1<e.indexOf("from")?"from":"to";this._data[a].month[0].label=t,o=!0}else if("selectionType"===e){let e=this._isSeparate="separate"===t;this._emptyValues(),this._monthsPerView=e?1:this._opts.monthsPerView,this["_"+(e?"remove":"add")+"OtherEvents"](),e&&(a.value=null),this._data.modifiedAttr="navBar",this._setTemplate(),this._reInit=!0}else"excludeWeekend"===e?this._updateClass("zdatetimepicker__excludeweekend",!t):("minDaysToSelect"===e||"maxDaysToSelect"===e)&&this._validateMinMaxDays();if(n&&super._setAttribute(...arguments),-1<["minDate","maxDate"].indexOf(e)){let e=this._checkValueValidity();e&&this._dispatchEvent("change",void 0,this._getSelectedValue())}this._domChanged=this._domChanged||o}_emptyValues(e){this._data.from=this._data.to=this._currentSelected=null,this._data.month=[],e||(this._monthHeader=this._yearHeader=void 0)}_removeOtherEvents(){["enter","leave"].forEach(e=>this.element.off("mouse"+e+"."+this.name,this.delegateList))}_todayClickHandler(e){this._isSeparate&&(this._setData("from"),super._todayClickHandler(e),this._skipReset=!0,this._setData("to")),super._todayClickHandler(e,this._isSeparate),this._skipReset=!1}_setWeekDates(e){let t=new Date(e);t.setDate(t.getDate()-t.getDay()),this._weekStart=this._resetDateLimit(new Date(+t),1),this._weekEnd=this._resetDateLimit(new Date(t.getFullYear(),t.getMonth(),t.getDate()+6),-1)}_resetDateLimit(e,t){let a=this._opts,o=this._opts.excludeWeekend,n=this._getDateElem(e);for(;n.hasClass("is-disabled")||o&&this._isWeekend(e);)e.setDate(e.getDate()+t),n=this._getDateElem(e);return a.minDate&&this._isGreater(a.minDate,e)?e=new Date(+a.minDate):a.maxDate&&this._isGreater(e,a.maxDate)&&(e=new Date(+a.maxDate)),e}_clearWeekSelection(){let e=this._fromValue,t=this._toValue;(e&&t||!e&&!t)&&this.element.find(".zdatetimepicker--weekselection").length&&(this._setUndefined(["weekStart","weekEnd"],""),this._updateObjects())}_getYearClasses(e,t){let a=this._fromValue,o=this._toValue,n=this._isSeparate,i=super._getYearClasses(...arguments);return(!n&&a&&o||n)&&(this._checkPart("from")&&a.getFullYear()===e||this._checkPart("to")&&o&&o.getFullYear()===e)&&(i+=" is-selected"),n||"both"===this._opts.selectionDirection||(i=this._updateDirectionCls(i,e,"year")),i}_setyearDropdownVal(t,a,o,n,i){let r=i.yearSelect.options,s=this._viewDate,l=[],d=[];r.forEach(e=>{e.disabled=t&&e.value<t||"number"==typeof a&&e.value===t&&s.getMonth()<a||o&&e.value>o||"number"==typeof n&&e.value===o&&s.getMonth()>n,(e.disabled?l:d).push(e.value)});let c=e.combobox(this._yearHeader);this._yearHeader&&(l.length&&c.setOptionAttributes(l,"disabled",!0),d.length&&c.setOptionAttributes(d,"disabled",!1),c.setAttribute("selectedValue",this._viewDate.getFullYear()))}}e.registerComponent("ZDateRangePicker",e.ZDatePicker,ZDateRangePicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdaterangepicker.Templates,a=e.zdatepicker.Templates,o=e.Templates.Utilities;t.WCChildren=e=>ZT.html`${"callout"===e.displayType&&ZT.html`<div class='zdatetimepicker__pointer'></div>`} ${e.title&&a.WCTitle(e.title)} ${ZT.html`<ul class='zdatetimepicker__container'> ${t.WCDateLayout(e.from.month[0])} ${t.WCDateLayout(e.to.month[0])} </ul>`} ${e.cBar&&!e.isCBar&&o.WCCommandBar(e.cBar)}`,t.WCDateLayout=e=>ZT.html`<li class='zdatetimepicker__list'> <div class='zdatetimepicker__fromtolabel'> ${e.label} </div> <div class='zdatetimepicker zdatetimepicker--calendarsplit'> ${a.WCMonth(e)} ${a.WCDrilldownView(e)} </div> </li>`}(ZComponents),function(e){let t=e.zdaterangepicker.Templates,a=e.zdatepicker.Templates,o=e.Templates.Utilities;t.children=e=>ZT.html`${"callout"===e.displayType&&ZT.html`<div class='zdatetimepicker__pointer'></div>`} ${e.title&&a.title(e.title)} ${ZT.html`<ul class='zdatetimepicker__container'> ${t.dateLayout(e.from.month[0])} ${t.dateLayout(e.to.month[0])} </ul>`} ${e.cBar&&!e.isCBar&&o.commandBar(e.cBar)}`,t.dateLayout=e=>ZT.html`<li class='zdatetimepicker__list'> <div class='zdatetimepicker__fromtolabel'> ${e.label} </div> <div class='zdatetimepicker zdatetimepicker--calendarsplit'> ${a.month(e)} ${a.drilldownView(e)} </div> </li>`}(ZComponents),function(e,t){var a=Math.min,o=Math.max;class ZDateTimeRangePicker extends e.ZDateRangePicker{get name(){return"zdatetimerangepicker"}get attrs(){return{format:"dd/MM/yyyy, hh:mm tt",fromTimeLabel:null,toTimeLabel:null,timeFieldType:"input",timeMultipleSelectBoxType:"h-m-t",timeLabelType:"icon",hourStep:1,minuteStep:5}}get props(){return{labels:{fromTimeLabel:"Time",toTimeLabel:"Time"}}}get SELECTORS(){return{field:this.isCE?"z-input":"input"}}_init(e,t){this._checkTime=!0,this._initialFrom=t.fromValue,this._initialTo=t.toValue,super._init(...arguments),this._assignTime(),this._buildTimeBar(),this._data.isCBar=!0,this._opts.closeOnDateSelect=!1}_postRender(){super._postRender(...arguments),this._data.className+=" zdatetimepicker--fromtocalendar zdatetimepicker--doublecalendar"}_setFormat(){let e=this._opts.format,t=o(e.indexOf("h"),e.indexOf("H")),n=a(a(e.indexOf("d"),e.indexOf("M")),e.indexOf("y")),i,r;this._is12HourFormat=-1<e.indexOf("h"),t>n?(this._timeFormat=e.substring(t),e=e.replace(this._timeFormat,""),i=o(o(e.lastIndexOf("d"),e.lastIndexOf("M")),e.lastIndexOf("y")),r="_date"):(this._dateFormat=e.substring(n),e=e.replace(this._dateFormat,""),i=o(e.lastIndexOf("m"),e.lastIndexOf("t")),r="_time"),this[r+"Format"]=e.substring(0,i+1)}_assignTime(){["From","To"].forEach(t=>{let a=this["_initial"+t];if(a){let o=e.Date.parseDate(a,this._opts.format).date;this._opts[t.toLowerCase()+"Value"].setHours(o.getHours(),o.getMinutes())}})}_setTemplate(){this._opts.templateName="zdatetimerangepicker"}_validateFormat(){let e=this._opts.format;this._invalidFormat=!(-1<e.indexOf("d")&&(-1<e.indexOf("h")||-1<e.indexOf("H")))}_postEachRender(){super._postEachRender(...arguments);let a=this._isSeparate?this._id:this._elementId;(!this._fromInstance||this._reInit)&&(this._fromTimePicker=t("#"+a+"-timeinput1"),this._fromInstance=e.timeinput(this._fromTimePicker),this._toTimePicker=t("#"+a+"-timeinput2"),this._toInstance=e.timeinput(this._toTimePicker))}_buildData(){super._buildData(...arguments),this._doNotBuildTime||this._buildTimeBar(),this._doNotBuildTime=void 0}_buildTimeBar(){let e={},t=this._opts;["timeFieldType","timeMultipleSelectBoxType","minTime","maxTime","hourStep","minuteStep","timeLabelType","fixedTimeOptions","disabledTimeList","rtl"].forEach(a=>e[a]=t[a]),e.isCE=this.isCE,e.templateRender=!0,e.format=this._timeFormat,this._data.isSeparate=this._isSeparate,this._data.timeBarCls="zdatetimepicker__timebar h-aligncenter zdatetimepicker--twocolumn",this._createTimeObj("from",e),this._createTimeObj("to",e)}_createTimeObj(e,t){let a=this._opts[e+"Value"],o=e+"TimeLabel";this._data[e+"TimeProps"]={...t,id:(this._isSeparate?this._id:this._elementId)+"-timeinput"+("from"===e?"1":"2"),timeLabel:this._opts[o]||this._getI18NText(o),timechange:this._timeChangeHandler.bind(this),className:"zdatetimepicker__"+("from"===e?"start":"end")+"time"},a&&(this._data[e+"TimeProps"].selectedTime=new Date(+a)),this._isSeparate&&(this._data[("from"===e?"max":"min")+"Time"]=new Date(+this._opts[("from"===e?"to":"from")+"Value"]))}_restoreValues(){super._restoreValues(...arguments),this._fromValue.setHours(0,0,0,0),this._toValue.setHours(0,0,0,0)}_setDateValue(e){let t=this["_"+e+"Value"],a=this._opts[e+"Value"];a&&(t?(a.setDate(t.getDate()),a.setMonth(t.getMonth()),a.setFullYear(t.getFullYear())):this._opts[e+"Value"]=null)}_updateValues(){super._updateValues(...arguments),this._fromValue&&(this._viewDate=new Date(+this._fromValue))}_unsetDates(e){let t=this._opts;if(e)t.fromValue=null,t.toValue=null,this._initialFrom=null,this._initialTo=null;else{let e=this._fromValue,a=this._toValue,o=t.toValue;t.fromValue?this._setDateValue("from"):e&&(t.fromValue=new Date(+e)),o?this._setDateValue("to"):a&&(t.toValue=new Date(+a))}t.fromValue||(this._opts.value=void 0,this._currentSelected=void 0)}_closePicker(){super._closePicker(...arguments),this._fromInstance.setAttribute("valueUpdate",!!this._opts.fromValue),this._toInstance.setAttribute("valueUpdate",!!this._opts.toValue),this._setValueOnTimeInput()}_setValueOnTimeInput(){let e=new Date,t=this._opts.fromValue,a=this._opts.toValue;this._fromInstance.setTime(t?new Date(e.setHours(t.getHours(),t.getMinutes(),0,0)):void 0),this._toInstance.setTime(a?new Date(e.setHours(a.getHours(),a.getMinutes(),0,0)):void 0)}_OKClickHandler(e){this._valueUpdate=!0,this._unsetDates();let t=this._opts,a=t.fromValue,o=t.toValue,n=this._fromInstance.getAttribute("selectedTime"),i=this._toInstance.getAttribute("selectedTime");a&&a.setHours(n.getHours(),n.getMinutes()),o&&o.setHours(i.getHours(),i.getMinutes()),this._doNotDispatchSuperEvent=!0,super._OKClickHandler(...arguments),this._doNotDispatchSuperEvent=!1,this._dispatchEvent("change",e,this._getSelectedValue())}_dispatchEvent(e){if(!this._doNotDispatchSuperEvent&&"change"===e||"change"!==e)return this._event="z"+e,super._dispatchEvent(...arguments)}_isEqual(t,a){return t&&a&&e.Date.areDatesEqual(t,a)}_setMinMaxLimits(){let e=this._fromValue,t=this._toValue,a=this._fromInstance,o=this._toInstance;this._isEqual(e,t)?(o.setAttribute("minTime",a.getAttribute("selectedTime")),a.setAttribute("maxTime",o.getAttribute("selectedTime"))):(a.setAttribute("maxTime",null),o.setAttribute("minTime",null))}_commitValues(e){if(this._fromValue&&this._toValue){let a=t(e.target).closest(".zdatetimepicker__list").index();this._setMinMaxLimits(this.element.find(".zdatetimepicker__"+(0===a?"start":"end")+"time"),this["_"+(0===a?"from":"to")+"Instance"].getAttribute("selectedTime"))}super._commitValues(...arguments)}_timeChangeHandler(e,t){let a=t||e.detail,o=this._opts;this._valueUpdate=o.immediateCommit,a.fromUI&&(this._fromInstance&&this._toInstance&&o.immediateCommit&&this._OKClickHandler(e&&e.originalEvent,!0),this._setMinMaxLimits(a.element,a.selectedTime))}_getValueObj(t,a){let o=super._getValueObj(t,a);return["DateString","TimeString"].forEach(n=>{let i;i=o[a+n]=e.Date.formatDate(t,"DateString"===n?this._dateFormat:this._timeFormat),o["translated"+a[0].toUpperCase()+a.slice(1)+n]=this._translateEToA(i)}),o}_destroy(){this._fromInstance.destroy(),this._toInstance.destroy(),this._fromInstance=this._toInstance=void 0,super._destroy()}_clearClickHandler(e,t,a){this._fromInstance.clearTime(),this._fromInstance.refresh(),this._toInstance.clearTime(),this._toInstance.refresh(),super._clearClickHandler(...arguments)}_setAttribute(e,t){let a=this._opts,o=this._fromInstance,n=this._toInstance;a[e]=t,"fromValue"===e||"toValue"===e?(this._initialFrom=a.fromValue,this._initialTo=a.toValue,("fromValue"===e?o:n).setAttribute("valueUpdate",!0),super._setAttribute(...arguments),this._assignTime(),this._setValueOnTimeInput(),this._domChanged=!0):-1<["timeFieldType","timeLabelType","timeLabel","timeMultipleSelectBoxType","minTime","maxTime","hourStep","minuteStep","disabledTimeList","fixedTimeOptions"].indexOf(e)?(this._buildTimeBar(),o.setAttribute(e,t),n.setAttribute(e,t)):(super._setAttribute(...arguments),this._assignTime(),this._buildTimeBar()),"rtl"===e&&(o&&o.setAttribute(...arguments),n&&n.setAttribute(...arguments))}}e.registerComponent("ZDateTimeRangePicker",e.ZDateRangePicker,ZDateTimeRangePicker)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdatetimerangepicker.Templates,a=e.zdaterangepicker.Templates,o=e.zdatepicker.Templates,n=e.createTimeInput,i=e.Templates.Utilities;t.WCChildren=e=>ZT.html`${e.isSeparate?ZT.html`${a.WCChildren(e)} ${t.WCTimeBar(e)}`:ZT.html`${o.WCChildren(e)} ${t.WCTimeBar(e)}`} ${e.cBar&&i.WCCommandBar(e.cBar)}`,t.WCTimeBar=e=>ZT.html`<div class=${e.timeBarCls}> ${n(e.fromTimeProps)} ${n(e.toTimeProps)} </div>`}(ZComponents),function(e){let t=e.zdatetimerangepicker.Templates,a=e.zdaterangepicker.Templates,o=e.zdatepicker.Templates,n=e.createTimeInput,i=e.Templates.Utilities;t.children=e=>ZT.html`${e.isSeparate?ZT.html`${a.children(e)} ${t.timeBar(e)}`:ZT.html`${o.children(e)} ${t.timeBar(e)}`} ${e.cBar&&i.commandBar(e.cBar)}`,t.timeBar=e=>ZT.html`<div class=${e.timeBarCls}> ${n(e.fromTimeProps)} ${n(e.toTimeProps)} </div>`}(ZComponents),function(e,t){e.$document.on("scroll.zpopover",t=>{e.openedPopover&&e.openedPopover._opts.closeOnScroll&&e.openedPopover.element.is(":visible")&&e.openedPopover.close(t)});class ZPopover extends e.CoreComponent{get name(){return"zpopover"}get attrs(){return{type:"modeless",title:"",displayType:"callout",position:"auto",closeButton:!1,closeOnBodyClick:!0,closeOnEsc:!0,closeOnScroll:!1,toggle:!1,positionAlterable:!0,removeOnClose:!1,detachable:!1,height:null,width:null,closeSVGIconId:null,closeIconClass:null,progressIndicatorIconClass:null,progressIndicatorSVGIconId:null,wrapAroundKeyboardNavigation:!1,forElement:null,content:null,appendTo:null,isContentHTMLEncoded:!1,isTitleHTMLEncoded:!1}}get props(){return{closeIconClassName:null,progressIndicatorIconClassName:null,innerHTML:null,margin:null,offset:null,delay:null,animation:null,messages:{close:"Close"}}}get EVENTS(){return["beforeopen","open","beforeclose","close","dragstart","drag","dragend","beforefocus","contentload"]}_init(e,a){let o=a.content||"",n="callout"===a.displayType;this._forElement=t(a.forElement),e.attr({"aria-haspopup":"true","aria-expanded":"false",tabindex:e.attr("tabindex")||0}),/^(top|bottom|right|left|top-left|top-right|bottom-left|bottom-right|auto|right-bottom|right-top|left-bottom|left-top|at-cursor)$/.test(a.position)||(a.position="bottom"),this._correctPosition();let i=this._data;i.closeButton=a.closeButton||"modal"===a.type,(a.title||this.isCE||i.closeButton||a.detachable)&&this._setTitleBar(),this._data.callout=n,this._isAjaxContent=a.progressIndicator=o.URL,i.closeButton&&this._handleClose(),this._setContent(o);let r=t(a.appendTo);r.length&&e.appendTo(r)}_setContent(t,a){let o=this._opts,n=this._data,i=this.element;if(!this._isAjaxContent&&t&&(o.content=o.isContentHTMLEncoded?t:e.encodeHTML(t)),!a){let e=this.isCE?i.find("z-pocontent").addClass("zpopover__content"):i[0].childNodes;e.length&&(this.isCE?n.contentEle=e[0]:n.content=[...e])}(n.content||n.contentEle)&&!a||(n.content=o.content),n.isContentString="string"==typeof n.content}_postRender(e,t){t.detachable&&this._handleDrag(!0);let a=e.find.bind(e);this._titleBar=a(".zpopover__title"),this._contentEle=a(".zpopover__content"),this._data.className+=" zpopover","modal"===t.type&&this._createOverlay(),this._data.closeButton&&this._handleClose(null,!0)}_bindEvents(){this._opts.closeOnEsc&&this._addEvents({keydown:"keydown"})}_keydownHandler(t){t.keyCode===e.keyCode.ESCAPE?(this.close(t),t.stopPropagation()):this._opts.wrapAroundKeyboardNavigation&&t.keyCode===e.keyCode.TAB&&t.stopPropagation()}open(a){let o=this._opts,n=this.element,i=this._data;if(a=a||{},o.toggle&&"true"===n.attr("aria-expanded"))return void this.close();let r=a.forElement||this._opts.forElement;if(r&&(this._forElement=t(r)),this._overlay&&(this._overlay.show(),this._forElement.addClass("zpopover--target")),e.openedPopover=this,o.detachable&&(i.closeButton=o.closeButton||"modal"===o.type,i.callout="callout"===o.displayType,this._setTitleBar(!0)),"modal"!==o.type&&e.bindDocumentEvents&&o.closeOnBodyClick&&e.bindDocumentEvents({element:n,forElement:this._forElement,ctype:this.name,closeMethodName:"close",closeEvent:"close"}),this._dispatchEvent("beforeopen",{},{forElement:this._forElement})){let t=o.delay;t?(t.openAfter&&(clearTimeout(this._openTimer),this._openTimer=setTimeout(()=>this._preprocessEle(a),t.openAfter)),t.closeAfter&&this._autoCloseEle()):(this._preprocessEle(a),e.animationHandler({action:"open",animation:o.animation,callback:this._openHandler.bind(this),element:n,ctype:this.name}))}this._isAjaxContent&&this._makeRequest()}_autoCloseEle(){let e=this._opts.delay,t=e.openAfter?e.openAfter+e.closeAfter:e.closeAfter;clearTimeout(this._closeTimer),this._closeTimer=setTimeout(()=>this.close(),t)}_preprocessEle(e){this._display().attr("aria-expanded",!0),this._fixDimensions(),this._positionEle(e)}_openHandler(){this._opts.animation||this._display().attr("aria-expanded","true"),this._opts.wrapAroundKeyboardNavigation&&e.FocusHandler?e.FocusHandler.init(this.element,".zpopover__close"):this._dispatchEvent("beforefocus",{},this.element)&&(clearTimeout(this._openTimeout),this._openTimeout=setTimeout(()=>this.element.focus(),100)),this._dispatchEvent("open",{},{forElement:this._forElement})}_fixDimensions(){let e=this._opts;e.width&&this.element.css("width",e.width+"px");let t=this._contentEle,a=this.element,o=a.find(".zpopover__title"),n;return e.height&&t&&(n=e.height-(o.length?o.outerHeight(!0):0)-(parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")))-(parseInt(a.css("border-top-width"))+parseInt(a.css("border-bottom-width"))),t.height(n)),n}close(t){this.element.is(":visible")&&this._dispatchEvent("beforeclose",t)&&(this._opts.delay?this._closeHandler():e.animationHandler({action:"close",callback:this._closeHandler.bind(this),element:this.element,animation:this._opts.animation,ctype:this.name}))}_closeHandler(){e.openedPopover=void 0,this._display(!0).attr("aria-expanded","false"),this._overlay&&(this._overlay.hide(),this._forElement.removeClass("zpopover--target")),this._dispatchEvent("close")}_arrowCallback(e,t){this.element.removeClass("zpopover--top zpopover--bottom zpopover--left zpopover--right").addClass("zpopover--"+t)}_positionEle(){let e=this._opts;e.offset?this.element.css(e.offset):"page-center"!==e.position&&this._setPosition(...arguments)}_correctPosition(){let e=this._opts.displayType,t=this._opts.position;this._position="box"===e?-1<t.indexOf("-")?t:"top"===t||"bottom"===t?t+"-left":"auto"===t?"bottom-left":t:"auto"===t?"bottom":t}repositionPopover(){let e=this.element;e&&(!e.is(":visible")&&this._display(),this._positionEle())}_destroy(){clearTimeout(this._openTimeout),clearTimeout(this._openTimer),clearTimeout(this._closeTimer),this._titleBar=this._forElement=this._contentEle=null,this._overlay&&this._overlay.remove(),this._overlay=void 0}_makeRequest(){let a=this._opts.content||{},o=this,n=this._tmpOpts;n.progressIndicator=e._getIconInfo({defaultIconClassName:"zpopover__icon h-loading",iconClassName:n.progressIndicatorIconClassName,SVGIconId:n.progressIndicatorSVGIconId,defaultSVGIconId:"zc__svg--loader zpopover__svg zpopover__loader zeffects--rotate"}),this._updData("zpopover--loader","container"),t.ajax({dataType:a.dataType,type:a.type,URL:a.URL,success(e){o._ajaxComplete(!0,e),o._dispatchEvent("contentload")},error(){o._ajaxComplete(!1)}})}_ajaxComplete(a,o){let n=this._opts.content,i=a?"success":"fail";this._content="function"==typeof n[i]?n[i](o):o,this._contentEle.append(this._opts.isContentHTMLEncoded?this._content:e.encodeHTML(this._content)),t("#zpopover--loader").remove(),this._fixDimensions(),this._positionEle()}_handleClose(e=!0,t){let a=this.element.find(".zpopover__close");if(e){let e=this._opts;this._data.closeButton={title:e.closeButtonLabel||this._getI18NText("close"),className:"zpopover__close",defaultIconClassName:"zpopover__icon",iconClassName:e.closeIconClassName,SVGIconId:e.closeSVGIconId,templateRender:!0,mainElement:a[0],defaultSVGIconId:"zc__svg--close zbutton__svg",customAttributes:{tabindex:-1}}}t&&a.on("click."+this.name,e=>{this.close(e)})}_handleDrag(t){let a=this.element,o=this._opts,n=this.element.find(".zpopover__title");t?!a.data("zdraggable")&&e.draggable(a,{handle:n,container:"window",cursor:"default",start:this._onDragStart.bind(this),drag:this._onDrag.bind(this),end:this._onDragEnd.bind(this)}):(e.draggable(a).destroy(),n.removeClass(this._data.headingClassName),this._dragged=this._dragStart=this._dragEnd=!1),this._data.closeButton=this._dragEnd||o.closeButton||"modal"===o.type,this._data.callout="callout"===o.displayType}_onDragEnd(){this._dragEnd=!0,this._dragStart&&this._dragged&&(this._data.headingClassName="",this._setTitleBar(this._data.closeButton=!0),e.unBindDocumentEvents(this.element)),this._fixDimensions(),this._dragged&&(this._dragged=void 0,this._dispatchEvent("dragend"))}_onDrag(){this._dragged=!0,this._dispatchEvent("drag")}_onDragStart(){this._data.closeButton=!!((this._opts.closeButton||"modal"===this._opts.type||this._dragEnd)&&!this._data.headingClassName)&&this._data.closeButton,this._dragEnd=!1,this._data.callout=!1,this._render(),this._dragStart=!0,this._dispatchEvent("dragstart")}_createOverlay(){this._overlay=void 0,t("body").find(".zpopover--overley").remove(),"modal"===this._opts.type&&(this._overlay=t("<div class='zpopover--overley' tabindex='1'></div>").appendTo("body").hide(),this._addEvents({keydown:"overlay"}))}_overlayHandler(t){t.keyCode===e.keyCode.TAB&&t.preventDefault()}_getPosition(t){let a=this,o=this.element.find(".zpopover__pointer"),n;if(n=!!o.length&&o,e.Position)return e.Position.get(t?t.event||t.forElement||this._forElement:this._forElement,this.element,{rtl:this._opts.rtl,direction:this._position,positionAlterable:this._opts.positionAlterable,arrow:{element:n,callback:this._arrowCallback.bind(a),margin:{left:-1,top:-1}}})}_setPosition(e){let t=this._opts,a=this.element.find(".zpopover__pointer"),o=this._getPosition(e),n=t.margin;o&&(n&&(o.elementPosition=this._getCorrectedPosition(o.elementPosition),a.length&&(o.arrowPosition=this._getCorrectedPosition(o.arrowPosition,!0))),this.element.css(o.elementPosition),a.length&&a.css(o.arrowPosition))}_getCorrectedPosition(e,t){let a=this._opts.margin,o=t?-1:1,n,i;if("number"==typeof a)n=e.top+o*a,i=e.left+o*a;else{let t=a.left;i=t?e.left+o*t*(this._opts.rtl?-1:1):e.left,n=a.top?e.top+o*a.top:e.top}return e.top=0>n?e.top:n,e.left=0>i?e.left:i,e}_setAttribute(a,o){let n=this.element,i=this._opts,r=this._data;if(i[a]=o,"height"===a)n.height(i.height),this._fixDimensions();else if("width"===a)n.width(i.width);else if("position"===a)this._correctPosition(),n.is(":visible")&&this._positionEle();else if("closeSVGIconId"===a||"closeIconClassName"===a)this._handleClose(),this._setBtnValue(this._data.closeButton,this._data.closeButton);else if("content"===a){if(this._setContent(o,!0),this.isCE&&n.find("z-pocontent").length)return void n.find("z-pocontent").html(this._data.content);this._isAjaxContent="object"==typeof o&&!(o instanceof t),this._domChanged=!0}else if(-1<["title","closeButton","type","detachable","isTitleHTMLEncoded"].indexOf(a)){if("title"===a&&this.isCE&&n.find("z-potitle").length)return;("closeButton"===a||"type"===a)&&(this._data.closeButton=i.closeButton||"modal"===o,"type"===a&&this._createOverlay()),"detachable"===a&&this._handleDrag(o),this._setTitleBar(!0)}else if("displayType"===a)this._correctPosition(),r.callout="callout"===o,this._domChanged=!0;else if("margin"===a&&n.is(":visible")){let e=n[0],t=this._getCorrectedPosition({left:+e.offsetLeft,top:+e.offsetTop});n.css(t);let a=this.element.find(".zpopover__pointer");a.length&&(t=this._getCorrectedPosition({left:+a[0].offsetLeft,top:+a[0].offsetTop},!0),a.css(t))}else"closeOnEsc"===a?o?this._bindEvents():n.off("keydown."+this.name):"forElement"===a?this._forElement=t(o):"closeOnBodyClick"===a?o||e.unBindDocumentEvents(n):"offset"===a&&this.element.css(o)}_setTitleBar(a){let o=this._opts,n=this._data;n.closeButton&&this._handleClose();let i=o.title||"";if(this.isCE){let e=this.element.find("z-potitle");n.titleEle=e.length?e.addClass("zpopover__text")[0]:void 0}n.titleEle||(i=i instanceof t||"#"===i[0]||"."===i[0]?t(i)[0]:this._opts.isTitleHTMLEncoded?i:e.encodeHTML(i)),"string"==typeof i?n.title=i:n.titleEle=i;let r=!!n.titleEle||!!i,s="";r||n.closeButton||!o.detachable||(r=!1,s="zpopover__draggablearea"),n.titleBar=r||n.closeButton||o.detachable,n.headingClassName=s,a&&(this._render(),this._titleBar=this.element.find(".zpopover__title"),this._handleDrag&&this._handleDrag(o.detachable),n.closeButton&&this._handleClose(!0,!0))}}e.registerComponent("ZPopover",ZPopover)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zpopover.Templates;t.WCChildren=t=>ZT.html`${t.titleBar&&ZT.html`<div id="zpopover__title" class="zpopover__title ${t.headingClassName}"> ${t.titleEle||t.title&&ZT.html`<z-potitle role="heading" class="zpopover__text">${ZT.customHTML(t.title)}</z-potitle>`} ${t.closeButton&&ZT.html`<div class="zpopover__action">${e.createButton(t.closeButton)}</div>`} </div>`} ${t.contentEle||ZT.html`<z-pocontent class="zpopover__content"> ${t.progressIndicator?ZT.html`<div class="zpopover__loading" id="zpopover--loader"> <i class="zpopover__icon h-loading"> <svg class="zpopover__svg zpopover__loader zeffects--rotate"> <circle class="circle__track"></circle> <circle class="circle__load"></circle> </svg> </i> </div>`:t.isContentString?ZT.customHTML(t.content):t.content} </z-pocontent>`} ${t.callout&&ZT.html`<div class="zpopover__pointer"></div>`}`}(ZComponents),function(e){let t=e.zpopover.Templates;t.children=t=>ZT.html`${t.titleBar&&ZT.html`<div id="zpopover__title" class="zpopover__title ${t.headingClassName}"> ${t.titleEle||t.title&&ZT.html`<div role="heading" class="zpopover__text">${ZT.customHTML(t.title)}</div>`} ${t.closeButton&&ZT.html`<div class="zpopover__action">${e.createButton(t.closeButton)}</div>`} </div>`} ${t.contentEle||ZT.html`<div class="zpopover__content"> ${t.progressIndicator?ZT.html`<div class="zpopover__loading" id="zpopover--loader"> <i class="zpopover__icon h-loading"> <svg class="zpopover__svg zpopover__loader zeffects--rotate"> <circle class="circle__track"></circle> <circle class="circle__load"></circle> </svg> </i> </div>`:t.isContentString?ZT.customHTML(t.content):t.content} </div>`} ${t.callout&&ZT.html`<div class="zpopover__pointer"></div>`}`}(ZComponents),function(e,t){class ZPanel extends e.CoreComponent{get name(){return"zpanel"}get attrs(){return{heading:null,content:null,collapseIconClass:null,collapseSVGIconId:null,collapseText:null,expandIconClass:null,expandSVGIconId:null,expandText:null,isHeadingHTMLEncoded:!1,isContentHTMLEncoded:!1,zclassName:"",iconPosition:"left",sortable:!1,activeClass:"is-selected",isActive:!1,disabled:!1,expandIconLabel:null,collapseIconLabel:null,display:"block"}}get props(){return{collapseIconClassName:null,expandIconClassName:null,collapsedPanelsIndex:[],animation:null,customAttributes:{},labels:{expandIcon:"Collapse",collapseIcon:"Expand"}}}get EVENTS(){return["beforeexpand","beforecollapse","expand","collapse"]}_init(t,a){a.toggleButton||(a.toggleOnHeaderClick=!0);let o=t[0].tagName;if("Z-ACCITEM"===o||"Z-COLLAPSIBLEPANEL"===o){let o=t.parent(),n=e._getOpts(o);if(!n.length&&a.isCE){let t=o[0].attributes,a;for(let o=0;o<t.length;o++)a=t[o],n[e._getCamelCaseStr(a.name)]=a.value}for(let e in a)n[e]&&(a[e]=n[e])}this._buildPanel(t,a)}_postRender(e,t){let a=this._CLASSES,o="",n=a.panel;"right"===t.iconPosition&&(o+=" "+a.buttonPosition),t.showToggleButtonOnHover&&(o+=" "+a.toggleButtonOnHover),!t.isActive||t.disabled||this._parent||(n+=" is-selected"),""!==o&&this._getHeader().addClass(o),this._data.className+=" "+n;let i=t.contentHeight;i&&(this._getContent()[0].style.height=i+("string"==typeof i?"":"px"))}_bindEvents(){this._handleEvents(this._opts.expandOn),this._opts.disabled?this._disable(void 0,void 0,!0):!this._opts.isActive&&this.collapsePanel({},!1,void 0,!0)}_buildPanel(e,t){this._createContent(e,t),this._createHeader(e,t),"none"===t.display&&this._display(!0,e),t.sortable&&this._setSortable()}_createHeader(a,o){let n=a.children(this._SELECTORS.header);if(o.isCE||1<n.length||n[0].tagName.indexOf("HEADING"))o.headingDOM=n[0],t(n[0]).addClass(this._CLASSES.heading);else{let t=o.heading||"";o.heading=o.isHeadingHTMLEncoded?t:e.encodeHTML(t)}}_getHeader(){return this.element.children("."+this._CLASSES.header)}_getContent(){return this.element.children("."+this._CLASSES.content)}_getToggleBtn(){return this._getHeader().children("."+this._CLASSES.togglebutton)}_createContent(a,o){let n=a.children(this._SELECTORS.content);if(o.isCE||(n=1<n.length?t(n[1]):n),n&&n.length)n.addClass(this._CLASSES.content),o.contentDOM=n[0];else{let a=o.content||"";"object"==typeof a?this._remoteContent():(n=0===a.indexOf("#")?t(a).html():a,o.content=o.isContentHTMLEncoded?n:e.encodeHTML(n))}}_disable(e,t,a){let o=this.element,n=this._opts.disabled;n&&this.collapsePanel({},!a,void 0,a),super._disable(n,o),this._handleIcon&&this._handleIcon(!0)}_openHandler(e,t,a,o){e.attr("aria-expanded","expand"===t),this._opts.contentHeight&&this._setHeight(),o||this._dispatchEvent(t,a,{panel:e})}expandPanel(e,t,a){this._open("expand",e,t,a)}collapsePanel(e,t,a,o){this._open("collapse",e,t,a,o)}_open(t,a,o,n,i){let r=this.element,s=this._opts,l=r.hasClass(s.activeClass),d=l||"collapse"===t?"expand":"collapse";if(null===t&&(t=l?"collapse":"expand"),(o||d!==t)&&(o||this._dispatchEvent("before"+t,a,{panel:r}))){let o=r.children("."+this._CLASSES.content);o.finish?o.finish():o.stop(!0,!0),l="expand"===t,e.animationHandler&&s.animation?this._animationHandler(o,l,r,t,a):i&&!l?(o.hide(),this._openHandler(r,t,a)):(o[l?"slideDown":"slideUp"](300),setTimeout(()=>{this.element&&this._openHandler(r,t,a)},300)),this._updateClass(this._opts.activeClass,!l),s.isActive=l,this._handleIcon&&this._handleIcon(!0)}}_handleEvents(t){let a="."+this.name,o=this.element,n="is-disabled",i=this._getHeader(),r=this._opts.toggleOnHeaderClick,s=this._getToggleBtn(null,i);this._updateClass(this._CLASSES.toggleableheader,!r,i),i.attr("tabindex",r?0:-1),s.attr("tabindex",r?-1:0),s.off(a),i.off(a);let l=r?i:s;"mouseover"===t?l.on("mouseover"+a,e=>{o.hasClass(n)||(window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>{window.clearTimeout(this._timer),this._open(null,e)},this._opts.mouseOverDelay))}).on("mouseleave"+a,()=>{!o.hasClass(n)&&this._timer&&window.clearTimeout(this._timer)}):l.on("click"+a+" keydown"+a,t=>{let a=e.keyCode,i=t.keyCode,r=i===a.UP,s=i===a.DOWN,l=i===a.ENTER||i===a.SPACE,d="";"click"===t.type||l?d=null:i===a.RIGHT||r?d="expand":(i===a.LEFT||s)&&(d="collapse"),""===d||o.hasClass(n)||(this._isGroup&&this._goto?this._goto(d,t):this._open(d,t)),l&&(t.stopPropagation(),t.preventDefault())}),this._handleFocus(l)}_animationHandler(t,a,o,n,i){e.animationHandler({default:"slide",action:a?"show":"hide",animation:this._opts.animation,callback:this._openHandler.bind(this,o,n,i),element:t,ctype:this.name})}_destroy(e){let t=this.element,a=this._CLASSES,o=t.children("."+a.content);o.finish?o.finish():o.stop(!0,!0),t.removeClass(a.panel+" is-selected").removeAttr("aria-expanded aria-disabled"),this._getHeader().removeClass(a.header+" "+a.toggleableheader+" "+a.buttonPosition),o.removeClass(a.content)}enable(){this._opts.disabled=!1,this._disable()}disable(e){this._opts.disabled=e||!0,this._disable()}_remoteContent(t){if(!options.lazyLoadContent){contentObj.cache=contentObj.cache?contentObj.cache:this._opts.cacheContent,contentObj.sourceURL=contentObj.url;let t=this;e.AJAX.transport(contentObj,function(e){options.content=e,t._render()})}}_setAttribute(e,t){this._handleAttribute(this.element,e,t),this._opts[e]=t}_handleAttribute(e,t,a){let o=this._CLASSES,n=this._opts;return n[t]=a,0<=["collapseIconClassName","collapseIconClass","expandIconClassName","expandIconClass","collapseSVGIconId","expandSVGIconId","expandText","collapseText","toggleButton"].indexOf(t)?(this._handleIcon(!0),n.expandText&&n.collapseText&&this._setAttribute("iconPosition","right"),"toggleButton"===t&&!0!==a&&this._setAttribute("toggleOnHeaderClick",!0)):"iconPosition"===t?(n.toggleButtonPosition=a,this._updateClass(o.buttonPosition,"left"===a,this._getHeader())):"showToggleButtonOnHover"===t?(this._setAttribute("iconPosition",a?"right":n.toggleButtonPosition),this._updateClass(o.toggleButtonOnHover,!a,this._getHeader())):"toggleOnHeaderClick"===t||"expandOn"===t?this._handleEvents(a):"contentHeight"===t?this._setHeight():"sortable"===t?this._setSortable(!0):"display"===t?this._display("none"===a,e):"isActive"===t?a?this.expandPanel():this.collapsePanel():"heading"===t?this._createHeader(e,n):"content"===t?this._createContent(e,n):void 0,n}_setSortable(t){let a=this._opts,o;if(a.sortable){let t=this._CLASSES.grippy,n=a.sortableIconClass||a.sortableIconClassName;o=e._getIconInfo(n,a.sortableSVGIconId,"zc__svg--grippy",t);let i=this.element.find("."+t);i.length&&(o.mainElement=i)}this._data.sortable=o,t&&this._render()}}e.registerComponent("ZPanel",ZPanel)}(ZComponents,ZComponents.DOMUtil),function(e){class ZCollapsiblePanel extends e.ZPanel{get name(){return"zcollapsiblepanel"}get attrs(){return{toggleButton:!0,toggleButtonPosition:"left",toggleOn:"click",isActive:!0,toggleOnHeaderClick:!1,showToggleButtonOnHover:!1,mouseOverDelay:200}}get EVENTS(){return["beforepanelexpand","beforepanelcollapse","panelexpand","panelcollapse"]}get CLASSES(){return{panel:"zcollapsiblepanel",header:"zcollapsiblepanel__header",toggleableheader:"zcollapsiblepanel--toggleableheader",heading:"zcollapsiblepanel__heading",content:"zcollapsiblepanel__content",togglebutton:"zcollapsiblepanel__togglebutton",toggleicon:"zcollapsiblepanel__icon",toggleButtonOnHover:"zcollapsiblepanel__togglebutton--onhover",togglesvg:"zcollapsiblepanel__toggleicon",grippy:"zcollapsiblepanel__grippy",buttonPosition:"zcollapsiblepanel--buttonright"}}get SELECTORS(){return{header:this.isCE?"z-cpheading":"div",content:this.isCE?"z-cpcontent":"div"}}_buildPanel(e,t){t.expandOn=t.toggleOn,t.iconPosition=t.toggleButtonPosition,(t.showToggleButtonOnHover||t.collapseText&&t.expandText)&&(t.iconPosition="right"),super._buildPanel(e,t),t.toggleButton&&this._handleIcon()}_dispatchEvent(e,t,a){return e="panel"+e,super._dispatchEvent(e.replace("panelbefore","beforepanel"),t,a)}_setAttribute(e,t){let a=e;"toggleOn"===e&&(a="expandOn"),"toggleButtonPosition"===e&&(a="iconPosition"),this._handleAttribute(this.element,a,t),this._opts[e]=t}_handleIcon(t){let a=this._opts,o="",n=this._getToggleBtn(),i=a.toggleOnHeaderClick?-1:0,r;if(!1!==a.toggleButton){let e=this._CLASSES,t=null,n=e.togglebutton,s=a.collapseText,l=a.expandText,d=a.isActive,c=d?"expand":"collapse";o=a[c+"IconLabel"]||this._getI18NText(c+"Icon"),r={templateRender:!0,disabled:a.disabled,isCE:a.isCE,defaultIconClassName:e.toggleicon,iconClassName:a[c+"IconClass"]||a[c+"IconClassName"],defaultSVGIconId:"zc__svg--arrow "+e.togglesvg,SVGIconId:a[c+"SVGIconId"],customAttributes:{tabindex:i}},l&&s?(n+=" zcollapsiblepanel__textbutton",t=d?l:s,r.defaultIconClassName=null,r.iconClassName=null,r.SVGIconId=null,r.defaultSVGIconId=null):r.title=o,r.text=t,r.className=n}this._data.toggleButton=r,t&&(r&&n.length?(e.button(n[0]).setAttributes(r),n.attr("title",o),n.attr("tabindex",i)):this._render())}}e.registerComponent("ZCollapsiblePanel",e.ZPanel,ZCollapsiblePanel)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcollapsiblepanel.Templates;t.WCChildren=t=>ZT.html`<div class="zcollapsiblepanel__header"> ${t.toggleButton&&e.createButton(t.toggleButton)} ${t.headingDOM||ZT.html`<z-cpheading class="zcollapsiblepanel__heading">${t.heading}</z-cpheading>`} </div> ${t.contentDOM||ZT.html`<z-cpcontent class="zcollapsiblepanel__content">${t.content}</z-cpcontent>`}`}(ZComponents),function(e){let t=e.zcollapsiblepanel.Templates;t.children=t=>ZT.html`<div class="zcollapsiblepanel__header"> ${t.toggleButton&&e.createButton(t.toggleButton)} ${t.headingDOM||ZT.html`<div class="zcollapsiblepanel__heading">${t.heading}</div>`} </div> ${t.contentDOM||ZT.html`<div class="zcollapsiblepanel__content">${t.content}</div>`}`}(ZComponents),function(e,t){e.createCollapsiblePanels=function(t={}){let a=t.panels,o=a&&a.length,n=e.createElement,r=t.isCE,s=n(t,"collapsiblepanels",!0),l;for(let e=0;e<o;e++)l=a[e],l.isCE=r,s.append(n(l,"collapsiblepanel",!0));return r||e.collapsiblepanels(s,t),s};class ZCollapsiblePanels extends e.CoreComponent{get name(){return"zcollapsiblepanels"}get attrs(){return{toggleButton:!0,toggleButtonPosition:"left",toggleOn:"click",toggleOnHeaderClick:!1,showToggleButtonOnHover:!1,collapseIconClass:null,collapseSVGIconId:null,collapseText:null,expandIconClass:null,expandSVGIconId:null,expandText:null,zclassName:"",sortable:!1,activeClass:"is-selected",disabled:!1,mouseOverDelay:200,expandIconLabel:null,collapseIconLabel:null,display:"block",collapsedPanelsId:null,collapsedPanelsIndex:null}}get props(){return{collapseIconClassName:null,expandIconClassName:null,collapsedPanelsIndex:[],animation:"slide",customAttributes:{},labels:{expandIcon:"Collapse",collapseIcon:"Expand"},panels:[]}}get SELECTORS(){return{panel:this.isCE?"z-collapsiblepanel":"div"}}_init(e,t){t.toggleButton||(t.toggleOnHeaderClick=!0),t.showToggleButtonOnHover&&(t.toggleButtonPosition="right")}_render(){let a=this._opts,o=this.element.children(this._SELECTORS.panel),n=a.collapsedPanelsId||[],r=a.collapsedPanelsIndex||[];if(!a.isCE)for(let s=0;s<o.length;s++){let i=t(o[s]),l=t.extend({},a,e._getOpts(i)),d=!l.disabled&&l.isActive;(0<n.indexOf("#"+i.id)||0<r.indexOf(t(i).index()))&&(d=!1),l.isActive=d||!0,e.collapsiblepanel(i,l)}this.element.attr("aria-multiselectable",!0),this._panels=o}_postRender(e,t){this._data.className+=" zcollapsiblepanel--group ",t.disabled&&this._disable(t.disabled)}_handleOpen(t,a,o){let n=o?"expand":"collapse";if(t="string"==typeof t?[t]:t,t)for(let o=0;o<t.length;o++)e.collapsiblepanel(t[o])[n+"Panel"](a)}expandPanel(e,t){this._handleOpen(this._getPanel(e),t,!0)}collapsePanel(e,t){this._handleOpen(this._getPanel(e),t)}collapseAllPanels(e){this._handleOpen(this._panels,e)}expandAllPanels(e){this._handleOpen(this._panels,e,!0)}_getByIndex(e){let a=this._getPanels(e);return a=a.map((e,a)=>t(a).index()),a}getCollapsedPanels(){return this._getPanels()}getCollapsedPanelsIndex(){return this._getByIndex()}getExpandedPanels(){return this._getPanels(!0)}getExpandedPanelsIndex(){return this._getByIndex(!0)}_getPanels(e){let t=this._CLASSES,a="."+t.panel,o="."+t.activeClass;return a+=e?"."+o:":not(."+o+")",this._getPanel(a)}_getPanel(e){let t=e;return"number"==typeof e&&(t=this._SELECTORS.panel+":eq("+e+")"),this.element.children(t)}addPanel(e){if(e instanceof Array){let t=e.length;for(let a=0;a<t;a++)this._addPanel(e[a])}else this._addPanel(e);this._panels=this.element.children(this._CLASSES.panel)}_addPanel(a){if(itemObject instanceof t||1===itemObject.nodeType)e.collapsiblepanel(itemObject);else{let a=this.element,o=this._panels.length,n=parseInt(itemObject.index);o&&(0===n||n<o)&&(itemObject.insertBefore=!0,a=t(this._panels[n+1])),itemObject.appendTo=a,e.createCollapsiblePanel(accordionItem,callback)}return callback&&callback(accordionItem,itemObject),accordionItem}removePanel(e){if(e instanceof Array){let t=e.length;for(let a=0;a<t;a++)this._removePanel(e[a])}else this._removePanel(e);this._panels=this.element.children(this._CLASSES.panel)}_removePanel(t){"number"==typeof t?t=this._panels[t-1]:"string"==typeof t&&(t=this.element.children("#"+t.replace("#",""))),e.collapsiblepanel(t).destroy(),t.remove()}_destroy(a){let o=this._panels,n=o.length;if(!this.isCE)for(let a=0;a<n;a++)e.collapsiblepanel(t(o[a])).destroy();this._panels=void 0,this.element.removeAttr("aria-multiselectable").removeClass("zcollapsiblepanel--group")}enablePanel(e){this._disablePanel(e,!1)}_disablePanel(t,a){e.collapsiblepanel(this._getPanel(t)).disable(a)}disablePanel(e){this._disablePanel(e,!0)}_handlePanel(a,o,n){a=t(a),a.length&&e.collapsiblepanel(a).setAttribute(o,n)}_setAttribute(e,t){let a=this._panels,o=a.length,n=this._opts,r;if("expandedPanelsIndex"===e||"expandedPanelsId"===e||"collapsedPanelsIndex"===e||"collapsedPanelsId"===e)this[-1===e.indexOf("collapsed")?"expandPanel":"collapsePanel"](this._getPanels(t));else if("rtl"===e)this._updateClass("zh-rtl",!t,this._panels);else if("zclassName"!==e)for(r=0;r<o;r++)this._handlePanel(a[r],e,t);n[e]=t,"toggleButton"!==e||t?("expandText"===e||"collapseText"===e)&&(n.iconPosition="right"):n.toggleOnHeaderClick=!0}setPanelAttributes(e,t,a){this._handlePanel(this._getPanel(e),t,a)}setPanelAttribute(e,t,a){this._handlePanel(this._getPanel(e),t,a)}}e.registerComponent("ZCollapsiblePanels",ZCollapsiblePanels)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcollapsiblepanels.Templates;t.WCChildren=t=>ZT.html`${t.panels&&t.panels.map(t=>ZT.html`${e.createCollapsiblePanel(t)}`)}`}(ZComponents),function(e){let t=e.zcollapsiblepanels.Templates;t.children=t=>ZT.html`${t.panels&&t.panels.map(t=>ZT.html`${e.createCollapsiblePanel(t)}`)}`}(ZComponents),function(e,t){class ZAccItem extends e.ZPanel{get name(){return"zaccitem"}get attrs(){return{headerContentType:"icon-heading",expandOn:"click",iconPosition:"left",mouseOverDelay:200}}get CLASSES(){return{panel:"zaccordionpanel",header:"zaccordionpanel__header",toggleableheader:"zaccordion--expandonhover",heading:"zaccordionpanel__heading",content:"zaccordionpanel__content",icon:"zaccordionpanel__icon",togglebutton:"zaccordionpanel__icon",grippy:"zaccordionpanel__grippy",buttonPosition:"zaccordion--iconright"}}get SELECTORS(){return{header:this.isCE?"z-accitemheading":"div",content:this.isCE?"z-accitemcontent":"div"}}_buildPanel(e,t){super._buildPanel(e,t),e.find("."+this._CLASSES.content).on("scroll."+this.name,e=>{e.stopPropagation()}),"heading"!==t.headerContentType&&this._handleIcon(),this._isGroup=!0,this._parent=e.parent()}_setHeight(){let e=this._CLASSES,t=this._opts.contentHeight,a=this._parent;if(t&&"auto"!==a.attr("height")){let t=this.element.children("."+e.content),o=a.children("."+e.panel),n=this._getHeader().outerHeight(!0),i=a.outerHeight()-3-n*o.length;t.innerHeight(i)}}_setAttribute(e,t){"headerContentType"===e?(this._opts[e]=t,this._handleIcon(!0)):this._handleAttribute(this.element,e,t)}_handleIcon(t){let a=this._opts,o;if("heading"!==a.headerContentType){let t=!!(a.isActive||this.element.hasClass(a.activeClass)),n=t?"expand":"collapse",i=this._CLASSES.icon,r=a[n+"IconClass"],s=a[n+"IconClassName"],l=a[n+"SVGIconId"];o=e._getIconInfo(r||s,l,"#zc__svg--arrow zaccordionpanel__toggleicon zh-arrowicon",i);let d=this.element.find("."+i);d.length&&(o.mainElement=d)}this._data.headingIcon=o,t&&this._render()}_goto(a,o,n=this.element){let i=e.keyCode,r=[i.UP,i.HOME,i.DOWN,i.END,i.ENTER,i.SPACE,i.RIGHT,i.LEFT].indexOf(o.keyCode);if(3<r||"click"===o.type)this._open(a,o);else if(-1<r){let e="."+this._CLASSES.panel,i=1>=r,s=o.altKey||o.ctrlKey||o.metaKey||1===r||3===r,l,d;if(s)l=this._parent.children(e+":not(.is-disabled)"+(i?":first":":last"));else if(d=n.index()+(i?-1:1),l=this._parent.children(e+":eq("+d+")"),l.length||(l=this._parent.children(e+":eq("+(i?this._parent.children(e).length:0)+")")),l.is(".is-disabled"))return this._goto(a,o,l);l&&l.length&&(t(l).children(".zaccordionpanel__header").focus(),o.stopPropagation(),o.preventDefault())}}}e.registerComponent("ZAccItem",e.ZPanel,ZAccItem)}(ZComponents,ZComponents.DOMUtil),function(e,t){e.createAccordion=function(e,a,o){if("object"==typeof e&&(a=e.panels,o=e,e=e.id),t(`#${e}`).data("zaccordion"))return t(`#${e}`);let n=0===t(`#${e}`).length?t("<ul></ul>"):t(`#${e}`),i=o&&o.appendTo?t(o.appendTo):t("body");return o.customAttributes&&n.attr(o.customAttributes),e&&n.attr("id",e),i.append(n),o.panels=a,n.zaccordion(o),n};class ZAccordion extends e.CoreComponent{get name(){return"zaccordion"}get attrs(){return{activePanelId:null,activePanelIndex:0,activeClass:"is-selected",iconPosition:"left",zclassName:"",collapseIconClass:null,collapseSVGIconId:null,expandIconClass:null,expandOn:"click",expandSVGIconId:null,headerContentType:"icon-heading",height:"auto",isContentHTMLEncoded:!1,isHeadingHTMLEncoded:!1,lazyLoadContent:!0,handleKeyboard:!0,panels:null,sortable:!1}}get props(){return{collapseIconClassName:null,expandIconClassName:null,animation:null}}get EVENTS(){return["beforepanelexpand","beforepanelcollapse","panelexpand","panelcollapse"]}get SELECTORS(){return{panel:this.isCE?"z-accitem":"div"}}_render(){let a=this._opts,o=0,n=this.element.children(this._SELECTORS.panel),r=a.activePanelId||"",s=+(a.activePanelIndex||0),l=n.length&&n||[],d,c,m,_,u;if(n.length||(n=a.panels),!a.isCE)for(_=0;_<n.length;_++)d=n[_],u=1===d.nodeType,c=t.extend({},a,u?e._getOpts(d):d),m=!c.disabled&&c.isActive,delete c.className,delete c.zclassName,u?e.accitem(t(d),c):l.push(this.addAccordionItem(c,void 0,!0)),(r&&d.id&&r===d.id||s===_||m)&&!c.disabled&&(o=_);this.element.addClass(this._data.parentClass+" zaccordion "),a.height&&this.element.css("height",a.height),l.length&&(this._panels=l,d=t(l[o||0]),d.is(".is-disabled")&&this.setPanelAttribute(d,"disabled",!1),this.isCE?customElements.whenDefined("z-accitem").then(()=>{this._openItem(d,{},!0)}):this._openItem(d,{},!0)),a.sortable&&this._makeSortable(a.sortable),a.disabled&&this._disable(a.disabled)}_setPanelHeight(e){if("auto"!==this._opts.height){let t=this.element.outerHeight()-3-this._panelHeight*this._panels.length;e.find(".zaccordionpanel__content").innerHeight(t)}}_bindEvents(){let e=this.element,t=this.name,a=this.isCE?"z":"zaccitem",o;e.on(a+"beforeexpand."+t,t=>{let a=t.detail;if(o=a&&a.element,e&&e.children(o))return this._setPanelHeight(o),this._collapsePanels(o,t,!0),this._onExpand=!1,this._dispatchEvent("beforepanelexpand",t,a),!0}).on(a+"expand."+t,t=>{let a=t.detail;o=a&&a.element,e&&e.children(e)&&(this._onExpand=!1,this._dispatchEvent("panelexpand",t,a))}).on(a+"collapse."+t,e=>{this._dispatchEvent("panelcollapse",e,e.detail)}).on(a+"beforecollapse."+t,t=>{let a=t.detail;if(o=a&&a.element,e&&e.children(o)){let e=!0;if(!this._onExpand){let t=this._getActivePanel().first();if(t&&t[0]===o[0])return e=!1,!1}e&&this._dispatchEvent("beforepanelcollapse",t,a)}})}_collapsePanels(e,a,o){if(o){let o=this._getActivePanel();if(o.length){let n;for(let r=0;r<o.length;r++)n=t(o[r]),n[0]!==e[0]&&(this._onExpand=!0,this._closeItem(n,a))}}else this._closeItem(e,a);return!0}_openItem(t,a,o){o&&(this._panelHeight=this.element.find(".zaccordionpanel .zaccordionpanel__header").outerHeight(!0),this._setPanelHeight(t)),this._opts.activePanelIndex=t.index(),this._opts.activePanelId=t[0].id,e.accitem(t).expandPanel(a,!0)}_closeItem(t,a){e.accitem(t).collapsePanel(a,null)}_getPanel(e){let a=["number","string"].indexOf(typeof e);return-1<a&&(e=this.element.children(a?e:this._SELECTORS.panel+":eq("+e+")")),t(e)}_getActivePanel(){return this._getPanel("."+this._opts.activeClass)}expandPanel(e,t){this._handleOpen(e,t,!0)}collapsePanel(e,t){return this._handleOpen(e,t,!1),!1}_handleOpen(e,t,a){if(e=this._getPanel(e),e.length)return this._collapsePanels(e,t,a),a&&this._openItem(e,t),!0}_handlePanel(a,o,n){a=t(a),a.length&&e.accitem(a).setAttribute(o,n)}setPanelAttributes(e,t,a){this._handlePanel(this._getPanel(e),t,a)}setPanelAttribute(e,t,a){this._handlePanel(this._getPanel(e),t,a)}addCustomTagItem(e,t){this.addAccordionItem(e,t)}addAccordionItems(e,t){let a=[],o=Object.create(e);for(let n=0;n<o.length;n++)a.push(this.addAccordionItem(o[n],t));return a}addAccordionItem(a,o,n){let i=a;if(a instanceof t||1===a.nodeType)e.accitem(a);else{let n=this.element,r=this._panels&&this._panels.length,s=parseInt(a.index);r&&(0===s||s<r)&&(a.insertBefore=!0,n=t(this._panels[s+1])),a.appendTo=n,a.isCE=this._opts.isCE,a=t.extend({},this._opts,a),i=e.createAccItem(a,o)}return o&&o(a,a),!n&&a.isActive&&this._openItem(i,{},!0),i}_destroy(){let a=this._panels,o=a.length;if(!this.isCE)for(let n=0;n<o;n++)e.accitem(t(a[n])).destroy();this._opts.sortable&&this._makeSortable(!1),this._panels=void 0,this.element.removeClass("zaccordion zc-sortable")}_setAttribute(e,t){let a=this._panels,o=a.length;if(0<=["headerContentType","expandOn","height","iconPosition","sortable","collapseIconClassName","collapseIconClass","expandIconClassName","expandIconClass","collapseSVGIconId","expandSVGIconId"].indexOf(e)){let n=e;"expandOn"===e?this.element["click"===t?"removeClass":"addClass"]("zaccordion--expandonhover"):"sortable"===e?this._makeSortable(t):"height"==e&&(n="contentHeight",this.element["auto"===t?"height":"outerHeight"](t));for(let e=0;e<o;e++)this._handlePanel(a[e],n,t)}else("activePanelId"===e||"activePanelIndex"===e)&&this.expandPanel(t);this._opts[e]=t}_makeSortable(a){e.sortable&&(a?e.sortable(this.element,{handle:".zaccordionpanel__grippy",end(e,a){t(a.value).closest(".zaccordionpanel").css("cursor","initial")},region:"parent"}):e.sortable(this.element).destroy())}}e.registerComponent("ZAccordion",ZAccordion)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zaccitem.Templates,a=e.Templates.Utilities;t.WCChildren=e=>ZT.html`<div class="zaccordionpanel__header"> ${e.sortable&&a.WCIcon(e.sortable)} ${e.headingIcon&&a.WCIcon(e.headingIcon)} ${e.headingDOM||ZT.html`<z-accitemheading class="zaccordionpanel__heading">${ZT.customHTML(e.heading)}</z-accitemheading>`} </div> ${e.contentDOM||ZT.html`<z-accitemcontent class="zaccordionpanel__content">${ZT.customHTML(e.content)}</z-accitemcontent>`}`}(ZComponents),function(e){let t=e.zaccitem.Templates,a=e.Templates.Utilities;t.children=e=>ZT.html`<div class="zaccordionpanel__header"> ${e.sortable&&a.icon(e.sortable)} ${e.headingIcon&&a.icon(e.headingIcon)} ${e.headingDOM||ZT.html`<div class="zaccordionpanel__heading">${ZT.customHTML(e.heading)}</div>`} </div> ${e.contentDOM||ZT.html`<div class="zaccordionpanel__content">${ZT.customHTML(e.content)}</div>`}`}(ZComponents),function(e,t){class ZDialog extends e.CoreComponent{get name(){return"zdialog"}get attrs(){return{buttonsAlignment:"right",closeButton:!0,closeOnEscKey:!0,closeSVGIconId:null,closeButtonLabel:null,closeOnOverlayClick:!1,content:null,draggable:!0,height:null,isContentHTMLEncoded:!1,isFooterHTMLEncoded:!1,isTitleHTMLEncoded:!1,overlayClassName:"",maximizable:!1,maximizeIconClass:null,maximizeButtonLabel:null,maximizeRestoreIconClass:null,maximizeRestoreButtonLabel:null,maximizeRestoreSVGIconId:null,maximizeSVGIconId:null,minimizable:!1,minimizeIconClass:null,minimizeButtonLabel:null,minimizeRestoreIconClass:null,minimizeRestoreButtonLabel:null,minimizeRestoreSVGIconId:null,minimizeSVGIconId:null,position:"center",restoreIconClass:null,restoreSVGIconId:null,title:null,type:"modal",autoOpen:!1,width:null,defaultActionButton:".zbutton--primary",excludeFocus:null,handleFocusNavigation:!0,submitOnEnter:!1}}get props(){return{closeIconClassName:null,maximizeIconClassName:null,minimizeIconClassName:null,minimizeRestoreIconClassName:null,maximizeRestoreIconClassName:null,restoreIconClassName:null,animation:!1,buttons:null,footer:"",resizable:{},labels:{minimize:"Minimize",maximize:"Maximize",minimizeRestore:"Restore",maximizeRestore:"Restore",close:"Close"},commandBar:{}}}get _ALIGNMENTS(){return{right:"",left:"zdialogfooter--invert",center:"zh-center"}}get EVENTS(){return["drag","dragstart","dragend","resize","resizestart","resizeend","minimize","maximize","close","open","beforeclose","beforeopen","restore","actionbuttonclick"]}_init(e){let t=this._data,a=this._opts,o=a.content||"",n=this.isCE;this._isComponentInited=!1;let i=t.excludeFocus;if(t.excludeFocus=(i?i+",":"")+" .zbutton--action",n){let a=e.find("z-dialogtitle").addClass("zdialog__title zdialog__text");a.length&&(t.titleEle=a[0]),t.contentEle=e.find("z-dialogcontent").addClass("zdialog__content")[0],t.actionBar=e.find("z-dialogactionbar").addClass("zdialog__commandbar zdialog__footer")[0]}else o&&"object"==typeof o?this._fetchAjaxCon(o):this._setContent();a.id=this._getID(e),this._setTitleBarBtns&&this._setTitleBarBtns(),a.buttons&&this._createButtonPanel(),a.footer&&this._setFootnote(),this._skipParent=!0}_setContent(){let t=this._data,a=this._opts,o=a.content;o?t.content=a.isContentHTMLEncoded?o:e.encodeHTML(o):(o=[...this.element[0].childNodes],o.length&&(t.content=o))}_postRender(){this._data.className+=" zdialog",this.element.attr({"aria-modal":"modal"===this._opts.type,tabIndex:-1,role:"dialog"});let e=t(this._opts.appendTo||"body"),a=this.element[0].parentNode;a!==e[0]&&e.append(this.element)}_postEachRender(a,o){let n=this.element,i=this._opts,r=this._data.rendered;this._content=n.find(".zdialog__content"),this._titleBar=n.find(".zdialog__titlebar"),this._footer=n.find(".zdialog__footnote"),this._actionGroup=n.find(".zdialog__actiongroup");let s=i.resizable;this._minimizeButton=t("#"+i.id+"minimize"),this._maximizeButton=t("#"+i.id+"maximize"),s&&e.resizable&&(i.resizable="object"==typeof s?s:{},this._initResize()),r&&("minimizable"===o.modifiedAttr||"maximizable"===o.modifiedAttr||"closeButton"===o.modifiedAttr)&&this._data.titleBarButtons.length&&this._handleTBarActions(),i.draggable&&e.draggable&&this._initDrag(),i.buttons&&(!r||"buttons"===o.modifiedAttr)&&this._setBtnProps(),(i.minimizable||i.maximizable)&&this._titleBar.off("dblclick.zdialog").on("dblclick.zdialog",this._titleBarClickHandler.bind(this)),!r&&i.autoOpen&&this.open(),o.modifiedAttr=void 0}_findPosition(){let e=this.element;this.actualPosition=e.position(),this.bottomRightPosition={bottom:e[0].style.bottom,right:e[0].style.right}}_findHeightWidth(){this.actualWidth=parseFloat(this.element.css("width")),this.actualHeight=this._content.height()}open(e){this._open(e)}close(e){this._closeDialog({},e,void 0)}isMinimized(){return this.element.is(".zdialog--minimized")}isMaximized(){return this.element.is(".zdialog--maximized")}refreshContent(t){if(this._opts.handleFocusNavigation)return e.FocusHandler.refresh(this.element,this._opts.excludeFocus,t)}_triggerEvent(e,t,a={}){return a.dialog=this.element,this._dispatchEvent(e,t,a)}_open(t){(this.isMinimized()||this.isMaximized())&&this._toggleRestore();let a=this.element,o=a.attr("style");(!o||o&&-1===o.indexOf("width"))&&a.css({width:this._opts.width||"auto"});let n=this._triggerEvent("beforeopen");if(n){let o=a.css("opacity");a.css("opacity",0),this._display(!1),!this._isComponentInited&&e.init&&(this._isComponentInited=!0,e.init(a)),a.css("opacity",o),this._display(!0),"modal"===this._opts.type?this._overlay?this._overlay.show():(this._createOverlay(),this._positionDialog(t)):this._positionDialog(t),t=t||{};let n=this._opts.animation||t.animation,i=this;n?this._animateAction(n,"open",function(){i._handleDialogOpen()},!0):this._handleDialogOpen()}}_handleDialogOpen(){this._display();let t=this._opts.zIndex,a=this.element,o=this.name;e.zIndex=t?e.zIndex:e.zIndex+1,a.css({zIndex:t?parseInt(t):e.zIndex}),this._opts.handleFocusNavigation&&e.FocusHandler.init(a,this._opts.excludeFocus),this._findPosition(),this._findHeightWidth(),a.attr("aria-expanded",!0),this._triggerEvent("open",{},{position:this.actualPosition}),e.activeDialog=a;let n=!!(e.Browser.isIE&&10>=e.Browser.getIEVersion());e.$window.off("resize."+o).on("resize."+o,e=>{this._posModified||("center"===this._opts.position&&"resize"===e.originalEvent.type&&!this.isMinimized()&&!this.isMaximized()&&this._positionDialog(),this.isMaximized()&&n&&this._adjustContentSize())})}_closeDialog(e={},t,a){e=e||{};let o=!!a||this._triggerEvent("beforeclose",e,t);if(o)if(this._opts.animation&&(!t||void 0===t.animation||!1!==t.animation)){let o=this;this._animateAction(this._opts.animation,"close",function(){o._handleDlgClose(e,t,a)})}else this._handleDlgClose(e,t,a)}_handleDlgClose(t,a,o){this._display(!0);let n=this.element;n.attr("aria-expanded",!1),n.find(".zdialog__commandbar .has-focus").removeClass("has-focus"),this.restore(!1),"modal"===this._opts.type&&this._overlay?this._closeModalDlg(t,a,o):!o&&this._triggerEvent("close",t,a),e.zIndex=1e3<e.zIndex?e.zIndex-1:1e3,e.activeDialog&&n&&e.activeDialog[0]===n[0]&&(e.activeDialog=void 0),e.$window.off(`resize.${this.name}`)}_bindEvents(){this._addEvents({keydown:"keydown",focus:"focus"}),"modal"===this._opts.type&&this._preventModalDlgClick(),this._data.titleBarButtons.length&&this._handleTBarActions()}_keydownHandler(a){let o=e.activeDialog,n=this.element;if(o&&o[0]!==n[0]&&(e.activeDialog=n),a.keyCode===e.keyCode.ESCAPE&&this._opts.closeOnEscKey){let e=n.find(".zdialog__footer .zbutton");e=e.filter(function(e,a){if(t(a).data("handleClose"))return t(a)}),e.length?(e.focus(),e.trigger("click")):this._closeDialog(a),a.stopPropagation()}else if(a.keyCode===e.keyCode.ENTER&&this._opts.submitOnEnter&&n.find("form").length){let e=t(a.target);if(e.closest(".zbutton:not(.zbutton--menu),input:not(.ztokenfield__textbox):not(.zsuggestfield-element)").length&&!e.closest(".zdialog__commandbar").length){let a=n.find(".zdialog__footer").find(this._opts.defaultActionButton)[0];if(a&&e.closest("button")[0]!==a)return t(a).focus().trigger("click"),!1}}}_focusHandler(){let t=e.activeDialog;t&&t[0]!==this.element[0]&&(e.activeDialog=this.element)}_positionDialog(a){let o=0,n=0,i=this.element,r=this._opts,s=i.find(".zdialog__content"),l=i.is(":visible");if(l||this._display(),!this._dimModified&&r.height){i.height(r.height);let e=i.outerHeight(!0),t=parseInt(s.height()),a=parseInt(s.css("padding-top").split("px")[0]),o=parseInt(s.css("padding-bottom").split("px")[0]),n=void 0===this._titleBar?0:parseInt(this._titleBar.outerHeight(!0)),l=i.find(".zdialog__footer"),d=l.length?l.outerHeight(!0):0,c=i.find(".zdialog__footnote"),m=c.length?c.outerHeight(!0):0;t=e-(a+o+n+d+m+parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width"))+parseInt(s.css("margin-top"))+parseInt(s.css("margin-bottom"))),s.height(t),i.css("height","auto")}a=a||{};let d=i.outerWidth(!0),c=i.outerHeight(!0),m=e.windowObject.width,_=e.windowObject.height,u=r.position,p=!1;r.position=u=a.position||u,o=_/2-c/2+("modeless"===r.type?window.pageYOffset:0),n=m/2-d/2+("modeless"===r.type?window.pageXOffset:0);let h=a.target;if(h){let e=t(h).offset();o=e.top+t(h).outerHeight(!0),n=e.left}else if("golden-mean"===u){let e=_/2;o=e-e/1.618-parseFloat(c/2)+window.pageYOffset,n=m/2+window.pageXOffset-parseFloat(d/2)}else if("string"==typeof u&&"center"!==u){let e=u.split(",");o=e[1]?e[1]:o,n=e[0]?e[0]:n}if("object"==typeof u)u.right||u.bottom?p=!0:(o=u.top||o,n=u.left||n);else{let t=e.documentObject;0>o?o=0:o>=t.height&&(o=t.height-c),0>n?n=0:n>t.width&&(n=t.width-d)}l||this._display(!0),this._hasBottom=p;let g=p?u:{top:o,left:n};i.css(g)}_animateAction(t,a,o,n){if(t[a]){let i=t[a].className,r,s;"object"==typeof t[a]&&(r=t[a].name,s=t[a].duration),i?(n&&this._display(),this.element.addClass(i).on(e._animationEnd,()=>{this.element.removeClass(i),o&&o(),o=void 0})):"object"==typeof r?(n&&this._display(),this.element.animate(r,s,o)):this.element[r](s,o)}}get _ALIGNMENTS(){return{left:"zdialogfooter--invert",right:"",center:"zh-center"}}_getAlignCls(e){return this._ALIGNMENTS[e]}_closeClickHandler(e){return this._resetPosition(this.element,!0),this._closeDialog(e,{closeButton:!0}),"keydown"!==e.type}_createCommandBar(){this._data.cols={},this._data.commands=[];let e=this._opts,t=[],a=e.commandBar,o=e.buttons,n={},r=0,s,l;a.leftColumn&&(t.push("left"),n.left={}),a.centerColumn&&(t.push("center"),n.center={}),a.rightColumn&&(t.push("right"),n.right={});let d="",c,m;n.cname="zdialog";for(let e=0;e<t.length;e++)if(d=t[e],c=a[`${d}Column`],l=c.commands,c.className&&(n[d].className=c.className),o)for(n[d].buttons=[],r=0;r<l.length;r++)s=o.find(e=>{if(e.name===l[r])return e}),"object"==typeof s&&(m=this._createButton(s),this._data.commands.push(m),n[d].buttons.push(m));this._data.cols=n}_destroy(){let a=this.element,o=this._opts,n=this._content;this._closeModalDlg(null,void 0,!0),o.handleFocusNavigation&&e.FocusHandler.destroy(a),this.isCE||t(o.appendTo||"body").append(a.removeClass("zdialog zdialog--minimized zdialog--maximized"));let i=this._overlay;i&&i.length&&(i.remove(),this._overlay=void 0),o.title&&a.attr("title",o.title);let r="."+this.name;a.off(r).css({width:"auto",right:""}),o.resizable&&e.resizable(a).destroy(),o.draggable&&e.draggable(a).destroy(),this.isCE?(a.off(r),a.find(".zdialog__title").removeClass("zdialog__title"),a.find(".zdialog__content, .zdialog__commandbar, .zdialog__footer, .zdialog__footnote").removeClass("zdialog__content zdialog__commandbar zdialog__footer zdialog__footnote"),a.find(".zdialog__actiongroup, .zresizable__handle").remove(),a.find(".zbutton").off(r+" .zbutton").removeClass("zbutton zbutton--primary is-disabled")):(a.removeAttr("role aria-modal aria-expanded"),a[0].innerHTML=n[0].innerHTML),this.element=this._footer=this._titleBar=this._content=void 0,this._useParent=!0}_initDrag(){let t=this;e.draggable(this.element,{ignoreAsHandle:".zdialog__actiongroup,.zresizable__handle",handle:".zdialog__header",region:"viewport",cursor:"default",start:function(e,a){t._posModified=!0,t._triggerEvent("dragstart",e,a)},end:function(e,a){t._triggerEvent("dragend",e,a)},drag:function(e,a){t._triggerEvent("drag",e,a)}})}_createButtonPanel(){if(e.isEmpty(this._opts.commandBar)){let e=this._opts.buttons||[],t=[],a=e.length,o;for(let n=0;n<a;n++)o=e[n],"object"==typeof o&&t.push(this._createButton(o));this._data.commands=t}else this._createCommandBar();let t=this._opts.buttonsAlignment;this._data.alignClassName="right"===t?"":this._getAlignCls(t)}_createButton(a){let o=a.id=a.id||this._getID(a,"dlgbutton"),n=o&&t("#"+o);n.length||(n=void 0),a.templateRender=!0;let i=a.action,r="function"==typeof i;if(a.click=r?i:this._clickHandler.bind(this),a.mainElement=n?n[0]:null,a=e.ZButton.getBtnProps(a,n),!r){let e=a.attrs||{};e["data-action"]=i,a.attrs=e}return a}_clickHandler(a){let o=t(a.target).closest(".zbutton");if(!o.hasClass("is-disabled")||o.find(".zbutton__loader").length){let t=o.attr("data-action");t&&("CANCEL"===t||"CLOSE"===t?this._closeDialog(a,{button:o}):e._triggerFunction(t,o,[a,{button:o,options:e._getOpts(o)}])),this._triggerEvent("actionbuttonclick",a,{button:o})}}_setBtnProps(){let e=this._data.commands,a=this.element.find(".zdialog__footer"),o=a.find(".zbutton"),n=o.length,r,s,l;for(let a=0;a<n;a++)r=o[a],s=e[a],r.zbtndata=s,l=t(r),s.attrs&&(delete s.attrs.class,l.attr(s.attrs)),this._handleFocus(l);a.off("click").on("click",".zbutton",function(e){let a=t(e.target).closest(".zbutton"),o=a[0].zbtndata;o&&o.click(e)})}_setFootnote(t){let a=this._opts;if(t=t||a.footer,this.isCE){let e=this.element.find("z-dialogfootnote").addClass("zdialog__footnote");e.length&&(this._data.footerEle=e)}else t&&""!==t.trim()&&(this._data.footer=a.isFooterHTMLEncoded?t:e.encodeHTML(t))}maximize(){this._performMinMax("Maximize")}_toggleMaximize(e,t,a){this._toggleRestore(e,t,a,"maximize")}minimize(){this._performMinMax("Minimize")}_toggleMinimize(e,t,a){this._toggleRestore(e,t,a,"minimize")}restore(e){this._performMinMax("Minimize",!0,e),this._performMinMax("Maximize",!0,e)}_performMinMax(e,t,a){let o=this["is"+e+"d"](),n=e.toLowerCase(),i=n.replace("e","able"),r=-1;o||t||!this._opts[i]?o&&t&&(r=a):r=!1,-1!==r&&this["_toggle"+e]({},this["_"+n+"Button"],r)}_toggleReverse(a,o,n,i,r,s){let l=o+"Restore",d=this._content,c=this;a||(this._findPosition(),this._findHeightWidth());let m={top:"",left:"",right:""};"maximize"===o&&(m.width="",m.height=""),this.element.css(m),this._buttonAnimateHandler(a,o,function(){"minimize"===o&&(!a&&(c.actualWidth=parseFloat(c.element.css("width")),c.actualHeight=c.element.height()),c._footer[a?"removeClass":"addClass"]("zh-dnone"),d[a?"removeClass":"addClass"]("zh-dnone")),c._updateClass(n,a),e.draggable&&c._opts.draggable&&e.draggable(c.element).setAttribute("disabled",!a);let m=c._opts[a?o+"ButtonLabel":o+"RestoreButtonLabel"]||c._getI18NText(a?o:l,c._opts.labels);if(c._changeIcon(m,a?o:l),a?(c.element.css(c._hasBottom?c.bottomRightPosition:c.actualPosition).css({width:c.actualWidth}),"maximize"===o?(d.height(c.actualHeight),d.css("width","")):"minimize"==o&&c.enableButton("maximize")):"maximize"===o?c._adjustContentSize():"minimize"==o&&(c.element.css({width:""}),c.disableButton("maximize")),"minimize"===o){c._overlay&&c._overlay[a?"addClass":"removeClass"]("zh-dnone");let o=c._overlay?c._overlay:t(c._opts.appendTo||"body");c._overlay&&a&&(e.zIndex+=1,o.css("zIndex",e.zIndex),c.element.appendTo(o)),c.element[a?"removeClass":"addClass"]("zdialog--minimized"),a||c._resetPosition(c.element),c._overlay&&c._hideDocumentScroll(!!a),a&&c._triggerActiveElement()}i&&c._triggerEvent(a?"restore":o,s,{from:o}),"maximize"===o&&c._triggerActiveElement(),r&&r()})}_adjustContentSize(){let t=this._content,a=this.element,o=a.find(".zdialog__header"),n=a.find(".zdialog__footer"),i=o.length?o.outerHeight(!0):0,r=n.length?n.outerHeight(!0):0,s=this._footer.length?this._footer.outerHeight(!0):0,l=Math.abs(e.windowObject.height-(i+r+s+parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(a.css("border-top-width"))+parseInt(a.css("border-bottom-width")))),d=e.windowObject.width-parseInt(t.css("padding-left"))-parseInt(t.css("padding-right"))-parseInt(t.css("margin-right"))-parseInt(t.css("margin-left"))-parseInt(a.css("border-left-width"))-parseInt(a.css("border-right-width"));t.width(d),t.height(l)}_triggerActiveElement(){let e=this._activeElement||"";e.length||(e=this.element.find(".zdialog__header")),e.trigger("focus"),this._activeElement=void 0}_toggleRestore(e,t,a,o){let n=this.isMaximized(),i=this.isMinimized();n||"maximize"===o?this._toggleReverse(n,"maximize","zdialog--maximized",a,void 0,e):(i||"minimize"===o)&&this._toggleReverse(i,"minimize","zdialog--minimized",a,void 0,e),t&&t.length&&t[0].id===this._opts.id+"minimize"&&n&&this._toggleReverse(i,"minimize","zdialog--minimized",a,void 0,e)}_changeIcon(e,a){let o=this._data.titleBarButtons,n="restore",r="minimize"===a||"maximize"===a?a:"restore",s=this;"minimizeRestore"===a?n="minimize":"maximizeRestore"==a&&(n="maximize"),n=this._opts.id+n;let l=0,d,c;o.forEach(t=>{o[l].mainElement=s._actionGroup.find("#"+t.id),t.id===n&&(c=s._actionGroup.find("#"+n),o[l]=s._updateBtnInfo(r,c.length&&c),o[l].mainElement=void 0,d=o[l],d.title=e,d.actionName=r,d.zdaction="restore"===r?"maximize":r),l++}),this._render(),d.mainElement&&t(d.mainElement).attr("data-zdaction",d.actionName)}_buttonAnimateHandler(e,t,a){let o=this._opts.animation;o[t]?this._animateAction(o,e?t+"Restore":t,a):a()}_minMaxClick(e,t,a){if(this["_toggle"+e[0].toUpperCase()+e.substring(1)](t,a,!0),"restore"===e&&this._resetPosition(this.element,!0),"keydown"===t.type)return!1}_resetPosition(a,o){e._minArr=e._minArr||[];let n=e._minArr.indexOf(a);o?-1<n&&e._minArr.splice(n,1):e._minArr.push(a);let r=e._minArr.length,s=this._opts.rtl?"left":"right",l,d,c;for(let n=r-1;0<n;n--)d=t(e._minArr[n]),c=t(e._minArr[n-1]),l=parseFloat(c.css(s))+c.outerWidth(),d.css(s,l);t(e._minArr[0]).css(s,0)}_titleBarClickHandler(e){if(!t(e.target).closest(".zdialog__actiongroup").length){let t=this.isMaximized()||this.isMinimized()?"restore":this._opts.maximizable?"maximize":this._opts.minimizable?"minimize":void 0;t&&this._toggleRestore(e,void 0,!0,t),"restore"===t&&this._resetPosition(this.element,!0)}}_createOverlay(){e.zIndex+=1;let a=this._opts,o=t(`<div class='zdialog--overlay ${a.overlayClassName}' ></div>`).css("zIndex",e.zIndex);this._addedByComponent=!0,t(this._opts.appendTo||"body").append(o.append(this.element)),this._addedByComponent=!1,this._hideDocumentScroll(!0),o.attr("tabindex",1),this._overlay=o,this._bindOverlayEvents()}_bindOverlayEvents(){this._addEvents({overlayKey:"keydown",overlayEveStop:"click mousedown"},this._overlay)}_overlayKeyHandler(t){t.keyCode===e.keyCode.ESCAPE&&this._opts.closeOnEscKey&&this._closeDialog(t,{overlay:!0})}_overlayEveStopHandler(e){t(e.target).closest(".zdialog").length||(e.stopPropagation(),"click"===e.type&&this._opts.closeOnOverlayClick&&this._closeDialog(e,{overlay:!0}))}_unbindOverlayEvents(){this._removeEvents("keydown click mousedown",this._overlay)}_hideDocumentScroll(e){t("body")[e?"addClass":"removeClass"]("zh-overflowhidden")}_closeModalDlg(e,t,a){let o=this._overlay,n=!!o&&o.is(":visible");if(n&&(!t||t.animation===void 0||!1!==t.animation)){let n=this;o.fadeOut(50,this._triggerCloseEvent.bind(n,e,t,a))}else n&&o.hide(),this._triggerCloseEvent(e,t,a)}_triggerCloseEvent(e,a,o){t("body").find(".zdialog--overlay:visible").length||this._hideDocumentScroll(!1),o||this._triggerEvent("close",e,a)}_preventModalDlgClick(){this._addEvents({overlayClk:"click"})}_overlayClkHandler(e){e.stopPropagation()}_fetchAjaxCon(e){t.ajax(e).success(e=>{this._data.content=e,this._render()})}get resizableDefaults(){return{minHeight:300,minWidth:300,maxHeight:!1,maxWidth:!1,boundary:"viewport",directions:"s,e,se"}}_initResize(){let a=this,o=this.resizableDefaults;o.boundary="modal"===this._opts.type?"parent":o.boundary,e.resizable(this.element,t.extend(!0,{},o,{relatedElements:this._content,rtl:this._opts.rtl,cues:["ne","nw","se","sw"],cueIcons:{southEastSVGIconId:"zc__svg--lines zresizable__svg",northEastSVGIconId:"zc__svg--lines zresizable__svg",southWestSVGIconId:"zc__svg--lines zresizable__svg",northWestSVGIconId:"zc__svg--lines zresizable__svg"},start:function(e,t){-1!==e.detail.resizedDirection.indexOf("n")&&(a._posModified=!0),a._dimModified=!0,a._triggerEvent("resizestart",e,t)},end:function(e,t){a.actualWidth=a.element.width(),a._triggerEvent("resizeend",e,t),a._content.css("width","auto")},resize:function(e,t){a.element.css("height","auto"),a._triggerEvent("resize",e,t)}},this._opts.resizable))}_setAttribute(a,o){let n=this._opts,i=this._data,r=n.isCE;"title"===a?o?(i.title=i.isTitleHTMLEncoded?o:e.encodeHTML(o),r&&this._titleBar.find(".zdialog__title").text(i.title)):i.title=i.titleEle=null:"content"===a?(n[a]=o,o?("object"==typeof o&&t.ajax(o).success(e=>{o=e}),i.content=i.isContentHTMLEncoded?o:e.encodeHTML(o),r&&this._content.html(i.content)):i.content=i.contentEle=null):"closeOnEscKey"===a?o?this._bindEvents():this.element.off(`.${this.name}`):"closeButton"===a||"closeSVGIconId"===a||"closeIconClassName"===a||"closeIconClass"===a||n.closeButton&&("minimizable"===a||"maximizable"===a)?(n[a]=o,this._setTitleBarBtns()):"className"===a?this._updateClass(o,n.className):"width"===a?(this.element.css({width:o}),this.actualWidth=parseInt(o)):"height"===a?(this._content.css("height",o),this.actualHeight=parseInt(o)):"type"===a&&this.element.is(":visible")?("modal"===o?(this._createOverlay(),this._preventModalDlgClick()):(t(this._opts.appendTo||"body").append(this.element),this._overlay.remove(),this._overlay=void 0,this.element.off("click.zdialog"),this._setTitleBarBtns()),this.element.attr("aria-modal","modal"===o)):"overlayClassName"===a&&this._overlay?this._overlay.removeClass(n.overlayClassName).addClass(o):"resizable"===a&&e.resizable?(n.resizable=o,this.element.data("zresizable")&&o&&"object"==typeof o?Object.keys(o).length&&e.resizable(this.element).setAttributes(o):o?this._initResize():e.resizable(this.element).destroy()):"draggable"===a?o?this._initDrag():e.draggable(this.element).destroy():"buttons"===a||"commandBar"===a?(n[a]=o,this._createButtonPanel()):"position"===a?(n.position=o,this._positionDialog()):"footer"===a?this._setFootnote(o):"buttonsAlignment"===a?this.element.find(".zdialog__footer").removeClass(this._ALIGNMENTS[n.buttonsAlignment]).addClass(this._ALIGNMENTS[o]):"closeOnOverlayClick"===a&&this._overlay&&this._overlay.length?o?this._bindOverlayClick():this._overlay.off("click.zdialog"):"rtl"==a&&n.resizable&&this.element.zresizable("setAttribute","rtl",o),"className"!==a&&(n[a]=i[a]=o),i.modifiedAttr=a;0>["closeOnEscKey","className","closeOnOverlayClick","width","height","resizable","draggable","position","animation"].indexOf(a)&&(this._domChanged=!0)}setButtonAttributes(e,t,a){let o=0,n="string"!=typeof e,r="object"==typeof t;if(n||r){let a=r?t:e,o;for(let t in a)o=a[t],this.setButtonAttributes(r?e:o.id,r?t:o,o)}e=e.split(",");let s=e.length,l;for(o=0;o<s;o++)l=e[o],this._changeBtnValues(l,t,a);s&&(this._data.modifiedAttr="buttons",this._render()),this.refreshContent()}_changeBtnValues(t,a,o){let n=this.element.find(t);if(!n.length)return;let r=n[0].zbtndata;r[a]=o,r.className=r.className.replace(/zbutton--primary|zbutton--normal|zbutton--small|zbutton--medium|zbutton--large|zbutton--mini|is-disabled|zbutton/g,""),r=e.ZButton.getBtnProps(r),n[0].zbtndata=r;let s=this._data.commands,l=s.length;for(let e=0;e<l;e++)s[e].id&&s[e].id===t.slice(1)&&(this._data.commands[e]=r);"customAttributes"===a&&n.attr(o)}_setTitleBarBtns(){let t=this._opts,a=[],o=t.title,n=this._updateBtnInfo.bind(this);o&&(this._data.title=t.isTitleHTMLEncoded?o:e.encodeHTML(o)),t.minimizable&&"modal"!==t.type&&a.push(n("minimize")),t.maximizable&&a.push(n("maximize")),t.closeButton&&a.push(n("close")),this._data.titleBarButtons=a}disableButton(e){this._toggleButton(e,!0)}enableButton(e){this._toggleButton(e,!1)}_toggleButton(e,t){let a=this["_"+(e||"close")+"Button"];a&&this._disable(t,a)}_updateBtnInfo(a,o){let n=this._opts,i=t("#"+n.id+a),r={id:n.id+a,title:n[a+"ButtonLabel"]||this._getI18NText(a),className:"zbutton--action zdialog__"+a,SVGIconId:n[a+"SVGIconId"],SVGIconClassName:"zbutton__svg",iconClassName:n[a+"IconClassName"]||n[a+"IconClass"],defaultSVGIconId:"zc__svg--"+a+" zbutton__svg",templateRender:!0,mainElement:o||(i.length?i[0]:null),customAttributes:{"data-zdaction":a,tabindex:-1}};return e.ZButton.getBtnProps(r)}_handleTBarActions(){let a="."+this.name,o=this.element.find(".zdialog__actiongroup"),n=o.find(".zbutton"),r=this._data.titleBarButtons,s=r.length,i,l;for(let e=0;e<s;e++)l=r[e].attrs,l&&t(n[e]).attr(l);o.off("click"+a+" keydown"+a).on("click"+a+" keydown"+a,a=>{if(i=a.keyCode,"click"===a.type||i===e.keyCode.ENTER||i===e.keyCode.SPACE){let e=t(a.target).closest(".zbutton--action:not(.is-disabled)"),o=e.attr("data-zdaction");if(-1<["maximize","minimize","restore"].indexOf(o))return this._minMaxClick(o,a,e);if("close"===o)return this._closeClickHandler(a)}}).off("mousedown"+a).on("mousedown"+a,()=>{this._activeElement=this._activeElement||t(document.activeElement)})}}e.registerComponent("ZDialog",ZDialog)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zdialog.Templates,a=e.zbutton.Templates.WCContainer;t.WCContainer=e=>ZT.html`<z-dialog ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zdialog ${e.className}">${e.children&&t.WCChildren(e)}</z-dialog>`,t.WCChildren=e=>ZT.html` <div class="zdialog__header zdialog__titlebar zdraggable"> ${e.titleEle||e.title&&ZT.html`<z-dialogtitle role="heading" class="zdialog__title zdialog__text">${ZT.customHTML(e.title)}</z-dialogtitle>`} ${e.titleBarButtons&&ZT.html`<div class="zdialog__actiongroup zdialog__action">${e.titleBarButtons.map(e=>a(e))}</div>`} </div> ${e.contentEle||ZT.html`<z-dialogcontent class="zdialog__content"> ${e.content} </z-dialogcontent>`} ${e.actionBar||e.buttons&&ZT.html`<z-dialogactionbar class="zdialog__commandbar zdialog__footer ${e.alignClassName}"> ${e.cols?t.WCCommandBarCol(e.cols):e.commands&&e.commands.map(e=>a(e))} </z-dialogactionbar>`} ${e.footerEle||e.footer&&ZT.html`<z-dialogfootnote class="zdialog__footnote">${ZT.customHTML(e.footer)}</z-dialogfootnote>`}`,t.WCCommandBarCol=e=>ZT.html` ${e.left&&ZT.html`<div class="${e.cname}__commandbaractionsleft ${e.left.className||""}">${e.left.buttons.map(e=>a(e))}</div>`} ${e.center&&ZT.html`<div class="${e.cname}__commandbaractionscenter ${e.center.className||""}"> ${e.center.buttons.map(e=>a(e))}</div>`} ${e.right&&ZT.html`<div class="${e.cname}__commandbaractionsright ${e.right.className||""}">${e.right.buttons.map(e=>a(e))}</div>`} 	`}(ZComponents),function(e){let t=e.zdialog.Templates,a=e.zbutton.Templates.container;t.container=e=>ZT.html`<div ?aria-label="${e.text}" ?id="${e.id}" ?role="${e.role}" class="zdialog ${e.className}">${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html` <div class="zdialog__header zdialog__titlebar zdraggable"> ${e.titleEle||e.title&&ZT.html`<div role="heading" class="zdialog__title zdialog__text">${ZT.customHTML(e.title)}</div>`} ${e.titleBarButtons&&ZT.html`<div class="zdialog__actiongroup zdialog__action">${e.titleBarButtons.map(e=>a(e))}</div>`} </div> ${e.contentEle||ZT.html`<div class="zdialog__content"> ${e.content} </div>`} ${e.actionBar||e.buttons&&ZT.html`<div class="zdialog__commandbar zdialog__footer ${e.alignClassName}"> ${e.cols?t.commandBarCol(e.cols):e.commands&&e.commands.map(e=>a(e))} </div>`} ${e.footerEle||e.footer&&ZT.html`<div class="zdialog__footnote">${ZT.customHTML(e.footer)}</div>`}`,t.commandBarCol=e=>ZT.html` ${e.left&&ZT.html`<div class="${e.cname}__commandbaractionsleft ${e.left.className||""}">${e.left.buttons.map(e=>a(e))}</div>`} ${e.center&&ZT.html`<div class="${e.cname}__commandbaractionscenter ${e.center.className||""}"> ${e.center.buttons.map(e=>a(e))}</div>`} ${e.right&&ZT.html`<div class="${e.cname}__commandbaractionsright ${e.right.className||""}">${e.right.buttons.map(e=>a(e))}</div>`} 	`}(ZComponents),function(e,t){class ZTabPanel extends e.CoreComponent{get name(){return"ztabpanel"}get attrs(){return{tabAlignment:"left",tabPosition:"top",tabLabelType:"text",openOn:"click",activeTab:null,lazyLoadContent:!0,cacheContent:!0,isTabLabelHTMLEncoded:!1}}get props(){return{tabAnimation:{},tabs:null,messages:{serverError:"Server request failed. Please try again later."}}}get EVENTS(){return["tabadd","tabremove","beforeswitch","switch","tabshow","tabhide","tabclick","init"]}get SELECTORS(){return{TABPANEL:this.isCE?"z-tabpanel":"div",TABHEAD:this.isCE?"z-tabhead":"ul",TABITEM:this.isCE?"z-tab":"li",TABBODY:this.isCE?"z-tabbody":"div",TABCONTENT:this.isCE?"z-tabcontent":"div"}}_init(e,a){this._fromInit=!0,this._useParent=!0;let o=this._data;this._id=e[0].id||this._getID();let n=o.tabHeadDOM=this._getTabHead(),i=o.tabBodyDOM=this._getTabBody(),r=o.tabHeadClass="ztab__head",s=o.tabBodyClass="ztab__body";if(n&&t(n).addClass(r).attr("role","tablist"),i){let e=t(i).addClass(s).children(this._SELECTORS.TABCONTENT);e.hide(),this._addAttrsToTabContent(e)}this._setContentType(o,a),this._initTabs(o,a),o.widgetRender=!0}_addAttrsToTabContent(e){return e.addClass("ztab__content").attr("role","panel"),e}_preRender(e){return this._addedByComponent=!0,this._data.widgetRender&&(e=this._data,e.widgetRender=!0,this._setRenderData(e,this._opts)),e}_bindEvents(){this._keydownHandler&&this._addEvents({keydown:"keydown"},this.element)}_bindTabHead(){let e=t(this._data.tabHeadDOM),a=e.children();this._removeEvents("",a),this._addEvents({switch:"hover"===this._opts.openOn?"mouseenter":"click"},a)}_switchHandler(e){let a=t(e.currentTarget);e.preventDefault(),this._selectTab(a,e)}_deselectTab(e){let t=this._getTabData(e||this._activeTab);if(t){let e=t.actualData;this._activeTab===t.element&&(this._activeTab=!1,this._opts.activeTab="none"),this._updateSelection(e,!1),this._display(this._getPanel(e),!1)}}_getPanel(e){return t("#"+e.panelId,this.element)[0]}_updateSelection(e,a=!0){let o=t(e.element);a=a||null,e.active=a,o[a?"addClass":"removeClass"]("is-selected"),o.attr({"aria-selected":a,"data-selected":a})}_selectTab(e,t,a){if("none"===e)return this._deselectTab();let o=this._getTabData(e),n;if(o){let e=o.actualData;if(!e.active&&this._trigger("beforeswitch",o,t)&&!e.hidden&&!e.disabled){this._deselectTab(null,t),a||this._focusTab(e.element),this._opts.activeTab=this._activeTab=e.element,this._updateSelection(e,!0);let i=this._loadPane(o);this._display(i,!0),this._trigger("switch",o,t),n=!0}return this._trigger("tabclick",o,t),n}}_focusTab(e){e.querySelector("a").focus()}_toArr(e){return Array.isArray(e)?e:[e]}_trigger(e,a,o,n){return!!this._fromInit||(n=n||{},n.activeTab=this._opts.activeTab,a&&(n.tab=a.element,n.tabData=t.extend(!0,{},a.actualData),n.tabData.element=null),this._dispatchEvent(e,o,n,void 0,!!o))}_animate(a,o,n,i){let r=()=>{this._display(a[0],"hide"!==n),i&&i()};if(o&&e.animationHandler&&!t.isEmptyObject(o)){let t={element:a,action:n,animation:o,callback:r,ctype:this.name};e.animationHandler(t)}else r()}_setRenderData(e,t){e.alwaysSetAttrs=!0;let a=e.position=t.tabPosition;e.isVertical=/^(left|right)$/.test(a),e.isBottom=/^(right|bottom)$/.test(a);let o=t.tabAlignment;e.isVertical?!/^(top|bottom|middle)$/.test(o)&&(o="top"):!/^(left|right|center)$/.test(o)&&(o="left"),e.alignment=o,this._setWdHt(e,t)}_renderTabs(){let e=this._data;this._addedByComponent=!0,e.tabHeadDOM&&(e.tabs.forEach(e=>{e.actualData.userEle||(e.element=null)}),this._render(e.tabs,"tabs",e.tabHeadDOM,!0)),this._addedByComponent=!1,this._setTabEle(e.tabs),this._bindTabHead()}_setTabEle(e){e.forEach(e=>{let a=e.element,o=e.actualData;if(!a){a=t("#"+e.id);let n=e.customAttrs;n&&a.attr(n),e.element=o.element=a[0]}})}_setInitial(){let e=this._opts.activeTab;"none"!==e&&(e=e||this._initialTab||this._data.tabs.find(e=>!e.hidden&&!e.disabled),e?this._selectTab(e):this._opts.activeTab="none")}_postEachRender(){let e=this._data;e.widgetRender&&(e.widgetRender=!1,e.tabHeadDOM=this._getTabHead(),e.tabBodyDOM=this._getTabBody(),this._renderTabs(),this._setClassName(e,this._opts),this._setPanelListHt(),this._fromInit&&(this._setInitial(),this._fromInit=!1,this._trigger("init"))),this._addedByComponent=!1}_getTabHead(){return this._data.tabHeadDOM||this.element[0].querySelector(this._SELECTORS.TABHEAD)}_getTabBody(){return this._data.tabBodyDOM||this.element[0].querySelector(this._SELECTORS.TABBODY)}_setPanelListHt(){let e=this._getTabBody();e.style.height="",this._data.isVertical||(e.style.height="calc(100% - "+t(this._getTabHead()).outerHeight(!0)+"px")}_setWdHt(e,t){let a=this.element,o=this._getValidSize(t.height),n=this._getValidSize(t.width),i=a.attr("style"),r={};i&&i.split(";").forEach(e=>{e=e.replace(/;/g,"").split(":"),r[e[0]]=e[1]}),o&&(r.height=o),n&&(r.width=n),e.attrs={style:this._getStyle(r)}}_setClassName(e,t){e.className=this._getClassName(e,t)}_getClassName(e,t){let a="ztabpanel "+(t.className||t.zclassName||"")+(t.rtl?" zh-rtl":"")+("icon"===t.tabLabelType?" ztabpanel--icononly":"")+(e.isVertical?" ztabpanel--vertical":""),o=" ztabpanel--"+e.position+e.alignment;return a+o}_setContentType(e,t){let a=t.tabLabelType;e.hasIcon=e.hasText=!1,e.isCustom="custom"===t.tabLabelType,e.isCustom||(-1<a.indexOf("icon")&&(e.hasIcon=!0),(!e.hasIcon||-1<a.indexOf("text"))&&(e.hasText=!0))}_initTabs(e,t,a){let o=[],n=this._SELECTORS;if(e.tabHeadDOM&&!a){let a=[...e.tabHeadDOM.querySelectorAll(n.TABITEM+":not([data-custom=true]):not([data-zadded-by-template=true])")];o=a.map(a=>this._getTabEleData(a,e,t))}let i=t.tabs;i&&i.length&&(i=JSON.parse(JSON.stringify(i)),o.push(...i.map(e=>this._setTabData(e)))),t.lazyLoadContent||o.forEach(e=>this._loadPane(e)),e.tabs=o}_getValidSize(e){return e&&e+(isNaN(e)?"":"px")}_setTabData(e,t){let a=this._data,o=this._opts;e=this._getCompleteTabData(e);let n=e.element,i=e.hidden||null,r=e.disabled||null,s,l,d;!e.active||i||r||(this._initialTab=e),this._fromInit&&(e.active=!1),a.isCustom?d=e.zinnerHTML||e.innerHTML||e.labelHTML||e.label:(a.hasText&&(s=this._encodeLabel(e.label||e.labelHTML||"")),a.hasIcon&&this._setIconData(e,l={}));let c=e.style||"";i&&(c+=";display:none");let m=this._getValidSize(e.width);m&&(c+=";width:"+m);let _={id:e.id,role:"tab",tabindex:-1,className:"ztab "+(r?" is-disabled ":"")+(e.active?"is-selected ":"")+(e.zclassName||e.className||"")+" "+(e.origClass||""),label:s,icon:l,customContent:d,panelId:e.panelId,hidden:i||null,disabled:r||null,active:e.active||null,customAttrs:e.customAttributes,element:n,linkTag:e.linkTag,style:c,actualData:e,title:"icon"===o.tabLabelType?e.label:null};return t?Object.assign(t,_):t=_,this._updateTabEleAttrs(t),t}_encodeLabel(t){return t&&(this._opts.isTabLabelHTMLEncoded?t:e.encodeHTML(t))}_getCompleteTabData(e){if(!e.zdone){"string"==typeof e&&(e={label:e});let t=e.id;t||(t=this._getID(null,this._id+"-tab")),e.id=t;let a=e.panelId;a||(a=this._getID(null,this._id+"-tabcontent")),a=e.panelId=a.replace(/^#/,"")}return e.zdone=!0,e}_getTabEleData(t){let a=e._getOpts(t),o=t.querySelector("a"),n=a.label,i=a.innerHTML||o&&o.innerHTML||t.innerHTML;return o&&(o.textContent="",a.panelId=a.panelId||o.getAttribute("href")),this._setTabData(Object.assign(a,{id:t.id,element:t,label:n,hidden:a.hidden||"none"===t.style.display,labelHTML:!n&&i,innerHTML:i,linkTag:o,userEle:!0,origClass:t.getAttribute("class")}))}_display(e,t=!0){e.style.display=t?"":"none"}_updateTabEleAttrs(e){this._addedByComponent=!0;let a=e.element;if(a){let o=e.hidden,n=e.disabled,i={};Object.assign(i,{title:e.title,id:e.id,role:"tab",tabindex:-1,class:e.className,"data-panel-id":e.panelId,"data-hidden":o,"aria-hidden":o,"data-disabled":n,"aria-disabled":n,style:e.style}),t(a).attr(Object.assign(i,e.customAttrs||{})),this._updateTabContent(e)}this._addedByComponent=!1}_updateTabContent(e){let t=e.linkTag;t&&this._render(e,"anchorContent",t,!0),this._render(e,"tabContent",e.element,!0)}_getTabData(e){if(this._isNotNull(e)){let a=typeof e,o;if("string"===a||"number"===a){if(!isNaN(e))return o=this._data.tabs[e],o;e=t(e,this.element)}if(e instanceof t&&(e=e[0]),e){if(e.nodeType)o=this._data.tabs.find(t=>e.id===t.id);else if("object"==typeof e)return e;return o}}}_navNextPrevTab(e,t,a){let o=this._data.tabs;if(o.length){let n=e?-1:1,i;t===void 0?(i=this._getTabData(this._activeTab),t=i?o.indexOf(i):-1):t-=1*n;let r=o.length-1,s=t,l;do s+=1*n,0>s&&(s=r),s>r&&(s=0),i=o[s],l=i.actualData;while(s!==t&&(l.disabled||l.hidden));s!==t&&this._selectTab(i,a)}}_getNextPreviousTab(e){let a=this._getTabs(),o=a.index(this._opts.activeTab),n=t(a[o])[e?"prevAll":"nextAll"](`${this._SELECTORS.TABITEM}:not(.${this._CLASSES.DISABLED}):visible:first`);return n=n.length?n:a.filter(":not(."+this._CLASSES.DISABLED+"):visible"),n.filter(e?":last":":first")}_loadPane(a){if(a){let o=a.actualData,n=this._getPanel(o),i=!1;n||(n=t(document.createElement(this._SELECTORS.TABCONTENT)),this._addAttrsToTabContent(n),n=n[0],n.id=o.panelId,i=!0);let r=o.panelContent;return r&&(!o.contentLoaded||!this._opts.cacheContent&&r.URL)&&(o.contentLoaded=!0,r instanceof t&&(r=r[0]),r&&(r.nodeType?n.innerHTML=r.outerHTML:"string"==typeof r?n.innerHTML=o.isPanelContentHTMLEncoded?r:e.encodeHTML(r):r.URL&&this._initAjaxLoad(o,r.URL,r.queryParam,n,r.success,r.errorMessage,r.fail))),i&&this._data.tabBodyDOM.appendChild(n),n}}_setAttribute(e,t){"activeTab"===e?this._selectTab(t):this._setAdvAttribute(e,t)}openTab(e){return this._selectTab(e),this.getActiveTab()}openNextTab(){return this._navNextPrevTab(),this.getActiveTab()}openPreviousTab(){return this._navNextPrevTab(!0),this.getActiveTab()}getActiveTab(){return this._opts.activeTab}deselectAllTabs(){this._deselectTab()}_addTabs(e,a,o){let n=[],i=this._data,r=i.tabs,s=r.length;if(this._toArr(e).forEach(e=>{if(e instanceof t&&(e=e[0]),e){let t;e.nodeType?t=this._getTabEleData(e):("string"==typeof e&&(e={label:e}),"object"==typeof e&&(t=this._setTabData(e))),t&&n.push(t)}}),o&&/^(after|before)$/.test(a)&&(o=t(o,i.tabHeadDOM),o.hasClass("ztab"))){let e=this._getTabData(o[0]);s=r.indexOf(e),"after"===a&&s++}return n.length?(r.splice(s,0,...n),this._renderTabs(),n.map(e=>(this._trigger("tabadd",e),e.element))):void 0}_deleteTab(e,a,o){if(this._isNotNull(e)){let n=[],i;this._toArr(e).forEach(e=>{let t=this._getTabData(e);if(t){n.push(t);let e=this._data.tabs,a=e.indexOf(t);e.splice(a,1);let o=t.actualData;o.active&&(i=a,this._deselectTab(t))}}),o||this._renderTabs(),n.forEach(e=>{a&&t(this._getPanel(e.actualData)).remove(),this._trigger("tabremove",e)}),i!==void 0&&this._navNextPrevTab(!1,i)}}addTab(){return this._addTabs(...arguments)}removeTab(e,t){return this._deleteTab(e,t)}_initAjaxLoad(e,a,o,n,i,r,s){t.ajax({url:a,data:o,success:t=>{"function"==typeof i&&(t=i.call(e.element,t)),n.innerHTML=t},error:()=>{let t;"function"==typeof s&&(t=s.call(arguments)),e.contentLoaded=!1,n.innerHTML=t||r||this._getI18NText("serverError")}})}_destroy(){let e=this._data,a=t(e.tabHeadDOM),o=t(e.tabBodyDOM).removeAttr("style");this._removeEvents("",a),o.children().show().removeClass("ztab__content");let n=a.children();this._removeEvents("",n),n.toArray().forEach(e=>{let a=this._getTabData(e).actualData,o=t(e);o.attr("data-zd-created")?o.remove():o.show().attr("class",a.origClass||"").find("i.ztabpanel__icon").remove()}),this.element.removeClass("ztabpanel")}_setIconData(t,a){e._getIconInfo(t.iconClassName||t.iconClass,t.SVGIconId,null,"ztabpanel__icon",a)}_keydownHandler(t){if(!(!t.shiftKey||t.metaKey||t.ctrlKey||16===t.keyCode)&&document.activeElement.parentElement.parentElement===this._getTabHead()){let a=t.keyCode||t.charCode,o=this._data.isVertical,n=e.keyCode[o?"DOWN":"RIGHT"],i=e.keyCode[o?"UP":"LEFT"];switch(a){case n:this._navNextPrevTab(!1,void 0,t),t.preventDefault();break;case i:this._navNextPrevTab(!0,void 0,t),t.preventDefault();break;case e.keyCode.HOME:this._navNextPrevTab(!1,this._data.tabs.length,t),t.preventDefault();break;case e.keyCode.END:this._navNextPrevTab(!0,0,t),t.preventDefault();break;default:}}}_setAdvAttribute(e,t){let a=this._data,o=this._opts;this._addedByComponent=!0;"openOn"===e?(o[e]=t,this._bindTabHead()):"tabPosition"===e?(o[e]=t,this._domChanged=a.widgetRender=!0):"tabAlignment"===e?(o[e]=t,this._setRenderData(a,o),this._setClassName(a,o)):"tabLabelType"===e?(o[e]=t,this._setContentType(a,o),a.tabs.forEach(e=>this._setTabData(e.actualData,e)),this._setClassName(a,o)):"tabs"===e?(o[e]=t,this._initTabs(a,o,!0),this._domChanged=a.widgetRender=!0):"width"===e||"height"===e||"className"===e||"zclassName"===e?(o[e]=t,this._domChanged=a.widgetRender=!0):"cacheData"===e||"lazyLoadContent"===e||"tabAnimation"===e?o[e]=t:"isTabLabelHTMLEncoded"===e?(o[e]=t,this._data.tabs.forEach(e=>{this._setTabData(e.actualData,e)})):void 0;this._addedByComponent=!1}_setTabAttribute(e,t,a){if(e){let o=e.actualData,n=o.element;if("disabled"===t)return this._disableTab(e,a);if("hidden"===t)return this._hideTab(e,a);if("active"===t)return a?this._selectTab(e):this._deselectTab(e);if(("panelId"===t||"panelContent"===t)&&(o.contentLoaded=!1,this._activeTab===n)){"panelId"===t&&this._display(this._getPanel(o),!1),o[t]=a;let n=this._loadPane(e);this._display(n,!0)}o[t]=a,this._resetTabData=!0}}setTabAttributes(e,a,o){this._addedByComponent=!0,e&&this._toArr(e).forEach(e=>{this._resetTabData=!1;let n=this._getTabData(e);if(n){if("object"==typeof a&&!t.isEmptyObject(a))for(let e in a)this._setTabAttribute(n,e,a[e]);else this._setTabAttribute(n,a,o);this._resetTabData&&this._setTabData(n.actualData,n)}}),this._addedByComponent=!1}_disableTab(e,a=!0){this._toArr(e).forEach(e=>{let o=this._getTabData(e);if(o){let e=o.actualData,n=t(e.element);a&&e.active&&(this._navNextPrevTab(),this._deselectTab(o)),e.disabled=a=a||null,n[a?"addClass":"removeClass"]("is-disabled"),n.attr({"aria-disabled":a,"data-disabled":a})}})}disableTab(e){this.setTabAttributes(e,"disabled",!0)}enableTab(e){this.setTabAttributes(e,"disabled",!1)}_hideTab(e,a=!0){a=a||null;let o;this._toArr(e).forEach(e=>{let n=this._getTabData(e),i=()=>{this._addedByComponent=!0,r.attr({"aria-hidden":a,"data-hidden":a}),this._trigger(a?"tabhide":"tabshow",n),this._addedByComponent=!1},r;if(n){let e=n.actualData;e.hidden=a,r=t(e.element);let s="none"===r[0].style.display;if(s!==a){if(a&&e.active){let e=this._data.tabs,t=e.indexOf(n);o=t,this._deselectTab(n)}e.hidden=a,this._animate(r,this._opts.tabAnimation,a?"hide":"show",i)}}}),o!==void 0&&this._navNextPrevTab(!1,o)}showTab(e){this.setTabAttributes(e,"hidden",!1)}hideTab(e){this.setTabAttributes(e,"hidden",!0)}}e.registerComponent("ZTabPanel",ZTabPanel)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.ztabpanel.Templates,a=e.Templates.Utilities;t.WCChildren=e=>{let a=ZT.html` ${!e.isBottom&&t.WCTabHead(e)} ${e.tabBodyDOM||ZT.html`<z-tabbody class="${e.tabBodyClass}"> </z-tabbody>`} ${e.isBottom&&t.WCTabHead(e)} `;return a},t.WCTabHead=e=>{let a=e.tabHeadDOM||ZT.html`<z-tabhead role=tablist class="${e.tabHeadClass}"> ${t.WCTabs(e.tabs)} </z-tabhead>`;return a},t.WCTabs=e=>{let a=e.map(e=>t.WCTab(e));return a},t.WCTab=e=>{let a=e.element||ZT.html`<z-tab data-zd-created=true role="tab" ?title=${e.title} tabindex=-1 ?id="${e.id}" class="${e.className}" ?style="${e.style}" data-panel-id=${e.panelId} ?aria-disabled="${e.disabled?"true":""}" ?data-disabled=${e.disabled?"true":""} ?aria-hidden=${e.hidden?"true":""} ?data-hidden=${e.hidden?"true":""}>${t.WCTabContent(e)} </z-tab>`;return a},t.WCTabContent=e=>{let a=e.linkTag||ZT.html`<a tabindex="-1" href=#${e.panelId} > ${t.WCAnchorContent(e)} </a>`;return a},t.WCAnchorContent=e=>{let t=ZT.html` ${ZT.customHTML("")} ${e.customContent&&ZT.customHTML(e.customContent)} ${e.icon&&a.WCIcon(e.icon)} ${e.label&&ZT.html`<span class="ztabpanel__text">${ZT.customHTML(e.label)}</span>`}`;return t}}(ZComponents),function(e){let t=e.ztabpanel.Templates,a=e.Templates.Utilities;t.children=e=>{let a=ZT.html` ${!e.isBottom&&t.tabHead(e)} ${e.tabBodyDOM||ZT.html`<div class="${e.tabBodyClass}"> </div>`} ${e.isBottom&&t.tabHead(e)} `;return a},t.tabHead=e=>{let a=e.tabHeadDOM||ZT.html`<ul role=tablist class="${e.tabHeadClass}"> ${t.tabs(e.tabs)} </ul>`;return a},t.tabs=e=>{let a=e.map(e=>t.tab(e));return a},t.tab=e=>{let a=e.element||ZT.html`<li data-zd-created=true role="tab" ?title=${e.title} tabindex=-1 ?id="${e.id}" class="${e.className}" ?style="${e.style}" data-panel-id=${e.panelId} ?aria-disabled="${e.disabled?"true":""}" ?data-disabled=${e.disabled?"true":""} ?aria-hidden=${e.hidden?"true":""} ?data-hidden=${e.hidden?"true":""}>${t.tabContent(e)} </li>`;return a},t.tabContent=e=>{let a=e.linkTag||ZT.html`<a tabindex="-1" href=#${e.panelId} > ${t.anchorContent(e)} </a>`;return a},t.anchorContent=e=>{let t=ZT.html` ${ZT.customHTML("")} ${e.customContent&&ZT.customHTML(e.customContent)} ${e.icon&&a.icon(e.icon)} ${e.label&&ZT.html`<span class="ztabpanel__text">${ZT.customHTML(e.label)}</span>`}`;return t}}(ZComponents),function(e,t){class ZAdvancedTabPanel extends e.ZTabPanel{get name(){return"zadvancedtabpanel"}get attrs(){return{closeableTabs:!1,reorderableTabs:!1,collapsible:!1,tabWidth:"auto",overflow:"scroll",editable:!1,previousButtonIconClassName:null,previousButtonSVGIconId:null,nextButtonIconClassName:null,nextButtonSVGIconId:null}}get props(){return{overflowScrollSettings:{distance:100,duration:200},labels:{nextButton:"Next",previousButton:"Previous"}}}_getClassName(){let e=super._getClassName(...arguments);return"zadvancedtabpanel "+e}_postEachRender(){let e=this._data;if(this._overflowRender){let a=e.tabHeadDOM;if(a.style.width="",e.exceeded){let o=e.actionButtons,n=this._getById(o.id),i=t(a),r=n.position(),s=this.element.width();a.style.width="calc(100% - "+(s-r.left)+"px)";let l=this._getById(o.prevBtn.id),d=this._getById(o.nextBtn.id);this._addEvents({prevBtnDown:"mousedown"},l),this._addEvents({nextBtnDown:"mousedown"},d),this._addEvents({navBtnUp:"mouseup"},this.element),this._tabHeadProps={width:i.outerWidth(),offset:i.offset(),scrollWidth:a.scrollWidth-2},this._storeAdvRef(),this._updateNavBtnsState()}}else super._postEachRender(...arguments),(!this._fromInit||e.widgetRender)&&this._updateOverFlowSettings()}_focusTab(e){this._skipFocus||super._focusTab(...arguments)}_selectTab(e,a){if(super._selectTab(e,a,!0)){let e=this._activeTab;return"scroll"===this._opts.overflow&&this._moveTabHead(void 0,t(e)),e}}_prevBtnDownHandler(){this._scrollStarted=!0,this._currentDir="left",this._moveTabHead(this._currentDir)}_nextBtnDownHandler(){this._scrollStarted=!0,this._currentDir="right",this._moveTabHead(this._currentDir)}_navBtnUpHandler(){this._scrollStarted=!1}_moveTabHead(e,a,o){if(a||this._currentDir===e){o=!(o!==void 0)||o;let s=this._opts.overflowScrollSettings.distance*("left"===e?-1:1),l=this._data.tabHeadDOM,d=t(l);if("scroll"===this._opts.overflow&&this._data.exceeded){let t=this._getBarDimensions(),l;if(a){var n=a.offset().left-t.offset.left+t.scrollLeft,i=t.scrollLeft-n;if(0<i)l=n;else{var r=Math.round(n+a.outerWidth()-(t.ulwidth+t.scrollLeft));if(0<r)l=t.scrollLeft+r;else return}}else l=t.scrollLeft+ +s;o?d.finish().animate({scrollLeft:l},parseInt(this._opts.overflowScrollSettings.duration)||"fast","linear",()=>{a?this._focusTab(a[0]):this._scrollStarted&&("left"===e?0<l:l<t.ulwidth)&&this._moveTabHead(e),this._updateNavBtnsState()}):(d.finish().scrollLeft(l),a&&this._focusTab(a[0]),this._updateNavBtnsState())}}}_storeAdvRef(){let e=this._data;this._prevBtnEle=this._getById(e.actionButtons.prevBtn.id),this._nextBtnEle=this._getById(e.actionButtons.nextBtn.id)}_disableNavBtn(e,t=!0){let a=e.prop("disabled");a!==t&&e.prop("disabled",t)[t?"addClass":"removeClass"]("is-disabled")}_updateNavBtnsState(){let e=this._data.tabHeadDOM.scrollLeft,t=this._tabHeadProps,a=!1,o=!1;if(e){let a=e+t.width;a>=t.scrollWidth&&(o=!0)}else a=!0;this._disableNavBtn(this._prevBtnEle,a),this._disableNavBtn(this._nextBtnEle,o)}_getBarDimensions(){let e={},t=this._data.tabHeadDOM,a=this._tabHeadProps;return e.scrollWidth=a.scrollWidth,e.ulwidth=a.width,e.offset=a.offset,e.scrollLeft=t.scrollLeft,e.scrollRight=e.scrollWidth-e.scrollLeft-e.ulwidth,e}_getById(e){return this.element.find("[id="+e+"]")}_updateOverFlowSettings(){let t=this._data,a=this._opts.overflow;t.actionButtons={overflow:a,id:this._getKeyID("actionBtns")};let o=!!this._data.exceeded,n=this._data.exceeded=this._isExceeded();n&&"scroll"===a&&(t.actionButtons.prevBtn=e.ZButton.getBtnProps(this._getNavBtnProps("previousButton")),t.actionButtons.nextBtn=e.ZButton.getBtnProps(this._getNavBtnProps("nextButton"))),o!==n&&(this._overflowRender=!0,this._render(),this._overflowRender=!1)}_getNavBtnProps(t){let a=this._opts,o=a[t+"SVGIconId"],n;return o||(n=a[t+"IconClassName"]||a[t+"IconClass"],!n&&(o="previousButton"===t?"zc__svg--arrowleft":"zc__svg--arrowright")),e.ZButton.getBtnProps({id:this._getKeyID(t),rtl:this._opts.rtl,templateRender:!0,ctype:"button",className:"ztabpanel__navbutton",iconClassName:n,SVGIconId:o,defaultIconClassName:"ztabpanel__navbuttonicon",title:this._getI18NText(t)})}_getKeyID(e){return"z"+this._id+"-"+e}_isExceeded(){let e=this._data.tabHeadDOM,t=e.offsetWidth,a=e.scrollWidth;return a>t}}e.registerComponent("ZAdvancedTabPanel",e.ZTabPanel,ZAdvancedTabPanel)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zadvancedtabpanel.Templates;t.WCChildren=e=>{let a=ZT.html` ${!e.isBottom&&t.WCTabHead(e)} ${e.exceeded&&t.WCActionButtons(e.actionButtons)} ${e.tabBodyDOM||ZT.html`<zt-tabbody class="${e.tabBodyClass}"> </zt-tabbody>`} ${e.isBottom&&t.WCTabHead(e)} `;return a},t.WCActionButtons=t=>{let a=ZT.html`<div id=${t.id} class="ztabpanel__navbuttons"> ${e.zbutton.Templates.WCContainer(t.prevBtn)} ${e.zbutton.Templates.WCContainer(t.nextBtn)} </div>`;return a}}(ZComponents),function(e){let t=e.zadvancedtabpanel.Templates;t.children=e=>{let a=ZT.html` ${!e.isBottom&&t.tabHead(e)} ${e.exceeded&&t.actionButtons(e.actionButtons)} ${e.tabBodyDOM||ZT.html`<zt-tabbody class="${e.tabBodyClass}"> </zt-tabbody>`} ${e.isBottom&&t.tabHead(e)} `;return a},t.actionButtons=t=>{let a=ZT.html`<div id=${t.id} class="ztabpanel__navbuttons"> ${e.zbutton.Templates.container(t.prevBtn)} ${e.zbutton.Templates.container(t.nextBtn)} </div>`;return a}}(ZComponents),function(e,t){class ZColorBase extends e.CoreComponent{get name(){return"zcolorbase"}get attrs(){return{value:"rgba(0,0,0,1)",colorModel:"auto",pickerId:null,pickerType:"basic",forElement:null,disabled:!1,appliedFor:"fill",arrowIconClass:null,arrowSVGIconId:null,previewBorderStyle:null,previewBorderWidth:null,resetPickerOptions:!1,icon:!1,width:null,iconClass:null,SVGIconId:null,rtl:null,locale:null,tabIndex:null}}get props(){return{iconClassName:null,arrowIconClassName:null,pickerOptions:{},labels:{noStroke:"No Stroke",noColor:"No Fill","aria-label":"Current selected color is #value#"}}}get CLASSES(){return{CONTAINER:"zcolorbase",ACTIVE:"is-active",PREVIEW:"zcolorbutton__preview",ICON:"zbutton__icon",ARROW:"zcolorfield__arrow"}}get EVENTS(){return["change","select","pick","beforepickeropen","pickeropen","beforepickerclose","pickerclose","colorpanmouseover","colorpanmouseout","colorpanclick","beforefocus","focus","blur","click"]}_init(e,t){this._fromInit=!0,this._id=this._getID(),this._namespace=".zcolorbase",t.value=t.value||e[0].value,this._setInitial(),this._fromInit=!1}_postEachRender(){let e=this._data,t=this._opts;if(!e.rendered||this._domChanged){let e=t.width||!this._useParent&&this.element[0].style.width;e&&(this.container[0].style.width=isNaN(e)?e:e+"px")}this._storeRef(e,t),this._setClassName(e,t),this._updateElementValue(e,t),this._reopen&&(this._open(),this._reopen=!1)}_preRender(){return this._setRenderData(this._data,this._opts,this.element),this._data}_setRenderData(t,a,o){let n=this._selectedInstance;t.opened=this._opened,t.nofill=!a.icon&&this._noFill,t.color=n.getColor();let i=t.attrs=t.attrs||{};if(i["aria-label"]=this._getI18NText("aria-label").replace(/#value#/g,n.getColor("hexa")),!t.rendered||this._domChanged){let n=t.colorMode=a.colorModel;e.ColorUtil.REGEX.colorMode.test(n)||(t.colorModel=this._getClrInstance(a.value).format,a.colorModel="auto"),t.alwaysSetAttrs=!0,t.pickerId=a.pickerId,t.disabled=a.disabled||o[0].disabled,i.tabindex=!t.disabled&&(a.tabIndex||o[0].tabIndex),t.rtl=a.rtl,t.stroke="stroke"===a.appliedFor,t.icon=t.arrow=t.previewStyleAttr=!1,a.icon&&e._getIconInfo(a.iconClassName||a.iconClass,a.SVGIconId,null,null,t.icon={}),this.isCE||(i.title=o.attr("title")),a.arrowIcon&&(t.arrow={disabled:t.disabled,rtl:t.rtl,isCE:this.isCE},this._setArrowData(t,a))}(t.stroke||t.icon)&&(t.previewStyleAttr=this._getStyle({"border-color":t.color,"border-style":a.previewBorderStyle||"solid","border-width":a.previewBorderWidth||(t.icon?"0px 0px 2px 0px":"3px")})),this._setTogglerData(i,a)}_setArrowData(t,a){let o=this._CLASSES;e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"zc__svg--downarrow "+o.ARROWSVGICON,(o.ICON||"")+" "+(o.ARROW||""),t.arrow)}_setTogglerData(e,t){Object.assign(e,{"aria-owns":t.pickerId,"aria-haspopup":!0,"aria-expanded":this._opened})}_setClassName(e,t,a=""){let o=this._CLASSES,n=e=>{e&&(a+=" "+e)};n(o.CONTAINER),n(t.zclassName||t.className),this._opened&&n(o.ACTIVE),e.disabled&&n("is-disabled"),e.rtl&&n("zh-rtl"),e.className=a}_bindEvents(){this._addEvents({focus:"focusin",blur:"focusout",click:"click"},this.container),this._addEvents({toggleBtnClick:"mousedown",toggleBtnKeydown:"keydown"},this._toggler)}_toggleBtnClickHandler(e){e.button||this._togglePicker(e)}_toggleBtnKeydownHandler(t){let a=t.keyCode,o=e.keyCode;(a===o.ENTER||a===o.SPACE||a===o.DOWN&&this._data.arrow)&&(this._togglePicker(t),a===o.DOWN&&t.preventDefault())}_focusHandler(e){clearTimeout(this._blurTimer),this._focussed||this._trigger("focus",e),this._focussed=!0}_blurHandler(e){clearTimeout(this._blurTimer),this._blurTimer=setTimeout(()=>{this._focussed=!1,this._trigger("blur",e)})}_clickHandler(e){this._opts.disabled||this._trigger("click",e)}_storeRef(e,t){if(!e.rendered||this._domChanged){this._previewBox=!1;let e=this._CLASSES,t=this.container,a=t.find("."+e.PREVIEW);a.length&&(this._previewBox=a),this._toggler=t}}_setInitial(){let e=this._opts,t=this._getClrInstance(e.value);"none"===e.value||"transparent"===e.value||t.isValid()||(e.value=this._DEFAULTS.value),this._setValue(e.value)}_getClrInstance(t){return e.ColorUtil.getColorInstance(t)}_setPickerAttributes(a){let o=this._opts,n=this._data,i=this._currentClrField,r=n.picker,s="colorpicker",l="createColorPicker";if("advanced"===o.pickerType&&(s="advancedcolorpicker",l="createAdvancedColorPicker"),!r){let e=o.pickerId||"picker-"+this._id;r=n.picker={...{noColorButtonLabel:this._getI18NText(n.stroke?"noStroke":"noColor"),forElement:this._opts.forElement||this.container},...(o.pickerOptions||{}),...{valueColorModel:o.colorModel,type:"popup",rtl:o.rtl,locale:o.locale,isCE:o.isCE,id:e,ctype:s,beforedestroy:this._pickerDestroyHandler.bind(this)}},this._toggler.attr("aria-owns",e)}let d=this._picker=t("#"+r.id);if(r.value=this._noFill?"transparent":this.getValue(),d&&d.length){let n=this._getPickerName();if(n){let l=e[n](d);if(this._opened||l.close(a),s===n){if(o.pickerId){if(o.resetPickerOptions&&(r=t.extend(!0,{},l._DEFAULTS,r)),"colorpicker"===n){let e=r.advancedPickerOptions=r.advancedPickerOptions||{};e.currentColorField=i}else r.currentColorField=i;l.setAttributes(r)}else this._updateAdvPicker&&(l.setAttributes(r),this._updateAdvPicker=!1);return}this._destroyPicker()}}this._picker=d=t(e[l](r)),r.instance=e[s](d)}_pickerDestroyHandler(){this._picker=this._opened=!1,this._updateUI()}_destroyPicker(){if(this._picker){let e=this._picker;this._callPickerMethod("destroy"),this.isCE&&e.remove()}}_bindPickerEvents(){let e=this._picker,t="z"+this._data.picker.ctype,a=this.isCE?"z":t,o="."+this.name+"."+t;e.off(o),["select","pick","close","beforeClose","open","beforeOpen","colorPanMouseOver","colorPanMouseOut","colorPanClick","focus"].forEach(t=>{e.on(a+t.toLowerCase()+o,this._pickerCallback.bind(this,this["_"+t+"Handler"]))})}_pickerCallback(e,t){let a=t.detail;t=t.originalEvent,this.isCE&&(a=t.detail,t=t.originalEvent),e.call(this,t,a)}_colorPanMouseOverHandler(e,t){this._trigger("colorpanmouseover",e,t)}_colorPanMouseOutHandler(e,t){this._trigger("colorpanmouseout",e,t)}_colorPanClickHandler(e,t){this._trigger("colorpanclick",e,t)}_openHandler(e,t){this._opened=!0,this._updateUI(),this._trigger("pickeropen",e,t)}_beforeOpenHandler(){}_closeHandler(e,t){this._opened=!1,this._currentClrField=t.options.currentColorField,this._updateUI(),e&&e.currentTarget!==document?this.setFocus(e):this._blurHandler(e),this._removeEvents("",this._picker),this._trigger("pickerclose",e,t)}_beforeCloseHandler(e,t){return this._trigger("beforepickerclose",e,t)}_open(e){this._trigger("beforepickeropen",e)&&(this._setPickerAttributes(e),this._bindPickerEvents(),this._callPickerMethod("open",void 0,e))}_close(e){this._opened&&this._callPickerMethod("close",e)}_selectHandler(e,t){this._opened&&t.fromUI&&this._trigger("select",e,t)}_pickHandler(e,t){this._opened&&t.fromUI&&(this._setValue(t.rgb,e,t,!1),this._trigger("pick",e,t))}_setValue(e,t,a,o=!0){let n="none"===e||"transparent"===e,i=this._getClrInstance(n?"transparent":e);if(i.isValid()){let e=this._selectedInstance&&this._selectedInstance.getColor();this._selectedInstance=i,this._noFill=a&&a.noColorButtonClick||n,this._updateUI();let r=i.getColor();e!==r&&(this._opened&&o?this._callPickerMethod("setValue",r):this._updateAdvPicker=o,this._trigger("change",t,a))}}_updateElementValue(e,t){t.value=this._noFill?"transparent":this._selectedInstance.getColor(e.colorMode,void 0,"auto"===this._opts.colorModel)}_trigger(e,t,a){if(!this._fromInit){let o=this._selectedInstance,n=this._picker;return a=a||{},a.value=a.color=this.getValue(),a.rgb=o.getColor(),a.opacity=o.getAlpha(),a.colorData=o.getObject(this._data.colorMode),a.picker=n&&n[0],t=t&&t.originalEvent?t.originalEvent:void 0,this._dispatchEvent(e,t,a,void 0,!!t)}return!0}_togglePicker(e){this._opts.disabled||(this._opened?(!e||"keydown"!==e.type)&&this._close(e):this._open(e))}_callPickerMethod(t,a,o){e[this._getPickerName()](this._picker)[t](a,o)}_getPickerName(){let e=this._picker.data();return e.zcolorpicker?"colorpicker":e.zadvancedcolorpicker?"advancedcolorpicker":void 0}_updateUI(){this._data.rendered&&!this._domChanged&&this._render()}_disable(e){this._domChanged=!0,super._disable(e),this.closePicker()}_setAdvAttribute(e,t){let a=this._opts;/^(pickerId|pickerType|pickerOptions|appliedFor|rtl|locale|forElement|colorModel)$/.test(e)?(a[e]=t,this._reopen=this._opened,this._domChanged=this._updateAdvPicker=!0,"pickerId"===e&&this.closePicker(),this._data.picker=!1):/^(icon|iconClassName|iconClass|SVGIconId|arrowIconClassName|arrowIconClass|arrowSVGIconId|previewBorderWidth|previewBorderStyle|tabIndex|width)$/.test(e)&&(a[e]=t,this._domChanged=!0)}_setAttribute(e,t){let a;return this._addedByComponent=!0,"value"===e?(this._domChanged=!0,this.setValue(t)):a=this._setAdvAttribute(e,t),this._addedByComponent=!1,a}setFocus(e){this._trigger("beforefocus",e)&&this._toggler.focus()}openPicker(e){this._open(e)}closePicker(e){this._close(e)}getValue(){return this._opts.value}setValue(e,t){this._setValue(e,t)}_destroy(){this._destroyPicker(),clearTimeout(this._focusTimer),clearTimeout(this._blurTimer),this.element.empty()}}e.registerComponent("ZColorBase",ZColorBase)}(ZComponents,ZComponents.DOMUtil),function(e){class ZColorChooser extends e.ZColorBase{get name(){return"zcolorchooser"}get CLASSES(){return{CONTAINER:"zcolorchooser",ACTIVE:"is-selected"}}_render(){this._useParent=!0,this._preRender(),this._postEachRender(),this._data.rendered=!0}_storeRef(){this._toggler=this.container=this.element}}e.registerComponent("ZColorChooser",e.ZColorBase,ZColorChooser)}(ZComponents,ZComponents.DOMUtil),function(e){class ZColorSelect extends e.ZColorBase{get name(){return"zcolorselect"}get attrs(){return{tabIndex:0,arrowIcon:!0}}get CLASSES(){return{CONTAINER:"zselectbox zcolorselect zselectbox--icononly",ICON:"zselectbox__icon",PREVIEW:"zcolorselect__preview",ARROWSVGICON:"zselectbox__arrow"}}_bindEvents(){super._bindEvents(),this._handleFocus(this.container)}_setRenderData(){super._setRenderData(...arguments),this._data.attrs.role="button"}_setClassName(e,t){super._setClassName(e,t,e.arrow?"":"zcolorselect--withoutarrow")}_setAttribute(e,t){/^(arrowIcon)$/.test(e)?(this._opts[e]=t,this._domChanged=!0):super._setAttribute(e,t)}}e.registerComponent("ZColorSelect",e.ZColorBase,ZColorSelect)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcolorselect.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=e=>ZT.html`<div class="zselectbox__selected"> ${e.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:e.icon||e.stroke?ZT.html`<span class="zcolorselect__preview" style="${e.previewStyleAttr}">${e.icon&&a.WCIcon(e.icon)}</span>`:ZT.html`<span class="zcolorselect__preview zh-transparentbg"><canvas style="background-color: ${e.color};"></canvas></span>`} </div> ${e.arrow&&a.WCIcon(e.arrow)}`}(ZComponents),function(e){let t=e.zcolorselect.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=e=>ZT.html`<div class="zselectbox__selected"> ${e.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:e.icon||e.stroke?ZT.html`<span class="zcolorselect__preview" style="${e.previewStyleAttr}">${e.icon&&a.icon(e.icon)}</span>`:ZT.html`<span class="zcolorselect__preview zh-transparentbg"><canvas style="background-color: ${e.color};"></canvas></span>`} </div> ${e.arrow&&a.icon(e.arrow)}`}(ZComponents),function(e){class ZColorButton extends e.ZColorBase{get name(){return"zcolorbutton"}get CLASSES(){return{CONTAINER:"zbutton zcolorbutton",ACTIVE:"is-selected"}}_bindEvents(){super._bindEvents(),this._handleFocus(this._toggler)}}e.registerComponent("ZColorButton",e.ZColorBase,ZColorButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcolorbutton.Templates,a=e.Templates.Utilities;t.WCContainer=()=>ZT.html`<button>`,t.WCChildren=e=>ZT.html`${e.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:e.icon||e.stroke?ZT.html`<span class="zcolorbutton__preview" style="${e.previewStyleAttr}">${e.icon&&a.WCIcon(e.icon)}</span>`:ZT.html`<span class="zcolorbutton__preview zh-transparentbg"><canvas style="background-color: ${e.color};"></canvas></span>`}`}(ZComponents),function(e){let t=e.zcolorbutton.Templates,a=e.Templates.Utilities;t.container=()=>ZT.html`<button>`,t.children=e=>ZT.html`${e.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:e.icon||e.stroke?ZT.html`<span class="zcolorbutton__preview" style="${e.previewStyleAttr}">${e.icon&&a.icon(e.icon)}</span>`:ZT.html`<span class="zcolorbutton__preview zh-transparentbg"><canvas style="background-color: ${e.color};"></canvas></span>`}`}(ZComponents),function(e,t){class ZColorSplitButton extends e.ZColorBase{get name(){return"zcolorsplitbutton"}get CLASSES(){return{ARROW:"zcolorfield__arrow",ARROWSVGICON:"zbutton__svg zbutton__splitarrow",CONTAINER:"zcolorsplitbutton zbutton--split zbutton--splitnormal",ACTIVE:"is-selected"}}get EVENTS(){return["arrowclick"]}_bindEvents(){super._bindEvents();let e=this.container.find("button");this._handleFocus(t(e[0])),this._handleFocus(t(e[1])),this._addEvents({previewClick:"mousedown"},t(e[0]))}_setRenderData(e,t,a){t={...t,...{arrowIcon:!0,tabindex:-1}},super._setRenderData(e,t,a)}_setArrowData(t,a){let o=a.arrowSVGIconId,n;o||(n=a.arrowIconClassName||a.arrowIconClass,!n&&(o="zc__svg--downarrow")),o&&(o+=" "+this._CLASSES.ARROWSVGICON),t.arrow=e.ZButton.getBtnProps({...t.arrow,...{id:this._id+"arrow",templateRender:!0,iconClassName:n,SVGIconId:o,defaultIconClassName:this._CLASSES.ARROW}})}_setTogglerData(e,t){e=this._data.arrow.customAttributes={},super._setTogglerData(e,t),e.zclassName="zcolormenubutton",this._toggler&&this._toggler[this._opened?"addClass":"removeClass"]("is-selected")}_toggleBtnClickHandler(e){e.button||(this._trigger("arrowclick",e,{arrowClick:!0}),super._toggleBtnClickHandler(e))}_previewClickHandler(e){this.closePicker(e)}_storeRef(e,t){if(!e.rendered||this._domChanged){super._storeRef(...arguments);let t=e.arrow;this._toggler=t.mainElement=this.container.find("."+this._CLASSES.ARROW).parent()}}}e.registerComponent("ZColorSplitButton",e.ZColorBase,ZColorSplitButton)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcolorsplitbutton.Templates,a=e.Templates.Utilities;t.WCContainer=e=>ZT.html`<div>${e.children&&t.WCChildren(e)}</div>`,t.WCChildren=t=>{let o=ZT.html` <button ?disabled=${t.disabled} ?aria-disabled=${t.disabled} role="button" type="button" class="zcolorbutton zbutton zbutton--icononly ${t.disabled?"is-disabled":""}"> ${t.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:t.icon||t.stroke?ZT.html`<span class="zcolorbutton__preview" style="${t.previewStyleAttr}">${t.icon&&a.WCIcon(t.icon)}</span>`:ZT.html`<span class="zcolorbutton__preview zh-transparentbg"><canvas style="background-color: ${t.color};"></canvas></span>`} </button> ${e.zbutton.Templates.WCContainer(t.arrow)}`;return o}}(ZComponents),function(e){let t=e.zcolorsplitbutton.Templates,a=e.Templates.Utilities;t.container=e=>ZT.html`<div>${e.children&&t.children(e)}</div>`,t.children=t=>{let o=ZT.html` <button ?disabled=${t.disabled} ?aria-disabled=${t.disabled} role="button" type="button" class="zcolorbutton zbutton zbutton--icononly ${t.disabled?"is-disabled":""}"> ${t.nofill?ZT.html`<span class="zcolorbutton__preview zh-nofill"></span>`:t.icon||t.stroke?ZT.html`<span class="zcolorbutton__preview" style="${t.previewStyleAttr}">${t.icon&&a.icon(t.icon)}</span>`:ZT.html`<span class="zcolorbutton__preview zh-transparentbg"><canvas style="background-color: ${t.color};"></canvas></span>`} </button> ${e.zbutton.Templates.container(t.arrow)}`;return o}}(ZComponents),function(e,t){class ZCarousel extends e.CoreComponent{get name(){return"zcarousel"}get attrs(){return{autoPlay:!1,transitionDuration:500,autoPlayInterval:2e3,pauseOnHover:!0,showArrowIcon:!0,pagination:!0,filmStrip:!0,infoButton:!1,showImageCount:!0,slideShow:!0,effect:"default",display:"dialog",labels:{next:"Next",previous:"Previous",closeButton:"Ok, Got it",fullScreen:"Full Screen",close:"Close",info:"Info",slideshow:"SlideShow",filmstrip:"Filmstrip View",showFilmStrip:"Show Filmstrip",hideFilmStrip:"Hide Filmstrip",play:"Play",pause:"Pause",morefilesselected:"{0} images selected.",selectedimageposition:"{0} of {1}",notFound:"Image not Found",unableToLoad:"Unable to Load Image. Please try again",imageResolution:"Resolution",imageSize:"Size",retry:"Retry"}}}get EVENTS(){return["open","beforechange","afterchange","close"]}_init(t,a){let o=this._data,n=this.element.children().first(),r;if(o.pagination=a.pagination,o.slideCount=r=n.children().length,this._autoPlayTimer=void 0,t.addClass("zcarousel zcarousel--"+a.display),n.addClass("zcarousel-slides"),r){a.showArrowIcon&&(o.arrow=e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"#zc__svg--downarrow zcarousel__svg","zcarousel__icon"),o.prevLabel=this._getI18NText("previous"),o.nextLabel=this._getI18NText("next")),o.bullets=[];for(let e=0;e<r;e++)o.bullets.push({className:a.bulletClassName||a.bulletClass||""})}this._createThumbnail(),this._createFooterButtons()}_createThumbnail(){let e=this.element.children().children(),a=this._data;if(a.thumbnail=[],!this._opts.thumbnail&&e)for(let o of e)a.thumbnail.push({src:t(o).find("img")[0].getAttribute("src")})}_createFooterButtons(){let e=this._opts,t=this._data,a=[];e.filmStrip&&a.push(this._getBtnProps("filmstrip")),e.infoButton&&a.push(this._getBtnProps("info")),e.slideShow&&a.push(this._getBtnProps("slideshow")),t.footerButtons=a}_getBtnProps(t,a){return e.ZButton.getBtnProps({title:this._getI18NText(t),type:"icon",className:`zcarousel__button zcarousel--${t}`,iconClassName:this._opts[`${t}iconClassName`],SVGIconId:this._opts[`${t}SVGIconId`],defaultSVGIconId:`zsg-${t}-icon`,templateRender:!0})}_render(){let e=this.element,t=this._opts;if("dialog"===t.display){let t=e.outerWidth(!0),a=e.outerHeight(!0),o=(window.innerWidth-t)/2,n=(window.innerHeight-a)/3;e.zdialog({position:[o,n],width:t,height:a,className:"zcarousel__dialog",resizable:!1,handleFocusNavigation:!1,type:"modal",buttons:[{text:this._getI18NText("closeButton"),action:e=>{this.close(e)},id:"zcarousel-button"}],open:e=>{this._dispatchEvent("open",e)}}),e.zdialog("open"),e=e.find(".zdialog__content")}this._preview=e,this._data.slidesDOM=e.find(".zcarousel-slides")[0],super._render(this._data,null,e[0])}_postEachRender(){let e=this._preview,a=this._opts,o=e.children().first();this._preview=o,this._slides=o.children(),a.showArrowIcon&&(this._prevEle=e.find(".zcarousel__previous"),this._nextEle=e.find(".zcarousel__next"),this._preview.css("padding-left",this._nextEle.outerWidth())),this._counter=e.find(".zcarousel__text");let n=e.find(".zcarousel__pagination");this._bullets=n.find(".zcarousel__bullets"),n.on("click",e=>{let a=t(e.target);a.is("span")&&this._moveSlide(a.index(),e)}),this._opts.autoPlay&&this._resetTimer(),this._setAnimationSpeed()}_autoPlay(){this._autoPlayTimer=setTimeout(()=>{this.next(),this._autoPlay()},this._opts.autoPlayInterval)}_clearTimer(){this._autoPlayTimer&&clearTimeout(this._autoPlayTimer)}_resetTimer(){this._clearTimer(),this._opts.autoPlay&&this._autoPlay()}_openAnim(){this._currSlide=this._slides.first(),this._currSlide.show(),t(this._bullets[0]).addClass("is-selected"),this._preview.css("width",this._currSlide.outerWidth()*this._slides.length)}_bindEvents(){e.$window.on("keydown.zcarousel",e=>{39===e.keyCode?this.next(e):37===e.keyCode&&this.previous(e)}),this._opts.showArrowIcon&&(this._nextEle.on("click.zcarousel",e=>{this.next(e)}),this._prevEle.on("click.zcarousel",e=>{this.previous(e)})),this._openAnim(),this._opts.pauseOnHover&&this._slides.on("mouseenter",()=>{this._clearTimer()}).on("mouseleave",()=>{this._autoPlay()})}next(e){this._moveSlide("next",e)}previous(e){this._moveSlide("previous",e)}_moveSlide(e,a){this._clearTimer();let o=null,n=this._currSlide;o="string"==typeof e?n["next"===e?"next":"prev"]():t(this._slides[e]),o.length||(o=this._slides["next"===e?"first":"last"]());let i={currentSlide:n,action:e,nextSlide:o},r=this._dispatchEvent("beforechange",a,i);if(!1!==r&&o.length){let r=o.index();this._preview.css("margin-left","-"+n.outerWidth()*r+"px"),t(this._bullets[n.index()]).removeClass("is-selected"),t(this._bullets[r]).addClass("is-selected"),this._currSlide=o,this._opts.showImageCount&&this._counter.text(this._getI18NText("selectedimageposition",[r+1,this._slides.length])),setTimeout(()=>{i={currentSlide:this._currSlide,action:e,nextSlide:o},this._dispatchEvent("afterchange",a,i)},this._opts.transitionDuration)}}close(e){this._clearTimer(),"dialog"===this._opts.display&&(this.element.zdialog("destroy"),this._dispatchEvent("close",e))}_setAnimationSpeed(){let e="margin "+this._opts.transitionDuration+"ms";this._preview.css({"-webkit-transition":e,"-moz-transition":e,transition:e})}}e.registerComponent("ZCarousel",ZCarousel)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zcarousel.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.WCContainer;t.WCChildren=e=>ZT.html`${e.slidesDOM} <div class="zcarousel__previous"> <span class="zcarousel__arrow" title="${e.prevLabel}">${a.WCIcon(e.arrow)}</span> </div> <div class="zcarousel__next"> <span class="zcarousel__arrow" title="${e.nextLabel}">${a.WCIcon(e.arrow)}</span> </div> <div class="zcarousel__footer"> <div class="zcarousel__toolbar"> ${e.footerButtons&&e.footerButtons.map(e=>o(e))} </div> <div class = "zcarousel__text"> 1 of ${e.slideCount} </div> <div class = "zcarousel__footer__userinfo"> ${e.userinfo&&ZT.html`<img src = "${e.userinfo.src}" class = "zcarousel__userphoto" />`} </div> <div class="zcarousel__thumbnail"> ${e.thumbnail&&e.thumbnail.map((e,a)=>t.WCThumbnailEle(e,a))} </div> <div class="zcarousel__gradient--left"> </div> <div class="zcarousel__gradient--right"> </div> </div> ${e.pagination&&ZT.html`<div class = "zcarousel__pagination" > ${e.bullets.map(e=>ZT.html`<span class="zcarousel__bullets ${e.className}"></span>`)} </div>`}`,t.WCThumbnailEle=(e,t)=>ZT.html` <div class="zcarousel__thumbnail_images ${0===t&&"zcarousel__thumbnail__selected"}" > <div class="zcarousel__thumbnail__imageContainer"> <img src="${e.src}" alt="Image ${t}" thumbnail="${t}" /> </div> </div>`}(ZComponents),function(e){let t=e.zcarousel.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.container;t.children=e=>ZT.html`${e.slidesDOM} <div class="zcarousel__previous"> <span class="zcarousel__arrow" title="${e.prevLabel}">${a.icon(e.arrow)}</span> </div> <div class="zcarousel__next"> <span class="zcarousel__arrow" title="${e.nextLabel}">${a.icon(e.arrow)}</span> </div> <div class="zcarousel__footer"> <div class="zcarousel__toolbar"> ${e.footerButtons&&e.footerButtons.map(e=>o(e))} </div> <div class = "zcarousel__text"> 1 of ${e.slideCount} </div> <div class = "zcarousel__footer__userinfo"> ${e.userinfo&&ZT.html`<img src = "${e.userinfo.src}" class = "zcarousel__userphoto" />`} </div> <div class="zcarousel__thumbnail"> ${e.thumbnail&&e.thumbnail.map((e,a)=>t.thumbnailEle(e,a))} </div> <div class="zcarousel__gradient--left"> </div> <div class="zcarousel__gradient--right"> </div> </div> ${e.pagination&&ZT.html`<div class = "zcarousel__pagination" > ${e.bullets.map(e=>ZT.html`<span class="zcarousel__bullets ${e.className}"></span>`)} </div>`}`,t.thumbnailEle=(e,t)=>ZT.html` <div class="zcarousel__thumbnail_images ${0===t&&"zcarousel__thumbnail__selected"}" > <div class="zcarousel__thumbnail__imageContainer"> <img src="${e.src}" alt="Image ${t}" thumbnail="${t}" /> </div> </div>`}(ZComponents),function(e,t){class ZPreview extends e.CoreComponent{get name(){return"zpreview"}get attrs(){return{rtl:!1,canAnnotate:!0,header:!0,appendToEle:"body",showFilmstripByDefault:!1,multipleSelection:!1,keyBoardShortCut:!0,clickOutsideImageToClose:!1,loop:!1,closeOnEsc:!0,showImageCount:!0,showImageName:!0,initialImage:1,slideShowTransistionTime:4e3,moreOptions:[],carousel:null,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,height:null,width:null,showArrowIcon:!0,pagination:!1,filmStrip:!0,infoButton:!0,slideShow:!0,shareButton:!0,printButton:!0,downloadButton:!0,uploadButton:!0,fullscreenButton:!0,moreButton:!0,closeButton:!0,userInfo:null,effect:"default",display:"inline"}}get props(){return{imageEditOptions:{isContinuousDraw:!1,canReplaceImage:!0},imgDetails:null,keys:{"download.label":"Download","print.label":"Print","share.label":"Share","uploadToCloud.label":"Upload to Cloud","edit.label":"Edit","fullScreen.label":"Full Screen","more.label":"More","close.label":"Close","next.label":"Next","previous.label":"Previous","info.label":"Info","slideShow.label":"SlideShow","filmStrip.label":"Filmstrip View","showFilmStrip.label":"Show Filmstrip","hideFilmStrip.label":"Hide Filmstrip","play.label":"Play","pause.label":"Pause","morefilesselected.label":"{0} images selected.","selectedimageposition.label":"{0} of {1}","notFound.label":"Image not Found","unableToLoad.label":"Unable to Load Image. Please try again","imageResolution.label":"Resolution","imageSize.label":"Size","retry.label":"Retry"}}}get EVENTS(){return["beforechange","afterchange","change"]}_init(t,a){this._slideShowTimer=void 0,this.isfilmstrip=a.showFilmstripByDefault,this._previousPosition=0;let o=this._data,n=this.element.children().first()||null,r;if(o.currentPosition=a.initialImage||1,o.previousButton=o.nextButton=[],o.pagination=a.pagination,o.header=a.header,o.multipleSelection=a.multipleSelection,o.loop=a.loop=!a.multipleSelection&&a.loop,o.imgDetails=a.imgDetails,o.showImageName=a.showImageName,o.showArrowIcon=a.showArrowIcon,o.userInfo=a.userInfo,o.slideCount=r=o.imgDetails?o.imgDetails.length:n.children().length,this._selectURL(o.imgDetails),this._autoPlayTimer=void 0,t.addClass("zpreview zpreview--"+a.display),n&&n.addClass("zpreview-slides"),r){a.showArrowIcon&&(o.arrow=e._getIconInfo(a.arrowIconClassName||a.arrowIconClass,a.arrowSVGIconId,"#zc__svg--downarrow zpreview__svg","zpreview__icon"),o.prevLabel=this._getString("previous.label"),o.nextLabel=this._getString("next.label")),o.bullets=[];for(let e=0;e<r;e++)o.bullets.push({className:a.bulletClassName||a.bulletClass||""})}this._createThumbnail(this._opts.imgDetails),a.header&&this._createToolBarButtons(),o.previousButton=this._getbuttonProps("navigationprevious","previous","top"),o.nextButton=this._getbuttonProps("navigationnext","next","top"),this._createFooterButtons(),this._createFilmStripButtons()}_selectURL(e){if(e){let t=this._data,a;e=e[t.currentPosition-1],t.selectedURL=e.src,t.userInfo=e.userInfo,a=e.type||"img",t.fileIsNotImage=t.iframe="other"===a}}_createToolBarButtons(){let e=this._opts,t=this._data;t.toolbarButtons=t.closeButton=[],e.shareButton&&t.toolbarButtons.push(this._getbuttonProps("share",null,"bottom")),e.printButton&&t.toolbarButtons.push(this._getbuttonProps("print")),e.downloadButton&&t.toolbarButtons.push(this._getbuttonProps("download")),e.uploadButton&&t.toolbarButtons.push(this._getbuttonProps("upload","uploadToCloud")),e.canAnnotate&&t.toolbarButtons.push(this._getbuttonProps("edit")),e.fullscreenButton&&t.toolbarButtons.push(this._getbuttonProps("fullscreen","fullScreen")),e.moreButton&&t.toolbarButtons.push(this._getbuttonProps("more")),t.closeButton=this._getbuttonProps("close")}_createThumbnail(e){let a=e||this.element.children().children(),o=this._data;if(o.thumbnail=[],!this._opts.thumbnail&&a){for(let e=0;e<a.length;e++)o.thumbnail.push({src:a[e].src||t(a[e]).find("img")[0].getAttribute("src")});o.title=a[o.currentPosition-1].name||a[o.currentPosition-1].firstElementChild.innerText}}_createFooterButtons(){let e=this._opts,t=this._data;t.footerButtons=[],e.slideShow&&t.footerButtons.push(this._getbuttonProps("slideshow","slideShow")),e.infoButton&&t.footerButtons.push(this._getbuttonProps("info")),e.filmStrip&&t.footerButtons.push(this._getbuttonProps("filmstrip","filmStrip")),this._updateImageInfo()}_createFilmStripButtons(){let e=this._data,t=this._getbuttonProps("slideshow__pause","pause");e.filmStripButton=[],t.label="pause",t.id="zpreview--playpause",e.filmStripButton.push(this._getbuttonProps("slideshow__previous","previous")),e.filmStripButton.push(t),e.filmStripButton.push(this._getbuttonProps("slideshow__next","next"))}_getString(t){return e.getI18NText("zpreview",t,null,this._opts.key)}_getbuttonProps(t,a,o,n){let i=e.ZButton.getBtnProps({title:this._getString((a||t)+".label"),type:"icon",className:`zpreview__button zpreview--${t}`,iconClassName:this._opts[`${t}iconClassName`],SVGIconId:this._opts[`${t}SVGIconId`],defaultSVGIconId:`zc__svg--${t} zpreview__${t}icon`,templateRender:!0});return i.id=`zbtn--${t}`,i}_render(){let e=this.element,t=this._opts;if("dialog"===t.display){let t=e.outerWidth(!0),a=e.outerHeight(!0),o=(window.innerWidth-t)/2,n=(window.innerHeight-a)/3;e.zdialog({position:[o,n],width:t,height:a,className:"zpreview__dialog",resizable:!1,handleFocusNavigation:!1,type:"modal",buttons:[{text:this._getString("closeButton.label"),action:e=>{this.close(e)},id:"zpreview-button"}],open:e=>{this._dispatchEvent("open",e)}}),e.zdialog("open"),e=e.find(".zdialog__content")}this._previewEle=e,this._data.slidesDOM=e.find(".zpreview-slides")[0],super._render(this._data,null,e[0])}_showHideFilmStrip(e){let t=parseInt(this._thumbnailContainer.outerHeight());this._footerEle.height(e?t+50:50),this.isfilmstrip=e,this._data.imgDetails&&this._setImageDimension(),this._updateErrorContainer()}_postEachRender(){let e=this._previewEle,a=this._opts,o=this._data,n=this,i=e.children().first();this._previewEle=i,this._slides=i.children(),a.showArrowIcon&&(this._prevEleObj=e.find(".zpreview--navigationprevious"),this._nextEleObj=e.find(".zpreview--navigationnext"),this._previewEle.css("padding-left",this._nextEleObj.outerWidth())),this._imageContainer=e.find(".zpreview--container"),this._imageContent=this._imageContainer.find(".zpreview--content"),this._thumbnail=e.find(".zpreview__thumbnail"),this._header=this.element.find(".zpreview--header");let r=this._footerEle=e.find(".zpreview--footer");this._fullScreenButton=e.find(".zpreview--fullscreen"),this._slideShowButton=r.find(".zpreview--slideshow"),this._filmstripButton=r.find(".zpreview--filmstrip"),this._filmstripContainer=this.element.find(".zpreview__filmstripactions"),this._infoButton=r.find(".zpreview--info"),this._infoButtonEle=r.find(".zpreview--imagedetails"),this._popoverEle=n._footerEle.find(".zpreview--popover"),this._thumbnailContainer=r.find(".zpreview__thumbnailContainer"),this._errorContainer=this._imageContent.find(".zpreview__errormessage"),this._loader=this.element.find(".zpreview--loader"),r.find(".zpreview__userphoto").off("click.zpreview").on("click.zpreview",function(){n._isNone(n._popoverEle)}),this.element.off("click.zpreview").on("click.zpreview",function(e){let a=t(e.target);a.hasClass("zpreview")&&n._opts.clickOutsideImageToClose?n._close():(a.hasClass("zpreview--close")||a.hasClass("zpreview__closeicon"))&&n._close()}),this._footerEle.find(".zpreview__gradient").off("click.zpreview").on("click.zpreview",function(a){let e=t(a.target);e.hasClass("zpreview__filmStripGradientLeft")?n._gradientClickHandler(!0):e.hasClass("zpreview__filmStripGradientRight")&&n._gradientClickHandler()}),this._opts.autoPlay&&this._resetTimer(),this._setAnimationSpeed(),this._showHideFilmStrip(a.showFilmstripByDefault);let s=this._imageContainer.find(".zpreview__image");if(o.fileIsNotImage){let e=this._imageContainer.find(".zpreview__frame");e.on("load.blank",function(){e.off("load.blank"),e.attr("src",o.imgDetails[o.currentPosition-1].src)}),e.attr("src","about:blank"),e.off("load.zpreview").on("load.zpreview",function(){null!==this.contentDocument&&(clearTimeout(n.loaderTimeoutInstance),n._updateErrorContainer(),n._setImageDimension(!0))}),s.off("load.zpreview, error.zpreview"),this._visibility(s)}else this._visibility(s,!0),s.off("load.zpreview, error.zpreview").on("load.zpreview",function(){clearTimeout(n.loaderTimeoutInstance),n._updateErrorContainer(),n._setImageDimension(!0)}).on("error.zpreview",function(){n._handleError()});s.off("click.zpreview").on("click.zpreview",function(){let e,a,o,i;if(e=event.pageX-t(this).offset().left,a=event.pageY-t(this).offset().top,o=t(this).width(),i=n._imageContent.hasClass("zpreview--fittowidth"),n._handleZoom(i,!0),!0===i){let i,r,s,l;i=t(this).width(),r=i/o,s=t(window).width(),l=t(window).height(),n._imageContainer.scrollTop(a*r-l/2),n._imageContainer.scrollLeft(e*r-s/2)}});let l=o.imgDetails[o.currentPosition-1],d=!1===l.print,c=!1===l.download,m=o.fileIsNotImage&&!1===l.editable;this._isDisable(".zpreview--download",c),this._isDisable(".zpreview--print",d),this._isDisable(".zpreview--edit",m),this._bindEvents(),this.checkAndExitFromZoomedState()}_postRender(){1<this._opts.moreOptions.length&&this._createMenuItem("zpreview__more--menu",this._opts.moreOptions)}_isDisable(e,t){this._header.find(e)[t?"addClass":"removeClass"]("is-disabled").attr("disabled",t)}_isNone(e,a){let o=e.hasClass("zh-dnone");if(e[o?"removeClass":"addClass"]("zh-dnone"),o&&a){let a=this.element.find("#zbtn--info");e.css("right",t(window).outerWidth()-(a.offset().left+a.outerWidth()))}}_handleReload(){if(clearTimeout(this.loaderTimeoutInstance),this._visibility(this._loader),navigator.onLine){let e=this._data;e.selectedURL=null,this._render(e,"zpreview","imageContainer",null,null,{skipParent:!0}),this._moveSlide(e.currentPosition)}else this._handleError()}_handleError(){let t=this._data,a=this,o=navigator.onLine,n=o?"notFound":"unableToLoad",i=o?"#zc__svg--notfound":"#zc__svg--unableload";if(t.errorMessage={SVGIconId:i,text:this._getString(n+".label"),SVGIconClassName:"zpreview__errormessage--svg"},o||(t.errorButton=e.ZButton.getBtnProps({label:a._getString("retry.label"),type:"text",className:"zpreview--retrybutton",templateRender:!0})),this._data=t,this._render(t,"zpreview","imageContainer",null,null,{skipParent:!0}),this._errorContainer.length){function e(){clearInterval(r)}if(this._updateErrorContainer(),clearTimeout(this.loaderTimeoutInstance),this._visibility(this._loader),!navigator.onLine)var r=setInterval(function(){navigator.onLine&&(e(),!t.fileIsNotImage&&a._handleReload())},3e3)}}_gradientClickHandler(e){let a=this._data,o=this._thumbnailContainer.scrollLeft()+(e?0:t(window).width()),n=a.currentPosition,i=parseFloat(this._thumbnail.css("width"));n=parseInt(o/i),n=e?0>=n?1:n:n>=a.slideCount?a.slideCount:n,n!==a.currentPosition&&(this._data.currentPosition=n,this._moveSlide(n))}_autoPlay(){this._autoPlayTimer=setTimeout(()=>{this.next(),this._autoPlay()},this._opts.autoPlayInterval)}_clearTimer(){this._autoPlayTimer&&clearTimeout(this._autoPlayTimer)}_resetTimer(){this._clearTimer(),this._opts.autoPlay&&this._autoPlay()}_openAnim(){this._currSlide=this._slides.first(),this._data.imgDetails?this._previewEle.css({width:658,height:500}):this._previewEle.css("width",this._currSlide.outerWidth()*(this._slides.length+1))}_bindEvents(){let a=this;t(document).off("mozfullscreenchange.zpreview webkitfullscreenchange.zpreview fullscreenchange.zpreview MSFullscreenChange.zpreview").on("mozfullscreenchange.zpreview webkitfullscreenchange.zpreview fullscreenchange.zpreview MSFullscreenChange.zpreview",function(){a.fullscreenHandler=!0,(document.webkitIsFullScreen||document.mozFullScreen||null!==document.msFullscreenElement)&&(!0===a.slideShowButtonClicked?(a._startSlideShow(),a._filmstripContainer.find(".zpreview--slideshow__pause").attr("title",a._getString("pause.label")),a.SlideShowRunning=!0,a.slideShowButtonClicked=!1):!0===a.fullScreenBtnClicked?(a.fullScreenMode=!0,a.hideItemsBeforeFullScreen(),a.fullScreenBtnClicked=!1):(a.fullScreenMode=!1,a._stopSlideShow(),a._setImageDimension(!0),a._updateErrorContainer(),a.checkAndExitFromZoomedState()))}),e.$window.off("keydown.zpreview").on("keydown.zpreview",e=>{if(27===e.keyCode&&a._opts.closeOnEsc)a.close();else if(a._opts.keyBoardShortCut){let t=a._data;37===e.keyCode&&(t.loop||1<t.currentPosition)?a.previous(e):39===e.keyCode&&(t.loop||t.currentPosition<t.slideCount)&&a.next(e)}}).off("resize.zpreview").on("resize.zpreview",function(){a.fullScreenMode||a._setImageDimension(!0)}),this._openAnim(),this._opts.pauseOnHover&&this._slides.on("mouseenter",()=>{this._clearTimer()}).on("mouseleave",()=>{this._autoPlay()}),this._thumbnail.off("click.zpreview").on("click.zpreview",function(){let e=a._data.currentPosition,o=parseInt(t(this).find("img").attr("thumbnail"))||e;o!==e&&a._moveSlide(o)}),this.element.find(".zbutton").off("click.zpreview").on("click.zpreview",function(o){let n=t(o.target).closest(".zbutton");if(n.hasClass("zpreview--slideshow"))a.slideShowButtonClicked=!0,a.toggleFullScreen();else if(n.hasClass("zpreview--fullscreen"))a.fullScreenBtnClicked=!0,a.checkAndExitFromZoomedState(),a.toggleFullScreen();else if(n.hasClass("zpreview--navigationnext")||n.hasClass("zpreview--slideshow__next"))a._moveSlide("next",o);else if(n.hasClass("zpreview--navigationprevious")||n.hasClass("zpreview--slideshow__previous"))a._moveSlide("previous",o);else if(n.hasClass("zpreview--filmstrip")){let e=a._opts.showFilmstripByDefault=!a._opts.showFilmstripByDefault;a._showHideFilmStrip(e)}else n.hasClass("zpreview--info")?a._isNone(a._infoButtonEle,!0):n.hasClass("zpreview--slideshow__pause")?a.slideShowPlayPause():n.hasClass("zpreview--retrybutton")?a._handleReload():n.hasClass("zpreview--more")?t("#zpreview__more--menu").zmenu("show",{forElement:a._header.find(".zpreview--more"),direction:"bottom-left",event:o,preventHover:!0}):n.hasClass("zpreview--edit")&&(a._header.addClass("zimageeditor__transistionHeaderHide").css("animation-duration","0.2s"),e.Browser.isIE?setTimeout(function(){setTimeout(function(){a.initImageAnnotator()},300)},200):a._header.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){a._header.hide(),a.initImageAnnotator()}))})}initImageAnnotator(){let e=this._currentImageInfo(),t=this._data,a=this,o=this._imageContent.find(".zpreview__image"),n=o[0],i=t.currentPosition-1;this._header.off("webkitAnimationEnd oanimationend msAnimationEnd animationend").removeClass("zimageeditor__transistionHeaderHide"),this._showElements(),ZAnnotator.init({imageURL:n.src||n.dataset.src||n.currentSrc,isContinuousDraw:a._opts.imageEditOptions.isContinuousDraw,imageName:t.imgDetails[i].name,showImageName:!0,width:o.prop("naturalWidth"),height:o.prop("naturalHeight"),onSuccess:function(n){"function"==typeof a._opts.onEditDone&&a._opts.onEditDone({imageData:n.imageSource,imageId:e}),!0===a._opts.imageEditOptions.canReplaceImage&&(o.attr("src",n.imageSource),t.imgDetails[i].src=n.imageSource,a._thumbnailContainer.find(".zpreview__thumbnail:nth-of-type("+t.currentPosition+")").children().children("img").attr("src",n.imageSource)),a._showElements(!0)},onCancel:function(){"function"==typeof a._opts.onEditCancel&&a._opts.onEditCancel(),a._showElements(!0),a._imageContent.find(".zpreview__image").show()},onLoad:function(){a._visibility(a.element,!0),setTimeout(function(){a._imageContent.find(".zpreview__image").hide().removeClass("zpreview__trans--fadeOut").off("webkitAnimationEnd oanimationend msAnimationEnd animationend")},200)},onClose:function(){a._showElements(!0)}})}_showElements(e){this._header[e?"show":"hide"](),this._footerEle[e?"show":"hide"](),this._visibility(this.element,e)}_updateErrorContainer(){let e=this._imageContent.find(`.zpreview__${this._data.fileIsNotImage?"frame":"image"}`);0<this._errorContainer.length?(this._visibility(e),this._imageContent.css({height:"100%",width:"100%"})):this._visibility(e,!0),this._visibility(this._loader),this._visibility(this._imageContent,!0)}_visibility(e,t){e.css("visibility",t?"visible":"hidden")}next(e){this._moveSlide("next",e)}previous(e){this._moveSlide("previous",e)}_moveSlide(e,a){let o=this._data,n=this,i=o.currentPosition,r=1,s=null,l=this._currSlide;o.errorMessage=o.errorButton=null,this._visibility(this._loader),this._clearTimer(),"string"==typeof e?(s=l["next"===e?"next":"prev"](),r=i+("next"===e?1:-1)):(s=t(this._slides[e]),r=e),s.length||"string"!=typeof e||(s=this._slides["next"===e?"first":"last"]());let d={currentSlide:l,action:e,nextSlide:s},c=this._dispatchEvent("beforechange",a,d);if(this.loaderTimeoutInstance=setTimeout(function(){n._visibility(n._loader,!0),n._visibility(n._imageContent),n._visibility(n._imageContent.find(`.zpreview__${n._data.fileIsNotImage?"frame":"image"}`))},10),!1!==c&&(s.length||o.imgDetails)){if(o.imgDetails){let t=o.imgDetails,a=t.length,n;o.currentPosition=r=a>=r&&1<=r?r:"next"===e?1:a,n=t[o.currentPosition-1],o.title=n.name,o.userInfo=n.userInfo,this._selectURL(t),this._render(o,"zpreview","imageContainer",null,null,{skipParent:!0}),this._render(o,"zpreview","title",null,null,{skipParent:!0})}else o.currentPosition=s.index()+1,this._previewEle.css("margin-left","-"+l.outerWidth()*s.index()+"px");this._currSlide=s,this._updateImageInfo(),this._render(o,"zpreview","footer",null,null,{skipParent:!0}),setTimeout(()=>{d={currentSlide:this._currSlide,action:e,nextSlide:s},this._dispatchEvent("afterchange",a,d)},this._opts.transitionDuration),this._opts.loop||this.fullScreenMode||this.SlideShowRunning||this._checkNavBtnVisibility();let n=this._thumbnail.outerWidth(),c=Math.round(t(window).width()/n),m=parseInt((1===i?i:i-1)/c)*c*n;this._thumbnailContainer.scrollLeft(m)}}_close(e){this._clearTimer(),"dialog"===this._opts.display&&(this.element.zdialog("destroy"),this._dispatchEvent("close",e)),this.element.removeClass("zpreview zpreview--inline"),this.destroy()}close(){this._close()}_updateImageInfo(){let e=this._data,t={};if(e.imgDetails&&(t=e.imgDetails[e.currentPosition-1]),t){let a=t.dimension,o=t.size,n=a.width,i=a.height;e.imageInfoText=this._getString("imageResolution.label")+": "+n+" x "+i+", "+this._getString("imageSize.label")+": "+o}}_setAnimationSpeed(){let e="margin "+this._opts.transitionDuration+"ms";this._previewEle.css({"-webkit-transition":e,"-moz-transition":e,transition:e})}_setImageDimension(e){this.initLoadEvent=!this.initLoadEvent;let t=this._opts,a=this._data,o=t.imgDetails[a.currentPosition-1],n=window.innerWidth,i=window.innerHeight,r=a.fileIsNotImage,s=this._previewEle.find(`.zpreview__${r?"frame":"image"}`),l=n,d=i,c=this.isfilmstrip,m=0,_=0,u;r||(l=this._imageWidth=o.displayWidth||s[0].naturalWidth,d=this._imageHeight=o.displayHeight||s[0].naturalHeight),u=parseFloat(this._header.css("height")),m+=parseFloat(this._footerEle.find(".zpreview__paginationtext").css("height"));let p=110,h=35,g=n-(p+110),f=i-(0+h+u+m);c&&(_=this._thumbnailContainer.outerHeight()||0,f-=_),(!0===this.SlideShowRunning||!0===this.fullScreenMode)&&(g=n,f=i),f>d&&(f=d),g>l&&(g=l);let b=Math.min(g/l,f/d);!0===this._imageContent.hasClass("zpreview--actualsize")&&!0===e&&(b=1);let v=l*b,C=d*b;v=0>v?0:v,C=0>C?0:C,p=(n-(v+p+110))/2,h=(i-(C+m+h+0))/2,!0===this.isfilmstrip&&(h-=_/2);let S={};!0===this.SlideShowRunning||!0===this.fullScreenMode?(S.top=C===i?"-45px":(i-C)/2-u,n===v&&(S.top=(i-C)/2-u)):S={left:0<p?p:0,top:0<h?h:0},!0===e&&(S.width=" ",S.height=" "),this._imageContainer.css(S),S={width:v,height:C},this._imageContent.css(S),s.css(S);let w={width:"",height:""};v>C?w.width=v:w.height=C,!0!==e&&(this._isDimensionChanged=d!==C||l!==v,this._imageContent[this._isDimensionChanged&&!this._data.errorMessage?"addClass":"removeClass"]("zpreview--fittowidth"))}checkAndExitFromZoomedState(){this._imageContent.hasClass("zpreview--actualsize")&&this._handleZoom(this._imageContent.hasClass("zpreview--fittowidth"),!0)}_handleZoom(e,a){let o=this._imageContainer.find(".zpreview__image");if(!e)o.css("padding-bottom","0px");else if(this.isfilmstrip){let e=this._thumbnail.outerHeight()||0,t=parseFloat(this._footerEle.find(".zpreview__paginationtext").css("height"))+e;o.css("padding-bottom",t)}if(this._isDimensionChanged&&!1!==a){let n=this._imageWidth,i=this._imageHeight,r=t(window).height(),s=parseFloat(this._header.css("height")),l=0;i<r&&(l=(r-i)/2-s/2,this.isfilmstrip&&(l-=this.filmStripHeight/2));let d={width:"",height:""};this._imageContent.css(d),o.css(d),d.left=0,d.top=l,this._imageContainer.css(d),e&&!1!==a?(this.element.addClass("zpreview--fullview"),this._imageContent.attr("class","zpreview--content zpreview--actualsize"),this._imageContent.css({width:n,height:i})):(!1!==a&&(this.element.removeClass("zpreview--fullview"),this._imageContent.attr("class","zpreview--content zpreview--fittowidth")),this._setImageDimension())}}_stopSlideShow(){this._visibility(this._filmstripContainer),this.showItemsAfterFullScreen(),this.SlideShowRunning=!1,clearTimeout(this._slideShowTimer),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),this._slideShowTimer=void 0,this._filmstripContainer.find(".zpreview--slideshow__play").removeClass("zpause_slide_show_class")}playSlideShow(){let e=this;this.checkAndExitFromZoomedState(),this._slideShowTimer=setInterval(function(){e._data.currentPosition===e._data.slideCount&&e._stopSlideShow(),e._moveSlide("next")},this._opts.slideShowTransistionTime)}resetSlideShowTime(){window.clearTimeout(this._slideShowTimer),this.playSlideShow()}slideShowPlayPause(){let e=this.element.find("#zpreview--playpause");"pause"===e.data("action")?(window.clearTimeout(this._slideShowTimer),this.slideShowPaused=!0,e.data("action","play").attr("title",this._getString("play.label")),e.find("use").attr("xlink:href","#zc__svg--slideshow__play"),e.find("svg").css({width:"12px",height:"14px"})):!0===this.slideShowPaused&&(this.playSlideShow(),this.slideShowPaused=!1,e.data("action","pause").attr("title",this._getString("pause.label")),e.find("use").attr("xlink:href","#zc__svg--slideshow__pause"),e.find("svg").css({width:"10px",pause:"14px"}))}_startSlideShow(){this.slideShowPaused=!1;let e=this._filmstripContainer.find(".zpreview--slideshow__pause");e.data("action","pause"),e.children().children().children().attr("xlink:href","#zc__svg--slideshow__pause"),e.css({width:"10px",pause:"13px"}),this._visibility(this._filmstripContainer,!0),this.hideItemsBeforeFullScreen(),this._slideShowTimer===void 0?(this.playSlideShow(),this._filmstripContainer.find(".zpreview--slideshow__play").addClass("zpause_slide_show_class")):this._stopSlideShow(),this.toggleSlideShowButton()}currentImageInfo(){return this._currentImageInfo()}_currentImageInfo(){return this._data.imgDetails[this._data.currentPosition-1]}removeImage(e){this._removeImage(e)&&this._refreshContainer("footer")}addImage(e){this._addImage(e)&&this._refreshContainer("footer")}_addImage(e){let t=this._data,a=this._opts,o=t.imgDetails,n=o.length;e=Array.isArray(e)?e:[e];for(let t=0;t<e.length;t++)e[t].src&&(o[n++]=e[t]);return a.imgDetails=o,t.slideCount=n,!0}_removeImage(e){let t=this._data,a=this._opts,o=t.imgDetails,n=t.currentPosition;e=Array.isArray(e)?e:[e];for(let r=0;r<e.length;r++)if(e[r].uid){o=o.filter(t=>t.uid!=e[r].uid);let i=this._currentImageInfo().uid;a.imgDetails=t.imgDetails=o,i==e[r].uid&&(o.length<=n&&n--,t.currentPosition=n,this._selectURL(o),this._refreshContainer("imageContainer"))}return t.currentPosition=n,t.slideCount=o.length,!0}_refreshContainer(e){"footer"===e&&this._createThumbnail(this._data.imgDetails),this._render(this._data,"zpreview",e,null,null,{skipParent:!0})}toggleSlideShowButton(){this._nextEleObj.prop("disabled",this._data.currentPosition>=this._data.slideCount),this._prevEleObj.prop("disabled",1===this._data.currentPosition)}hideItemsBeforeFullScreen(){this.element.addClass("zpreview--fullscreenMode"),this._footerEle.hide(),this.element.find(".zpreview--header, .zpreview--navigation, .zpreview--navigation button").css("visibility","hidden")}showItemsAfterFullScreen(){this.element.removeClass("zpreview--fullscreenMode"),this._footerEle.show(),this.element.find(".zpreview--header, .zpreview--navigation, .zpreview--navigation button").css("visibility","visible"),this._opts.loop||this._checkNavBtnVisibility()}_checkNavBtnVisibility(){let e=this._prevEleObj,t=this._nextEleObj,a=this._data.currentPosition;1===a?this._visibility(e):!1===e.is(":hidden")&&this._visibility(e,!0),a===this._data.slideCount?this._visibility(t):!1===t.is(":hidden")&&this._visibility(t,!0)}toggleFullScreen(){this.hideItemsBeforeFullScreen();let e=this.element;(!document.fullScreenElement||null===document.fullScreenElement)&&(document.mozFullScreen||document.webkitIsFullScreen)||(document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():e[0].webkitRequestFullScreen&&e[0].webkitRequestFullScreen())}addButton(e){e=Array.isArray(e)?e:[e];for(let t=0;t<e.length;t++)this._createButton(e[t])}_createButton(t){let a=this._data,o=t.target,n;n=e.ZButton.getBtnProps({title:t.title,id:t.id||e.getID("zpreview-"),type:"icon",text:t.text,className:`zpreview__button ${t.class}`,iconClassName:t.iconClassName,SVGIconId:t.SVGIconId,templateRender:!0}),"header"===o?(a.toolbarButtons["first"===t.position?"unshift":"push"](n),this._refreshContainer("header")):(a.footerButtons["first"===t.position?"unshift":"push"](n),this._refreshContainer("footer")),this._opts.toolbarButtons=a.toolbarButtons,this._opts.footerButtons=a.footerButtons}addMenuActions(e){this._createMenuItem("zpreview__more--menu",e)}_createMenuItem(a,o){let n=this;e.createMenu(a,o,{contentType:"text",type:"list",className:"zpreview__menu",menuClass:a,direction:"bottom-left"}),t("#zpreview__more--menu").on("zmenubeforehide",function(){n._header.find(".zpreview--edit").removeClass("zpreview__button--hover")}).on("zmenubeforeshow",function(){n._header.find(".zpreview--edit").addClass("zpreview__button--hover")})}}e.registerComponent("ZPreview",ZPreview)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zpreview.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.WCContainer;t.WCChildren=e=>ZT.html`${e.imgDetails?t.WCImageContainer(e):e.slidesDOM} ${e.header&&t.WCHeader(e)} ${e.showArrowIcon&&t.WCNavigation(e)} ${t.WCFooter(e)} ${t.WCFilmStrip(e)} ${e.pagination&&t.WCPagination(e)}`,t.WCErrorContainer=e=>ZT.html`${e.errorMessage&&ZT.html`<div class="zpreview__errormessage"> ${a.WCIcon(e.errorMessage)} <p>${e.errorMessage.text}</p> ${e.errorButton&&o(e.errorButton)} </div>`}`,t.WCLoader=()=>ZT.html`<div class="zprogress zprogress--circle zpreview--loader"><svg class="zprogress__loader h-determinate zeffects--rotate"><circle class="circle__track" cx="24" cy="24" r="20" stroke-dasharray="0" stroke-dashoffset="0" stroke-width="4"></circle><circle class="circle__load" cx="24" cy="24" r="20" stroke-dasharray="94.29" stroke-dashoffset="55" stroke-width="4"></circle></svg></div>`,t.WCPopover=e=>ZT.html`<div class='zpreview--popover zh-dnone'>${e.userInfo.name}<br>${e.userInfo.email}</div>`,t.WCImageContainer=e=>ZT.html`<div class="zpreview--container"><div class='zpreview--content${e.errorMessage?" zpreview--errorcontainer":" zpreview--fittowidth"}' > ${e.iframe&&ZT.html`<iframe class='zpreview__frame' id="zpreview__frame" scrolling='auto' frameborder='0' onerror='${e.errorCallBack}' >`} <img class='zpreview__image' src='${e.selectedURL}' /> ${t.WCErrorContainer(e)}${t.WCLoader()} ${e.iframe&&ZT.html`</iframe>`} </div></div>`,t.WCNavigation=e=>ZT.html`<div class="zpreview--navigation"> ${o(e.previousButton)} ${o(e.nextButton)}</div>`,t.WCPagination=e=>ZT.html`<div class="zpreview__pagination" > ${e.bullets.map(e=>ZT.html`<span class="zpreview__bullets ${e.className}"></span>`)} </div>`,t.WCHeader=e=>ZT.html`<div class="zpreview--header"> ${e.showImageName&&t.WCTitle(e)} <div class="zpreview__toolbar" > ${e.toolbarButtons&&e.toolbarButtons.map(e=>o(e))} </div> ${o(e.closeButton)} </div>`,t.WCTitle=e=>ZT.html` <h3 class="zpreview__title">${e.title}</h3> `,t.WCThumbnailEle=(e,t,a)=>ZT.html` <div class="zpreview__thumbnail ${a===t&&"is-selected"}" > <div class="zpreview__thumbnail__imageContainer"> <img src="${e.src}" alt="Image ${t}" thumbnail="${t}" /> </div> </div>`,t.WCFilmStrip=e=>ZT.html`<div class="zpreview__filmstripactions" style="visibility:hidden" > ${e.filmStripButton&&e.filmStripButton.map(e=>o(e))} </div>`,t.WCFooter=e=>ZT.html`<div class="zpreview--footer"> <div class="zpreview__toolbar" > ${e.footerButtons&&e.footerButtons.map(e=>o(e))} <div class='zpreview--imagedetails zh-dnone'> ${e.imageInfoText}</div> </div> <div class="zpreview__paginationtext"> ${e.currentPosition} of ${e.slideCount} </div> <div class="zpreview__userinfo" > ${e.userInfo&&ZT.html`<img src = "${e.userInfo.src}" class = "zpreview__userphoto"></img> ${t.WCPopover(e)}`} </div> <div class="zpreview__thumbnailContainer" > ${e.thumbnail&&e.thumbnail.map((a,o)=>t.WCThumbnailEle(a,o+1,e.currentPosition))} </div> <div class="zpreview__gradient zpreview__filmStripGradientLeft" ></div> <div class="zpreview__gradient zpreview__filmStripGradientRight" ></div> </div>`}(ZComponents),function(e){let t=e.zpreview.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.container;t.children=e=>ZT.html`${e.imgDetails?t.imageContainer(e):e.slidesDOM} ${e.header&&t.header(e)} ${e.showArrowIcon&&t.navigation(e)} ${t.footer(e)} ${t.filmStrip(e)} ${e.pagination&&t.pagination(e)}`,t.errorContainer=e=>ZT.html`${e.errorMessage&&ZT.html`<div class="zpreview__errormessage"> ${a.icon(e.errorMessage)} <p>${e.errorMessage.text}</p> ${e.errorButton&&o(e.errorButton)} </div>`}`,t.loader=()=>ZT.html`<div class="zprogress zprogress--circle zpreview--loader"><svg class="zprogress__loader h-determinate zeffects--rotate"><circle class="circle__track" cx="24" cy="24" r="20" stroke-dasharray="0" stroke-dashoffset="0" stroke-width="4"></circle><circle class="circle__load" cx="24" cy="24" r="20" stroke-dasharray="94.29" stroke-dashoffset="55" stroke-width="4"></circle></svg></div>`,t.popover=e=>ZT.html`<div class='zpreview--popover zh-dnone'>${e.userInfo.name}<br>${e.userInfo.email}</div>`,t.imageContainer=e=>ZT.html`<div class="zpreview--container"><div class='zpreview--content${e.errorMessage?" zpreview--errorcontainer":" zpreview--fittowidth"}' > ${e.iframe&&ZT.html`<iframe class='zpreview__frame' id="zpreview__frame" scrolling='auto' frameborder='0' onerror='${e.errorCallBack}' >`} <img class='zpreview__image' src='${e.selectedURL}' /> ${t.errorContainer(e)}${t.loader()} ${e.iframe&&ZT.html`</iframe>`} </div></div>`,t.navigation=e=>ZT.html`<div class="zpreview--navigation"> ${o(e.previousButton)} ${o(e.nextButton)}</div>`,t.pagination=e=>ZT.html`<div class="zpreview__pagination" > ${e.bullets.map(e=>ZT.html`<span class="zpreview__bullets ${e.className}"></span>`)} </div>`,t.header=e=>ZT.html`<div class="zpreview--header"> ${e.showImageName&&t.title(e)} <div class="zpreview__toolbar" > ${e.toolbarButtons&&e.toolbarButtons.map(e=>o(e))} </div> ${o(e.closeButton)} </div>`,t.title=e=>ZT.html` <h3 class="zpreview__title">${e.title}</h3> `,t.thumbnailEle=(e,t,a)=>ZT.html` <div class="zpreview__thumbnail ${a===t&&"is-selected"}" > <div class="zpreview__thumbnail__imageContainer"> <img src="${e.src}" alt="Image ${t}" thumbnail="${t}" /> </div> </div>`,t.filmStrip=e=>ZT.html`<div class="zpreview__filmstripactions" style="visibility:hidden" > ${e.filmStripButton&&e.filmStripButton.map(e=>o(e))} </div>`,t.footer=e=>ZT.html`<div class="zpreview--footer"> <div class="zpreview__toolbar" > ${e.footerButtons&&e.footerButtons.map(e=>o(e))} <div class='zpreview--imagedetails zh-dnone'> ${e.imageInfoText}</div> </div> <div class="zpreview__paginationtext"> ${e.currentPosition} of ${e.slideCount} </div> <div class="zpreview__userinfo" > ${e.userInfo&&ZT.html`<img src = "${e.userInfo.src}" class = "zpreview__userphoto"></img> ${t.popover(e)}`} </div> <div class="zpreview__thumbnailContainer" > ${e.thumbnail&&e.thumbnail.map((a,o)=>t.thumbnailEle(a,o+1,e.currentPosition))} </div> <div class="zpreview__gradient zpreview__filmStripGradientLeft" ></div> <div class="zpreview__gradient zpreview__filmStripGradientRight" ></div> </div>`}(ZComponents),function(e,t){class ZFontlibrary extends e.CoreComponent{get name(){return"zfontlibrary"}get attrs(){return{rtl:!1,previewText:null,updateTo:null,searchByName:null,type:"modeless"}}get props(){return{keys:{"yes.label":"Yes","no.label":"No","category.label":"Category","search.label":"Search","removeall.label":"Remove All","removeallwarning.label":"Are you sure you want to remove all the fonts?","removesearch.label":"Remove search","selectfonttoviewmore.label":"Select a font to view more details.","fontlibrary.label":"Font Library","alllanguages.label":"All languages","myFonts.label":"My Fonts","allFonts.label":"All Fonts","fontType1.label":"Serif","fontType2.label":"Sans Serif","fontType3.label":"Fixed width","fontType4.label":"Display","fontType5.label":"Decorative","fontType6.label":"Handwritten","fontType7.label":"Calligraphy","fontType8.label":"Others","cursive.label":"Cursive","cartoon.label":"Cartoon","gothic.label":"Gothic","typewriter.label":"Typewriter","comic.label":"Comic","retro.label":"Retro","fontSize.label":"Font Size","alphabets.label":"Aa","fontInfo.label":"Font Info","noFonts.label":"No Fonts","thin.label":"Thin","thinitalic.label":"Thin Italic","extralight.label":"ExtraLight","ultralight.label":"Ultra Light","ultralightitalic.label":"Ultra Light Italic","light.label":"Light","lightitalic.label":"Light Italic","normal.label":"Normal","italic.label":"Italic","medium.label":"Medium","mediumitalic.label":"Medium Italic","semibold.label":"Semi Bold","semibolditalic.label":"Semi Bold Italic","bold.label":"Bold","bolditalic.label":"Bold Italic","extrabold.label":"Extra Bold","extrabolditalic.label":"Extra Bold Italic","black.label":"Black","blackitalic.label":"Black Italic","addToLibrary.label":"Add to My Fonts","removeFromLibrary.label":"Remove from My Fonts","remove.label":"Remove","defaultSentence.label":"ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789","fontfamily.label":"Font Family","fontvariants.label":"Font Variants","fontvariant.label":"Font Variant","language.label":"Languages","randomSentence1.label":"A quick brown fox jumps over the lazy dog.","randomSentence2.label":"Mr. Jock, TV quiz PhD, bags few lynx.","randomSentence3.label":"The five boxing wizards jump quickly.","randomSentence4.label":"Pack my box with five dozen liquor jugs.","randomSentence5.label":"Jackdaws love my big sphinx of quartz.","randomSentence6.label":"Jack amazed a few girls by dropping the antique onyx vase.","randomSentence7.label":"A quick movement of the enemy will jeopardize six gunboats.","updateerror.label":"Sorry! Unable to update My Fonts list due to an unknown error.","unknownerror.label":"Sorry! We are unable to get My Fonts list due to an unknown error. Please try to again after some time."}}}get EVENTS(){return["open","close","beforeclose","restore","minimize","update"]}_close(){this._opts.isDialogOpen=!1,this._triggerEvent(this._EVENTS.ONCLOSE),this._container.zdialog("destroy"),t(".zfontlibrary__lazyload, .zfontlibrary__fontBackground").remove(),this._container.remove(),t(document).off("mouseenter.zfl mouseleave.zfl click.zfl keydown.zfl"),this._textArea.off("keyup.zfl, keydown.zfl")}_init(a,o){this._getFontList();let n=this;this._fontPath=o.hostName||FCWebFont.hostName||location.protocol+"//webfonts.zohostatic.com/",this._baseArray=[],this._tempArray=[],this._reqArray=[],this._displayCount=this._lazyLoadCount=o.lazyLoadCount||30,this._pushCount=0,this._toRefresh=!0,this._currLangVal=this._getString("alllanguages.label"),this._currTextVal=ZFontsUtil.currentSearch=ZFontsUtil.currentLanguage=-1,this._myFontsCount=0,this._addToOptGroup=!1,this._isIE9=e.Browser.isIE&&9===e.Browser.getIEVersion,""!==o.updateTo&&o.updateTo!==void 0&&(this._fontCombo=t("#"+o.updateTo.split(",")[0]),this._fontOptGroup=this._fontCombo,o.updateTo.split(",")[1]!==void 0&&(this._fontOptGroup=t("#"+o.updateTo.split(",")[1]),this._addToOptGroup=!0)),this.fontWeights=ZFontsUtil.getFontVariants(),this._onlyWeights=["100","200","300","400","500","600","700","800","900"],this._variantNames=ZFontsUtil.getVariantNames(),this._italicWeights=["100i","200i","300i","400i","500i","600i","700i","800i","900i"],-1!==navigator.appVersion.indexOf("MSIE 9.")&&(this._isIE9=!0),this._myFontLoadedStatus=!1,this._createObjects(),this._data.searchBox={icon:this._createIcons("search"),closeIcon:this._createIcons("close"),placeholder:n._getString("search.label"),title:n._getString("removesearch.label")},this._data.myfonts=this._getString("myFonts.label"),this._data._noFonts=this._getString("noFonts.label"),this._data.fontSize=this._getString("fontSize.label"),this._data.alphabets=this._getString("alphabets.label"),this._data.selectmorefont=this._getString("selectfonttoviewmore.label"),this._data.fontInfo=this._getString("fontInfo.label"),this._initFontsCSS()}_createIcons(e){return{iconClassName:`zfontlibrary__${e}icon`,SVGIconId:`#zc__svg--${e}`,SVGIconClassName:""}}_createObjects(){let e=document.getElementById("ui-zfl-styles");for(let a in this._fontTypeArray={myfonts:{isMyFonts:!0,label:this._getString("myFonts.label"),importCount:0},allfonts:{label:this._getString("allFonts.label"),importCount:0},serif:{label:this._getString("fontType1.label"),importCount:0},sansserif:{label:this._getString("fontType2.label"),importCount:0},fixedwidth:{label:this._getString("fontType3.label"),importCount:0},display:{label:this._getString("fontType4.label"),importCount:0},decorative:{label:this._getString("fontType5.label"),importCount:0},handwritten:{label:this._getString("fontType6.label"),importCount:0},calligraphy:{label:this._getString("fontType7.label"),importCount:0},others:{label:this._getString("fontType8.label"),importCount:0}},this._otherCategoryTypes={cartoon:{label:this._getString("cartoon.label")},gothic:{label:this._getString("gothic.label")},typewriter:{label:this._getString("typewriter.label")},comic:{label:this._getString("comic.label")},cursive:{label:this._getString("cursive.label")},retro:{label:this._getString("retro.label")}},this._styleElt=null===e?t("<style id=\"ui-zfl-styles\">"):t(e),null===e&&t("head").prepend(this._styleElt),this._data.fontTypeLabel=[],this._fontTypeArray)this._data.fontTypeLabel.push(a);this._data.fontTypeArray=this._fontTypeArray,this._data.otherCategoryTypes=this._otherCategoryTypes,this._data.listboxOption={multiple:!0},this._previewText=[this._getString("randomSentence1.label"),this._getString("randomSentence2.label"),this._getString("randomSentence3.label"),this._getString("randomSentence4.label"),this._getString("randomSentence5.label"),this._getString("randomSentence6.label"),this._getString("randomSentence7.label")],this._setPreviewText(),this._data.previewList=[48,36,26,20,16,14,12,10],this._pushCount=0,this._createFontList(this._pushCount),this._createFontInfo(ZFontsUtil.getWebFont(this._data.fontlist[0].label))}_createFontInfo(e){if(e){let t=e.name,a=e.type?e.type:"others",o=this._fontTypeArray[a]?this._fontTypeArray[a].label:this._otherCategoryTypes[a].label,n=this._creaetFontVarients(null,e);return n=n.toString().replace(/\,/g,", "),this._data.fontDetails=[{label:this._getString("fontfamily.label"),value:t},{label:this._getString("category.label"),value:o},{label:this._getString("fontvariants.label"),value:n+".",wordwrap:"break-word"},{label:this._getString("language.label"),value:(e.languages||"English")+"."}],!0}return!1}_createLanguageCombo(){let e=ZFontsUtil.getLanguages();return this._data.languages=[],e.forEach(e=>{this._data.languages.push({label:e,value:e.toLowerCase()})}),!0}_getFontList(e){let t=this,a={success(a){t._myFontLoadedStatus=!0,a.myFonts!==void 0&&(t._updateMyFonts(a)&&(ZComponents.listbox("#ui-zfl-fontlist-ul").setAttribute("values",t._selectedFonts),t._myFontsCountContainer.find(".zfontlibrary__myfontscount").text(t._selectedFonts.length)),e?t._updateFont():t._initLayout())},fail(){dialogOpen=!1,e||t._initLayout(),t._showError(void 0,!0)}};FCUtil.ajaxUtil("getfontlist.do","GET",null,a)}_initLayout(){this._showPreLoader(),this._createFontPreviewContainer()}_postRender(){let t=this,a=this._container=this.element.find("#ui-zfl-container");this._createDialog(),this._preloader=a.find(".zfontlibrary__preloader"),this._fontFilter=a.find(".zfontlibrary__fontfilter"),this._fontTypesList=a.find("#ui-zfl-category"),this._fontList=a.find(".zfontlibrary__fontlist"),this._fontListGroup=a.find(".zfontlibrary__fontlistgroup"),this._searchBox=a.find(".zfontlibrary__searchbox input"),this._searchtoggleIcon=a.find(".zfontlibrary__elementcollapse"),this._previewContainer=a.find(".zfontlibrary__previewer"),this._fontPreviewer=a.find(".zfontlibrary__previewarea"),this._noPreviewContainer=a.find(".zfontlibrary__nopreview"),this._noPreview=a.find(".zfontlibrary__viewmoredetails"),this._selectedLabel=a.find(".ui-zfl-selection_content"),this._textArea=a.find("#ui-textArea-id"),this._fontSizeButton=a.find(".zfontlibrary__fontsizebutton"),this._returnBackDiv=a.find(".zfontlibrary__curve"),this._fontInfo=a.find(".zfontlibrary__infobutton"),this._fontSizeDiv=a.find(".zfontlibrary__fontsizecontainer"),this._varFontSize=a.find(".zfontlibrary__fontsizepreview"),this._noFontsMsgDiv=a.find(".zfontlibrary__nofontcontainer"),this._fontType=a.find(".zfontlibrary__fonttype"),this._backgroundSubjDiv=a.find(".zfontlibrary__textarea"),this._hiddenDiv=a.find("#ui-hiddenDiv-id"),this._returnBackIcon=a.find(".zfontlibrary__infobutton.is-selected"),this._myFontsCountContainer=a.find(".zfontlibrary__counts"),this._createLanguageCombo()&&e.createComboBox({id:"fontLanguageMenu",appendTo:t._fontFilter,className:"language__combo",tabindex:"10002",options:t._data.languages,selectedIndex:0,width:"140px",dataMapping:{label:"label",value:"value"},search:{criteria:"contains",by:"value",highlightKeyword:!0},dropdownList:{height:350},placeholder:this._getString("language.label")}),this._setPreviewText(),this._pushCount=0,this._data.fontlist&&(e.createListBox({id:"ui-zfl-fontlist-ul",appendTo:t._fontListGroup,multiple:!0,className:"zfontlibrary--listbox",contentType:"image-text-asc",tabindex:"10004",dataSource:{URL:"../source/js/feature-library/fcomponents/js/zfontslist.json"},checkedIcon:!0,checkboxPosition:"right",selectorToIgnoreSelection:"*",selectOnENTERKeyPress:!1,values:t._selectedFonts,width:"230px",height:"100%",searchField:t._searchBox,dataMapping:{text:"name",value:"name"},viewPerPage:20,search:{criteria:"contains",by:"name"},change:function(a){t._changeHandler(a)},itemfocus:function(a){t._itemFocusHandler(a)}}),this._fontGroup=this._fontListGroup.find(".zfontlibrary--listbox")),this._currFont=this._fontGroup.find("li:first"),this._creaetFontVarients(this._currFont.data("label"))&&e.createSelect({id:"ui-zfl-variant-combo",appendTo:a.find(".zfontlibrary__fontadder"),tabindex:"10005",options:t._data.fontVariaents,width:"140px",dropdownList:{width:"140px"}}),this._bindEvents(),this._initialType(),this._initLayout()}_initialType(){this._isIE9&&this._searchBox.width(116),this._currFontType=this._fontTypesList.children(":nth-child(2)").addClass("zfontlibrary__selectedcategory"),this._fontTypesList.children(":nth-child(2)").addClass("has-focus").find("a").focus(),this._changeTabIndex(this._currFontType.find("a"),10001),this._changeTabIndex(this._fontTypesList.children(":first").find("a"),-1),ZFontsUtil.currentType=this._currentType=this._currFontType.data("label");let e=this._selectedFonts&&this._selectedFonts.length||0;this._myFontsCountContainer.find(".zfontlibrary__myfontscount").text(""+e+""),10<=e&&this._myFontsCountContainer.width(30)}_createFontObject(e){e=ZFontsUtil.getWebFont(e);let t=e.name,a=t.toLowerCase();return a=a.replace(/ +/g,""),{value:t,label:t,className:`zfc-${a}`,customAttribute:{"data-preview":a}}}_createFontList(e){this._displayCount=this._lazyLoadCount;let t=0,a=this,o=e*this._displayCount;return this._data.fontlist=[],ZFontsUtil.forEachWebFont(function(e){t++;let n=a._createFontObject(e.name);if(a._data.fontlist.push(n),t>=o+a._displayCount)return 0}),!0}_creaetFontVarients(e,t){let a=[],o=t||ZFontsUtil.getWebFont(e);if(o&&o.variants){for(let e in o.variants)a.push(this.fontWeights[e]);-1===a.indexOf(this.fontWeights[700])&&a.push(this.fontWeights[700]),-1===a.indexOf(this.fontWeights["400i"])&&a.push(this.fontWeights["400i"]),-1===a.indexOf(this.fontWeights["700i"])&&a.push(this.fontWeights["700i"])}return this._data.fontVariaents=a,a}_bindEvents(){let a=this,e=this._container,o=500,n,i;this._langCombo=e.find("#fontLanguageMenu"),this._initCategoryClickEvents(),this._searchtoggleIcon.click(function(){""!==t(this).html()&&setTimeout(function(){a._clearTextBox()},200)}),this._langCombo.on("zcomboboxchange",function(o,e){let n=e.value,i;a._currLangVal!==n&&(clearTimeout(i),!a._noFontsShown&&a._fontList.add(t(a._previewContainer)),a._resetDivs(!0),""!==n&&(a._beforeSearchFontType=a._currFontType,a._toRefresh=!0,a._addElt="language",a._pushCount=0,i=setTimeout(function(){},200)),a._currLangVal=n)}),e.find("#ui-zfl-variant-combo").on("zselectchange",function(t){let e="normal";-1<t.detail.value.indexOf("i")&&(e="italic");let o=a._currFont.length&&a._currFont.data("label").toLowerCase();a._textArea.add(a._varFontSize.find("span")).css({"font-family":o,"font-weight":parseInt(t.detail.value),"font-style":e})}),this._textArea.on("focus.zfl",function(){a._textArea.select(),a._textArea.mouseup(function(){return a._textArea.off("mouseup"),!1}),a._textAreaVal=a._textArea.val()}).on("keydown.zfl",function(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),a._textArea.val(a._textAreaVal)),a._hideTextarea()}).on("keyup.zfl",function(){a._hideTextarea()}),this._fontSizeButton.on("click",function(){a._fontSizeButton.hasClass("ui-zfl-btn-disable")||setTimeout(function(){a._showPreview(),a._lesserText||a._fontSizeButton.addClass("ui-zfl-btn-disable")},10)}).on("dblclick",function(t){t.stopPropagation(),t.preventDefault()}),this._returnBackDiv.on("click",function(){a._restorePreview()}),this._fontInfo.off("click").on("click",function(){n&&clearTimeout(n),a._isIE9?(a._fontPreviewer.clearQueue().animate({opacity:.1,left:"-340px"},o),a._hiddenDiv.clearQueue().show().animate({opacity:1,left:"30px"},o)):(a._fontPreviewer.addClass("zfontlibrary__previewareaanimate"),a._hiddenDiv.show(),n=setTimeout(function(){a._hiddenDiv.addClass("zfontlibrary__fontdetailsanimate")},50)),a._fontInfo.css("display","none"),a._returnBackIcon.css("display","inline-block").focus(),a._fontInfoShown=!0}),this._hiddenDiv.on("scroll.zfl",function(o){let e=a._hiddenDiv;t(o.target).scrollTop()&&e.outerHeight()+e.scrollTop()<e[0].scrollHeight?e.addClass("zfontlibrary__fontdetailsshadow"):e.removeClass("zfontlibrary__fontdetailsshadow")}),this._returnBackIcon.off("click").on("click",function(){i&&clearTimeout(i);let e=a._hiddenDiv;a._isIE9?(e.clearQueue().animate({opacity:0,left:"330px"},o,function(){t(this).hide()}),a._fontPreviewer.clearQueue().animate({opacity:1,left:"0px"},o)):(e.removeClass("zfontlibrary__fontdetailsanimate"),a._fontPreviewer.removeClass("zfontlibrary__previewareaanimate"),i=setTimeout(function(){e.hide()},o)),a._fontInfo.css("display","inline-block").focus(),a._returnBackIcon.css("display","none"),a._fontInfoShown=!1}),this._fontPreviewer.click(function(t){t.target!==a._textArea&&""===a._textArea.val()&&(a._textArea.val(a._defaultValue),a._backgroundSubjDiv.hide())}),this._container.on("keyup.zfl",function(){})}_previewHandler(e){e?(this._previewContainer.removeClass("zh-dnone"),this._noPreviewContainer.addClass("zh-dnone"),this._fontPreviewer.removeClass("zh-dnone"),this._fontInfo.removeClass("zh-dnone")):(this._noPreviewContainer.removeClass("zh-dnone"),this._previewContainer.addClass("zh-dnone"),this._fontPreviewer.addClass("zh-dnone"),this._fontInfo.addClass("zh-dnone"))}_itemFocusHandler(e){this._currFont.removeClass("zfontlibrary__selectedcategory");let a=t(e.detail.targetItem);this._currFont.data("label")===a.data("label")?this._currFont.addClass("zfontlibrary__selectedcategory"):(this._currFont=a.addClass("zfontlibrary__selectedcategory"),this._fontTypesList.find("li.has-focus").removeClass("has-focus"),this._fontGroup.addClass("zfontlibrary__textnoselect"),this._previewHandler(!0),this._refreshComponents(a))}_changeHandler(e){let a=this._myFontsCountContainer.children(":first"),o=this._myFontsCountContainer.children(":last"),n=this,i=t(e.detail.targetItem),r=500,s=n._fontGroup.find("ul").children().length,l=i.find("input"),d,c;this._css="",this._fontTypesList.find("li.has-focus").removeClass("has-focus"),this._countAnimation=!0,this._increaseVal=!1,this._fontGroup.addClass("zfontlibrary__textnoselect"),"myfonts"===this._currentType?(thisObj.remove(),--this._myFontsCount):e.detail.targetItemMappedData.selected?e.detail.targetItemMappedData.selected&&(l.attr("title",this._getString("removeFromLibrary.label")),++this._myFontsCount,this._increaseVal=!0):(l.attr("title",this._getString("addToLibrary.label")),--this._myFontsCount);let m=ZFontsUtil.getWebFont(i.data("label"));if(m)if(this._increaseVal)this._selectedFonts.push(m.getFontName());else{let e=this._selectedFonts.indexOf(m.getFontName());-1<e&&this._selectedFonts.splice(e,1)}this._updateFontList(i),this._myFontsCountContainer.show(),c&&clearTimeout(c),setTimeout(function(){10>this._myFontsCount?n._myFontsCountContainer.width(20):10<=n._myFontsCount&&n._myFontsCountContainer.width(30),n._increaseVal?(o.text(n._myFontsCount).attr("class","zfontlibrary__myfontscount zfontlibrary__myfontscountincrease").css("top",0).clearQueue().animate({top:-18},r),a.text(n._myFontsCount-1).attr("class","zfontlibrary__myfontscount zfontlibrary__myfontscountincrease").css("top",0).clearQueue().animate({top:-18},r)):(a.text(n._myFontsCount).attr("class","zfontlibrary__myfontscount zfontlibrary__myfontscountdecrease").css("top",-18).clearQueue().animate({top:0},r),o.text(n._myFontsCount+1).attr("class","zfontlibrary__myfontscount zfontlibrary__myfontscountdecrease").css("top",-18).clearQueue().animate({top:0},r))},100),c=setTimeout(function(){t(a).add(t(o)).attr("class","zfontlibrary__myfontscount")},1500),0===s&&n._noFonts(),clearTimeout(d),d=setTimeout(function(){n._fontGroup.removeClass("zfontlibrary__textnoselect"),i.removeClass("animate")},500),this._previewHandler(this._fontGroup.find("li.has-focus"))}_createDialog(){this._opts.isDialogOpen=!0;let e=this,a=(window.innerWidth-765)/2,o=(window.innerHeight-460)/3;this._container.zdialog({type:e._opts.type,autoOpen:!0,minimizable:"modeless"===e._opts.type,position:{left:a,top:o},width:785,resizable:!1,className:"zfontlibrary",title:e._getString("fontlibrary.label"),excludeFocus:"li",beforeclose(){e._triggerEvent(e._EVENTS.ONBEFORECLOSE)},close(){e._close()}}),this._dialog=this._container.parent();let n=t(document);this._container.on("zdialogminimize",function(){e._fontNameSpan&&e._fontNameSpan.hide(),e._triggerEvent(e._EVENTS.ONMINIMIZE),n.off("keydown.zfl")}).on("zdialogrestore",function(){e._fontNameSpan&&e._fontNameSpan.show(),e._triggerEvent(e._EVENTS.ONRESTORE),n.on("keydown.zfl",function(){}).on("click.zfl",function(){})}),this._fontPreviewDiv=t("<div>").attr("class","zfontlibrary__lazyload").text("ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789").appendTo("body"),this._triggerEvent(this._EVENTS.ONOPEN)}_removeFocus(){let e=this._container.find(":focus");e.hasClass("zfontlibrary__fontlist")||e.closest("li").attr("data-font")||this._fontGroup.find("li.zfontlibrary__selectedcategory").removeClass("has-focus").trigger("mouseleave.zfl")}_removeButton(e){if(!0===e&&0<this._selectedFonts.length&&!this._selectContainer){let e=this;this._fontList.addClass("zfontlibrary__myfontswidth"),this._selectContainer=t("<div class=\"zfontlibrary__selectcontainer\">").prependTo(this._fontList);let a=t("<button class=\"zfontlibrary__button\">").text(this._getString("removeall.label")).appendTo(this._selectContainer);a.off("click.zfl").on("click.zfl",function(){ZAlertDialog.open({type:"warning",primaryMessage:e._getString("removeallwarning.label"),buttons:[{text:FCUtil.getString("no.label",e.keys),isCancel:!0},{text:FCUtil.getString("yes.label",e.keys),appearance:"primary",isCancel:!1}],position:"center",buttonsOrder:"mac",buttonsAlignment:"right",close(t,o){if(o.buttonOptions&&!o.buttonOptions.isCancel){let t={progress(){},success(){e._fontCombo&&e._fontCombo.data("zselect")&&e._fontCombo.zselect("removeOption",e._selectedFonts.map(function(e){return e.toLowerCase()}));let t={};e._myFontsCount=0,e._myFontsCountContainer.find("div").text("0"),e._noFonts(),t.fonts=e._selectedFonts,t.fontAction="removeall",e._triggerEvent(e._EVENTS.ONUPDATE,t),e._selectedFonts=[],e._fontTypesList.find("li:first").addClass("has-focus").find("a").focus()},fail(t){a.focus(),e._showError(e._getString("updateerror.label"),!0)}};e._editMyFonts({fontAction:"removeall"},t)}else a.focus()}})})}else!e&&this._selectContainer&&0<this._selectContainer.length&&(this._selectContainer.remove(),this._selectContainer=void 0,this._fontList.removeClass("zfontlibrary__myfontswidth"))}_initFontsCSS(){let e=this,a="";ZFontsUtil.filterWebFonts(function(t){let o=e._fontTypeArray[t.type]&&t.type||"others";if(e._fontTypeArray[o].importCount++,e._fontTypeArray[o].importCount>e._lazyLoadCount)return 1;let n=t[FCWebFont.PROP_DEFAULT_VARIANT];if(e._fontTypeArray[o].importCount++,e._fontTypeArray[o].importCount<=e._lazyLoadCount){a+="<span style=\"font-family: "+t.name+";\">ABCDEFGHIJKLMNOPQRSTUVXYZ</span>";let i=e._fontPath+t.getFontVariantName(n),r=1!==e._fontTypeArray[o].importCount;e._createFontFaceCSS(t.name,i,n,"normal",!!(r&&!1!=t.preview)&&r),ZFontsUtil.getWebFont(t.name).setProperty("import",!(r&&!1!=t.preview)||!r)}}),t("<ul class = \"zfontlibrary__fontBackground\">").appendTo(t("body")).append(a),this._styleElt.append(this._css)}_initCategoryClickEvents(){let e=this,a,o;this._fontTypesList.children("li").off("click.zfl").on("click.zfl",function(){o=[];let n=t(this);if(e._noPreviewContainer.show(),e._fontInfo.hide(),e._resetTextarea(),t(e._currFontType)[0]!==n[0]||""!==e._searchBox.val()||e._doRefresh){e._fontTypesList.find("li").removeClass("has-focus zfontlibrary__selectedcategory"),e._changeTabIndex(e._fontTypesList.find("a"),-1),e._resetDivs(),e._previewContent(),e._toRefresh=!0;let t=ZFontsUtil.currentType=e._currentType=n.data("label");n.addClass("has-focus zfontlibrary__selectedcategory"),e._changeTabIndex(n.find("a"),10001),e._pushCount=0,e._addElt="allfonts"===t||"myfonts"===t?t:"type",a="type"===e._addElt?t:"";let i=ZComponents.listbox("#ui-zfl-fontlist-ul");"allfonts"===e._addElt?(i.setAttribute("data",null),i.setAttribute("dataSource",{URL:"../source/js/feature-library/fcomponents/js/zfontslist.json"})):(ZFontsUtil.filterWebFonts(function(t){"type"===e._addElt&&(t.type||"others")===a?o.push(t):"myfonts"===e._addElt&&-1!==e._selectedFonts.indexOf(t.name)&&o.push(t)}),setTimeout(function(){i.setAttribute("dataSource",{URL:null}),i.setAttribute("data",o)},500)),e._currFontType=n}else n.addClass("has-focus");e._fontFamily=e._currFont&&e._currFont.data("label"),e._doRefresh=!1,e._handleScroll(null,this._varFontSize,!0)})}_noFonts(){this._noFontsShown||(this._fontList.addClass("zfontlibrary__borderrtransparent").children().hide(),this._previewContainer.add(t(this._fontInfo)),this._fontInfo.hide(),this._noFontsMsgDiv.show(),this._noPreview.hide(),this._noPreviewContainer.hide(),this._fontPreviewer.hide(),this._noFontsShown=!0,t("<span>").text(this._getString("noFonts.label")).attr({id:"ui-zfl-no-fonts"}).appendTo(this._noFontsMsgDiv),"myfonts"===this._currentType&&(this._fontList.removeClass("zfontlibrary__myfontswidth"),this._selectContainer&&this._selectContainer.hide()),this._showPreLoader())}_resetNoFonts(){this._noFontsMsgDiv.hide(),this._noPreview.show(),this._noFontsMsgDiv.find("#ui-zfl-no-fonts").remove(),this._fontList.removeClass("zfontlibrary__borderrtransparent").children().show(),this._noFontsShown=!1,this._resetMyfonts()}_resetMyfonts(){"myfonts"===this._currentType&&0<this._fontGroup.find("li").length&&(this._selectContainer&&this._selectContainer.show(),this._fontList.addClass("zfontlibrary__myfontswidth"),this._addbutton=!1)}_previewContent(e){e?(this._noPreview.hide(),this._selectedLabel.show()):(this._noPreview.show(),this._selectedLabel.hide()),0<this._fontGroup.children().length&&this._noPreviewContainer.show()}_createFontPreviewContainer(){let e=this,t=this._currFontType.data("label");this._addElt="allfonts"===t||"myfonts"===t?t:"type"}_mouseActions(e,t){let a=this;"myfonts"!==this._currentType&&setTimeout(function(){let o="",n="";e.hasClass("zfontlibrary__selectedicon")&&t?(o=a._plusSVG,n=a._getString("addToLibrary.label")):e.hasClass("zfontlibrary__deselectedicon")&&(o=t===void 0?"":a._minusSVG,n=t===void 0?"":a._getString("removeFromLibrary.label")),e.find("i").html(o).css({visibility:"visible"}).attr("title",n),t||e.find("i").css({visibility:"hidden"})},1)}_hideTextarea(){""===this._textArea.val()?this._backgroundSubjDiv.css({opacity:.15,"font-family":this._fontFamily}).show():(this._backgroundSubjDiv.hide(),this._textArea.show())}_upDownKeyScroll(e){let t=this._fontGroup.find("li span.zfontlibrary__icon").parent().not(this._currFont[0]),a=0,o=this._currFont.next(),n=this;e||(a=7,o=this._currFont.prev()),this._currFont.trigger("mouseleave.zfl"),o.trigger("click"),this._currFont.trigger("mouseenter.zfl");let i=this._fontListGroup.children(".zscroll__container").children(".zscroll__content");this._currFont.offset().top<i.offset().top?i.scrollTop((this._currFont.index()-a)*this._currFont.outerHeight()):this._currFont.offset().top-i.offset().top+10>i.outerHeight()&&i.scrollTop((this._currFont.index()-a)*this._currFont.outerHeight()),setTimeout(function(){n._container.zdialog("refreshContent")},0)}_upDownKey(e,t){e.trigger("mouseleave.zfl"),t?0<e.next().length?e.next().trigger("click"):e.parent().find("li:first").trigger("click"):0<e.prev().length?e.prev().trigger("click"):e.parent().find("li:last").trigger("click"),e.trigger("mouseenter.zfl")}_hideMoreDetails(){this._previewContent(),this._fontPreviewer.hide()}_changeTabIndex(e,t){e.attr("tabindex",t),-1!==t&&e.focus();let a=this;setTimeout(function(){a._container.zdialog("refreshContent")},1)}_clearTextBox(){this._searchtoggleIcon.attr("class","zfontlibrary__elementcollapse").html(""),this._searchBox.val(""),this._currTextVal="",this._resetDivs(),this._searchBox.focus(),this._currFontType.add(this._currFont).addClass("zfontlibrary__selectedcategory"),this._toRefresh=!0,this._pushCount=0;let e=ZFontsUtil.currentType=this._currentType=this._currFontType.data("label"),t=this;this._addElt="allfonts"===e||"myfonts"===e?e:"type",this._currLangVal!==this._getString("alllanguages.label")&&(this._addElt="language"),this._addElements(this._addElt,this._pushCount,"type"===this._addElt?e:"",!0),setTimeout(function(){t._resetMyfonts()},10)}_resetDivs(e){!e&&this._noFontsShown&&this._resetNoFonts(),this._fontPreviewShown?this._restorePreview():this._fontInfoShown&&this._returnbackPreview()}_loadFontFace(e,t,a){if(this._css="",t&&t.variants)for(let e in t.variants){let a=this._fontPath+t.variants[e],o="normal";-1<e.indexOf("i")&&(o="italic");let n=parseInt(e);this._createFontFaceCSS(t.name,a,n,o)}this._styleElt.append(this._css)}_showPreview(){let e=this,a=300;if(this._fontSizeButton.addClass("fontSizeSelected"),this._fontInfo.hide(),this._resetTextarea(),this._fontPreviewShown)this._restorePreview();else{this._fontSizeDiv.css("visibility","visible"),this._textArea.hide(),this._fontSizeDiv.children().find("span").removeClass("zfontlibrary__previewshadow").css({"font-family":e._fontFamily}).show(),20<this._textArea.val().length?(this._lesserText=!1,this._fontNameSpan?this._fontNameSpan.text(e._fontFamily).fadeIn(400):this._fontNameSpan=t("<span>").text(e._fontFamily).addClass("zdialog__title zfontlibrary__fonttitle").insertBefore(this._dialog.find(".zdialog__actiongroup.zdialog__action")).fadeIn(400),this._textArea.hide(),this._fontList.addClass("zfontlibrary__borderrlwhite"),this._isIE9?(this._fontType.clearQueue().animate({width:0,paddingRight:0},a),this._fontList.clearQueue().animate({width:0,height:0},a),this._previewContainer.clearQueue().animate({width:742,marginLeft:"-20",right:0},a)):(this._fontType.addClass("zfontlibrary__fonttypeanimate"),this._fontList.addClass("zfontlibrary__fontlistanimate"),this._previewContainer.addClass("zfontlibrary__previeweranimate")),setTimeout(function(){e._fontType.children().hide(),e._fontList.children().fadeOut(100),e._isIE9?e._returnBackDiv.clearQueue().animate({left:"-30px"},80,"easeOutQuart").show():e._returnBackDiv.addClass("zfontlibrary__curveanimate").show(),setTimeout(function(){t(e._fontSizeButton).addClass("zfontlibrary__icon"),e._fontPreviewShown=!0,e._fontSizeButton.removeClass("ui-zfl-btn-disable")},150)},200)):(e._fontSizeButton.addClass("zfontlibrary__icon").removeClass("ui-zfl-btn-disable"),e._fontPreviewShown=!0,e._lesserText=!0);let n=this._varFontSize.find("span"),i=this._varFontSize.find("a");if(this._changeTabIndex(i,-1),80>this._textArea.val().length){let e=48;for(var o=0;3>o;o++)t(n[o]).css({"font-size":e}).attr("class","zfontlibrary__previewless zfontlibrary__previewshadow"),t(i[o]).text(e),e-=2*(6-o);for(t(n[o]).css({"font-size":20}).attr("class","zfontlibrary__previewless zfontlibrary__previewshadow"),t(i[o]).text(20),e=16,o=4;8>o;o++)t(n[o]).css({"font-size":e}).attr("class","zfontlibrary__previewmin zfontlibrary__previewshadow"),t(i[o]).text(e),e-=2}else for(n.slice(0,3).hide(),i.slice(0,3).hide(),o=3;7>=o;o++)fontSize=25-2*o,t(n[o]).css({"font-size":fontSize}).attr("class","zfontlibrary__previewmore"),t(i[o]).text(fontSize);this._varFontSize[0].children[0].scrollTop=0,this._varFontSize.css("width",""),setTimeout(function(){e._handleScroll(null,e._varFontSize)},250)}}_restorePreview(){this._lesserText||this._fontNameSpan.remove(),this._isIE9?(this._previewContainer.clearQueue().animate({width:328,marginLeft:0},300),this._returnBackDiv.clearQueue().animate({left:"-61px"},100,"easeOutQuart").show(),this._fontList.clearQueue().animate({width:230},300),this._fontType.clearQueue().animate({width:140,paddingRight:20},300)):(this._previewContainer.removeClass("zfontlibrary__previeweranimate"),this._returnBackDiv.hide().removeClass("zfontlibrary__curveanimate"),this._fontList.removeClass("zfontlibrary__fontlistanimate"),this._fontType.removeClass("zfontlibrary__fonttypeanimate")),this._fontSizeDiv.css("visibility","hidden"),this._textArea.show(),this._fontType.children().show(),this._fontList.removeClass("zfontlibrary__borderrlwhite").children().show();let e=this;setTimeout(function(){e._fontSizeButton.removeClass("zfontlibrary__icon"),e._fontPreviewShown=!1,e._fontSizeButton.removeClass("ui-zfl-btn-disable")}),setTimeout(function(){e._fontInfo.css("display","inline-block")},50),setTimeout(function(){"myfonts"===e._addElt&&e._fontPreviewShown&&e._fontList.addClass("zfontlibrary__myfontswidth")},270)}_resetTextarea(){""===this._textArea.val()&&(this._textArea.val(this._defaultValue),this._backgroundSubjDiv.hide())}_getFontDetails(e){let t={},a=ZFontsUtil.getWebFont(e);if(!a)return t;let o=a.name,n,i,r;for(let s in t={allFontFace:"",fontFace:"",fontFaceWithSubest:"",fontName:o,fontCategory:a.type,languages:a.languages?a.languages:"English"},a.variants)i=a.variants[s],r=-1<s.indexOf("i")?"italic":"normal",n=ZFontsUtil.getFontFace(o,s,r,this._fontPath+i),"400"==s&&(t.fontFace=n),t.allFontFace+=n,t.fontFaceWithSubest+=this._createFontFaceWithSubset(o,s,r,this._fontPath+i,a.subsets);return t}_createFontFaceWithSubset(e,t,a,o,n){let r="";for(let s=0;s<n.length;s++)r+=ZFontsUtil.getFontFace(e,t,a,o,!1,"font_"+n[s].script+"."+FCWebFont.SUPPORTED_WOFF,n[s].range);return r}_createFontFace(e,t,a,o){return"@font-face{font-family:'"+e+"';font-weight:"+t+";font-style:"+a+"; src: local('"+e+"'), url('"+o+"/font."+FCWebFont.SUPPORTED_WOFF+"') format('"+FCWebFont.SUPPORTED_WOFF+"');}"}_returnbackPreview(){let e=this._hiddenDiv;this._isIE9?(this._fontPreviewer.css({opacity:1,left:"0px"}),e.css({left:"330px",opacity:.1}).hide()):(e.add(this._fontPreviewer).removeClass("zfontlibrary__transition"),this._fontPreviewer.removeClass("zfontlibrary__previewareaanimate").show(),e.removeClass("zfontlibrary__fontdetailsanimate").hide(),e.add(this._fontPreviewer).addClass("zfontlibrary__transition")),this._returnBackIcon.hide(),this._fontList.removeClass("zfontlibrary__borderrlwhite"),this._fontInfoShown=!1}_refreshComponents(e,a){let o=t("#ui-zfl-variant-combo"),n=[],r=null,s=e?e.data("label"):t(e).text(),l=t(e).data("label"),d=l&&ZFontsUtil.getWebFont(l),c,m;if(d)for(m in d.subsetloaded||(c=d,r=d.index),d.variants)n.push(this.fontWeights[m]);this._createFontInfo(d)&&this._render(this._data,"fontDetailsContainer",t("#ui-hiddenDiv-id")[0],null),-1===n.indexOf(this.fontWeights[700])&&n.push(this.fontWeights[700]);let _={};for(m=0;m<n.length;m++)_[n[m]]=n[m];n=[];for(let t=0,o;t<this._onlyWeights.length;t++)o=this.fontWeights[this._onlyWeights[t]],o in _&&(n.push(this._onlyWeights[t]),n.push(this._italicWeights[t]),delete _[o]);for(let t=0;t<_.length;t++)n.push(_[t]);let u=[];for(let t=0;t<n.length;t++)u.push({value:n[t],label:this.fontWeights[n[t]]});if(this._fontFamily=this._currFont.data("label"),o.data("zselect")||o.zselect({width:"90px"}),o.zselect("setAttribute","options",u),o.zselect("setValue","400"),!a,void 0!==d)if(this._fontPreviewDiv[0].style.setProperty("font-family",d.name,"important"),void 0!==c){let t=c[FCWebFont.PROP_DEFAULT_VARIANT],a=this._fontPath+c.getFontVariantName(t),o=this;this._loadFonts(a+"/font."+FCWebFont.SUPPORTED_WOFF,{},function(){let t=ZFontsUtil.getWebFont(o._fontFamily);o._updatePreview(t),t.setProperty("subsetloaded",!0),o._loadFontFace(e||o._currFont,t,r)})}else this._updatePreview(d)}_updatePreview(e){let t=e[FCWebFont.PROP_DEFAULT_VARIANT],a="Normal",o=this._fontFamily+",arial,sans-serif";this._varFontSize.find("span").css({"font-family":o,"font-style":a,"font-weight":t}),this._textArea.css({"font-style":a,"font-weight":t}),this._backgroundSubjDiv.css({"font-style":a,"font-weight":t}),this._textArea[0].style.setProperty("font-family",o,"important"),this._backgroundSubjDiv[0].style.setProperty("font-family",o,"important")}_loaderIcon(){let e=t("<div>").attr({id:"ui-zfl-loader"}),a=t("<div>").attr({id:"ui-loaderDiv-id"}).appendTo(e);this._isIE9?a.addClass("zfontlibrary__loaderie9 ui-icon-loader-small"):(a.addClass("zfontlibrary__loader"),t("<div class=\"zfontlibrary__cssloader1\"></div><div class=\"zfontlibrary__cssloader2\"></div><div class=\"zfontlibrary__cssloader3\"></div>").appendTo(a)),e.appendTo(this._fontGroup)}_getFurtherFonts(){this._fontListGroup.off("zscrollbarverticalscrollend.zfontlibrary"),this._toRefresh=!1,0===this._fontGroup.find("#ui-zfl-loader").length&&this._loaderIcon(),this._addElements(this._addElt,++this._pushCount,this._currFontType.data("label"),!0)}_updFont(e,t){this._increaseVal=t,this._updateFontList(e.join(","),!0)}_updateFont(){if(dialogOpen){let e=this._currFontType;this._currFontType=null,e.trigger("click"),this._myFontsCountContainer.find("div").text(this._selectedFonts.length)}}_updateFontList(e,a){let o=a?e.name:e.data("label"),n=o.toLowerCase(),i=this._increaseVal?"add":"remove",r=this,s={progress(e){},success(e){let s=r._fontCombo,l;if(s&&(l="SELECT"===s[0].tagName?"zselect":"zcombobox"),l){let e=r._fontOptGroup.find("option"),a=[];for(let o=0;o<e.length;o++)a.push(t(e[o]).val().toLowerCase());if("add"===i&&-1===a.indexOf(n)){a.push(n),a.sort();let e=a.indexOf(n),t={label:o,value:n,position:e,style:"font-family:"+o+";"};r._addToOptGroup&&(t.optionGroup=r._fontOptGroup),s[l]("addOption",t)}else"remove"===i&&-1!==a.indexOf(n)&&s[l]("removeOption",n)}let d={};"add"===i?d=r._getFontDetails(o):d.fonts=[o],d.fontAction=i,r._triggerEvent(r._EVENTS.ONUPDATE,d),a&&r._getFontList(a)},fail(e){r._showError(r._getString("updateerror.label"),!0)}};this._editMyFonts({fontName:o,fontAction:i},s)}_editMyFonts(e,t){FCUtil.ajaxUtil("updatefontlist.do","POST",e,t)}_changeFontType(){this._currFontType.removeClass("zfontlibrary__selectedcategory"),this._changeTabIndex(this._currFontType.find("a"),-1),this._currFontType=this._fontTypesList.children(":nth-child(2)").addClass("zfontlibrary__selectedcategory"),this._currFontType.find("a").attr("tabindex",10001)}_addElements(e,t,a,o){this._css="",this._displayCount=this._lazyLoadCount;let n=t*this._displayCount,i=0,r=this;if(this._loadedCount=0,this._appendList="",this._isFinished=!1,ZFontsUtil.currentLanguage=0===this._langCombo.zcombobox("getAttribute","selectedIndex")?-1:this._currLangVal,ZFontsUtil.currentSearch=""===this._searchBox.val()?-1:this._searchBox.val().toLowerCase(),ZFontsUtil.selectedFonts=this._selectedFonts,"allfonts"===e){let t=this;ZFontsUtil.filterWebFonts(function(a){if(i++,t._displayElements(e,a.name,n,i,o),i>=n+t._displayCount)return 0})}else if("type"===e)ZFontsUtil.filterWebFonts(function(t){if((t.type||"others")===a&&(i++,r._displayElements(e,t.name,n,i,o),i>=n+r._displayCount))return 0});else if("search"===e){ZFontsUtil.currentType=this._currentType=this._currFontType.data("label");let t=this._searchBox.val().toLowerCase(),a=ZFontsUtil.getCategoriesFonts(function(a){d=-1<a.name.toLowerCase().indexOf(t),l=a,s=l.languages&&""!==l.languages?-1<l.languages.indexOf(r._currLangVal):"English"===r._currLangVal,"myfonts"===r._currentType&&(d=-1!==r._selectedFonts.indexOf(a.name)&&d),d&&(r._currLangVal===r._getString("alllanguages.label")||s||-1===r._currLangVal)&&r._displayElements(e,a.name,n,++i,o)}),s,l,d;setTimeout(function(){r._resetMyfonts()},100)}else"language"===e?(ZFontsUtil.currentType=this._currentType=this._currFontType.data("label"),ZFontsUtil.getFontLanguageList(function(t){r._displayElements(e,t.name,n,++i,o)}),setTimeout(function(){r._resetMyfonts()},100)):ZFontsUtil.filterWebFonts(function(t){-1!==r._selectedFonts.indexOf(t.name)&&r._displayElements(e,t.name,n,++i,o)});e=("language"===e||"search"===e)&&"myfonts"===this._currentType?"myfonts":e,this._showElements(e),this._postAddition(i,n),this._styleElt.append(this._css),0==n&&"myfonts"!==this._addElt||"myfonts"===this._addElt&&0<this._selectedFonts.length?this._hideMoreDetails():this._fontPreviewer.css("visibility","visible")}_displayElements(e,t,a,o,n){let i=ZFontsUtil.getWebFont(t);if(this._fontPreviewer.css("visibility","hidden"),("search"===e||"language"===e)&&(e=this._currentType),a<o&&o<a+this._displayCount){n=!(i.subsets&&0===i.subsets.length)&&n,t=i.getFontName();let r=t+(!0===n?"preview":""),s="myfonts"===e||this._selectedFonts&&-1<this._selectedFonts.indexOf(t)?"zfontlibrary__deselectedicon":"zfontlibrary__selectedicon",l=null==i.previewLabel?t:i.previewLabel,d=this._minusSVG,c=this._getString("removeFromLibrary.label");if("myfonts"===e?(d=this._closeSVG,c=this._getString("remove.label")):"zfontlibrary__selectedicon"===s&&(d=this._plusSVG,c=this._getString("addToLibrary.label")),this._appendList+="<li data-font="+t.replace(/ +/g,"")+" data-fontfamily=\""+t+"\" class=\""+s+"\"><span class=\"zflicon\">"+this._tickSVG+"</span><a tabindex="+(1===o?10004:-1)+" data-fontfamily=\""+t+"\" style=\"font-family: "+r+";\">"+l+"</a><i class=\"zflicon\" title=\""+c+"\">"+d+"</i></li>",this._flag){for(y in this._flag=!1,this._reqArray)this._reqArray[y].abort();this._reqArray=[],this._tempArray=[]}if(this._fontsShown=!1,!0!==n&&!i.import||!0===n&&!i.previewLoaded){let o=this,r=i[FCWebFont.PROP_DEFAULT_VARIANT],s=this._fontPath+i.getFontVariantName(r);n=!1!=i.preview&&n,this._createFontFaceCSS(t,s,r,"normal",n),this._tempArray.push(t);let l={fontObjIndex:t,fontName:t};this._loadFonts(i.getFontURL(r,n),l,function(){o._tempArray.pop(),!0!==n||(i.previewLoaded=!0),o._flag=!0,o._handleShowElements(e,!0)}),0===a&&this._showPreLoader(!0)}}}_handleShowElements(e,t){if(!this._tempArray.length){let t=this;setTimeout(function(){t._showElements(e,!0)},1)}}_showElements(e,t){this._tempArray.length||(this._toRefresh&&(this._fontGroup.html(""),this._noFontsShown&&this._resetNoFonts()),this._fontList.add(this._previewContainer),this._fontGroup.append(this._appendList),this._removeButton("myfonts"===this._currentType),this._toRefresh&&(this._currFont=this._fontGroup.find("li:first"),this._refreshComponents(this._currFont,!0),"myfonts"===e&&!this._noFontsShown&&(this._currFontType=this._fontTypesList.find("li:first"),this._currFont.removeClass("has-focus zfontlibrary__selectedcategory"),this._fontGroup.find("li:visible").hasClass("zfontlibrary__selectedcategory")&&this._noPreviewContainer.hide())),"search"===this._addElt&&this._searchtoggleIcon.html("<i class=\"zfontlibrary__closeicon\" title=\""+this._getString("removeFromLibrary.label")+"\">"+this._closeSVG+"</i>").removeClass("zfontlibrary__searchloader"),this._flag=!1,this._tempArray=[],this._fontsShown=!0,this._container.zdialog("refreshContent"))}_createFontFaceCSS(e,t,a,o,n){let i=e;e+=n?"preview":"",this._css+=ZFontsUtil.getFontFace(e,a,o,t,n),i=i.replace(/ +/g,""),this._css+=` .zfontlibrary .zfc-${i.toLowerCase()}, .zfontlibrary #ui-zfl-fontlist-ul-${i}{ font-family:${e};font-style:${o};font-weight:400;} `}_getLocalName(e,t){return"font-style:"+t+"; src :local('"+e+"'), local('"+e+" "+t+"'), local('"+e.replace(/\s/g,"")+"-"+t.replace(/\s/g,"")+"'),"}_postAddition(e,t){e-t<this._displayCount&&(this._isFinished=!0),this._toRefresh&&!this._appendList&&(this._noFonts(),this._fontList.add(this._previewContainer),this._searchtoggleIcon.attr("class","zfontlibrary__elementcollapse"),""!==this._searchBox.val()&&this._searchtoggleIcon.removeClass("zfontlibrary__elementcollapse").html("<i class=\"zfontlibrary__closeicon\" title=\""+this._getString("removeFromLibrary.label")+"\">"+this._closeSVG+"</i>"),!this._fontsShown&&(this._showPreLoader(!0),this._fontList.add(this._previewContainer)))}_showPreLoader(e){e?(this._preloader.show(),this._fontList.hide(),this._previewContainer.hide()):(this._preloader.hide(),this._fontList&&this._fontList.show(),this._previewContainer&&this._previewContainer.show())}_resetLoader(){let e=this;this._fontGroup.find("#ui-zfl-loader").remove(),this._showPreLoader(),this._fontListGroup.off("zscrollbarverticalscrollend.zfontlibrary").on("zscrollbarverticalscrollend.zfontlibrary",function(){e._getFurtherFonts()})}_getMyFonts(){return this._selectedFonts}_setPreviewText(e){this._defaultValue=e?e:this._data.previewText?this._data.previewText:"A quick brown fox jumps over the lazy dog."===this._getString("randomSentence1.label")?this._previewText[Math.floor(Math.random()*(this._previewText.length-1))]:this._getString("defaultSentence.label"),this._data.previewText=this._defaultValue,this._textArea&&this._textArea.val(this._defaultValue)}_loadFonts(e,a,o){return t.ajax({type:"GET",accepts:{font:"font/"+FCWebFont.SUPPORTED_WOFF},url:e,dataType:"font",beforeSend(e){e.overrideMimeType("font/woff2")},complete(e){o&&setTimeout(function(){o(a)},100)}})}_showError(e,t){e=""===e||e===void 0?this._getString("unknownerror.label"):e,FCUtil.showError(e,this._container,"#ui-zfl-main")}_getString(t,a,o){return e.getI18NText("zfontlibrary",t,this._opts.keys,o)}_triggerEvent(e,t){this._container.trigger("zfontlibrary"+e,t)}_handleScroll(e,t,a){if(t){let o=!!ZComponents.scrollbar,n=o?"scrollbar":"scroll";e?ZComponents[n](t,a):a?ZComponents[n](t).setAttribute(o?"scrollTop":"top",0):ZComponents[n](t)[o?"update":"refresh"]()}}_updateMyFonts(e){if(e.myFonts!==void 0){this._selectedFonts=[];let t=e.myFonts.split(","),a;this._data.currentCount=a=t.length;for(let e=0,o;e<a;e++)o=ZFontsUtil.getWebFont(t[e]),o&&(this._selectedFonts.push(o.getFontName()),this._myFontsCount++)}return!0}open(e){let t=this._opts.isDialogOpen;t?this._open(e):this._init(element,e)}close(){this._close()}addFont(e){this._updateFont(e,!0)}removeFont(e){this._updateFont(e,!1)}setPreviewText(e){this._setPreviewText(e)}getMyFonts(){return this._getMyFonts()}getFontDetails(e){return this._getFontDetails(e)}}e.registerComponent("ZFontlibrary",ZFontlibrary)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zfontlibrary.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.WCContainer;t.WCChildren=e=>ZT.html`<div id='ui-zfl-container' class='zfontlibrary__container'> <div class='zfontlibrary__wrapper'> ${t.WCFontTypeContainer(e)} ${t.WCLoader(e)} ${t.WCFontListContainer(e)} ${t.WCFontPreviewContainer(e)} </div> <div class='zfontlibrary__curve zfontlibrary__curveanimate'> <span class='zfontlibrary__arrow'></span> </div> </div>`,t.WCFontTypeContainer=e=>ZT.html`<div class='zfontlibrary__fonttype'> ${t.WCSearchbox(e.searchBox)} ${t.WCFontType(e)} <div class='zfontlibrary__fontfilter'></div> </div>`,t.WCSearchbox=e=>ZT.html`<div class='zfontlibrary__searchbox'> ${a.WCIcon(e.icon)} <input type='text' class='ztextbox' tabindex='9999' placeholder='${e.placeholder}' /> <span class='zh-dnone'> ${a.WCIcon(e.closeIcon)} </span> </div>`,t.WCFontType=e=>ZT.html`<div class='zfontlibrary__fonttypecontainer'> <ul id='ui-zfl-category'> ${e.fontTypeLabel&&e.fontTypeLabel.map(a=>t.WCTypelist(e,a))} </ul> </div>`,t.WCTypelist=(e,a)=>ZT.html` <li data-label='${a}'> <a tabindex='-1'>${e.fontTypeArray[a].label}</a> ${e.fontTypeArray[a].isMyFonts&&ZT.html`<span class='zfontlibrary__counts'> ${t.WCFontCount(e)} </span>`} </li>`,t.WCFontCount=e=>ZT.html`<div class='zfontlibrary__myfontscount'>${e.currentCount}</div> <div class='zfontlibrary__myfontscount zh-dnone'>${e.currentCount+1}</div>`,t.WCLoader=()=>ZT.html`<div class='zfontlibrary__preloader'> <div class='zfontlibrary__loadercircle'></div> </div>`,t.WCFontListContainer=e=>ZT.html`<div class='zfontlibrary__fontlist'> <div class='zfontlibrary__fontlistgroup'> <div class='zfontlibrary__selectcontainer'> <button class='zfontlibrary__button'>${e.removeall}</button> </div> </div></div>`,t.WCFontPreviewContainer=e=>ZT.html`<div class='zfontlibrary__previewer'> ${t.WCFontPreview(e)} <div class='zfontlibrary__nofontcontainer zh-dnone'><span id='ui-zfl-no-fonts'> ${e.noFonts} </span></div> <div id='ui-hiddenDiv-id' class='zfontlibrary__fontdetails zfontlibrary__transition'> ${t.WCFontDetailsContainer(e)} </div> <div class='zfontlibrary__nopreview'> <span class='zfontlibrary__viewmoredetails'>${e.selectmorefont}</span> <span class='ui-zfl-selection_content'></span> </div> <button title='${e.fontInfo}' tabindex="10008" class="zfontlibrary__infobutton zh-dnone">i</button> </div>`,t.WCFontDetailsContainer=e=>ZT.html` <div class='ui-zfl-fontDetails'> ${e.fontDetails&&e.fontDetails.map(e=>t.WCFontDetails(e))} </div>`,t.WCFontDetails=e=>ZT.html`<li><span>${e.label}</span><b > ${e.value}</b></li>`,t.WCFontPreview=e=>ZT.html`<div class='zfontlibrary__previewarea zfontlibrary__transition zh-dnone'> <div class='zfontlibrary__fontadder'></div> <div class='zfontlibrary__fontsize'> </div> <div class='zfontlibrary__fontpreview'> <textarea class='zfontlibrary__textarea' style="display:none;"></textarea> <textarea id='ui-textArea-id' spellcheck='false' tabindex='10007'> </textarea> <div class='zfontlibrary__fontsizecontainer'> <div class='zfontlibrary__fontsizepreview'> ${e.previewList&&e.previewList.map(a=>t.WCPreview(e,a))} </div> </div> </div> </div>`,t.WCPreview=(e,t)=>ZT.html`<span class='zfontlibrary__previewless zfontlibrary__previewshadow' font-size='${t}'> <a tabindex='-1'>${t}</a> ${e.previewText} </span>`}(ZComponents),function(e){let t=e.zfontlibrary.Templates,a=e.Templates.Utilities,o=e.zbutton.Templates.container;t.children=e=>ZT.html`<div id='ui-zfl-container' class='zfontlibrary__container'> <div class='zfontlibrary__wrapper'> ${t.fontTypeContainer(e)} ${t.loader(e)} ${t.fontListContainer(e)} ${t.fontPreviewContainer(e)} </div> <div class='zfontlibrary__curve zfontlibrary__curveanimate'> <span class='zfontlibrary__arrow'></span> </div> </div>`,t.fontTypeContainer=e=>ZT.html`<div class='zfontlibrary__fonttype'> ${t.searchbox(e.searchBox)} ${t.fontType(e)} <div class='zfontlibrary__fontfilter'></div> </div>`,t.searchbox=e=>ZT.html`<div class='zfontlibrary__searchbox'> ${a.icon(e.icon)} <input type='text' class='ztextbox' tabindex='9999' placeholder='${e.placeholder}' /> <span class='zh-dnone'> ${a.icon(e.closeIcon)} </span> </div>`,t.fontType=e=>ZT.html`<div class='zfontlibrary__fonttypecontainer'> <ul id='ui-zfl-category'> ${e.fontTypeLabel&&e.fontTypeLabel.map(a=>t.typelist(e,a))} </ul> </div>`,t.typelist=(e,a)=>ZT.html` <li data-label='${a}'> <a tabindex='-1'>${e.fontTypeArray[a].label}</a> ${e.fontTypeArray[a].isMyFonts&&ZT.html`<span class='zfontlibrary__counts'> ${t.fontCount(e)} </span>`} </li>`,t.fontCount=e=>ZT.html`<div class='zfontlibrary__myfontscount'>${e.currentCount}</div> <div class='zfontlibrary__myfontscount zh-dnone'>${e.currentCount+1}</div>`,t.loader=()=>ZT.html`<div class='zfontlibrary__preloader'> <div class='zfontlibrary__loadercircle'></div> </div>`,t.fontListContainer=e=>ZT.html`<div class='zfontlibrary__fontlist'> <div class='zfontlibrary__fontlistgroup'> <div class='zfontlibrary__selectcontainer'> <button class='zfontlibrary__button'>${e.removeall}</button> </div> </div></div>`,t.fontPreviewContainer=e=>ZT.html`<div class='zfontlibrary__previewer'> ${t.fontPreview(e)} <div class='zfontlibrary__nofontcontainer zh-dnone'><span id='ui-zfl-no-fonts'> ${e.noFonts} </span></div> <div id='ui-hiddenDiv-id' class='zfontlibrary__fontdetails zfontlibrary__transition'> ${t.fontDetailsContainer(e)} </div> <div class='zfontlibrary__nopreview'> <span class='zfontlibrary__viewmoredetails'>${e.selectmorefont}</span> <span class='ui-zfl-selection_content'></span> </div> <button title='${e.fontInfo}' tabindex="10008" class="zfontlibrary__infobutton zh-dnone">i</button> </div>`,t.fontDetailsContainer=e=>ZT.html` <div class='ui-zfl-fontDetails'> ${e.fontDetails&&e.fontDetails.map(e=>t.fontDetails(e))} </div>`,t.fontDetails=e=>ZT.html`<li><span>${e.label}</span><b > ${e.value}</b></li>`,t.fontPreview=e=>ZT.html`<div class='zfontlibrary__previewarea zfontlibrary__transition zh-dnone'> <div class='zfontlibrary__fontadder'></div> <div class='zfontlibrary__fontsize'> </div> <div class='zfontlibrary__fontpreview'> <textarea class='zfontlibrary__textarea' style="display:none;"></textarea> <textarea id='ui-textArea-id' spellcheck='false' tabindex='10007'> </textarea> <div class='zfontlibrary__fontsizecontainer'> <div class='zfontlibrary__fontsizepreview'> ${e.previewList&&e.previewList.map(a=>t.preview(e,a))} </div> </div> </div> </div>`,t.preview=(e,t)=>ZT.html`<span class='zfontlibrary__previewless zfontlibrary__previewshadow' font-size='${t}'> <a tabindex='-1'>${t}</a> ${e.previewText} </span>`}(ZComponents),function(e,t){var a=Math.abs;class ZScreenGrabber extends e.CoreComponent{get name(){return"zscreengrabber"}static get DEFAULTS(){return{targetObject:!1,fetchImageURL:"",capture:void 0,animationAfterComplete:!0,allowToEdit:!1,canParseSVG:!1,_partal:!1,_isIE9:!1,_rightDrag:!1,_overflow:!0,_ctx:void 0,_memCtx:void 0,keys:{"capture.label":"Capture","cancel.label":"Cancel","done.label":"Done","edit.label":"Edit","capturing.label":"Capturing","message.label":"Click to capture the fullscreen. Drag to select part of the screen.","partialSelectMsg.label":"Drag to select part of the screen.","screencapturealert.label":"Unable to capture your screen due to an unknown error","screencapturefailure.label":"Sorry! We are unable to capture your screen due to an unknown error","retry.label":"Retry","quit.label":"Quit"}}}static _init(a){this._opts=t.extend(!0,{},this.DEFAULTS,a),this._data=this._opts,this._screengrabberOpen=!0,this._events={ONOPEN:"open",ONFINISH:"done",ONCLOSE:"close"},this._initalOverflow=t("body").css("overflow"),this._scrollTopVal={},this._screenGrabFailCount=0,this._isInvokedByShortcut=!1,this._data.screenGrabFail=!1,this._data.selectionDrag=!1,this._data.isCE=!1,this._data.scrollTop=document.documentElement.scrollTop||window.scrollY||window.pageYOffset||document.scrollingElement.scrollTop,this._data.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this._isIE9=e.Browser.isIE&&9===e.Browser.getIEVersion(),this._data.cancelButton=this._data.editButton=this._data.doneButton=this._data.loader={},this._data.cancelButton=this._getbuttonProps("cancel"),this._data.doneButton=this._getbuttonProps("done"),this._data.editButton=this._getbuttonProps("edit"),this._data.captureText=this._getString("capture.label"),this._create(),this._createAlertBanner(),this._createScreenGrabber()}static _create(){let a="partial-screen"===this._opts.capture;this._data.loader={SVGIconClassName:"zsgrabber__svgloader",SVGIconId:a?"#zsg-loader-icon":"#zsg-fullscreen-loader-icon"},this._data.message=this._getString(a?"partialSelectMsg.label":"message.label"),this.container=t(e._render(this._data,"zscreengrabber",null,null,document.body,{})),this._actionBtnsCont=this.container.find(".zsgrabber__actionbtnscontainer"),this._cancelBtn=this.container.find(".zsgrabber__cancelbtn"),this._editBtn=this.container.find(".zsgrabber__editbtn"),this._doneBtn=this.container.find(".zsgrabber__donebtn"),this._centralDiv=this.container.find(".zsgrabber__defaultmsg"),this._darkerDiv=this.container.find(".zsgrabber__fadeoutarea"),this._outerDragEle=this.container.find(".zsgrabber__editor"),this._loaderBar=this.container.find(".zsgrabber__loader"),this._leftDiv=this.container.find(".zsgrabber--selectoverlay.zh-left"),this._rightDiv=this.container.find(".zsgrabber--selectoverlay.zh-right"),this._topDiv=this.container.find(".zsgrabber--selectoverlay.zh-top"),this._bottomDiv=this.container.find(".zsgrabber--selectoverlay.zh-bottom")}static _createAlertBanner(){this._screenCaptureError=t("<div class=\"zsgrabber__errorcontainer\">").appendTo("body"),t("<span>").text(this._getString("screencapturealert.label")).appendTo(this._screenCaptureError),t("<span class=\"zsgrabber__retrylink\">").text(this._getString("retry.label")).appendTo(this._screenCaptureError),t("<div>").attr({class:"zsgrabber__quitbutton",title:this._getString("quit.label")}).append("<span class = \"zfc-icon ui-zfc-cross\" ></span>").appendTo(this._screenCaptureError),this._opts.allowToEdit||(this._cancelBtn.addClass("zh-defaultsize"),this._doneBtn.addClass("zh-defaultsize"))}static _scriptPath(){let e=document.getElementsByTagName("SCRIPT"),t="";if(e&&0<e.length)for(let a in e)if(e[a].src&&e[a].src.match(/\/ui.zscreengrabber\.js$/)){t=e[a].src.replace(/(.*)\/ui.zscreengrabber\.js$/,"$1");break}let a=t.lastIndexOf("/");return t.substr(0,a)}static _getbuttonProps(t,a){return e.ZButton.getBtnProps({title:this._getString(`${t}.label`),type:"icon",className:`zsgrabber__actionbtn zsgrabber__${t}btn`,iconClassName:this._opts[`${t}iconClassName`],SVGIconId:this._opts[`${t}SVGIconId`],defaultSVGIconId:`zsg-${t}-icon`,templateRender:!0})}static _createScreenGrabber(){let a=this,o,n;this._mouseMove=!1,this._restrictMouseDown=!1,this._handle=void 0,this._dragSelection=!1,this._captureInProgress=!1,this._canvasEleCreated=!1,this._screenCaptured=!1,this.container.on("contextmenu",function(t){return t.preventDefault(),t.stopPropagation(),!1}),this.container.focus(),this._bindKeyboardEvents(),t(window).on("mouseup",function(){a._data.selectionDrag&&a.container.trigger("mouseup")}),this.container.on("mousedown",function(o){2!==o.button&&(o.preventDefault(),o.stopPropagation(),a.container.focus(),a._centralDiv.hide(),a._windowWidth=t(window).width(),a._windowHeight=t(window).height(),a.id=Math.round(1e6*Math.random()),!a._restrictMouseDown&&(a._data.selectionDrag=!0,n=[o.clientX,o.clientY]),a._outerDragEle.attr("id",a.id).removeClass("zh-dnone"))}).on("mouseup",function(o){2!==o.button&&(a._data.selectionDrag=!1,a._dragSelection=!1,o.stopPropagation(),o.preventDefault(),t("body").get(0).style.cursor="auto",a.container.css({"background-image":"",cursor:"default"}),!a._captureInProgress&&!a._screenCaptured&&(a._outerDragEle.css("cursor","move"),a._mouseMove?(a._canvasEleCreated=!0,a._restrictMouseDown=!0,a._resizeSelectedScreen(),a._outerDragEle.addClass("zh-partialscreen")):"partial-screen"!==a._opts.capture&&(a._restrictMouseDown=!0,a._defHeight=a._windowHeight,a._defWidth=a._windowWidth,a._createLoaderBar(!0),a._outerDragEle.addClass("zh-fullscreen"),a._loaderBar.trigger("click"),a._actionButtonsPos())))}).on("mousemove.screengrabber",function(i){a._data.selectionDrag&&(a._mouseMove=!0,!a._restrictMouseDown&&(a._createLoaderBar(!1),t("body").css({cursor:"crosshair"})),a._actionBtnsCont.addClass("zh-dnone"),o=[i.clientX,i.clientY],a._selectPartialScreen(o,n))}).on("click.screengrabber",function(t){t.preventDefault(),t.stopPropagation()}),this.container&&("partial-screen"===this._opts.capture?this._partialScreenInvoker():this._fullScreenInvoker(),this.container.focus(),this._triggerEvent(this._events.ONOPEN))}static _bindKeyboardEvents(){let t=this;this.container.off("keydown.screengrabber keyup.screengrabber").on("keydown.screengrabber",function(a){return 27===a.which?(t._data.screenGrabFail=!0,a.stopPropagation(),t._close(!0),a.preventDefault(),!1):void(13!==a.which||t._captureInProgress||(t._canvasEleCreated&&t._loaderBar.trigger("click"),t._screenCaptured&&t._doneBtn.trigger("click")))})}static _getString(t,a,o){return e.getI18NText("zscreengrabber",name,o,this._opts.key)}static _close(){this._loaderBar&&this._loaderBar.remove(),this._opts.canParseSVG&&t("body").find("svg.zsg-svg-element").removeClass("zsg-svg-element"),this._screenCaptureError.remove(),this._screengrabberOpen=!1,this.container.off("mousemove.screengrabber"),t("body").off("mousemove.screengrabber mouseup.screengrabber").removeClass("zsgrabber__userselect").css({cursor:"",overflow:this._initalOverflow}),this._triggerEvent(this._events.ONCLOSE),t(window).off("keydown.screengrabber, keyup.screengrabber"),this._bindShortcutEvents(this._opts),this.container.remove()}static _bindShortcutEvents(){let a,o;e.OS.isMac()?(a=["Command","Option","Shift","3"],o=["Command","Option","Shift","4"]):(a=["Ctrl","Alt","PrtSc"],o=["Ctrl","Shift","PrtSc"]),this._contextPath=FComponents.option("contextPath");let n=!1,i=!1,r=!1,s=!1,l=!1;t(window).off("keydown.screengrabbershortcuts").on("keydown.screengrabbershortcuts",function(t){e.OS.isMac()?(t.metaKey&&(s=!0),t.shiftKey&&(r=!0),16===t.keyCode&&(l=!0),s&&l&&r&&!this._screengrabberOpen&&(51===t.keyCode||52===t.keyCode)&&zscreengrabber._open(t,52===t.keyCode)):(t.ctrlKey&&(n=!0),t.altKey&&(i=!0),t.shiftKey&&(r=!0))}).on("keyup.screengrabbershortcuts",function(t){e.OS.isMac()?(t.metaKey&&(s=!1),t.shiftKey&&(r=!1),16===t.keyCode&&(l=!1)):(n&&44===t.keyCode&&!this._screengrabberOpen&&(r||i)&&zscreengrabber._open(t,r),t.ctrlKey&&(n=!1),t.altKey&&(i=!1),t.shiftKey&&(r=!1))})}static _resizeSelectedScreen(){let e=this,a=this._outerDragEle.offset(),o=document.documentElement.scrollTop||window.scrollY||window.pageYOffset||document.scrollingElement.scrollTop,n;this._defHeight=this._outerDragEle.outerHeight(),this._defWidth=this._outerDragEle.outerWidth(),e._outerDragEle.off().on("mousedown",function(t){e._captureInProgress||e._screenCaptured||(e._data.selectionDrag=!0,e._dragSelection=!0,n=[a.left,a.top-o],e._cursorPos=[t.clientX,t.clientY])}).on("contextmenu",function(){e._data.selectionDrag=!1,e._dragSelection=!1}),t(".zsgrabber--handle").on("mousedown",function(i){i.preventDefault(),i.stopPropagation(),e._data.selectionDrag=!0,e._handle=t(this),e._outerDragEle.css("cursor",e._handle.css("cursor")),t(this).hasClass("zh-se")||t(this).hasClass("zh-s")||t(this).hasClass("zh-e")?n=[a.left,a.top-o]:t(this).hasClass("zh-ne")||t(this).hasClass("zh-n")?n=[a.left,a.top-o+e._defHeight]:t(this).hasClass("zh-sw")||t(this).hasClass("zh-w")?n=[a.left+e._defWidth,a.top-o]:t(this).hasClass("zh-nw")&&(n=[a.left+e._defWidth,a.top-o+e._defHeight])}),this._actionButtonsPos(a.top)}static _selectPartialScreen(e,t){let o=this._outerDragEle,n,i,r,s,l;if(this._dragSelection){let a=t[0]+(e[0]-this._cursorPos[0]),d=t[1]+(e[1]-this._cursorPos[1]);1<=d&&d+this._defHeight<=this._windowHeight?(n=d,i=d):(n=0,i=0,d+this._defHeight>this._windowHeight&&(d-=d+this._defHeight-this._windowHeight,n=d,i=d)),1<=a&&a+this._defWidth<=this._windowWidth?r=a:(r=0,a+this._defWidth>this._windowWidth&&(r=a-(a+this._defWidth-this._windowWidth))),s=o.outerHeight(),l=o.outerWidth()}else n=t[1],r=t[0],i=t[1],t[1]>e[1]&&(n=e[1],this._rightDrag=!0),t[0]>e[0]&&(r=e[0]),this._rightDrag&&(i=e[1],this._rightDrag=!1),void 0!==this._handle&&(this._handle.hasClass("zh-e")||this._handle.hasClass("zh-w"))||(s=a(t[1]-e[1])),void 0!==this._handle&&(this._handle.hasClass("zh-n")||this._handle.hasClass("zh-s"))||(l=a(t[0]-e[0]));this._topDiv.css({width:this._windowWidth,height:n}),this._leftDiv.css({width:r,top:n,height:s}),this._rightDiv.css({top:i,left:r+l,height:s}),this._bottomDiv.css({top:i+s,width:this._windowWidth,height:this._windowHeight-(n+s)}),this._outerDragEle.css({left:r,top:n,width:l-2,height:s-2})}static _actionButtonsPos(e){this._actionBtnsCont.removeClass("zh-dnone").css("left","auto");let t=this,a,o,n,i;a=this._windowHeight-(this._defHeight+e),o=this._actionBtnsCont.outerHeight(),n=this._actionBtnsCont.outerWidth(),i=-(n-this._defWidth)/2,this._defWidth>=n+20&&this._defHeight>=o+20?this._actionBtnsCont.css({top:(this._defHeight-o)/2}):a>=o+10?this._actionBtnsCont.css({top:this._defHeight+10}):e>=o+10?this._actionBtnsCont.css({top:-(o+10)}):a<=o+10&&e<=o+10&&this._actionBtnsCont.css({top:(this._defHeight-o)/2}),this._defWidth<=n&&this._actionBtnsCont.css({left:i}),t._cancelBtn.off().on("mousedown",function(){t._close(!0)})}static _grabScreen(){let e=this,a=this._outerDragEle.position();this._defLeft=a.left,this._defTop=a.top,e._mouseMove&&(this._defWidth=this._outerDragEle.innerWidth(),this._defHeight=this._outerDragEle.innerHeight()),t(".zsgrabber--handle").hide(),this._scrollTopVal.topval=document.documentElement.scrollTop||window.scrollY||window.pageYOffset||document.scrollingElement.scrollTop,this._outerDragEle.css({left:this._defLeft,top:this._defTop,width:this._defWidth,height:this._defHeight,cursor:"default"}),this._screenCaptureArea={top:this._defTop+this._scrollTopVal.topval,height:this._defHeight,left:this._defLeft,width:this._defWidth};let o;this._opts.canParseSVG&&this._svgToCanvasConv(),this._captureInProgress=!0;setTimeout(function(){function a(){e._outerDragEle.css("border-color","transparent"),html2canvas(document.body,{proxy:e._opts.fetchImageURL,grabArea:e._screenCaptureArea,onrendered:function(t){clearTimeout(o),e._data.screenGrabFail||(setTimeout(function(){e.container.find(".ui-zsg-spinner").addClass("zh-spineffect")},2e3),setTimeout(function(){n.success(t),e._loaderBar.fadeOut(300)},2500),e._data.screenGrabFail=!1)}}),o=setTimeout(function(){n.fail(),clearTimeout(o),e._data.screenGrabFail=!0},15e3)}let n={success:function(a){window.scroll(e._scrollTopVal.leftval,e._scrollTopVal.topval);let o=document.createElement("img");t(o).css({"max-width":"100%","max-height":"100%"}),e._captureInProgress=!1,e._canvasEleCreated=!1,e._screenCaptured=!0,e._shutterAnimation(),e._opts.allowToEdit&&e._editBtn.show(),e._cancelBtn.show(),e._doneBtn.show(),setTimeout(function(){e._outerDragEle.addClass("zh-capturedscreen")},100);let n=document.createElement("canvas"),i=n.getContext("2d");n.width=e._defWidth,n.height=e._defHeight,i.drawImage(a,e._defLeft,e._defTop+e._scrollTopVal.topval,e._defWidth,e._defHeight,0,0,e._defWidth,e._defHeight),a=n,o.src=a.toDataURL("image/png"),e._mouseMove||(e._darkerDiv.show(),e._outerDragEle.css({left:25,top:25,width:e._defWidth-50,height:e._defHeight-50,"text-align":"center"})),e._outerDragEle.append(o).append(e._actionBtnsCont),e._opts.canParseSVG&&(t("body").find(".zsgrabber__temp-canvas").remove(),t("body").find("svg.zsg-svg-element").removeClass("zsg-svg-element")),e._doneBtn.off().on("click mousedown",function(){e._takeScreenshot(a)}),e._editBtn.off().on("mousedown",function(){e._close(!0),e._opts.onEditModeOpen(a.toDataURL("image/png"))})},fail:function(){e._loaderBar.addClass("zh-dnone"),e._screenCaptureError.fadeIn(200),e._captureInProgress=!1,t(document).on("click",".zsgrabber__retrylink",function(){e._screenCaptureError.hide(),t(this).hide(),e._data.screenGrabFail=!1,e._loaderBar.removeClass("zh-dnone"),a()}).on("click",".zsgrabber__quitbutton",function(){e._screenCaptureError.hide(),e._close()}),e._screenGrabFailCount?(e._screenCaptureError.show(),t(".zsgrabber__retrylink").remove(),e._screenCaptureError.find("span").first().text(e._getString("screencapturefailure.label"))):++e._screenGrabFailCount}};e._data.screenGrabFail||a()},50)}static _shutterAnimation(){this._data.screenGrabFail||this.container.find("zsgrabber__flash").fadeOut(500)}static _takeScreenshot(e){window.scroll(this._scrollTopVal.leftval,this._scrollTopVal.topval),this._finalImg=t("<img>").attr({src:e.toDataURL("image/png")}),this._finalImg.css({position:"absolute",top:this._defTop+this._scrollTopVal.topval,left:this._defLeft,width:this._defWidth,height:this._defHeight,"z-index":100001}).appendTo("body"),this._finishAnim()}static _svgToCanvasConv(){let e=t("body").find("svg"),a=this,o,n,i;e.each(function(){let e=t(this),r;if("zsgrabber__svgloader"!==e.attr("class")&&"none"!==e.css("display")&&"none"!==e.css("visiblity")){let s=e[0].cloneNode(!0);if(i=e.find("use"),i.length&&(i=t(i.attr("xlink:href")||i.attr("href")),t(s).html(i[0].innerHTML),n=i[0].getAttribute("viewBox"),n&&s.setAttribute("viewBox"," "+n)),s.setAttribute("width",e.width()),s.setAttribute("height",e.height()),Screengrabber.useCanVG){r=document.createElement("canvas"),r.className="zsgrabber__temp-canvas "+s.getAttribute("class");r.getContext("2d");o=i.length?s.outerHTML:e.parent()[0].innerHTML,canvg(r,o.trim(),{ignoreClear:!0});let a=new Image;a.src=r.toDataURL("image/png"),t(r).insertAfter(this),e.addClass("zsg-svg-element")}else if(s){$cloneNode=t(s).insertAfter(e),a._parseSVG(s);let o=new XMLSerializer().serializeToString(s);a._convertImage(o,e,$cloneNode)}}})}static _parseSVG(e){let a=t(e).children();if(a.length)for(let e=0;e<a.length;e++)this._parseSVG(a[e]);else{let a=window.getComputedStyle(e),o=["alignment-baseline","baseline-shift","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","display","dominant-baseline","enable-background","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","unicode-bidi","vector-effect","visibility","word-spacing","writing-mode"];for(let t=0;t<o.length;t++)e.setAttribute(o[t],a[o[t]]);t(e).is(":visible")||e.setAttribute("display","none")}}static _convertImage(e,a,o){setTimeout(function(){o.remove();let n=new Image,i=document.createElement("canvas"),r=document.createElement("img");i.className="zsgrabber__temp-canvas "+o[0].getAttribute("class");let s=i.getContext("2d"),l=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(l);n.src=d,r.src=d,i.width=a.width(),r.width=a.width(),i.height=a.height(),r.height=a.height(),i.style.width=a.width()+"px",i.style.height=a.height()+"px",n.onload=function(){s.drawImage(n,0,0,a.width(),a.height()),a.addClass("zsg-svg-element"),t(i).insertAfter(a)}},0)}static _finishAnim(){let e=this;this.container.hide();let a={},o,n,i,r;if(a.imageSource=this._finalImg.attr("src"),this._triggerEvent(this._events.ONFINISH,a),this._opts.targetObject){let e=this._opts.targetObject;o=e.offset().top,n=e.offset().left,i=e.innerWidth(),r=e.innerHeight()}else{let e=t("body");o=e.innerHeight()/2,n=e.innerWidth()/2,i=0,r=0}this._opts.animationAfterComplete?this._finalImg.animate({top:o,left:n,width:i,height:r,opacity:.2},500,function(){e._close(),t(this).remove(),e._captureInProgress=!1}):(e._close(),this._finalImg.remove(),e._captureInProgress=!1)}static _createLoaderBar(e){let t=this;this._loaderBar.off().on("mousedown click",function(e){e.stopPropagation(),e.preventDefault(),t._data.captureText=t._getString("capturing.label"),"partial-screen"===t._opts.capture?t._loaderBar.off().css("background-color","rgba(0, 0, 0, 0.85)").animate({width:54,left:92},"_default",function(){t._loaderBar.find(".zsgrabber__wrapper").removeClass("zh-dnone"),t._grabScreen()}):(t._loaderBar.off().css("background-color","rgba(0, 0, 0, 0.85)"),t._loaderBar.find(".zsgrabber__wrapper").removeClass("zh-dnone"),t._grabScreen()),t._loaderBar.find(".zsgrabber__captureicon").animate({left:11},200),t._loaderBar.find(".zsgrabber__capturelabel").hide(),t._cancelBtn.animate({left:92},100).fadeOut(200)})}static _fullScreenInvoker(){this.container.trigger("mousedown"),this.container.trigger("mouseup")}static _partialScreenInvoker(){this._opts.capture="partial-screen",this.container.css({cursor:"crosshair"}),this._centralDiv.children().text(this._getString("partialSelectMsg.label"))}static _triggerEvent(e,a){let o=a;a===void 0&&(o=t.extend(o,a)),t("body").trigger(this.widgetEventPrefix+e,o)}static _open(e,a){e.stopPropagation(),e.preventDefault(),a?this._partialScreenInvoker():this._fullScreenInvoker(),t(window).off("keydown.screengrabbershortcuts")}static open(e){this._screengrabberOpen||this._init(e)}static close(){this._close()}static init(e){this._opts=t.extend(!0,{},this.DEFAULTS,e),this._bindShortcutEvents()}}e.registerComponent("ZScreenGrabber",ZScreenGrabber)}(ZComponents,ZComponents.DOMUtil),function(e){let t=e.zbutton.Templates.WCContainer,a=e.zscreengrabber.Templates,o=e.Templates.Utilities;a.WCContainer=e=>ZT.html`<z-screengrabber id="ui-zsg-screen-select" class="zscreengrabber zsgrabber__screenselect" tabindex="1" role="screengrabber" data-html2canvas-ignore=true style="top:${e.scrollTop}">${e.children&&a.WCChildren(e)}</z-screengrabber>`,a.WCChildren=e=>ZT.html` <div class="zsgrabber__fadeoutarea" data-html2canvas-ignore=true></div> ${a.WCEditor(e)} ${a.WCSelectoverlay(e)} ${!e.screenGrabFail&&ZT.html`<div class="zsgrabber__flash"></div>`} ${e.image&&ZT.html`<img src="${e.imagesrc}"></img>`} ${"partial-screen"===e.capture&&ZT.html`<div class="zsgrabber__defaultmsg"><span>${e.message}</span></div>`} `,a.WCSelectoverlay=()=>ZT.html` <div class="zsgrabber--selectoverlay zh-left"></div> <div class="zsgrabber--selectoverlay zh-top"></div> <div class="zsgrabber--selectoverlay zh-right"></div> <div class="zsgrabber--selectoverlay zh-bottom"></div> `,a.WCEditor=e=>ZT.html`<div class="zsgrabber__editor zh-dnone" id="zsgrabberEditor"> ${a.WCActionContainer(e)} <div class="zsgrabber--handle zh-n"></div> <div class="zsgrabber--handle zh-s"></div> <div class="zsgrabber--handle zh-e"></div> <div class="zsgrabber--handle zh-w"></div> <div class="zsgrabber--handle zh-ne"></div> <div class="zsgrabber--handle zh-se"></div> <div class="zsgrabber--handle zh-sw"></div> <div class="zsgrabber--handle zh-nw"></div> </div>`,a.WCActionContainer=e=>ZT.html`<div class="zsgrabber__actionbtnscontainer zh-dnone"> ${e.cancelButton&&t(e.cancelButton)} ${e.editButton&&t(e.editButton)} ${e.doneButton&&t(e.doneButton)} <div class="zsgrabber__loader" data-html2-ignore=true> <span class="zsgrabber__captureicon"> ${o.WCIcon(e.loader)} <div class="zsgrabber__wrapper zh-dnone"> <div class="zsgrabber__lefthalf"></div> <div class="zsgrabber__spinner"></div> <div class="zsgrabber__righthalf"></div> </div> </span> <span class="zsgrabber__capturelabel">${e.captureText} </span> </div> </div>`}(ZComponents),function(e){let t=e.zbutton.Templates.container,a=e.zscreengrabber.Templates,o=e.Templates.Utilities;a.container=e=>ZT.html`<div id="ui-zsg-screen-select" class="zscreengrabber zsgrabber__screenselect" tabindex="1" role="screengrabber" data-html2canvas-ignore=true style="top:${e.scrollTop}">${e.children&&a.children(e)}</div>`,a.children=e=>ZT.html` <div class="zsgrabber__fadeoutarea" data-html2canvas-ignore=true></div> ${a.editor(e)} ${a.selectoverlay(e)} ${!e.screenGrabFail&&ZT.html`<div class="zsgrabber__flash"></div>`} ${e.image&&ZT.html`<img src="${e.imagesrc}"></img>`} ${"partial-screen"===e.capture&&ZT.html`<div class="zsgrabber__defaultmsg"><span>${e.message}</span></div>`} `,a.selectoverlay=()=>ZT.html` <div class="zsgrabber--selectoverlay zh-left"></div> <div class="zsgrabber--selectoverlay zh-top"></div> <div class="zsgrabber--selectoverlay zh-right"></div> <div class="zsgrabber--selectoverlay zh-bottom"></div> `,a.editor=e=>ZT.html`<div class="zsgrabber__editor zh-dnone" id="zsgrabberEditor"> ${a.actionContainer(e)} <div class="zsgrabber--handle zh-n"></div> <div class="zsgrabber--handle zh-s"></div> <div class="zsgrabber--handle zh-e"></div> <div class="zsgrabber--handle zh-w"></div> <div class="zsgrabber--handle zh-ne"></div> <div class="zsgrabber--handle zh-se"></div> <div class="zsgrabber--handle zh-sw"></div> <div class="zsgrabber--handle zh-nw"></div> </div>`,a.actionContainer=e=>ZT.html`<div class="zsgrabber__actionbtnscontainer zh-dnone"> ${e.cancelButton&&t(e.cancelButton)} ${e.editButton&&t(e.editButton)} ${e.doneButton&&t(e.doneButton)} <div class="zsgrabber__loader" data-html2-ignore=true> <span class="zsgrabber__captureicon"> ${o.icon(e.loader)} <div class="zsgrabber__wrapper zh-dnone"> <div class="zsgrabber__lefthalf"></div> <div class="zsgrabber__spinner"></div> <div class="zsgrabber__righthalf"></div> </div> </span> <span class="zsgrabber__capturelabel">${e.captureText} </span> </div> </div>`}(ZComponents);